/*
Copyright (c) 2014, American Institutes for Research. All rights reserved.
GENERATED: 7/25/2014 2:03:38 PM
MACHINE: DC1KHANMOLT
*/

// FILE: tracekit.js (d49e0c2d) 5/2/2014 12:55:57 PM

/*
 TraceKit - Cross brower stack traces - github.com/occ/TraceKit
 MIT license
*/

(function(window, undefined) {


var TraceKit = {};
var _oldTraceKit = window.TraceKit;

// global reference to slice
var _slice = [].slice;
var UNKNOWN_FUNCTION = '?';


/**
 * _has, a better form of hasOwnProperty
 * Example: _has(MainHostObject, property) === true/false
 *
 * @param {Object} host object to check property
 * @param {string} key to check
 */
function _has(object, key) {
    return Object.prototype.hasOwnProperty.call(object, key);
}

function _isUndefined(what) {
    return typeof what === 'undefined';
}

/**
 * TraceKit.noConflict: Export TraceKit out to another variable
 * Example: var TK = TraceKit.noConflict()
 */
TraceKit.noConflict = function noConflict() {
    window.TraceKit = _oldTraceKit;
    return TraceKit;
};

/**
 * TraceKit.wrap: Wrap any function in a TraceKit reporter
 * Example: func = TraceKit.wrap(func);
 *
 * @param {Function} func Function to be wrapped
 * @return {Function} The wrapped func
 */
TraceKit.wrap = function traceKitWrapper(func) {
    function wrapped() {
        try {
            return func.apply(this, arguments);
        } catch (e) {
            TraceKit.report(e);
            throw e;
        }
    }
    return wrapped;
};

/**
 * TraceKit.report: cross-browser processing of unhandled exceptions
 *
 * Syntax:
 *   TraceKit.report.subscribe(function(stackInfo) { ... })
 *   TraceKit.report.unsubscribe(function(stackInfo) { ... })
 *   TraceKit.report(exception)
 *   try { ...code... } catch(ex) { TraceKit.report(ex); }
 *
 * Supports:
 *   - Firefox: full stack trace with line numbers, plus column number
 *              on top frame; column number is not guaranteed
 *   - Opera:   full stack trace with line and column numbers
 *   - Chrome:  full stack trace with line and column numbers
 *   - Safari:  line and column number for the top frame only; some frames
 *              may be missing, and column number is not guaranteed
 *   - IE:      line and column number for the top frame only; some frames
 *              may be missing, and column number is not guaranteed
 *
 * In theory, TraceKit should work on all of the following versions:
 *   - IE5.5+ (only 8.0 tested)
 *   - Firefox 0.9+ (only 3.5+ tested)
 *   - Opera 7+ (only 10.50 tested; versions 9 and earlier may require
 *     Exceptions Have Stacktrace to be enabled in opera:config)
 *   - Safari 3+ (only 4+ tested)
 *   - Chrome 1+ (only 5+ tested)
 *   - Konqueror 3.5+ (untested)
 *
 * Requires TraceKit.computeStackTrace.
 *
 * Tries to catch all unhandled exceptions and report them to the
 * subscribed handlers. Please note that TraceKit.report will rethrow the
 * exception. This is REQUIRED in order to get a useful stack trace in IE.
 * If the exception does not reach the top of the browser, you will only
 * get a stack trace from the point where TraceKit.report was called.
 *
 * Handlers receive a stackInfo object as described in the
 * TraceKit.computeStackTrace docs.
 */
TraceKit.report = (function reportModuleWrapper() {
    var handlers = [],
        lastException = null,
        lastExceptionStack = null;

    /**
     * Add a crash handler.
     * @param {Function} handler
     */
    function subscribe(handler) {
        installGlobalHandler();
        handlers.push(handler);
    }

    /**
     * Remove a crash handler.
     * @param {Function} handler
     */
    function unsubscribe(handler) {
        for (var i = handlers.length - 1; i >= 0; --i) {
            if (handlers[i] === handler) {
                handlers.splice(i, 1);
            }
        }
    }

    /**
     * Dispatch stack information to all handlers.
     * @param {Object.<string, *>} stack
     */
    function notifyHandlers(stack, windowError) {
        var exception = null;
        if (windowError && !TraceKit.collectWindowErrors) {
          return;
        }
        for (var i in handlers) {
            if (_has(handlers, i)) {
                try {
                    handlers[i].apply(null, [stack].concat(_slice.call(arguments, 2)));
                } catch (inner) {
                    exception = inner;
                }
            }
        }

        if (exception) {
            throw exception;
        }
    }

    var _oldOnerrorHandler, _onErrorHandlerInstalled;

    /**
     * Ensures all global unhandled exceptions are recorded.
     * Supported by Gecko and IE.
     * @param {string} message Error message.
     * @param {string} url URL of script that generated the exception.
     * @param {(number|string)} lineNo The line number at which the error
     * occurred.
     */
    function traceKitWindowOnError(message, url, lineNo) {
        var stack = null;

        if (lastExceptionStack) {
            TraceKit.computeStackTrace.augmentStackTraceWithInitialElement(lastExceptionStack, url, lineNo, message);
            stack = lastExceptionStack;
            lastExceptionStack = null;
            lastException = null;
        } else {
            var location = {
                'url': url,
                'line': lineNo
            };
            location.func = TraceKit.computeStackTrace.guessFunctionName(location.url, location.line);
            location.context = TraceKit.computeStackTrace.gatherContext(location.url, location.line);
            stack = {
                'mode': 'onerror',
                'message': message,
                'url': document.location.href,
                'stack': [location],
                'useragent': navigator.userAgent
            };
        }

        notifyHandlers(stack, 'from window.onerror');

        if (_oldOnerrorHandler) {
            return _oldOnerrorHandler.apply(this, arguments);
        }

        return false;
    }

    function installGlobalHandler ()
    {
        if (_onErrorHandlerInstalled === true) {
            return;
        }
        _oldOnerrorHandler = window.onerror;
        window.onerror = traceKitWindowOnError;
        _onErrorHandlerInstalled = true;
    }

    function installWindowHander(win) {
        
    }

    /**
     * Reports an unhandled Error to TraceKit.
     * @param {Error} ex
     */
    function report(ex) {
        var args = _slice.call(arguments, 1);
        if (lastExceptionStack) {
            if (lastException === ex) {
                return; // already caught by an inner catch block, ignore
            } else {
                var s = lastExceptionStack;
                lastExceptionStack = null;
                lastException = null;
                notifyHandlers.apply(null, [s, null].concat(args));
            }
        }

        var stack = TraceKit.computeStackTrace(ex);
        lastExceptionStack = stack;
        lastException = ex;

        // If the stack trace is incomplete, wait for 2 seconds for
        // slow slow IE to see if onerror occurs or not before reporting
        // this exception; otherwise, we will end up with an incomplete
        // stack trace
        window.setTimeout(function () {
            if (lastException === ex) {
                lastExceptionStack = null;
                lastException = null;
                notifyHandlers.apply(null, [stack, null].concat(args));
            }
        }, (stack.incomplete ? 2000 : 0));

        throw ex; // re-throw to propagate to the top level (and cause window.onerror)
    }

    report.subscribe = subscribe;
    report.unsubscribe = unsubscribe;
    return report;
}());

/**
 * TraceKit.computeStackTrace: cross-browser stack traces in JavaScript
 *
 * Syntax:
 *   s = TraceKit.computeStackTrace.ofCaller([depth])
 *   s = TraceKit.computeStackTrace(exception) // consider using TraceKit.report instead (see below)
 * Returns:
 *   s.name              - exception name
 *   s.message           - exception message
 *   s.stack[i].url      - JavaScript or HTML file URL
 *   s.stack[i].func     - function name, or empty for anonymous functions (if guessing did not work)
 *   s.stack[i].args     - arguments passed to the function, if known
 *   s.stack[i].line     - line number, if known
 *   s.stack[i].column   - column number, if known
 *   s.stack[i].context  - an array of source code lines; the middle element corresponds to the correct line#
 *   s.mode              - 'stack', 'stacktrace', 'multiline', 'callers', 'onerror', or 'failed' -- method used to collect the stack trace
 *
 * Supports:
 *   - Firefox:  full stack trace with line numbers and unreliable column
 *               number on top frame
 *   - Opera 10: full stack trace with line and column numbers
 *   - Opera 9-: full stack trace with line numbers
 *   - Chrome:   full stack trace with line and column numbers
 *   - Safari:   line and column number for the topmost stacktrace element
 *               only
 *   - IE:       no line numbers whatsoever
 *
 * Tries to guess names of anonymous functions by looking for assignments
 * in the source code. In IE and Safari, we have to guess source file names
 * by searching for function bodies inside all page scripts. This will not
 * work for scripts that are loaded cross-domain.
 * Here be dragons: some function names may be guessed incorrectly, and
 * duplicate functions may be mismatched.
 *
 * TraceKit.computeStackTrace should only be used for tracing purposes.
 * Logging of unhandled exceptions should be done with TraceKit.report,
 * which builds on top of TraceKit.computeStackTrace and provides better
 * IE support by utilizing the window.onerror event to retrieve information
 * about the top of the stack.
 *
 * Note: In IE and Safari, no stack trace is recorded on the Error object,
 * so computeStackTrace instead walks its *own* chain of callers.
 * This means that:
 *  * in Safari, some methods may be missing from the stack trace;
 *  * in IE, the topmost function in the stack trace will always be the
 *    caller of computeStackTrace.
 *
 * This is okay for tracing (because you are likely to be calling
 * computeStackTrace from the function you want to be the topmost element
 * of the stack trace anyway), but not okay for logging unhandled
 * exceptions (because your catch block will likely be far away from the
 * inner function that actually caused the exception).
 *
 * Tracing example:
 *     function trace(message) {
 *         var stackInfo = TraceKit.computeStackTrace.ofCaller();
 *         var data = message + "\n";
 *         for(var i in stackInfo.stack) {
 *             var item = stackInfo.stack[i];
 *             data += (item.func || '[anonymous]') + "() in " + item.url + ":" + (item.line || '0') + "\n";
 *         }
 *         if (window.console)
 *             console.info(data);
 *         else
 *             alert(data);
 *     }
 */
TraceKit.computeStackTrace = (function computeStackTraceWrapper() {
    var debug = false,
        sourceCache = {};

    /**
     * Attempts to retrieve source code via XMLHttpRequest, which is used
     * to look up anonymous function names.
     * @param {string} url URL of source code.
     * @return {string} Source contents.
     */
    function loadSource(url) {
        if (!TraceKit.remoteFetching) { //Only attempt request if remoteFetching is on.
            return '';
        }
        try {
            var getXHR = function() {
                try {
                    return new window.XMLHttpRequest();
                } catch (e) {
                    // explicitly bubble up the exception if not found
                    return new window.ActiveXObject('Microsoft.XMLHTTP');
                }
            };

            var request = getXHR();
            request.open('GET', url, false);
            request.send('');
            return request.responseText;
        } catch (e) {
            return '';
        }
    }

    /**
     * Retrieves source code from the source code cache.
     * @param {string} url URL of source code.
     * @return {Array.<string>} Source contents.
     */
    function getSource(url) {
        if (!_has(sourceCache, url)) {
            // URL needs to be able to fetched within the acceptable domain.  Otherwise,
            // cross-domain errors will be triggered.
            var source = '';
            if (url.indexOf(document.domain) !== -1) {
                source = loadSource(url);
            }
            sourceCache[url] = source ? source.split('\n') : [];
        }

        return sourceCache[url];
    }

    /**
     * Tries to use an externally loaded copy of source code to determine
     * the name of a function by looking at the name of the variable it was
     * assigned to, if any.
     * @param {string} url URL of source code.
     * @param {(string|number)} lineNo Line number in source code.
     * @return {string} The function name, if discoverable.
     */
    function guessFunctionName(url, lineNo) {
        var reFunctionArgNames = /function ([^(]*)\(([^)]*)\)/,
            reGuessFunction = /['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,
            line = '',
            maxLines = 10,
            source = getSource(url),
            m;

        if (!source.length) {
            return UNKNOWN_FUNCTION;
        }

        // Walk backwards from the first line in the function until we find the line which
        // matches the pattern above, which is the function definition
        for (var i = 0; i < maxLines; ++i) {
            line = source[lineNo - i] + line;

            if (!_isUndefined(line)) {
                if ((m = reGuessFunction.exec(line))) {
                    return m[1];
                } else if ((m = reFunctionArgNames.exec(line))) {
                    return m[1];
                }
            }
        }

        return UNKNOWN_FUNCTION;
    }

    /**
     * Retrieves the surrounding lines from where an exception occurred.
     * @param {string} url URL of source code.
     * @param {(string|number)} line Line number in source code to centre
     * around for context.
     * @return {?Array.<string>} Lines of source code.
     */
    function gatherContext(url, line) {
        var source = getSource(url);

        if (!source.length) {
            return null;
        }

        var context = [],
            // linesBefore & linesAfter are inclusive with the offending line.
            // if linesOfContext is even, there will be one extra line
            //   *before* the offending line.
            linesBefore = Math.floor(TraceKit.linesOfContext / 2),
            // Add one extra line if linesOfContext is odd
            linesAfter = linesBefore + (TraceKit.linesOfContext % 2),
            start = Math.max(0, line - linesBefore - 1),
            end = Math.min(source.length, line + linesAfter - 1);

        line -= 1; // convert to 0-based index

        for (var i = start; i < end; ++i) {
            if (!_isUndefined(source[i])) {
                context.push(source[i]);
            }
        }

        return context.length > 0 ? context : null;
    }

    /**
     * Escapes special characters, except for whitespace, in a string to be
     * used inside a regular expression as a string literal.
     * @param {string} text The string.
     * @return {string} The escaped string literal.
     */
    function escapeRegExp(text) {
        return text.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g, '\\$&');
    }

    /**
     * Escapes special characters in a string to be used inside a regular
     * expression as a string literal. Also ensures that HTML entities will
     * be matched the same as their literal friends.
     * @param {string} body The string.
     * @return {string} The escaped string.
     */
    function escapeCodeAsRegExpForMatchingInsideHTML(body) {
        return escapeRegExp(body).replace('<', '(?:<|&lt;)').replace('>', '(?:>|&gt;)').replace('&', '(?:&|&amp;)').replace('"', '(?:"|&quot;)').replace(/\s+/g, '\\s+');
    }

    /**
     * Determines where a code fragment occurs in the source code.
     * @param {RegExp} re The function definition.
     * @param {Array.<string>} urls A list of URLs to search.
     * @return {?Object.<string, (string|number)>} An object containing
     * the url, line, and column number of the defined function.
     */
    function findSourceInUrls(re, urls) {
        var source, m;
        for (var i = 0, j = urls.length; i < j; ++i) {
            // console.log('searching', urls[i]);
            if ((source = getSource(urls[i])).length) {
                source = source.join('\n');
                if ((m = re.exec(source))) {
                    // console.log('Found function in ' + urls[i]);

                    return {
                        'url': urls[i],
                        'line': source.substring(0, m.index).split('\n').length,
                        'column': m.index - source.lastIndexOf('\n', m.index) - 1
                    };
                }
            }
        }

        // console.log('no match');

        return null;
    }

    /**
     * Determines at which column a code fragment occurs on a line of the
     * source code.
     * @param {string} fragment The code fragment.
     * @param {string} url The URL to search.
     * @param {(string|number)} line The line number to examine.
     * @return {?number} The column number.
     */
    function findSourceInLine(fragment, url, line) {
        var source = getSource(url),
            re = new RegExp('\\b' + escapeRegExp(fragment) + '\\b'),
            m;

        line -= 1;

        if (source && source.length > line && (m = re.exec(source[line]))) {
            return m.index;
        }

        return null;
    }

    /**
     * Determines where a function was defined within the source code.
     * @param {(Function|string)} func A function reference or serialized
     * function definition.
     * @return {?Object.<string, (string|number)>} An object containing
     * the url, line, and column number of the defined function.
     */
    function findSourceByFunctionBody(func) {
        var urls = [window.location.href],
            scripts = document.getElementsByTagName('script'),
            body,
            code = '' + func,
            codeRE = /^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,
            eventRE = /^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,
            re,
            parts,
            result;

        for (var i = 0; i < scripts.length; ++i) {
            var script = scripts[i];
            if (script.src) {
                urls.push(script.src);
            }
        }

        if (!(parts = codeRE.exec(code))) {
            re = new RegExp(escapeRegExp(code).replace(/\s+/g, '\\s+'));
        }

        // not sure if this is really necessary, but I donâ€™t have a test
        // corpus large enough to confirm that and it was in the original.
        else {
            var name = parts[1] ? '\\s+' + parts[1] : '',
                args = parts[2].split(',').join('\\s*,\\s*');

            body = escapeRegExp(parts[3]).replace(/;$/, ';?'); // semicolon is inserted if the function ends with a comment.replace(/\s+/g, '\\s+');
            re = new RegExp('function' + name + '\\s*\\(\\s*' + args + '\\s*\\)\\s*{\\s*' + body + '\\s*}');
        }

        // look for a normal function definition
        if ((result = findSourceInUrls(re, urls))) {
            return result;
        }

        // look for an old-school event handler function
        if ((parts = eventRE.exec(code))) {
            var event = parts[1];
            body = escapeCodeAsRegExpForMatchingInsideHTML(parts[2]);

            // look for a function defined in HTML as an onXXX handler
            re = new RegExp('on' + event + '=[\\\'"]\\s*' + body + '\\s*[\\\'"]', 'i');

            if ((result = findSourceInUrls(re, urls[0]))) {
                return result;
            }

            // look for ???
            re = new RegExp(body);

            if ((result = findSourceInUrls(re, urls))) {
                return result;
            }
        }

        return null;
    }

    // Contents of Exception in various browsers.
    //
    // SAFARI:
    // ex.message = Can't find variable: qq
    // ex.line = 59
    // ex.sourceId = 580238192
    // ex.sourceURL = http://...
    // ex.expressionBeginOffset = 96
    // ex.expressionCaretOffset = 98
    // ex.expressionEndOffset = 98
    // ex.name = ReferenceError
    //
    // FIREFOX:
    // ex.message = qq is not defined
    // ex.fileName = http://...
    // ex.lineNumber = 59
    // ex.stack = ...stack trace... (see the example below)
    // ex.name = ReferenceError
    //
    // CHROME:
    // ex.message = qq is not defined
    // ex.name = ReferenceError
    // ex.type = not_defined
    // ex.arguments = ['aa']
    // ex.stack = ...stack trace...
    //
    // INTERNET EXPLORER:
    // ex.message = ...
    // ex.name = ReferenceError
    //
    // OPERA:
    // ex.message = ...message... (see the example below)
    // ex.name = ReferenceError
    // ex.opera#sourceloc = 11  (pretty much useless, duplicates the info in ex.message)
    // ex.stacktrace = n/a; see 'opera:config#UserPrefs|Exceptions Have Stacktrace'

    /**
     * Computes stack trace information from the stack property.
     * Chrome and Gecko use this property.
     * @param {Error} ex
     * @return {?Object.<string, *>} Stack trace information.
     */
    function computeStackTraceFromStackProp(ex) {
        if (!ex.stack) {
            return null;
        }

        var chrome = /^\s*at (?:((?:\[object object\])?\S+(?: \[as \S+\])?) )?\(?((?:file|http|https):.*?):(\d+)(?::(\d+))?\)?\s*$/i,
            gecko = /^\s*(\S*)(?:\((.*?)\))?@((?:file|http|https).*?):(\d+)(?::(\d+))?\s*$/i,
            lines = ex.stack.split('\n'),
            stack = [],
            parts,
            element,
            reference = /^(.*) is undefined$/.exec(ex.message);

        for (var i = 0, j = lines.length; i < j; ++i) {
            if ((parts = gecko.exec(lines[i]))) {
                element = {
                    'url': parts[3],
                    'func': parts[1] || UNKNOWN_FUNCTION,
                    'args': parts[2] ? parts[2].split(',') : '',
                    'line': +parts[4],
                    'column': parts[5] ? +parts[5] : null
                };
            } else if ((parts = chrome.exec(lines[i]))) {
                element = {
                    'url': parts[2],
                    'func': parts[1] || UNKNOWN_FUNCTION,
                    'line': +parts[3],
                    'column': parts[4] ? +parts[4] : null
                };
            } else {
                continue;
            }

            if (!element.func && element.line) {
                element.func = guessFunctionName(element.url, element.line);
            }

            if (element.line) {
                element.context = gatherContext(element.url, element.line);
            }

            stack.push(element);
        }

        if (stack[0] && stack[0].line && !stack[0].column && reference) {
            stack[0].column = findSourceInLine(reference[1], stack[0].url, stack[0].line);
        }

        if (!stack.length) {
            return null;
        }

        return {
            'mode': 'stack',
            'name': ex.name,
            'message': ex.message,
            'url': document.location.href,
            'stack': stack,
            'useragent': navigator.userAgent
        };
    }

    /**
     * Computes stack trace information from the stacktrace property.
     * Opera 10 uses this property.
     * @param {Error} ex
     * @return {?Object.<string, *>} Stack trace information.
     */
    function computeStackTraceFromStacktraceProp(ex) {
        // Access and store the stacktrace property before doing ANYTHING
        // else to it because Opera is not very good at providing it
        // reliably in other circumstances.
        var stacktrace = ex.stacktrace;

        var testRE = / line (\d+), column (\d+) in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\) in (.*):\s*$/i,
            lines = stacktrace.split('\n'),
            stack = [],
            parts;

        for (var i = 0, j = lines.length; i < j; i += 2) {
            if ((parts = testRE.exec(lines[i]))) {
                var element = {
                    'line': +parts[1],
                    'column': +parts[2],
                    'func': parts[3] || parts[4],
                    'args': parts[5] ? parts[5].split(',') : [],
                    'url': parts[6]
                };

                if (!element.func && element.line) {
                    element.func = guessFunctionName(element.url, element.line);
                }
                if (element.line) {
                    try {
                        element.context = gatherContext(element.url, element.line);
                    } catch (exc) {}
                }

                if (!element.context) {
                    element.context = [lines[i + 1]];
                }

                stack.push(element);
            }
        }

        if (!stack.length) {
            return null;
        }

        return {
            'mode': 'stacktrace',
            'name': ex.name,
            'message': ex.message,
            'url': document.location.href,
            'stack': stack,
            'useragent': navigator.userAgent
        };
    }

    /**
     * NOT TESTED.
     * Computes stack trace information from an error message that includes
     * the stack trace.
     * Opera 9 and earlier use this method if the option to show stack
     * traces is turned on in opera:config.
     * @param {Error} ex
     * @return {?Object.<string, *>} Stack information.
     */
    function computeStackTraceFromOperaMultiLineMessage(ex) {
        // Opera includes a stack trace into the exception message. An example is:
        //
        // Statement on line 3: Undefined variable: undefinedFunc
        // Backtrace:
        //   Line 3 of linked script file://localhost/Users/andreyvit/Projects/TraceKit/javascript-client/sample.js: In function zzz
        //         undefinedFunc(a);
        //   Line 7 of inline#1 script in file://localhost/Users/andreyvit/Projects/TraceKit/javascript-client/sample.html: In function yyy
        //           zzz(x, y, z);
        //   Line 3 of inline#1 script in file://localhost/Users/andreyvit/Projects/TraceKit/javascript-client/sample.html: In function xxx
        //           yyy(a, a, a);
        //   Line 1 of function script
        //     try { xxx('hi'); return false; } catch(ex) { TraceKit.report(ex); }
        //   ...

        var lines = ex.message.split('\n');
        if (lines.length < 4) {
            return null;
        }

        var lineRE1 = /^\s*Line (\d+) of linked script ((?:file|http|https)\S+)(?:: in function (\S+))?\s*$/i,
            lineRE2 = /^\s*Line (\d+) of inline#(\d+) script in ((?:file|http|https)\S+)(?:: in function (\S+))?\s*$/i,
            lineRE3 = /^\s*Line (\d+) of function script\s*$/i,
            stack = [],
            scripts = document.getElementsByTagName('script'),
            inlineScriptBlocks = [],
            parts,
            i,
            len,
            source;

        for (i in scripts) {
            if (_has(scripts, i) && !scripts[i].src) {
                inlineScriptBlocks.push(scripts[i]);
            }
        }

        for (i = 2, len = lines.length; i < len; i += 2) {
            var item = null;
            if ((parts = lineRE1.exec(lines[i]))) {
                item = {
                    'url': parts[2],
                    'func': parts[3],
                    'line': +parts[1]
                };
            } else if ((parts = lineRE2.exec(lines[i]))) {
                item = {
                    'url': parts[3],
                    'func': parts[4]
                };
                var relativeLine = (+parts[1]); // relative to the start of the <SCRIPT> block
                var script = inlineScriptBlocks[parts[2] - 1];
                if (script) {
                    source = getSource(item.url);
                    if (source) {
                        source = source.join('\n');
                        var pos = source.indexOf(script.innerText);
                        if (pos >= 0) {
                            item.line = relativeLine + source.substring(0, pos).split('\n').length;
                        }
                    }
                }
            } else if ((parts = lineRE3.exec(lines[i]))) {
                var url = window.location.href.replace(/#.*$/, ''),
                    line = parts[1];
                var re = new RegExp(escapeCodeAsRegExpForMatchingInsideHTML(lines[i + 1]));
                source = findSourceInUrls(re, [url]);
                item = {
                    'url': url,
                    'line': source ? source.line : line,
                    'func': ''
                };
            }

            if (item) {
                if (!item.func) {
                    item.func = guessFunctionName(item.url, item.line);
                }
                var context = gatherContext(item.url, item.line);
                var midline = (context ? context[Math.floor(context.length / 2)] : null);
                if (context && midline.replace(/^\s*/, '') === lines[i + 1].replace(/^\s*/, '')) {
                    item.context = context;
                } else {
                    // if (context) alert("Context mismatch. Correct midline:\n" + lines[i+1] + "\n\nMidline:\n" + midline + "\n\nContext:\n" + context.join("\n") + "\n\nURL:\n" + item.url);
                    item.context = [lines[i + 1]];
                }
                stack.push(item);
            }
        }
        if (!stack.length) {
            return null; // could not parse multiline exception message as Opera stack trace
        }

        return {
            'mode': 'multiline',
            'name': ex.name,
            'message': lines[0],
            'url': document.location.href,
            'stack': stack,
            'useragent': navigator.userAgent
        };
    }

    /**
     * Adds information about the first frame to incomplete stack traces.
     * Safari and IE require this to get complete data on the first frame.
     * @param {Object.<string, *>} stackInfo Stack trace information from
     * one of the compute* methods.
     * @param {string} url The URL of the script that caused an error.
     * @param {(number|string)} lineNo The line number of the script that
     * caused an error.
     * @param {string=} message The error generated by the browser, which
     * hopefully contains the name of the object that caused the error.
     * @return {boolean} Whether or not the stack information was
     * augmented.
     */
    function augmentStackTraceWithInitialElement(stackInfo, url, lineNo, message) {
        var initial = {
            'url': url,
            'line': lineNo
        };

        if (initial.url && initial.line) {
            stackInfo.incomplete = false;

            if (!initial.func) {
                initial.func = guessFunctionName(initial.url, initial.line);
            }

            if (!initial.context) {
                initial.context = gatherContext(initial.url, initial.line);
            }

            var reference = / '([^']+)' /.exec(message);
            if (reference) {
                initial.column = findSourceInLine(reference[1], initial.url, initial.line);
            }

            if (stackInfo.stack.length > 0) {
                if (stackInfo.stack[0].url === initial.url) {
                    if (stackInfo.stack[0].line === initial.line) {
                        return false; // already in stack trace
                    } else if (!stackInfo.stack[0].line && stackInfo.stack[0].func === initial.func) {
                        stackInfo.stack[0].line = initial.line;
                        stackInfo.stack[0].context = initial.context;
                        return false;
                    }
                }
            }

            stackInfo.stack.unshift(initial);
            stackInfo.partial = true;
            return true;
        } else {
            stackInfo.incomplete = true;
        }

        return false;
    }

    /**
     * Computes stack trace information by walking the arguments.caller
     * chain at the time the exception occurred. This will cause earlier
     * frames to be missed but is the only way to get any stack trace in
     * Safari and IE. The top frame is restored by
     * {@link augmentStackTraceWithInitialElement}.
     * @param {Error} ex
     * @return {?Object.<string, *>} Stack trace information.
     */
    function computeStackTraceByWalkingCallerChain(ex, depth) {
        var functionName = /function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,
            stack = [],
            funcs = {},
            recursion = false,
            parts,
            item,
            source;

        for (var curr = computeStackTraceByWalkingCallerChain.caller; curr && !recursion; curr = curr.caller) {
            if (curr === computeStackTrace || curr === TraceKit.report) {
                // console.log('skipping internal function');
                continue;
            }

            item = {
                'url': null,
                'func': UNKNOWN_FUNCTION,
                'line': null,
                'column': null
            };

            if (curr.name) {
                item.func = curr.name;
            } else if ((parts = functionName.exec(curr.toString()))) {
                item.func = parts[1];
            }

            if ((source = findSourceByFunctionBody(curr))) {
                item.url = source.url;
                item.line = source.line;

                if (item.func === UNKNOWN_FUNCTION) {
                    item.func = guessFunctionName(item.url, item.line);
                }

                var reference = / '([^']+)' /.exec(ex.message || ex.description);
                if (reference) {
                    item.column = findSourceInLine(reference[1], source.url, source.line);
                }
            }

            if (funcs['' + curr]) {
                recursion = true;
            }else{
                funcs['' + curr] = true;
            }

            stack.push(item);
        }

        if (depth) {
            // console.log('depth is ' + depth);
            // console.log('stack is ' + stack.length);
            stack.splice(0, depth);
        }

        var result = {
            'mode': 'callers',
            'name': ex.name,
            'message': ex.message,
            'url': document.location.href,
            'stack': stack,
            'useragent': navigator.userAgent
        };
        augmentStackTraceWithInitialElement(result, ex.sourceURL || ex.fileName, ex.line || ex.lineNumber, ex.message || ex.description);
        return result;
    }

    /**
     * Computes a stack trace for an exception.
     * @param {Error} ex
     * @param {(string|number)=} depth
     */
    function computeStackTrace(ex, depth) {
        var stack = null;
        depth = (depth == null ? 0 : +depth);

        try {
            // This must be tried first because Opera 10 *destroys*
            // its stacktrace property if you try to access the stack
            // property first!!
            stack = computeStackTraceFromStacktraceProp(ex);
            if (stack) {
                return stack;
            }
        } catch (e) {
            if (debug) {
                throw e;
            }
        }

        try {
            stack = computeStackTraceFromStackProp(ex);
            if (stack) {
                return stack;
            }
        } catch (e) {
            if (debug) {
                throw e;
            }
        }

        try {
            stack = computeStackTraceFromOperaMultiLineMessage(ex);
            if (stack) {
                return stack;
            }
        } catch (e) {
            if (debug) {
                throw e;
            }
        }

        try {
            stack = computeStackTraceByWalkingCallerChain(ex, depth + 1);
            if (stack) {
                return stack;
            }
        } catch (e) {
            if (debug) {
                throw e;
            }
        }

        return {
            'mode': 'failed'
        };
    }

    /**
     * Logs a stacktrace starting from the previous call and working down.
     * @param {(number|string)=} depth How many frames deep to trace.
     * @return {Object.<string, *>} Stack trace information.
     */
    function computeStackTraceOfCaller(depth) {
        depth = (depth == null ? 0 : +depth) + 1; // "+ 1" because "ofCaller" should drop one frame
        try {
            throw new Error();
        } catch (ex) {
            return computeStackTrace(ex, depth + 1);
        }
    }

    computeStackTrace.augmentStackTraceWithInitialElement = augmentStackTraceWithInitialElement;
    computeStackTrace.guessFunctionName = guessFunctionName;
    computeStackTrace.gatherContext = gatherContext;
    computeStackTrace.ofCaller = computeStackTraceOfCaller;

    return computeStackTrace;
}());

/**
 * Extends support for global error handling for asynchronous browser
 * functions. Adopted from Closure Library's errorhandler.js
 */
(function extendToAsynchronousCallbacks() {
    var _helper = function _helper(fnName) {
        var originalFn = window[fnName];
        window[fnName] = function traceKitAsyncExtension() {
            // Make a copy of the arguments
            var args = _slice.call(arguments);
            var originalCallback = args[0];
            if (typeof (originalCallback) === 'function') {
                args[0] = TraceKit.wrap(originalCallback);
            }
            // IE < 9 doesn't support .call/.apply on setInterval/setTimeout, but it
            // also only supports 2 argument and doesn't care what "this" is, so we
            // can just call the original function directly.
            if (originalFn.apply) {
                return originalFn.apply(this, args);
            } else {
                return originalFn(args[0], args[1]);
            }
        };
    };

    _helper('setTimeout');
    _helper('setInterval');
}());

//Default options:
if (!TraceKit.remoteFetching) {
  TraceKit.remoteFetching = true;
}
if (!TraceKit.collectWindowErrors) {
  TraceKit.collectWindowErrors = true;
}
if (!TraceKit.linesOfContext || TraceKit.linesOfContext < 1) {
  // 5 lines before, the offending line, 5 lines after
  TraceKit.linesOfContext = 11;
}



// Export to global object
window.TraceKit = TraceKit;

}(window));

// FILE: IO.js (04b57f0b) 3/7/2014 11:24:07 AM

/////////////////////////////////////////////////
/////////////////////////////////////////////////
//
// Basic JavaScript File and Directory IO module
// By: MonkeeSage, v0.1
// See: http://kb.mozillazine.org/Dev_:_Extensions_:_Example_Code_:_File_IO_:_jsio
/////////////////////////////////////////////////
/////////////////////////////////////////////////


if (typeof (JSIO) != 'boolean' && typeof (Components) == 'object' && typeof (Components.interfaces) == 'object') {   // the last 2 checks are to make sure that we are using a mozilla based browser

	var JSIO = true;

	/////////////////////////////////////////////////
	// Basic file IO object based on Mozilla source 
	// code post at forums.mozillazine.org
	/////////////////////////////////////////////////

	// Example use:
	// var fileIn = FileIO.open('/test.txt');
	// if (fileIn.exists()) {
	// 	var fileOut = FileIO.open('/copy of test.txt');
	// 	var str = FileIO.read(fileIn);
	// 	var rv = FileIO.write(fileOut, str);
	// 	alert('File write: ' + rv);
	// 	rv = FileIO.write(fileOut, str, 'a');
	// 	alert('File append: ' + rv);
	// 	rv = FileIO.unlink(fileOut);
	// 	alert('File unlink: ' + rv);
	// }

	var FileIO = {

		localfileCID  : '@mozilla.org/file/local;1',
		localfileIID  : Components.interfaces.nsILocalFile,

		finstreamCID  : '@mozilla.org/network/file-input-stream;1',
		finstreamIID  : Components.interfaces.nsIFileInputStream,

		foutstreamCID : '@mozilla.org/network/file-output-stream;1',
		foutstreamIID : Components.interfaces.nsIFileOutputStream,

		sinstreamCID  : '@mozilla.org/scriptableinputstream;1',
		sinstreamIID  : Components.interfaces.nsIScriptableInputStream,

		suniconvCID   : '@mozilla.org/intl/scriptableunicodeconverter',
		suniconvIID   : Components.interfaces.nsIScriptableUnicodeConverter,

		open   : function(path) {
			try {
				var file = Components.classes[this.localfileCID]
								.createInstance(this.localfileIID);
				file.initWithPath(path);
				return file;
			}
			catch(e) {
				return false;
			}
		},

		read   : function(file, charset) {
			try {
				var data     = new String();
				var fiStream = Components.classes[this.finstreamCID]
									.createInstance(this.finstreamIID);
				var siStream = Components.classes[this.sinstreamCID]
									.createInstance(this.sinstreamIID);
				fiStream.init(file, 1, 0, false);
				siStream.init(fiStream);
				data += siStream.read(-1);
				siStream.close();
				fiStream.close();
				if (charset) {
					data = this.toUnicode(charset, data);
				}
				return data;
			} 
			catch(e) {
				return false;
			}
		},

		write  : function(file, data, mode, charset) {
			try {
				var foStream = Components.classes[this.foutstreamCID]
									.createInstance(this.foutstreamIID);
				if (charset) {
					data = this.fromUnicode(charset, data);
				}
				var flags = 0x02 | 0x08 | 0x20; // wronly | create | truncate
				if (mode == 'a') {
					flags = 0x02 | 0x10; // wronly | append
				}
				foStream.init(file, flags, 0664, 0);
				foStream.write(data, data.length);
				//foStream.flush();
				foStream.close();
				return true;
			}
			catch(e) {
				return false;
			}
		},

		create : function(file) {
			try {
				file.create(0x00, 0664);
				return true;
			}
			catch(e) {
				return false;
			}
		},

		unlink : function(file) {
			try {
				file.remove(false);
				return true;
			}
			catch(e) {
				return false;
			}
		},

		path   : function(file) {
			try {
				return 'file:///' + file.path.replace(/\\/g, '\/')
							.replace(/^\s*\/?/, '').replace(/\ /g, '%20');
			}
			catch(e) {
				return false;
			}
		},

		toUnicode   : function(charset, data) {
			try{
				var uniConv = Components.classes[this.suniconvCID]
									.createInstance(this.suniconvIID);
				uniConv.charset = charset;
				data = uniConv.ConvertToUnicode(data);
			} 
			catch(e) {
				// foobar!
			}
			return data;
		},

		fromUnicode : function(charset, data) {
			try {
				var uniConv = Components.classes[this.suniconvCID]
									.createInstance(this.suniconvIID);
				uniConv.charset = charset;
				data = uniConv.ConvertFromUnicode(data);
				// data += uniConv.Finish();
			}
			catch(e) {
				// foobar!
			}
			return data;
		}

	}


	/////////////////////////////////////////////////
	// Basic Directory IO object based on JSLib 
	// source code found at jslib.mozdev.org
	/////////////////////////////////////////////////

	// Example use:
	// var dir = DirIO.open('/test');
	// if (dir.exists()) {
	// 	alert(DirIO.path(dir));
	// 	var arr = DirIO.read(dir, true), i;
	// 	if (arr) {
	// 		for (i = 0; i < arr.length; ++i) {
	// 			alert(arr[i].path);
	// 		}
	// 	}
	// }
	// else {
	// 	var rv = DirIO.create(dir);
	// 	alert('Directory create: ' + rv);
	// }

	// ---------------------------------------------
	// ----------------- Nota Bene -----------------
	// ---------------------------------------------
	// Some possible types for get are:
	// 	'ProfD'				= profile
	// 	'DefProfRt'			= user (e.g., /root/.mozilla)
	// 	'UChrm'				= %profile%/chrome
	// 	'DefRt'				= installation
	// 	'PrfDef'				= %installation%/defaults/pref
	// 	'ProfDefNoLoc'		= %installation%/defaults/profile
	// 	'APlugns'			= %installation%/plugins
	// 	'AChrom'				= %installation%/chrome
	// 	'ComsD'				= %installation%/components
	// 	'CurProcD'			= installation (usually)
	// 	'Home'				= OS root (e.g., /root)
	// 	'TmpD'				= OS tmp (e.g., /tmp)

	var DirIO = {

		sep        : '/',

		dirservCID : '@mozilla.org/file/directory_service;1',
	
		propsIID   : Components.interfaces.nsIProperties,
	
		fileIID    : Components.interfaces.nsIFile,

		get    : function(type) {
			try {
				var dir = Components.classes[this.dirservCID]
								.createInstance(this.propsIID)
								.get(type, this.fileIID);
				return dir;
			}
			catch(e) {
				return false;
			}
		},

		open   : function(path) {
			return FileIO.open(path);
		},

		create : function(dir) {
			try {
				dir.create(0x01, 0755);                //Balaji - changed to make is rwxr_xr_x
				return true;
			}
			catch(e) {
				return false;
			}
		},
        
        /*
         // SB07202010 error in this logic. nuking it.
        _read  : function(dirEntry, recursive) {
			var list = new Array();
			try {
				while (dirEntry.hasMoreElements()) {
					list.push(dirEntry.getNext()
									.QueryInterface(FileIO.localfileIID));
				}
				if (recursive) {
					var list2 = new Array();
					for (var i = 0; i < list.length; ++i) {
						if (list[i].isDirectory()) {
							files = list[i].directoryEntries;
							list2 = this._read(files, recursive);
						}
					}
					for (i = 0; i < list2.length; ++i) {
						list.push(list2[i]);
					}
				}
			}
			catch(e) {
			   // foobar!
			}
			return list;
		},
        */
         
		read   : function(dir, recursive) {
		    /*
		     * @param dir is an nsiFile interface
		     */
		    var addAll = function(targetList, sourceList)
		    {
		        if (targetList != null && sourceList != null)
		        {
		            for(var counter1 = 0; counter1 < sourceList.length; ++counter1)
		            {
		                targetList.push(sourceList[counter1]);
		            }
		        }
		        return targetList;
		        
		    }
		    
		    var list = [];
		    if (dir.isDirectory())
		    {
		        var directoryEntries = dir.directoryEntries;
		        while(directoryEntries.hasMoreElements())
                {
                
                    var nextEntry = directoryEntries.getNext().QueryInterface(Components.interfaces.nsILocalFile);
                    list.push(nextEntry.path);
                    if (recursive)
	                {
                        var listOfNewChildren = DirIO.read(nextEntry, recursive);
                        addAll(list, listOfNewChildren);
	                }
                }
            }
            return list; 	              
	    },

		unlink : function(dir, recursive) {
			try {
				if (recursive == null) {
					recursive = false;
				}
				dir.remove(recursive);
				return true;
			}
			catch(e) {
				return false;
			}
		},

		path   : function (dir) {
			return FileIO.path(dir);
		},

		split  : function(str, join) {
			var arr = str.split(/\/|\\/), i;
			str = new String();
			for (i = 0; i < arr.length; ++i) {
				str += arr[i] + ((i != arr.length - 1) ? 
										join : '');
			}
			return str;
		},

		join   : function(str, split) {
			var arr = str.split(split), i;
			str = new String();
			for (i = 0; i < arr.length; ++i) {
				str += arr[i] + ((i != arr.length - 1) ? 
										this.sep : '');
			}
			return str;
		}
	
	}

	if (navigator.platform.toLowerCase().indexOf('win') > -1) {
		DirIO.sep = '\\';
	}

}

// FILE: yahoo-dom-event.js (99b8450c) 3/7/2014 11:24:12 AM

/*
Copyright (c) 2011, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.9.0
*/
if(typeof YAHOO=="undefined"||!YAHOO){var YAHOO={};}YAHOO.namespace=function(){var b=arguments,g=null,e,c,f;for(e=0;e<b.length;e=e+1){f=(""+b[e]).split(".");g=YAHOO;for(c=(f[0]=="YAHOO")?1:0;c<f.length;c=c+1){g[f[c]]=g[f[c]]||{};g=g[f[c]];}}return g;};YAHOO.log=function(d,a,c){var b=YAHOO.widget.Logger;if(b&&b.log){return b.log(d,a,c);}else{return false;}};YAHOO.register=function(a,f,e){var k=YAHOO.env.modules,c,j,h,g,d;if(!k[a]){k[a]={versions:[],builds:[]};}c=k[a];j=e.version;h=e.build;g=YAHOO.env.listeners;c.name=a;c.version=j;c.build=h;c.versions.push(j);c.builds.push(h);c.mainClass=f;for(d=0;d<g.length;d=d+1){g[d](c);}if(f){f.VERSION=j;f.BUILD=h;}else{YAHOO.log("mainClass is undefined for module "+a,"warn");}};YAHOO.env=YAHOO.env||{modules:[],listeners:[]};YAHOO.env.getVersion=function(a){return YAHOO.env.modules[a]||null;};YAHOO.env.parseUA=function(d){var e=function(i){var j=0;return parseFloat(i.replace(/\./g,function(){return(j++==1)?"":".";}));},h=navigator,g={ie:0,opera:0,gecko:0,webkit:0,chrome:0,mobile:null,air:0,ipad:0,iphone:0,ipod:0,ios:null,android:0,webos:0,caja:h&&h.cajaVersion,secure:false,os:null},c=d||(navigator&&navigator.userAgent),f=window&&window.location,b=f&&f.href,a;g.secure=b&&(b.toLowerCase().indexOf("https")===0);if(c){if((/windows|win32/i).test(c)){g.os="windows";}else{if((/macintosh/i).test(c)){g.os="macintosh";}else{if((/rhino/i).test(c)){g.os="rhino";}}}if((/KHTML/).test(c)){g.webkit=1;}a=c.match(/AppleWebKit\/([^\s]*)/);if(a&&a[1]){g.webkit=e(a[1]);if(/ Mobile\//.test(c)){g.mobile="Apple";a=c.match(/OS ([^\s]*)/);if(a&&a[1]){a=e(a[1].replace("_","."));}g.ios=a;g.ipad=g.ipod=g.iphone=0;a=c.match(/iPad|iPod|iPhone/);if(a&&a[0]){g[a[0].toLowerCase()]=g.ios;}}else{a=c.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/);if(a){g.mobile=a[0];}if(/webOS/.test(c)){g.mobile="WebOS";a=c.match(/webOS\/([^\s]*);/);if(a&&a[1]){g.webos=e(a[1]);}}if(/ Android/.test(c)){g.mobile="Android";a=c.match(/Android ([^\s]*);/);if(a&&a[1]){g.android=e(a[1]);}}}a=c.match(/Chrome\/([^\s]*)/);if(a&&a[1]){g.chrome=e(a[1]);}else{a=c.match(/AdobeAIR\/([^\s]*)/);if(a){g.air=a[0];}}}if(!g.webkit){a=c.match(/Opera[\s\/]([^\s]*)/);if(a&&a[1]){g.opera=e(a[1]);a=c.match(/Version\/([^\s]*)/);if(a&&a[1]){g.opera=e(a[1]);}a=c.match(/Opera Mini[^;]*/);if(a){g.mobile=a[0];}}else{a=c.match(/MSIE\s([^;]*)/);if(a&&a[1]){g.ie=e(a[1]);}else{a=c.match(/Gecko\/([^\s]*)/);if(a){g.gecko=1;a=c.match(/rv:([^\s\)]*)/);if(a&&a[1]){g.gecko=e(a[1]);}}}}}}return g;};YAHOO.env.ua=YAHOO.env.parseUA();(function(){YAHOO.namespace("util","widget","example");if("undefined"!==typeof YAHOO_config){var b=YAHOO_config.listener,a=YAHOO.env.listeners,d=true,c;if(b){for(c=0;c<a.length;c++){if(a[c]==b){d=false;break;}}if(d){a.push(b);}}}})();YAHOO.lang=YAHOO.lang||{};(function(){var f=YAHOO.lang,a=Object.prototype,c="[object Array]",h="[object Function]",i="[object Object]",b=[],g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;","`":"&#x60;"},d=["toString","valueOf"],e={isArray:function(j){return a.toString.apply(j)===c;},isBoolean:function(j){return typeof j==="boolean";},isFunction:function(j){return(typeof j==="function")||a.toString.apply(j)===h;},isNull:function(j){return j===null;},isNumber:function(j){return typeof j==="number"&&isFinite(j);},isObject:function(j){return(j&&(typeof j==="object"||f.isFunction(j)))||false;},isString:function(j){return typeof j==="string";},isUndefined:function(j){return typeof j==="undefined";},_IEEnumFix:(YAHOO.env.ua.ie)?function(l,k){var j,n,m;for(j=0;j<d.length;j=j+1){n=d[j];m=k[n];if(f.isFunction(m)&&m!=a[n]){l[n]=m;}}}:function(){},escapeHTML:function(j){return j.replace(/[&<>"'\/`]/g,function(k){return g[k];});},extend:function(m,n,l){if(!n||!m){throw new Error("extend failed, please check that "+"all dependencies are included.");}var k=function(){},j;k.prototype=n.prototype;m.prototype=new k();m.prototype.constructor=m;m.superclass=n.prototype;if(n.prototype.constructor==a.constructor){n.prototype.constructor=n;}if(l){for(j in l){if(f.hasOwnProperty(l,j)){m.prototype[j]=l[j];}}f._IEEnumFix(m.prototype,l);}},augmentObject:function(n,m){if(!m||!n){throw new Error("Absorb failed, verify dependencies.");}var j=arguments,l,o,k=j[2];if(k&&k!==true){for(l=2;l<j.length;l=l+1){n[j[l]]=m[j[l]];}}else{for(o in m){if(k||!(o in n)){n[o]=m[o];}}f._IEEnumFix(n,m);}return n;},augmentProto:function(m,l){if(!l||!m){throw new Error("Augment failed, verify dependencies.");}var j=[m.prototype,l.prototype],k;for(k=2;k<arguments.length;k=k+1){j.push(arguments[k]);}f.augmentObject.apply(this,j);return m;},dump:function(j,p){var l,n,r=[],t="{...}",k="f(){...}",q=", ",m=" => ";if(!f.isObject(j)){return j+"";}else{if(j instanceof Date||("nodeType" in j&&"tagName" in j)){return j;}else{if(f.isFunction(j)){return k;}}}p=(f.isNumber(p))?p:3;if(f.isArray(j)){r.push("[");for(l=0,n=j.length;l<n;l=l+1){if(f.isObject(j[l])){r.push((p>0)?f.dump(j[l],p-1):t);}else{r.push(j[l]);}r.push(q);}if(r.length>1){r.pop();}r.push("]");}else{r.push("{");for(l in j){if(f.hasOwnProperty(j,l)){r.push(l+m);if(f.isObject(j[l])){r.push((p>0)?f.dump(j[l],p-1):t);}else{r.push(j[l]);}r.push(q);}}if(r.length>1){r.pop();}r.push("}");}return r.join("");},substitute:function(x,y,E,l){var D,C,B,G,t,u,F=[],p,z=x.length,A="dump",r=" ",q="{",m="}",n,w;for(;;){D=x.lastIndexOf(q,z);if(D<0){break;}C=x.indexOf(m,D);if(D+1>C){break;}p=x.substring(D+1,C);G=p;u=null;B=G.indexOf(r);if(B>-1){u=G.substring(B+1);G=G.substring(0,B);}t=y[G];if(E){t=E(G,t,u);}if(f.isObject(t)){if(f.isArray(t)){t=f.dump(t,parseInt(u,10));}else{u=u||"";n=u.indexOf(A);if(n>-1){u=u.substring(4);}w=t.toString();if(w===i||n>-1){t=f.dump(t,parseInt(u,10));}else{t=w;}}}else{if(!f.isString(t)&&!f.isNumber(t)){t="~-"+F.length+"-~";F[F.length]=p;}}x=x.substring(0,D)+t+x.substring(C+1);if(l===false){z=D-1;}}for(D=F.length-1;D>=0;D=D-1){x=x.replace(new RegExp("~-"+D+"-~"),"{"+F[D]+"}","g");}return x;},trim:function(j){try{return j.replace(/^\s+|\s+$/g,"");}catch(k){return j;
}},merge:function(){var n={},k=arguments,j=k.length,m;for(m=0;m<j;m=m+1){f.augmentObject(n,k[m],true);}return n;},later:function(t,k,u,n,p){t=t||0;k=k||{};var l=u,s=n,q,j;if(f.isString(u)){l=k[u];}if(!l){throw new TypeError("method undefined");}if(!f.isUndefined(n)&&!f.isArray(s)){s=[n];}q=function(){l.apply(k,s||b);};j=(p)?setInterval(q,t):setTimeout(q,t);return{interval:p,cancel:function(){if(this.interval){clearInterval(j);}else{clearTimeout(j);}}};},isValue:function(j){return(f.isObject(j)||f.isString(j)||f.isNumber(j)||f.isBoolean(j));}};f.hasOwnProperty=(a.hasOwnProperty)?function(j,k){return j&&j.hasOwnProperty&&j.hasOwnProperty(k);}:function(j,k){return !f.isUndefined(j[k])&&j.constructor.prototype[k]!==j[k];};e.augmentObject(f,e,true);YAHOO.util.Lang=f;f.augment=f.augmentProto;YAHOO.augment=f.augmentProto;YAHOO.extend=f.extend;})();YAHOO.register("yahoo",YAHOO,{version:"2.9.0",build:"2800"});(function(){YAHOO.env._id_counter=YAHOO.env._id_counter||0;var e=YAHOO.util,k=YAHOO.lang,L=YAHOO.env.ua,a=YAHOO.lang.trim,B={},F={},m=/^t(?:able|d|h)$/i,w=/color$/i,j=window.document,v=j.documentElement,C="ownerDocument",M="defaultView",U="documentElement",S="compatMode",z="offsetLeft",o="offsetTop",T="offsetParent",x="parentNode",K="nodeType",c="tagName",n="scrollLeft",H="scrollTop",p="getBoundingClientRect",V="getComputedStyle",y="currentStyle",l="CSS1Compat",A="BackCompat",E="class",f="className",i="",b=" ",R="(?:^|\\s)",J="(?= |$)",t="g",O="position",D="fixed",u="relative",I="left",N="top",Q="medium",P="borderLeftWidth",q="borderTopWidth",d=L.opera,h=L.webkit,g=L.gecko,s=L.ie;e.Dom={CUSTOM_ATTRIBUTES:(!v.hasAttribute)?{"for":"htmlFor","class":f}:{"htmlFor":"for","className":E},DOT_ATTRIBUTES:{checked:true},get:function(aa){var ac,X,ab,Z,W,G,Y=null;if(aa){if(typeof aa=="string"||typeof aa=="number"){ac=aa+"";aa=j.getElementById(aa);G=(aa)?aa.attributes:null;if(aa&&G&&G.id&&G.id.value===ac){return aa;}else{if(aa&&j.all){aa=null;X=j.all[ac];if(X&&X.length){for(Z=0,W=X.length;Z<W;++Z){if(X[Z].id===ac){return X[Z];}}}}}}else{if(e.Element&&aa instanceof e.Element){aa=aa.get("element");}else{if(!aa.nodeType&&"length" in aa){ab=[];for(Z=0,W=aa.length;Z<W;++Z){ab[ab.length]=e.Dom.get(aa[Z]);}aa=ab;}}}Y=aa;}return Y;},getComputedStyle:function(G,W){if(window[V]){return G[C][M][V](G,null)[W];}else{if(G[y]){return e.Dom.IE_ComputedStyle.get(G,W);}}},getStyle:function(G,W){return e.Dom.batch(G,e.Dom._getStyle,W);},_getStyle:function(){if(window[V]){return function(G,Y){Y=(Y==="float")?Y="cssFloat":e.Dom._toCamel(Y);var X=G.style[Y],W;if(!X){W=G[C][M][V](G,null);if(W){X=W[Y];}}return X;};}else{if(v[y]){return function(G,Y){var X;switch(Y){case"opacity":X=100;try{X=G.filters["DXImageTransform.Microsoft.Alpha"].opacity;}catch(Z){try{X=G.filters("alpha").opacity;}catch(W){}}return X/100;case"float":Y="styleFloat";default:Y=e.Dom._toCamel(Y);X=G[y]?G[y][Y]:null;return(G.style[Y]||X);}};}}}(),setStyle:function(G,W,X){e.Dom.batch(G,e.Dom._setStyle,{prop:W,val:X});},_setStyle:function(){if(!window.getComputedStyle&&j.documentElement.currentStyle){return function(W,G){var X=e.Dom._toCamel(G.prop),Y=G.val;if(W){switch(X){case"opacity":if(Y===""||Y===null||Y===1){W.style.removeAttribute("filter");}else{if(k.isString(W.style.filter)){W.style.filter="alpha(opacity="+Y*100+")";if(!W[y]||!W[y].hasLayout){W.style.zoom=1;}}}break;case"float":X="styleFloat";default:W.style[X]=Y;}}else{}};}else{return function(W,G){var X=e.Dom._toCamel(G.prop),Y=G.val;if(W){if(X=="float"){X="cssFloat";}W.style[X]=Y;}else{}};}}(),getXY:function(G){return e.Dom.batch(G,e.Dom._getXY);},_canPosition:function(G){return(e.Dom._getStyle(G,"display")!=="none"&&e.Dom._inDoc(G));},_getXY:function(W){var X,G,Z,ab,Y,aa,ac=Math.round,ad=false;if(e.Dom._canPosition(W)){Z=W[p]();ab=W[C];X=e.Dom.getDocumentScrollLeft(ab);G=e.Dom.getDocumentScrollTop(ab);ad=[Z[I],Z[N]];if(Y||aa){ad[0]-=aa;ad[1]-=Y;}if((G||X)){ad[0]+=X;ad[1]+=G;}ad[0]=ac(ad[0]);ad[1]=ac(ad[1]);}else{}return ad;},getX:function(G){var W=function(X){return e.Dom.getXY(X)[0];};return e.Dom.batch(G,W,e.Dom,true);},getY:function(G){var W=function(X){return e.Dom.getXY(X)[1];};return e.Dom.batch(G,W,e.Dom,true);},setXY:function(G,X,W){e.Dom.batch(G,e.Dom._setXY,{pos:X,noRetry:W});},_setXY:function(G,Z){var aa=e.Dom._getStyle(G,O),Y=e.Dom.setStyle,ad=Z.pos,W=Z.noRetry,ab=[parseInt(e.Dom.getComputedStyle(G,I),10),parseInt(e.Dom.getComputedStyle(G,N),10)],ac,X;ac=e.Dom._getXY(G);if(!ad||ac===false){return false;}if(aa=="static"){aa=u;Y(G,O,aa);}if(isNaN(ab[0])){ab[0]=(aa==u)?0:G[z];}if(isNaN(ab[1])){ab[1]=(aa==u)?0:G[o];}if(ad[0]!==null){Y(G,I,ad[0]-ac[0]+ab[0]+"px");}if(ad[1]!==null){Y(G,N,ad[1]-ac[1]+ab[1]+"px");}if(!W){X=e.Dom._getXY(G);if((ad[0]!==null&&X[0]!=ad[0])||(ad[1]!==null&&X[1]!=ad[1])){e.Dom._setXY(G,{pos:ad,noRetry:true});}}},setX:function(W,G){e.Dom.setXY(W,[G,null]);},setY:function(G,W){e.Dom.setXY(G,[null,W]);},getRegion:function(G){var W=function(X){var Y=false;if(e.Dom._canPosition(X)){Y=e.Region.getRegion(X);}else{}return Y;};return e.Dom.batch(G,W,e.Dom,true);},getClientWidth:function(){return e.Dom.getViewportWidth();},getClientHeight:function(){return e.Dom.getViewportHeight();},getElementsByClassName:function(ab,af,ac,ae,X,ad){af=af||"*";ac=(ac)?e.Dom.get(ac):null||j;if(!ac){return[];}var W=[],G=ac.getElementsByTagName(af),Z=e.Dom.hasClass;for(var Y=0,aa=G.length;Y<aa;++Y){if(Z(G[Y],ab)){W[W.length]=G[Y];}}if(ae){e.Dom.batch(W,ae,X,ad);}return W;},hasClass:function(W,G){return e.Dom.batch(W,e.Dom._hasClass,G);},_hasClass:function(X,W){var G=false,Y;if(X&&W){Y=e.Dom._getAttribute(X,f)||i;if(Y){Y=Y.replace(/\s+/g,b);}if(W.exec){G=W.test(Y);}else{G=W&&(b+Y+b).indexOf(b+W+b)>-1;}}else{}return G;},addClass:function(W,G){return e.Dom.batch(W,e.Dom._addClass,G);},_addClass:function(X,W){var G=false,Y;if(X&&W){Y=e.Dom._getAttribute(X,f)||i;if(!e.Dom._hasClass(X,W)){e.Dom.setAttribute(X,f,a(Y+b+W));G=true;}}else{}return G;},removeClass:function(W,G){return e.Dom.batch(W,e.Dom._removeClass,G);},_removeClass:function(Y,X){var W=false,aa,Z,G;if(Y&&X){aa=e.Dom._getAttribute(Y,f)||i;e.Dom.setAttribute(Y,f,aa.replace(e.Dom._getClassRegex(X),i));Z=e.Dom._getAttribute(Y,f);if(aa!==Z){e.Dom.setAttribute(Y,f,a(Z));W=true;if(e.Dom._getAttribute(Y,f)===""){G=(Y.hasAttribute&&Y.hasAttribute(E))?E:f;Y.removeAttribute(G);}}}else{}return W;},replaceClass:function(X,W,G){return e.Dom.batch(X,e.Dom._replaceClass,{from:W,to:G});},_replaceClass:function(Y,X){var W,ab,aa,G=false,Z;if(Y&&X){ab=X.from;aa=X.to;if(!aa){G=false;}else{if(!ab){G=e.Dom._addClass(Y,X.to);}else{if(ab!==aa){Z=e.Dom._getAttribute(Y,f)||i;W=(b+Z.replace(e.Dom._getClassRegex(ab),b+aa).replace(/\s+/g,b)).split(e.Dom._getClassRegex(aa));W.splice(1,0,b+aa);e.Dom.setAttribute(Y,f,a(W.join(i)));G=true;}}}}else{}return G;},generateId:function(G,X){X=X||"yui-gen";var W=function(Y){if(Y&&Y.id){return Y.id;}var Z=X+YAHOO.env._id_counter++;
if(Y){if(Y[C]&&Y[C].getElementById(Z)){return e.Dom.generateId(Y,Z+X);}Y.id=Z;}return Z;};return e.Dom.batch(G,W,e.Dom,true)||W.apply(e.Dom,arguments);},isAncestor:function(W,X){W=e.Dom.get(W);X=e.Dom.get(X);var G=false;if((W&&X)&&(W[K]&&X[K])){if(W.contains&&W!==X){G=W.contains(X);}else{if(W.compareDocumentPosition){G=!!(W.compareDocumentPosition(X)&16);}}}else{}return G;},inDocument:function(G,W){return e.Dom._inDoc(e.Dom.get(G),W);},_inDoc:function(W,X){var G=false;if(W&&W[c]){X=X||W[C];G=e.Dom.isAncestor(X[U],W);}else{}return G;},getElementsBy:function(W,af,ab,ad,X,ac,ae){af=af||"*";ab=(ab)?e.Dom.get(ab):null||j;var aa=(ae)?null:[],G;if(ab){G=ab.getElementsByTagName(af);for(var Y=0,Z=G.length;Y<Z;++Y){if(W(G[Y])){if(ae){aa=G[Y];break;}else{aa[aa.length]=G[Y];}}}if(ad){e.Dom.batch(aa,ad,X,ac);}}return aa;},getElementBy:function(X,G,W){return e.Dom.getElementsBy(X,G,W,null,null,null,true);},batch:function(X,ab,aa,Z){var Y=[],W=(Z)?aa:null;X=(X&&(X[c]||X.item))?X:e.Dom.get(X);if(X&&ab){if(X[c]||X.length===undefined){return ab.call(W,X,aa);}for(var G=0;G<X.length;++G){Y[Y.length]=ab.call(W||X[G],X[G],aa);}}else{return false;}return Y;},getDocumentHeight:function(){var W=(j[S]!=l||h)?j.body.scrollHeight:v.scrollHeight,G=Math.max(W,e.Dom.getViewportHeight());return G;},getDocumentWidth:function(){var W=(j[S]!=l||h)?j.body.scrollWidth:v.scrollWidth,G=Math.max(W,e.Dom.getViewportWidth());return G;},getViewportHeight:function(){var G=self.innerHeight,W=j[S];if((W||s)&&!d){G=(W==l)?v.clientHeight:j.body.clientHeight;}return G;},getViewportWidth:function(){var G=self.innerWidth,W=j[S];if(W||s){G=(W==l)?v.clientWidth:j.body.clientWidth;}return G;},getAncestorBy:function(G,W){while((G=G[x])){if(e.Dom._testElement(G,W)){return G;}}return null;},getAncestorByClassName:function(W,G){W=e.Dom.get(W);if(!W){return null;}var X=function(Y){return e.Dom.hasClass(Y,G);};return e.Dom.getAncestorBy(W,X);},getAncestorByTagName:function(W,G){W=e.Dom.get(W);if(!W){return null;}var X=function(Y){return Y[c]&&Y[c].toUpperCase()==G.toUpperCase();};return e.Dom.getAncestorBy(W,X);},getPreviousSiblingBy:function(G,W){while(G){G=G.previousSibling;if(e.Dom._testElement(G,W)){return G;}}return null;},getPreviousSibling:function(G){G=e.Dom.get(G);if(!G){return null;}return e.Dom.getPreviousSiblingBy(G);},getNextSiblingBy:function(G,W){while(G){G=G.nextSibling;if(e.Dom._testElement(G,W)){return G;}}return null;},getNextSibling:function(G){G=e.Dom.get(G);if(!G){return null;}return e.Dom.getNextSiblingBy(G);},getFirstChildBy:function(G,X){var W=(e.Dom._testElement(G.firstChild,X))?G.firstChild:null;return W||e.Dom.getNextSiblingBy(G.firstChild,X);},getFirstChild:function(G,W){G=e.Dom.get(G);if(!G){return null;}return e.Dom.getFirstChildBy(G);},getLastChildBy:function(G,X){if(!G){return null;}var W=(e.Dom._testElement(G.lastChild,X))?G.lastChild:null;return W||e.Dom.getPreviousSiblingBy(G.lastChild,X);},getLastChild:function(G){G=e.Dom.get(G);return e.Dom.getLastChildBy(G);},getChildrenBy:function(W,Y){var X=e.Dom.getFirstChildBy(W,Y),G=X?[X]:[];e.Dom.getNextSiblingBy(X,function(Z){if(!Y||Y(Z)){G[G.length]=Z;}return false;});return G;},getChildren:function(G){G=e.Dom.get(G);if(!G){}return e.Dom.getChildrenBy(G);},getDocumentScrollLeft:function(G){G=G||j;return Math.max(G[U].scrollLeft,G.body.scrollLeft);},getDocumentScrollTop:function(G){G=G||j;return Math.max(G[U].scrollTop,G.body.scrollTop);},insertBefore:function(W,G){W=e.Dom.get(W);G=e.Dom.get(G);if(!W||!G||!G[x]){return null;}return G[x].insertBefore(W,G);},insertAfter:function(W,G){W=e.Dom.get(W);G=e.Dom.get(G);if(!W||!G||!G[x]){return null;}if(G.nextSibling){return G[x].insertBefore(W,G.nextSibling);}else{return G[x].appendChild(W);}},getClientRegion:function(){var X=e.Dom.getDocumentScrollTop(),W=e.Dom.getDocumentScrollLeft(),Y=e.Dom.getViewportWidth()+W,G=e.Dom.getViewportHeight()+X;return new e.Region(X,Y,G,W);},setAttribute:function(W,G,X){e.Dom.batch(W,e.Dom._setAttribute,{attr:G,val:X});},_setAttribute:function(X,W){var G=e.Dom._toCamel(W.attr),Y=W.val;if(X&&X.setAttribute){if(e.Dom.DOT_ATTRIBUTES[G]&&X.tagName&&X.tagName!="BUTTON"){X[G]=Y;}else{G=e.Dom.CUSTOM_ATTRIBUTES[G]||G;X.setAttribute(G,Y);}}else{}},getAttribute:function(W,G){return e.Dom.batch(W,e.Dom._getAttribute,G);},_getAttribute:function(W,G){var X;G=e.Dom.CUSTOM_ATTRIBUTES[G]||G;if(e.Dom.DOT_ATTRIBUTES[G]){X=W[G];}else{if(W&&"getAttribute" in W){if(/^(?:href|src)$/.test(G)){X=W.getAttribute(G,2);}else{X=W.getAttribute(G);}}else{}}return X;},_toCamel:function(W){var X=B;function G(Y,Z){return Z.toUpperCase();}return X[W]||(X[W]=W.indexOf("-")===-1?W:W.replace(/-([a-z])/gi,G));},_getClassRegex:function(W){var G;if(W!==undefined){if(W.exec){G=W;}else{G=F[W];if(!G){W=W.replace(e.Dom._patterns.CLASS_RE_TOKENS,"\\$1");W=W.replace(/\s+/g,b);G=F[W]=new RegExp(R+W+J,t);}}}return G;},_patterns:{ROOT_TAG:/^body|html$/i,CLASS_RE_TOKENS:/([\.\(\)\^\$\*\+\?\|\[\]\{\}\\])/g},_testElement:function(G,W){return G&&G[K]==1&&(!W||W(G));},_calcBorders:function(X,Y){var W=parseInt(e.Dom[V](X,q),10)||0,G=parseInt(e.Dom[V](X,P),10)||0;if(g){if(m.test(X[c])){W=0;G=0;}}Y[0]+=G;Y[1]+=W;return Y;}};var r=e.Dom[V];if(L.opera){e.Dom[V]=function(W,G){var X=r(W,G);if(w.test(G)){X=e.Dom.Color.toRGB(X);}return X;};}if(L.webkit){e.Dom[V]=function(W,G){var X=r(W,G);if(X==="rgba(0, 0, 0, 0)"){X="transparent";}return X;};}if(L.ie&&L.ie>=8){e.Dom.DOT_ATTRIBUTES.type=true;}})();YAHOO.util.Region=function(d,e,a,c){this.top=d;this.y=d;this[1]=d;this.right=e;this.bottom=a;this.left=c;this.x=c;this[0]=c;this.width=this.right-this.left;this.height=this.bottom-this.top;};YAHOO.util.Region.prototype.contains=function(a){return(a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom);};YAHOO.util.Region.prototype.getArea=function(){return((this.bottom-this.top)*(this.right-this.left));};YAHOO.util.Region.prototype.intersect=function(f){var d=Math.max(this.top,f.top),e=Math.min(this.right,f.right),a=Math.min(this.bottom,f.bottom),c=Math.max(this.left,f.left);
if(a>=d&&e>=c){return new YAHOO.util.Region(d,e,a,c);}else{return null;}};YAHOO.util.Region.prototype.union=function(f){var d=Math.min(this.top,f.top),e=Math.max(this.right,f.right),a=Math.max(this.bottom,f.bottom),c=Math.min(this.left,f.left);return new YAHOO.util.Region(d,e,a,c);};YAHOO.util.Region.prototype.toString=function(){return("Region {"+"top: "+this.top+", right: "+this.right+", bottom: "+this.bottom+", left: "+this.left+", height: "+this.height+", width: "+this.width+"}");};YAHOO.util.Region.getRegion=function(e){var g=YAHOO.util.Dom.getXY(e),d=g[1],f=g[0]+e.offsetWidth,a=g[1]+e.offsetHeight,c=g[0];return new YAHOO.util.Region(d,f,a,c);};YAHOO.util.Point=function(a,b){if(YAHOO.lang.isArray(a)){b=a[1];a=a[0];}YAHOO.util.Point.superclass.constructor.call(this,b,a,b,a);};YAHOO.extend(YAHOO.util.Point,YAHOO.util.Region);(function(){var b=YAHOO.util,a="clientTop",f="clientLeft",j="parentNode",k="right",w="hasLayout",i="px",u="opacity",l="auto",d="borderLeftWidth",g="borderTopWidth",p="borderRightWidth",v="borderBottomWidth",s="visible",q="transparent",n="height",e="width",h="style",t="currentStyle",r=/^width|height$/,o=/^(\d[.\d]*)+(em|ex|px|gd|rem|vw|vh|vm|ch|mm|cm|in|pt|pc|deg|rad|ms|s|hz|khz|%){1}?/i,m={get:function(x,z){var y="",A=x[t][z];if(z===u){y=b.Dom.getStyle(x,u);}else{if(!A||(A.indexOf&&A.indexOf(i)>-1)){y=A;}else{if(b.Dom.IE_COMPUTED[z]){y=b.Dom.IE_COMPUTED[z](x,z);}else{if(o.test(A)){y=b.Dom.IE.ComputedStyle.getPixel(x,z);}else{y=A;}}}}return y;},getOffset:function(z,E){var B=z[t][E],x=E.charAt(0).toUpperCase()+E.substr(1),C="offset"+x,y="pixel"+x,A="",D;if(B==l){D=z[C];if(D===undefined){A=0;}A=D;if(r.test(E)){z[h][E]=D;if(z[C]>D){A=D-(z[C]-D);}z[h][E]=l;}}else{if(!z[h][y]&&!z[h][E]){z[h][E]=B;}A=z[h][y];}return A+i;},getBorderWidth:function(x,z){var y=null;if(!x[t][w]){x[h].zoom=1;}switch(z){case g:y=x[a];break;case v:y=x.offsetHeight-x.clientHeight-x[a];break;case d:y=x[f];break;case p:y=x.offsetWidth-x.clientWidth-x[f];break;}return y+i;},getPixel:function(y,x){var A=null,B=y[t][k],z=y[t][x];y[h][k]=z;A=y[h].pixelRight;y[h][k]=B;return A+i;},getMargin:function(y,x){var z;if(y[t][x]==l){z=0+i;}else{z=b.Dom.IE.ComputedStyle.getPixel(y,x);}return z;},getVisibility:function(y,x){var z;while((z=y[t])&&z[x]=="inherit"){y=y[j];}return(z)?z[x]:s;},getColor:function(y,x){return b.Dom.Color.toRGB(y[t][x])||q;},getBorderColor:function(y,x){var z=y[t],A=z[x]||z.color;return b.Dom.Color.toRGB(b.Dom.Color.toHex(A));}},c={};c.top=c.right=c.bottom=c.left=c[e]=c[n]=m.getOffset;c.color=m.getColor;c[g]=c[p]=c[v]=c[d]=m.getBorderWidth;c.marginTop=c.marginRight=c.marginBottom=c.marginLeft=m.getMargin;c.visibility=m.getVisibility;c.borderColor=c.borderTopColor=c.borderRightColor=c.borderBottomColor=c.borderLeftColor=m.getBorderColor;b.Dom.IE_COMPUTED=c;b.Dom.IE_ComputedStyle=m;})();(function(){var c="toString",a=parseInt,b=RegExp,d=YAHOO.util;d.Dom.Color={KEYWORDS:{black:"000",silver:"c0c0c0",gray:"808080",white:"fff",maroon:"800000",red:"f00",purple:"800080",fuchsia:"f0f",green:"008000",lime:"0f0",olive:"808000",yellow:"ff0",navy:"000080",blue:"00f",teal:"008080",aqua:"0ff"},re_RGB:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,re_hex:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,re_hex3:/([0-9A-F])/gi,toRGB:function(e){if(!d.Dom.Color.re_RGB.test(e)){e=d.Dom.Color.toHex(e);}if(d.Dom.Color.re_hex.exec(e)){e="rgb("+[a(b.$1,16),a(b.$2,16),a(b.$3,16)].join(", ")+")";}return e;},toHex:function(f){f=d.Dom.Color.KEYWORDS[f]||f;if(d.Dom.Color.re_RGB.exec(f)){f=[Number(b.$1).toString(16),Number(b.$2).toString(16),Number(b.$3).toString(16)];for(var e=0;e<f.length;e++){if(f[e].length<2){f[e]="0"+f[e];}}f=f.join("");}if(f.length<6){f=f.replace(d.Dom.Color.re_hex3,"$1$1");}if(f!=="transparent"&&f.indexOf("#")<0){f="#"+f;}return f.toUpperCase();}};}());YAHOO.register("dom",YAHOO.util.Dom,{version:"2.9.0",build:"2800"});YAHOO.util.CustomEvent=function(d,c,b,a,e){this.type=d;this.scope=c||window;this.silent=b;this.fireOnce=e;this.fired=false;this.firedWith=null;this.signature=a||YAHOO.util.CustomEvent.LIST;this.subscribers=[];if(!this.silent){}var f="_YUICEOnSubscribe";if(d!==f){this.subscribeEvent=new YAHOO.util.CustomEvent(f,this,true);}this.lastError=null;};YAHOO.util.CustomEvent.LIST=0;YAHOO.util.CustomEvent.FLAT=1;YAHOO.util.CustomEvent.prototype={subscribe:function(b,c,d){if(!b){throw new Error("Invalid callback for subscriber to '"+this.type+"'");}if(this.subscribeEvent){this.subscribeEvent.fire(b,c,d);}var a=new YAHOO.util.Subscriber(b,c,d);if(this.fireOnce&&this.fired){this.notify(a,this.firedWith);}else{this.subscribers.push(a);}},unsubscribe:function(d,f){if(!d){return this.unsubscribeAll();}var e=false;for(var b=0,a=this.subscribers.length;b<a;++b){var c=this.subscribers[b];if(c&&c.contains(d,f)){this._delete(b);e=true;}}return e;},fire:function(){this.lastError=null;var h=[],a=this.subscribers.length;var d=[].slice.call(arguments,0),c=true,f,b=false;if(this.fireOnce){if(this.fired){return true;}else{this.firedWith=d;}}this.fired=true;if(!a&&this.silent){return true;}if(!this.silent){}var e=this.subscribers.slice();for(f=0;f<a;++f){var g=e[f];if(!g||!g.fn){b=true;}else{c=this.notify(g,d);if(false===c){if(!this.silent){}break;}}}return(c!==false);},notify:function(g,c){var b,i=null,f=g.getScope(this.scope),a=YAHOO.util.Event.throwErrors;if(!this.silent){}if(this.signature==YAHOO.util.CustomEvent.FLAT){if(c.length>0){i=c[0];}try{b=g.fn.call(f,i,g.obj);}catch(h){this.lastError=h;if(a){throw h;}}}else{try{b=g.fn.call(f,this.type,c,g.obj);}catch(d){this.lastError=d;if(a){throw d;}}}return b;},unsubscribeAll:function(){var a=this.subscribers.length,b;for(b=a-1;b>-1;b--){this._delete(b);}this.subscribers=[];return a;},_delete:function(a){var b=this.subscribers[a];if(b){delete b.fn;delete b.obj;}this.subscribers.splice(a,1);},toString:function(){return"CustomEvent: "+"'"+this.type+"', "+"context: "+this.scope;}};YAHOO.util.Subscriber=function(a,b,c){this.fn=a;this.obj=YAHOO.lang.isUndefined(b)?null:b;this.overrideContext=c;};YAHOO.util.Subscriber.prototype.getScope=function(a){if(this.overrideContext){if(this.overrideContext===true){return this.obj;}else{return this.overrideContext;}}return a;};YAHOO.util.Subscriber.prototype.contains=function(a,b){if(b){return(this.fn==a&&this.obj==b);}else{return(this.fn==a);}};YAHOO.util.Subscriber.prototype.toString=function(){return"Subscriber { obj: "+this.obj+", overrideContext: "+(this.overrideContext||"no")+" }";};if(!YAHOO.util.Event){YAHOO.util.Event=function(){var g=false,h=[],j=[],a=0,e=[],b=0,c={63232:38,63233:40,63234:37,63235:39,63276:33,63277:34,25:9},d=YAHOO.env.ua.ie,f="focusin",i="focusout";return{POLL_RETRYS:500,POLL_INTERVAL:40,EL:0,TYPE:1,FN:2,WFN:3,UNLOAD_OBJ:3,ADJ_SCOPE:4,OBJ:5,OVERRIDE:6,CAPTURE:7,lastError:null,isSafari:YAHOO.env.ua.webkit,webkit:YAHOO.env.ua.webkit,isIE:d,_interval:null,_dri:null,_specialTypes:{focusin:(d?"focusin":"focus"),focusout:(d?"focusout":"blur")},DOMReady:false,throwErrors:false,startInterval:function(){if(!this._interval){this._interval=YAHOO.lang.later(this.POLL_INTERVAL,this,this._tryPreloadAttach,null,true);}},onAvailable:function(q,m,o,p,n){var k=(YAHOO.lang.isString(q))?[q]:q;for(var l=0;l<k.length;l=l+1){e.push({id:k[l],fn:m,obj:o,overrideContext:p,checkReady:n});}a=this.POLL_RETRYS;this.startInterval();},onContentReady:function(n,k,l,m){this.onAvailable(n,k,l,m,true);},onDOMReady:function(){this.DOMReadyEvent.subscribe.apply(this.DOMReadyEvent,arguments);},_addListener:function(m,k,v,p,t,y){if(!v||!v.call){return false;}if(this._isValidCollection(m)){var w=true;for(var q=0,s=m.length;q<s;++q){w=this.on(m[q],k,v,p,t)&&w;}return w;}else{if(YAHOO.lang.isString(m)){var o=this.getEl(m);if(o){m=o;}else{this.onAvailable(m,function(){YAHOO.util.Event._addListener(m,k,v,p,t,y);});return true;}}}if(!m){return false;}if("unload"==k&&p!==this){j[j.length]=[m,k,v,p,t];return true;}var l=m;if(t){if(t===true){l=p;}else{l=t;}}var n=function(z){return v.call(l,YAHOO.util.Event.getEvent(z,m),p);};var x=[m,k,v,n,l,p,t,y];var r=h.length;h[r]=x;try{this._simpleAdd(m,k,n,y);}catch(u){this.lastError=u;this.removeListener(m,k,v);return false;}return true;},_getType:function(k){return this._specialTypes[k]||k;},addListener:function(m,p,l,n,o){var k=((p==f||p==i)&&!YAHOO.env.ua.ie)?true:false;return this._addListener(m,this._getType(p),l,n,o,k);},addFocusListener:function(l,k,m,n){return this.on(l,f,k,m,n);},removeFocusListener:function(l,k){return this.removeListener(l,f,k);},addBlurListener:function(l,k,m,n){return this.on(l,i,k,m,n);},removeBlurListener:function(l,k){return this.removeListener(l,i,k);},removeListener:function(l,k,r){var m,p,u;k=this._getType(k);if(typeof l=="string"){l=this.getEl(l);}else{if(this._isValidCollection(l)){var s=true;for(m=l.length-1;m>-1;m--){s=(this.removeListener(l[m],k,r)&&s);}return s;}}if(!r||!r.call){return this.purgeElement(l,false,k);}if("unload"==k){for(m=j.length-1;m>-1;m--){u=j[m];if(u&&u[0]==l&&u[1]==k&&u[2]==r){j.splice(m,1);return true;}}return false;}var n=null;var o=arguments[3];if("undefined"===typeof o){o=this._getCacheIndex(h,l,k,r);}if(o>=0){n=h[o];}if(!l||!n){return false;}var t=n[this.CAPTURE]===true?true:false;try{this._simpleRemove(l,k,n[this.WFN],t);}catch(q){this.lastError=q;return false;}delete h[o][this.WFN];delete h[o][this.FN];h.splice(o,1);return true;},getTarget:function(m,l){var k=m.target||m.srcElement;return this.resolveTextNode(k);},resolveTextNode:function(l){try{if(l&&3==l.nodeType){return l.parentNode;}}catch(k){return null;}return l;},getPageX:function(l){var k=l.pageX;if(!k&&0!==k){k=l.clientX||0;if(this.isIE){k+=this._getScrollLeft();}}return k;},getPageY:function(k){var l=k.pageY;if(!l&&0!==l){l=k.clientY||0;if(this.isIE){l+=this._getScrollTop();}}return l;},getXY:function(k){return[this.getPageX(k),this.getPageY(k)];},getRelatedTarget:function(l){var k=l.relatedTarget;
if(!k){if(l.type=="mouseout"){k=l.toElement;}else{if(l.type=="mouseover"){k=l.fromElement;}}}return this.resolveTextNode(k);},getTime:function(m){if(!m.time){var l=new Date().getTime();try{m.time=l;}catch(k){this.lastError=k;return l;}}return m.time;},stopEvent:function(k){this.stopPropagation(k);this.preventDefault(k);},stopPropagation:function(k){if(k.stopPropagation){k.stopPropagation();}else{k.cancelBubble=true;}},preventDefault:function(k){if(k.preventDefault){k.preventDefault();}else{k.returnValue=false;}},getEvent:function(m,k){var l=m||window.event;if(!l){var n=this.getEvent.caller;while(n){l=n.arguments[0];if(l&&Event==l.constructor){break;}n=n.caller;}}return l;},getCharCode:function(l){var k=l.keyCode||l.charCode||0;if(YAHOO.env.ua.webkit&&(k in c)){k=c[k];}return k;},_getCacheIndex:function(n,q,r,p){for(var o=0,m=n.length;o<m;o=o+1){var k=n[o];if(k&&k[this.FN]==p&&k[this.EL]==q&&k[this.TYPE]==r){return o;}}return -1;},generateId:function(k){var l=k.id;if(!l){l="yuievtautoid-"+b;++b;k.id=l;}return l;},_isValidCollection:function(l){try{return(l&&typeof l!=="string"&&l.length&&!l.tagName&&!l.alert&&typeof l[0]!=="undefined");}catch(k){return false;}},elCache:{},getEl:function(k){return(typeof k==="string")?document.getElementById(k):k;},clearCache:function(){},DOMReadyEvent:new YAHOO.util.CustomEvent("DOMReady",YAHOO,0,0,1),_load:function(l){if(!g){g=true;var k=YAHOO.util.Event;k._ready();k._tryPreloadAttach();}},_ready:function(l){var k=YAHOO.util.Event;if(!k.DOMReady){k.DOMReady=true;k.DOMReadyEvent.fire();k._simpleRemove(document,"DOMContentLoaded",k._ready);}},_tryPreloadAttach:function(){if(e.length===0){a=0;if(this._interval){this._interval.cancel();this._interval=null;}return;}if(this.locked){return;}if(this.isIE){if(!this.DOMReady){this.startInterval();return;}}this.locked=true;var q=!g;if(!q){q=(a>0&&e.length>0);}var p=[];var r=function(t,u){var s=t;if(u.overrideContext){if(u.overrideContext===true){s=u.obj;}else{s=u.overrideContext;}}u.fn.call(s,u.obj);};var l,k,o,n,m=[];for(l=0,k=e.length;l<k;l=l+1){o=e[l];if(o){n=this.getEl(o.id);if(n){if(o.checkReady){if(g||n.nextSibling||!q){m.push(o);e[l]=null;}}else{r(n,o);e[l]=null;}}else{p.push(o);}}}for(l=0,k=m.length;l<k;l=l+1){o=m[l];r(this.getEl(o.id),o);}a--;if(q){for(l=e.length-1;l>-1;l--){o=e[l];if(!o||!o.id){e.splice(l,1);}}this.startInterval();}else{if(this._interval){this._interval.cancel();this._interval=null;}}this.locked=false;},purgeElement:function(p,q,s){var n=(YAHOO.lang.isString(p))?this.getEl(p):p;var r=this.getListeners(n,s),o,k;if(r){for(o=r.length-1;o>-1;o--){var m=r[o];this.removeListener(n,m.type,m.fn);}}if(q&&n&&n.childNodes){for(o=0,k=n.childNodes.length;o<k;++o){this.purgeElement(n.childNodes[o],q,s);}}},getListeners:function(n,k){var q=[],m;if(!k){m=[h,j];}else{if(k==="unload"){m=[j];}else{k=this._getType(k);m=[h];}}var s=(YAHOO.lang.isString(n))?this.getEl(n):n;for(var p=0;p<m.length;p=p+1){var u=m[p];if(u){for(var r=0,t=u.length;r<t;++r){var o=u[r];if(o&&o[this.EL]===s&&(!k||k===o[this.TYPE])){q.push({type:o[this.TYPE],fn:o[this.FN],obj:o[this.OBJ],adjust:o[this.OVERRIDE],scope:o[this.ADJ_SCOPE],index:r});}}}}return(q.length)?q:null;},_unload:function(s){var m=YAHOO.util.Event,p,o,n,r,q,t=j.slice(),k;for(p=0,r=j.length;p<r;++p){n=t[p];if(n){try{k=window;if(n[m.ADJ_SCOPE]){if(n[m.ADJ_SCOPE]===true){k=n[m.UNLOAD_OBJ];}else{k=n[m.ADJ_SCOPE];}}n[m.FN].call(k,m.getEvent(s,n[m.EL]),n[m.UNLOAD_OBJ]);}catch(w){}t[p]=null;}}n=null;k=null;j=null;if(h){for(o=h.length-1;o>-1;o--){n=h[o];if(n){try{m.removeListener(n[m.EL],n[m.TYPE],n[m.FN],o);}catch(v){}}}n=null;}try{m._simpleRemove(window,"unload",m._unload);m._simpleRemove(window,"load",m._load);}catch(u){}},_getScrollLeft:function(){return this._getScroll()[1];},_getScrollTop:function(){return this._getScroll()[0];},_getScroll:function(){var k=document.documentElement,l=document.body;if(k&&(k.scrollTop||k.scrollLeft)){return[k.scrollTop,k.scrollLeft];}else{if(l){return[l.scrollTop,l.scrollLeft];}else{return[0,0];}}},regCE:function(){},_simpleAdd:function(){if(window.addEventListener){return function(m,n,l,k){m.addEventListener(n,l,(k));};}else{if(window.attachEvent){return function(m,n,l,k){m.attachEvent("on"+n,l);};}else{return function(){};}}}(),_simpleRemove:function(){if(window.removeEventListener){return function(m,n,l,k){m.removeEventListener(n,l,(k));};}else{if(window.detachEvent){return function(l,m,k){l.detachEvent("on"+m,k);};}else{return function(){};}}}()};}();(function(){var a=YAHOO.util.Event;a.on=a.addListener;a.onFocus=a.addFocusListener;a.onBlur=a.addBlurListener;
/*! DOMReady: based on work by: Dean Edwards/John Resig/Matthias Miller/Diego Perini */
if(a.isIE){if(self!==self.top){document.onreadystatechange=function(){if(document.readyState=="complete"){document.onreadystatechange=null;a._ready();}};}else{YAHOO.util.Event.onDOMReady(YAHOO.util.Event._tryPreloadAttach,YAHOO.util.Event,true);var b=document.createElement("p");a._dri=setInterval(function(){try{b.doScroll("left");clearInterval(a._dri);a._dri=null;a._ready();b=null;}catch(c){}},a.POLL_INTERVAL);}}else{if(a.webkit&&a.webkit<525){a._dri=setInterval(function(){var c=document.readyState;if("loaded"==c||"complete"==c){clearInterval(a._dri);a._dri=null;a._ready();}},a.POLL_INTERVAL);}else{a._simpleAdd(document,"DOMContentLoaded",a._ready);}}a._simpleAdd(window,"load",a._load);a._simpleAdd(window,"unload",a._unload);a._tryPreloadAttach();})();}YAHOO.util.EventProvider=function(){};YAHOO.util.EventProvider.prototype={__yui_events:null,__yui_subscribers:null,subscribe:function(a,c,f,e){this.__yui_events=this.__yui_events||{};var d=this.__yui_events[a];if(d){d.subscribe(c,f,e);}else{this.__yui_subscribers=this.__yui_subscribers||{};var b=this.__yui_subscribers;if(!b[a]){b[a]=[];}b[a].push({fn:c,obj:f,overrideContext:e});}},unsubscribe:function(c,e,g){this.__yui_events=this.__yui_events||{};var a=this.__yui_events;if(c){var f=a[c];if(f){return f.unsubscribe(e,g);}}else{var b=true;for(var d in a){if(YAHOO.lang.hasOwnProperty(a,d)){b=b&&a[d].unsubscribe(e,g);
}}return b;}return false;},unsubscribeAll:function(a){return this.unsubscribe(a);},createEvent:function(b,g){this.__yui_events=this.__yui_events||{};var e=g||{},d=this.__yui_events,f;if(d[b]){}else{f=new YAHOO.util.CustomEvent(b,e.scope||this,e.silent,YAHOO.util.CustomEvent.FLAT,e.fireOnce);d[b]=f;if(e.onSubscribeCallback){f.subscribeEvent.subscribe(e.onSubscribeCallback);}this.__yui_subscribers=this.__yui_subscribers||{};var a=this.__yui_subscribers[b];if(a){for(var c=0;c<a.length;++c){f.subscribe(a[c].fn,a[c].obj,a[c].overrideContext);}}}return d[b];},fireEvent:function(b){this.__yui_events=this.__yui_events||{};var d=this.__yui_events[b];if(!d){return null;}var a=[];for(var c=1;c<arguments.length;++c){a.push(arguments[c]);}return d.fire.apply(d,a);},hasEvent:function(a){if(this.__yui_events){if(this.__yui_events[a]){return true;}}return false;}};(function(){var a=YAHOO.util.Event,c=YAHOO.lang;YAHOO.util.KeyListener=function(d,i,e,f){if(!d){}else{if(!i){}else{if(!e){}}}if(!f){f=YAHOO.util.KeyListener.KEYDOWN;}var g=new YAHOO.util.CustomEvent("keyPressed");this.enabledEvent=new YAHOO.util.CustomEvent("enabled");this.disabledEvent=new YAHOO.util.CustomEvent("disabled");if(c.isString(d)){d=document.getElementById(d);}if(c.isFunction(e)){g.subscribe(e);}else{g.subscribe(e.fn,e.scope,e.correctScope);}function h(o,n){if(!i.shift){i.shift=false;}if(!i.alt){i.alt=false;}if(!i.ctrl){i.ctrl=false;}if(o.shiftKey==i.shift&&o.altKey==i.alt&&o.ctrlKey==i.ctrl){var j,m=i.keys,l;if(YAHOO.lang.isArray(m)){for(var k=0;k<m.length;k++){j=m[k];l=a.getCharCode(o);if(j==l){g.fire(l,o);break;}}}else{l=a.getCharCode(o);if(m==l){g.fire(l,o);}}}}this.enable=function(){if(!this.enabled){a.on(d,f,h);this.enabledEvent.fire(i);}this.enabled=true;};this.disable=function(){if(this.enabled){a.removeListener(d,f,h);this.disabledEvent.fire(i);}this.enabled=false;};this.toString=function(){return"KeyListener ["+i.keys+"] "+d.tagName+(d.id?"["+d.id+"]":"");};};var b=YAHOO.util.KeyListener;b.KEYDOWN="keydown";b.KEYUP="keyup";b.KEY={ALT:18,BACK_SPACE:8,CAPS_LOCK:20,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,META:224,NUM_LOCK:144,PAGE_DOWN:34,PAGE_UP:33,PAUSE:19,PRINTSCREEN:44,RIGHT:39,SCROLL_LOCK:145,SHIFT:16,SPACE:32,TAB:9,UP:38};})();YAHOO.register("event",YAHOO.util.Event,{version:"2.9.0",build:"2800"});YAHOO.register("yahoo-dom-event", YAHOO, {version: "2.9.0", build: "2800"});

// FILE: event-mouseenter-min.js (627b721f) 3/7/2014 11:24:12 AM

/*
Copyright (c) 2011, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.9.0
*/
(function(){var b=YAHOO.util.Event,g=YAHOO.lang,e=b.addListener,f=b.removeListener,c=b.getListeners,d=[],h={mouseenter:"mouseover",mouseleave:"mouseout"},a=function(n,m,l){var j=b._getCacheIndex(d,n,m,l),i,k;if(j>=0){i=d[j];}if(n&&i){k=f.call(b,i[0],m,i[3]);if(k){delete d[j][2];delete d[j][3];d.splice(j,1);}}return k;};g.augmentObject(b._specialTypes,h);g.augmentObject(b,{_createMouseDelegate:function(i,j,k){return function(q,m){var p=this,l=b.getRelatedTarget(q),o,n;if(p!=l&&!YAHOO.util.Dom.isAncestor(p,l)){o=p;if(k){if(k===true){o=j;}else{o=k;}}n=[q,j];if(m){n.splice(1,0,p,m);}return i.apply(o,n);}};},addListener:function(m,l,k,n,o){var i,j;if(h[l]){i=b._createMouseDelegate(k,n,o);i.mouseDelegate=true;d.push([m,l,k,i]);j=e.call(b,m,l,i);}else{j=e.apply(b,arguments);}return j;},removeListener:function(l,k,j){var i;if(h[k]){i=a.apply(b,arguments);}else{i=f.apply(b,arguments);}return i;},getListeners:function(p,o){var n=[],r,m=(o==="mouseover"||o==="mouseout"),q,k,j;if(o&&(m||h[o])){r=c.call(b,p,this._getType(o));if(r){for(k=r.length-1;k>-1;k--){j=r[k];q=j.fn.mouseDelegate;if((h[o]&&q)||(m&&!q)){n.push(j);}}}}else{n=c.apply(b,arguments);}return(n&&n.length)?n:null;}},true);b.on=b.addListener;}());YAHOO.register("event-mouseenter",YAHOO.util.Event,{version:"2.9.0",build:"2800"});

// FILE: event-delegate-min.js (dd1202b0) 3/7/2014 11:24:12 AM

/*
Copyright (c) 2011, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.9.0
*/
(function(){var A=YAHOO.util.Event,C=YAHOO.lang,B=[],D=function(H,E,F){var G;if(!H||H===F){G=false;}else{G=YAHOO.util.Selector.test(H,E)?H:D(H.parentNode,E,F);}return G;};C.augmentObject(A,{_createDelegate:function(F,E,G,H){return function(I){var J=this,N=A.getTarget(I),L=E,P=(J.nodeType===9),Q,K,O,M;if(C.isFunction(E)){Q=E(N);}else{if(C.isString(E)){if(!P){O=J.id;if(!O){O=A.generateId(J);}M=("#"+O+" ");L=(M+E).replace(/,/gi,(","+M));}if(YAHOO.util.Selector.test(N,L)){Q=N;}else{if(YAHOO.util.Selector.test(N,((L.replace(/,/gi," *,"))+" *"))){Q=D(N,L,J);}}}}if(Q){K=Q;if(H){if(H===true){K=G;}else{K=H;}}return F.call(K,I,Q,J,G);}};},delegate:function(F,J,L,G,H,I){var E=J,K,M;if(C.isString(G)&&!YAHOO.util.Selector){return false;}if(J=="mouseenter"||J=="mouseleave"){if(!A._createMouseDelegate){return false;}E=A._getType(J);K=A._createMouseDelegate(L,H,I);M=A._createDelegate(function(P,O,N){return K.call(O,P,N);},G,H,I);}else{M=A._createDelegate(L,G,H,I);}B.push([F,E,L,M]);return A.on(F,E,M);},removeDelegate:function(F,J,I){var K=J,H=false,G,E;if(J=="mouseenter"||J=="mouseleave"){K=A._getType(J);}G=A._getCacheIndex(B,F,K,I);if(G>=0){E=B[G];}if(F&&E){H=A.removeListener(E[0],E[1],E[3]);if(H){delete B[G][2];delete B[G][3];B.splice(G,1);}}return H;}});}());YAHOO.register("event-delegate",YAHOO.util.Event,{version:"2.9.0",build:"2800"});

// FILE: selector-min.js (06625725) 3/7/2014 11:24:12 AM

/*
Copyright (c) 2011, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.9.0
*/
var Y=YAHOO,Y_DOM=YAHOO.util.Dom,EMPTY_ARRAY=[],Y_UA=Y.env.ua,Y_Lang=Y.lang,Y_DOC=document,Y_DOCUMENT_ELEMENT=Y_DOC.documentElement,Y_DOM_inDoc=Y_DOM.inDocument,Y_mix=Y_Lang.augmentObject,Y_guid=Y_DOM.generateId,Y_getDoc=function(a){var b=Y_DOC;if(a){b=(a.nodeType===9)?a:a.ownerDocument||a.document||Y_DOC;}return b;},Y_Array=function(g,d){var c,b,h=d||0;try{return Array.prototype.slice.call(g,h);}catch(f){b=[];c=g.length;for(;h<c;h++){b.push(g[h]);}return b;}},Y_DOM_allById=function(f,a){a=a||Y_DOC;var b=[],c=[],d,e;if(a.querySelectorAll){c=a.querySelectorAll('[id="'+f+'"]');}else{if(a.all){b=a.all(f);if(b){if(b.nodeName){if(b.id===f){c.push(b);b=EMPTY_ARRAY;}else{b=[b];}}if(b.length){for(d=0;e=b[d++];){if(e.id===f||(e.attributes&&e.attributes.id&&e.attributes.id.value===f)){c.push(e);}}}}}else{c=[Y_getDoc(a).getElementById(f)];}}return c;};var COMPARE_DOCUMENT_POSITION="compareDocumentPosition",OWNER_DOCUMENT="ownerDocument",Selector={_foundCache:[],useNative:true,_compare:("sourceIndex" in Y_DOCUMENT_ELEMENT)?function(f,e){var d=f.sourceIndex,c=e.sourceIndex;if(d===c){return 0;}else{if(d>c){return 1;}}return -1;}:(Y_DOCUMENT_ELEMENT[COMPARE_DOCUMENT_POSITION]?function(b,a){if(b[COMPARE_DOCUMENT_POSITION](a)&4){return -1;}else{return 1;}}:function(e,d){var c,a,b;if(e&&d){c=e[OWNER_DOCUMENT].createRange();c.setStart(e,0);a=d[OWNER_DOCUMENT].createRange();a.setStart(d,0);b=c.compareBoundaryPoints(1,a);}return b;}),_sort:function(a){if(a){a=Y_Array(a,0,true);if(a.sort){a.sort(Selector._compare);}}return a;},_deDupe:function(a){var b=[],c,d;for(c=0;(d=a[c++]);){if(!d._found){b[b.length]=d;d._found=true;}}for(c=0;(d=b[c++]);){d._found=null;d.removeAttribute("_found");}return b;},query:function(b,j,k,a){if(j&&typeof j=="string"){j=Y_DOM.get(j);if(!j){return(k)?null:[];}}else{j=j||Y_DOC;}var f=[],c=(Selector.useNative&&Y_DOC.querySelector&&!a),e=[[b,j]],g,l,d,h=(c)?Selector._nativeQuery:Selector._bruteQuery;if(b&&h){if(!a&&(!c||j.tagName)){e=Selector._splitQueries(b,j);}for(d=0;(g=e[d++]);){l=h(g[0],g[1],k);if(!k){l=Y_Array(l,0,true);}if(l){f=f.concat(l);}}if(e.length>1){f=Selector._sort(Selector._deDupe(f));}}return(k)?(f[0]||null):f;},_splitQueries:function(c,f){var b=c.split(","),d=[],g="",e,a;if(f){if(f.tagName){f.id=f.id||Y_guid();g='[id="'+f.id+'"] ';}for(e=0,a=b.length;e<a;++e){c=g+b[e];d.push([c,f]);}}return d;},_nativeQuery:function(a,b,c){if(Y_UA.webkit&&a.indexOf(":checked")>-1&&(Selector.pseudos&&Selector.pseudos.checked)){return Selector.query(a,b,c,true);}try{return b["querySelector"+(c?"":"All")](a);}catch(d){return Selector.query(a,b,c,true);}},filter:function(b,a){var c=[],d,e;if(b&&a){for(d=0;(e=b[d++]);){if(Selector.test(e,a)){c[c.length]=e;}}}else{}return c;},test:function(c,d,k){var g=false,b=d.split(","),a=false,l,o,h,n,f,e,m;if(c&&c.tagName){if(!k&&!Y_DOM_inDoc(c)){l=c.parentNode;if(l){k=l;}else{n=c[OWNER_DOCUMENT].createDocumentFragment();n.appendChild(c);k=n;a=true;}}k=k||c[OWNER_DOCUMENT];if(!c.id){c.id=Y_guid();}for(f=0;(m=b[f++]);){m+='[id="'+c.id+'"]';h=Selector.query(m,k);for(e=0;o=h[e++];){if(o===c){g=true;break;}}if(g){break;}}if(a){n.removeChild(c);}}return g;}};YAHOO.util.Selector=Selector;var PARENT_NODE="parentNode",TAG_NAME="tagName",ATTRIBUTES="attributes",COMBINATOR="combinator",PSEUDOS="pseudos",SelectorCSS2={_reRegExpTokens:/([\^\$\?\[\]\*\+\-\.\(\)\|\\])/,SORT_RESULTS:true,_children:function(e,a){var b=e.children,d,c=[],f,g;if(e.children&&a&&e.children.tags){c=e.children.tags(a);}else{if((!b&&e[TAG_NAME])||(b&&a)){f=b||e.childNodes;b=[];for(d=0;(g=f[d++]);){if(g.tagName){if(!a||a===g.tagName){b.push(g);}}}}}return b||[];},_re:{attr:/(\[[^\]]*\])/g,esc:/\\[:\[\]\(\)#\.\'\>+~"]/gi,pseudos:/(\([^\)]*\))/g},shorthand:{"\\#(-?[_a-z]+[-\\w\\uE000]*)":"[id=$1]","\\.(-?[_a-z]+[-\\w\\uE000]*)":"[className~=$1]"},operators:{"":function(b,a){return !!b.getAttribute(a);},"~=":"(?:^|\\s+){val}(?:\\s+|$)","|=":"^{val}(?:-|$)"},pseudos:{"first-child":function(a){return Selector._children(a[PARENT_NODE])[0]===a;}},_bruteQuery:function(f,j,l){var g=[],a=[],i=Selector._tokenize(f),e=i[i.length-1],k=Y_getDoc(j),c,b,h,d;if(e){b=e.id;h=e.className;d=e.tagName||"*";if(j.getElementsByTagName){if(b&&(j.all||(j.nodeType===9||Y_DOM_inDoc(j)))){a=Y_DOM_allById(b,j);}else{if(h){a=j.getElementsByClassName(h);}else{a=j.getElementsByTagName(d);}}}else{c=j.firstChild;while(c){if(c.tagName){a.push(c);}c=c.nextSilbing||c.firstChild;}}if(a.length){g=Selector._filterNodes(a,i,l);}}return g;},_filterNodes:function(l,f,h){var r=0,q,s=f.length,k=s-1,e=[],o=l[0],v=o,t=Selector.getters,d,p,c,g,a,m,b,u;for(r=0;(v=o=l[r++]);){k=s-1;g=null;testLoop:while(v&&v.tagName){c=f[k];b=c.tests;q=b.length;if(q&&!a){while((u=b[--q])){d=u[1];if(t[u[0]]){m=t[u[0]](v,u[0]);}else{m=v[u[0]];if(m===undefined&&v.getAttribute){m=v.getAttribute(u[0]);}}if((d==="="&&m!==u[2])||(typeof d!=="string"&&d.test&&!d.test(m))||(!d.test&&typeof d==="function"&&!d(v,u[0],u[2]))){if((v=v[g])){while(v&&(!v.tagName||(c.tagName&&c.tagName!==v.tagName))){v=v[g];}}continue testLoop;}}}k--;if(!a&&(p=c.combinator)){g=p.axis;v=v[g];while(v&&!v.tagName){v=v[g];}if(p.direct){g=null;}}else{e.push(o);if(h){return e;}break;}}}o=v=null;return e;},combinators:{" ":{axis:"parentNode"},">":{axis:"parentNode",direct:true},"+":{axis:"previousSibling",direct:true}},_parsers:[{name:ATTRIBUTES,re:/^\uE003(-?[a-z]+[\w\-]*)+([~\|\^\$\*!=]=?)?['"]?([^\uE004'"]*)['"]?\uE004/i,fn:function(d,e){var c=d[2]||"",a=Selector.operators,b=(d[3])?d[3].replace(/\\/g,""):"",f;if((d[1]==="id"&&c==="=")||(d[1]==="className"&&Y_DOCUMENT_ELEMENT.getElementsByClassName&&(c==="~="||c==="="))){e.prefilter=d[1];d[3]=b;e[d[1]]=(d[1]==="id")?d[3]:b;}if(c in a){f=a[c];if(typeof f==="string"){d[3]=b.replace(Selector._reRegExpTokens,"\\$1");f=new RegExp(f.replace("{val}",d[3]));}d[2]=f;}if(!e.last||e.prefilter!==d[1]){return d.slice(1);}}},{name:TAG_NAME,re:/^((?:-?[_a-z]+[\w-]*)|\*)/i,fn:function(b,c){var a=b[1].toUpperCase();c.tagName=a;if(a!=="*"&&(!c.last||c.prefilter)){return[TAG_NAME,"=",a];
}if(!c.prefilter){c.prefilter="tagName";}}},{name:COMBINATOR,re:/^\s*([>+~]|\s)\s*/,fn:function(a,b){}},{name:PSEUDOS,re:/^:([\-\w]+)(?:\uE005['"]?([^\uE005]*)['"]?\uE006)*/i,fn:function(a,b){var c=Selector[PSEUDOS][a[1]];if(c){if(a[2]){a[2]=a[2].replace(/\\/g,"");}return[a[2],c];}else{return false;}}}],_getToken:function(a){return{tagName:null,id:null,className:null,attributes:{},combinator:null,tests:[]};},_tokenize:function(c){c=c||"";c=Selector._replaceShorthand(Y_Lang.trim(c));var b=Selector._getToken(),h=c,g=[],j=false,e,f,d,a;outer:do{j=false;for(d=0;(a=Selector._parsers[d++]);){if((e=a.re.exec(c))){if(a.name!==COMBINATOR){b.selector=c;}c=c.replace(e[0],"");if(!c.length){b.last=true;}if(Selector._attrFilters[e[1]]){e[1]=Selector._attrFilters[e[1]];}f=a.fn(e,b);if(f===false){j=false;break outer;}else{if(f){b.tests.push(f);}}if(!c.length||a.name===COMBINATOR){g.push(b);b=Selector._getToken(b);if(a.name===COMBINATOR){b.combinator=Selector.combinators[e[1]];}}j=true;}}}while(j&&c.length);if(!j||c.length){g=[];}return g;},_replaceShorthand:function(b){var d=Selector.shorthand,c=b.match(Selector._re.esc),e,h,g,f,a;if(c){b=b.replace(Selector._re.esc,"\uE000");}e=b.match(Selector._re.attr);h=b.match(Selector._re.pseudos);if(e){b=b.replace(Selector._re.attr,"\uE001");}if(h){b=b.replace(Selector._re.pseudos,"\uE002");}for(g in d){if(d.hasOwnProperty(g)){b=b.replace(new RegExp(g,"gi"),d[g]);}}if(e){for(f=0,a=e.length;f<a;++f){b=b.replace(/\uE001/,e[f]);}}if(h){for(f=0,a=h.length;f<a;++f){b=b.replace(/\uE002/,h[f]);}}b=b.replace(/\[/g,"\uE003");b=b.replace(/\]/g,"\uE004");b=b.replace(/\(/g,"\uE005");b=b.replace(/\)/g,"\uE006");if(c){for(f=0,a=c.length;f<a;++f){b=b.replace("\uE000",c[f]);}}return b;},_attrFilters:{"class":"className","for":"htmlFor"},getters:{href:function(b,a){return Y_DOM.getAttribute(b,a);}}};Y_mix(Selector,SelectorCSS2,true);Selector.getters.src=Selector.getters.rel=Selector.getters.href;if(Selector.useNative&&Y_DOC.querySelector){Selector.shorthand["\\.([^\\s\\\\(\\[:]*)"]="[class~=$1]";}Selector._reNth=/^(?:([\-]?\d*)(n){1}|(odd|even)$)*([\-+]?\d*)$/;Selector._getNth=function(d,o,q,h){Selector._reNth.test(o);var m=parseInt(RegExp.$1,10),c=RegExp.$2,j=RegExp.$3,k=parseInt(RegExp.$4,10)||0,p=[],l=Selector._children(d.parentNode,q),f;if(j){m=2;f="+";c="n";k=(j==="odd")?1:0;}else{if(isNaN(m)){m=(c)?1:0;}}if(m===0){if(h){k=l.length-k+1;}if(l[k-1]===d){return true;}else{return false;}}else{if(m<0){h=!!h;m=Math.abs(m);}}if(!h){for(var e=k-1,g=l.length;e<g;e+=m){if(e>=0&&l[e]===d){return true;}}}else{for(var e=l.length-k,g=l.length;e>=0;e-=m){if(e<g&&l[e]===d){return true;}}}return false;};Y_mix(Selector.pseudos,{"root":function(a){return a===a.ownerDocument.documentElement;},"nth-child":function(a,b){return Selector._getNth(a,b);},"nth-last-child":function(a,b){return Selector._getNth(a,b,null,true);},"nth-of-type":function(a,b){return Selector._getNth(a,b,a.tagName);},"nth-last-of-type":function(a,b){return Selector._getNth(a,b,a.tagName,true);},"last-child":function(b){var a=Selector._children(b.parentNode);return a[a.length-1]===b;},"first-of-type":function(a){return Selector._children(a.parentNode,a.tagName)[0]===a;},"last-of-type":function(b){var a=Selector._children(b.parentNode,b.tagName);return a[a.length-1]===b;},"only-child":function(b){var a=Selector._children(b.parentNode);return a.length===1&&a[0]===b;},"only-of-type":function(b){var a=Selector._children(b.parentNode,b.tagName);return a.length===1&&a[0]===b;},"empty":function(a){return a.childNodes.length===0;},"not":function(a,b){return !Selector.test(a,b);},"contains":function(a,b){var c=a.innerText||a.textContent||"";return c.indexOf(b)>-1;},"checked":function(a){return(a.checked===true||a.selected===true);},enabled:function(a){return(a.disabled!==undefined&&!a.disabled);},disabled:function(a){return(a.disabled);}});Y_mix(Selector.operators,{"^=":"^{val}","!=":function(b,a,c){return b[a]!==c;},"$=":"{val}$","*=":"{val}"});Selector.combinators["~"]={axis:"previousSibling"};YAHOO.register("selector",YAHOO.util.Selector,{version:"2.9.0",build:"2800"});

// FILE: json-min.js (a1d88dcf) 3/7/2014 11:24:12 AM

/*
Copyright (c) 2009, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.net/yui/license.txt
version: 2.7.0
*/
YAHOO.lang.JSON=(function(){var l=YAHOO.lang,_UNICODE_EXCEPTIONS=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,_ESCAPES=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,_VALUES=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,_BRACKETS=/(?:^|:|,)(?:\s*\[)+/g,_INVALID=/^[\],:{}\s]*$/,_SPECIAL_CHARS=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,_CHARS={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function _revive(data,reviver){var walk=function(o,key){var k,v,value=o[key];if(value&&typeof value==="object"){for(k in value){if(l.hasOwnProperty(value,k)){v=walk(value,k);if(v===undefined){delete value[k];}else{value[k]=v;}}}}return reviver.call(o,key,value);};return typeof reviver==="function"?walk({"":data},""):data;}function _char(c){if(!_CHARS[c]){_CHARS[c]="\\u"+("0000"+(+(c.charCodeAt(0))).toString(16)).slice(-4);}return _CHARS[c];}function _prepare(s){return s.replace(_UNICODE_EXCEPTIONS,_char);}function _isValid(str){return l.isString(str)&&_INVALID.test(str.replace(_ESCAPES,"@").replace(_VALUES,"]").replace(_BRACKETS,""));}function _string(s){return'"'+s.replace(_SPECIAL_CHARS,_char)+'"';}function _stringify(h,key,d,w,pstack){var o=typeof w==="function"?w.call(h,key,h[key]):h[key],i,len,j,k,v,isArray,a;if(o instanceof Date){o=l.JSON.dateToString(o);}else{if(o instanceof String||o instanceof Boolean||o instanceof Number){o=o.valueOf();}}switch(typeof o){case"string":return _string(o);case"number":return isFinite(o)?String(o):"null";case"boolean":return String(o);case"object":if(o===null){return"null";}for(i=pstack.length-1;i>=0;--i){if(pstack[i]===o){return"null";}}pstack[pstack.length]=o;a=[];isArray=l.isArray(o);if(d>0){if(isArray){for(i=o.length-1;i>=0;--i){a[i]=_stringify(o,i,d-1,w,pstack)||"null";}}else{j=0;if(l.isArray(w)){for(i=0,len=w.length;i<len;++i){k=w[i];v=_stringify(o,k,d-1,w,pstack);if(v){a[j++]=_string(k)+":"+v;}}}else{for(k in o){if(typeof k==="string"&&l.hasOwnProperty(o,k)){v=_stringify(o,k,d-1,w,pstack);if(v){a[j++]=_string(k)+":"+v;}}}}a.sort();}}pstack.pop();return isArray?"["+a.join(",")+"]":"{"+a.join(",")+"}";}return undefined;}return{isValid:function(s){return _isValid(_prepare(s));},parse:function(s,reviver){s=_prepare(s);if(_isValid(s)){return _revive(eval("("+s+")"),reviver);}throw new SyntaxError("parseJSON");},stringify:function(o,w,d){if(o!==undefined){if(l.isArray(w)){w=(function(a){var uniq=[],map={},v,i,j,len;for(i=0,j=0,len=a.length;i<len;++i){v=a[i];if(typeof v==="string"&&map[v]===undefined){uniq[(map[v]=j++)]=v;}}return uniq;})(w);}d=d>=0?d:1/0;return _stringify({"":o},"",d,w,[]);}return undefined;},dateToString:function(d){function _zeroPad(v){return v<10?"0"+v:v;}return d.getUTCFullYear()+"-"+_zeroPad(d.getUTCMonth()+1)+"-"+_zeroPad(d.getUTCDate())+"T"+_zeroPad(d.getUTCHours())+":"+_zeroPad(d.getUTCMinutes())+":"+_zeroPad(d.getUTCSeconds())+"Z";},stringToDate:function(str){if(/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})Z$/.test(str)){var d=new Date();d.setUTCFullYear(RegExp.$1,(RegExp.$2|0)-1,RegExp.$3);d.setUTCHours(RegExp.$4,RegExp.$5,RegExp.$6);return d;}return str;}};})();YAHOO.register("json",YAHOO.lang.JSON,{version:"2.7.0",build:"1796"});

// FILE: connection-min.js (ff9f19f3) 3/7/2014 11:24:11 AM

/*
Copyright (c) 2011, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.9.0
*/
YAHOO.util.Connect={_msxml_progid:["Microsoft.XMLHTTP","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP"],_http_headers:{},_has_http_headers:false,_use_default_post_header:true,_default_post_header:"application/x-www-form-urlencoded; charset=UTF-8",_default_form_header:"application/x-www-form-urlencoded",_use_default_xhr_header:true,_default_xhr_header:"XMLHttpRequest",_has_default_headers:true,_isFormSubmit:false,_default_headers:{},_poll:{},_timeOut:{},_polling_interval:50,_transaction_id:0,startEvent:new YAHOO.util.CustomEvent("start"),completeEvent:new YAHOO.util.CustomEvent("complete"),successEvent:new YAHOO.util.CustomEvent("success"),failureEvent:new YAHOO.util.CustomEvent("failure"),abortEvent:new YAHOO.util.CustomEvent("abort"),_customEvents:{onStart:["startEvent","start"],onComplete:["completeEvent","complete"],onSuccess:["successEvent","success"],onFailure:["failureEvent","failure"],onUpload:["uploadEvent","upload"],onAbort:["abortEvent","abort"]},setProgId:function(a){this._msxml_progid.unshift(a);},setDefaultPostHeader:function(a){if(typeof a=="string"){this._default_post_header=a;this._use_default_post_header=true;}else{if(typeof a=="boolean"){this._use_default_post_header=a;}}},setDefaultXhrHeader:function(a){if(typeof a=="string"){this._default_xhr_header=a;}else{this._use_default_xhr_header=a;}},setPollingInterval:function(a){if(typeof a=="number"&&isFinite(a)){this._polling_interval=a;}},createXhrObject:function(g){var d,a,b;try{a=new XMLHttpRequest();d={conn:a,tId:g,xhr:true};}catch(c){for(b=0;b<this._msxml_progid.length;++b){try{a=new ActiveXObject(this._msxml_progid[b]);d={conn:a,tId:g,xhr:true};break;}catch(f){}}}finally{return d;}},getConnectionObject:function(a){var c,d=this._transaction_id;try{if(!a){c=this.createXhrObject(d);}else{c={tId:d};if(a==="xdr"){c.conn=this._transport;c.xdr=true;}else{if(a==="upload"){c.upload=true;}}}if(c){this._transaction_id++;}}catch(b){}return c;},asyncRequest:function(h,d,g,a){var b=g&&g.argument?g.argument:null,e=this,f,c;if(this._isFileUpload){c="upload";}else{if(g&&g.xdr){c="xdr";}}f=this.getConnectionObject(c);if(!f){return null;}else{if(g&&g.customevents){this.initCustomEvents(f,g);}if(this._isFormSubmit){if(this._isFileUpload){window.setTimeout(function(){e.uploadFile(f,g,d,a);},10);return f;}if(h.toUpperCase()=="GET"){if(this._sFormData.length!==0){d+=((d.indexOf("?")==-1)?"?":"&")+this._sFormData;}}else{if(h.toUpperCase()=="POST"){a=a?this._sFormData+"&"+a:this._sFormData;}}}if(h.toUpperCase()=="GET"&&(g&&g.cache===false)){d+=((d.indexOf("?")==-1)?"?":"&")+"rnd="+new Date().valueOf().toString();}if(this._use_default_xhr_header){if(!this._default_headers["X-Requested-With"]){this.initHeader("X-Requested-With",this._default_xhr_header,true);}}if((h.toUpperCase()==="POST"&&this._use_default_post_header)&&this._isFormSubmit===false){this.initHeader("Content-Type",this._default_post_header);}if(f.xdr){this.xdr(f,h,d,g,a);return f;}f.conn.open(h,d,true);if(this._has_default_headers||this._has_http_headers){this.setHeader(f);}this.handleReadyState(f,g);f.conn.send(a||"");if(this._isFormSubmit===true){this.resetFormState();}this.startEvent.fire(f,b);if(f.startEvent){f.startEvent.fire(f,b);}return f;}},initCustomEvents:function(a,c){var b;for(b in c.customevents){if(this._customEvents[b][0]){a[this._customEvents[b][0]]=new YAHOO.util.CustomEvent(this._customEvents[b][1],(c.scope)?c.scope:null);a[this._customEvents[b][0]].subscribe(c.customevents[b]);}}},handleReadyState:function(c,d){var b=this,a=(d&&d.argument)?d.argument:null;if(d&&d.timeout){this._timeOut[c.tId]=window.setTimeout(function(){b.abort(c,d,true);},d.timeout);}this._poll[c.tId]=window.setInterval(function(){if(c.conn&&c.conn.readyState===4){window.clearInterval(b._poll[c.tId]);delete b._poll[c.tId];if(d&&d.timeout){window.clearTimeout(b._timeOut[c.tId]);delete b._timeOut[c.tId];}b.completeEvent.fire(c,a);if(c.completeEvent){c.completeEvent.fire(c,a);}b.handleTransactionResponse(c,d);}},this._polling_interval);},handleTransactionResponse:function(b,j,d){var f,a,h=(j&&j.argument)?j.argument:null,c=(b.r&&b.r.statusText==="xdr:success")?true:false,i=(b.r&&b.r.statusText==="xdr:failure")?true:false,k=d;try{if((b.conn.status!==undefined&&b.conn.status!==0)||c){f=b.conn.status;}else{if(i&&!k){f=0;}else{f=13030;}}}catch(g){f=13030;}if((f>=200&&f<300)||f===1223||c){a=b.xdr?b.r:this.createResponseObject(b,h);if(j&&j.success){if(!j.scope){j.success(a);}else{j.success.apply(j.scope,[a]);}}this.successEvent.fire(a);if(b.successEvent){b.successEvent.fire(a);}}else{switch(f){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:a=this.createExceptionObject(b.tId,h,(d?d:false));if(j&&j.failure){if(!j.scope){j.failure(a);}else{j.failure.apply(j.scope,[a]);}}break;default:a=(b.xdr)?b.response:this.createResponseObject(b,h);if(j&&j.failure){if(!j.scope){j.failure(a);}else{j.failure.apply(j.scope,[a]);}}}this.failureEvent.fire(a);if(b.failureEvent){b.failureEvent.fire(a);}}this.releaseObject(b);a=null;},createResponseObject:function(a,h){var d={},k={},f,c,g,b;try{c=a.conn.getAllResponseHeaders();g=c.split("\n");for(f=0;f<g.length;f++){b=g[f].indexOf(":");if(b!=-1){k[g[f].substring(0,b)]=YAHOO.lang.trim(g[f].substring(b+2));}}}catch(j){}d.tId=a.tId;d.status=(a.conn.status==1223)?204:a.conn.status;d.statusText=(a.conn.status==1223)?"No Content":a.conn.statusText;d.getResponseHeader=k;d.getAllResponseHeaders=c;d.responseText=a.conn.responseText;d.responseXML=a.conn.responseXML;if(h){d.argument=h;}return d;},createExceptionObject:function(h,d,a){var f=0,g="communication failure",c=-1,b="transaction aborted",e={};e.tId=h;if(a){e.status=c;e.statusText=b;}else{e.status=f;e.statusText=g;}if(d){e.argument=d;}return e;},initHeader:function(a,d,c){var b=(c)?this._default_headers:this._http_headers;b[a]=d;if(c){this._has_default_headers=true;}else{this._has_http_headers=true;}},setHeader:function(a){var b;if(this._has_default_headers){for(b in this._default_headers){if(YAHOO.lang.hasOwnProperty(this._default_headers,b)){a.conn.setRequestHeader(b,this._default_headers[b]);
}}}if(this._has_http_headers){for(b in this._http_headers){if(YAHOO.lang.hasOwnProperty(this._http_headers,b)){a.conn.setRequestHeader(b,this._http_headers[b]);}}this._http_headers={};this._has_http_headers=false;}},resetDefaultHeaders:function(){this._default_headers={};this._has_default_headers=false;},abort:function(e,g,a){var d,b=(g&&g.argument)?g.argument:null;e=e||{};if(e.conn){if(e.xhr){if(this.isCallInProgress(e)){e.conn.abort();window.clearInterval(this._poll[e.tId]);delete this._poll[e.tId];if(a){window.clearTimeout(this._timeOut[e.tId]);delete this._timeOut[e.tId];}d=true;}}else{if(e.xdr){e.conn.abort(e.tId);d=true;}}}else{if(e.upload){var c="yuiIO"+e.tId;var f=document.getElementById(c);if(f){YAHOO.util.Event.removeListener(f,"load");document.body.removeChild(f);if(a){window.clearTimeout(this._timeOut[e.tId]);delete this._timeOut[e.tId];}d=true;}}else{d=false;}}if(d===true){this.abortEvent.fire(e,b);if(e.abortEvent){e.abortEvent.fire(e,b);}this.handleTransactionResponse(e,g,true);}return d;},isCallInProgress:function(a){a=a||{};if(a.xhr&&a.conn){return a.conn.readyState!==4&&a.conn.readyState!==0;}else{if(a.xdr&&a.conn){return a.conn.isCallInProgress(a.tId);}else{if(a.upload===true){return document.getElementById("yuiIO"+a.tId)?true:false;}else{return false;}}}},releaseObject:function(a){if(a&&a.conn){a.conn=null;a=null;}}};(function(){var g=YAHOO.util.Connect,h={};function d(i){var j='<object id="YUIConnectionSwf" type="application/x-shockwave-flash" data="'+i+'" width="0" height="0">'+'<param name="movie" value="'+i+'">'+'<param name="allowScriptAccess" value="always">'+"</object>",k=document.createElement("div");document.body.appendChild(k);k.innerHTML=j;}function b(l,i,j,n,k){h[parseInt(l.tId)]={"o":l,"c":n};if(k){n.method=i;n.data=k;}l.conn.send(j,n,l.tId);}function e(i){d(i);g._transport=document.getElementById("YUIConnectionSwf");}function c(){g.xdrReadyEvent.fire();}function a(j,i){if(j){g.startEvent.fire(j,i.argument);if(j.startEvent){j.startEvent.fire(j,i.argument);}}}function f(j){var k=h[j.tId].o,i=h[j.tId].c;if(j.statusText==="xdr:start"){a(k,i);return;}j.responseText=decodeURI(j.responseText);k.r=j;if(i.argument){k.r.argument=i.argument;}this.handleTransactionResponse(k,i,j.statusText==="xdr:abort"?true:false);delete h[j.tId];}g.xdr=b;g.swf=d;g.transport=e;g.xdrReadyEvent=new YAHOO.util.CustomEvent("xdrReady");g.xdrReady=c;g.handleXdrResponse=f;})();(function(){var e=YAHOO.util.Connect,g=YAHOO.util.Event,a=document.documentMode?document.documentMode:false;e._isFileUpload=false;e._formNode=null;e._sFormData=null;e._submitElementValue=null;e.uploadEvent=new YAHOO.util.CustomEvent("upload");e._hasSubmitListener=function(){if(g){g.addListener(document,"click",function(k){var j=g.getTarget(k),i=j.nodeName.toLowerCase();if((i==="input"||i==="button")&&(j.type&&j.type.toLowerCase()=="submit")){e._submitElementValue=encodeURIComponent(j.name)+"="+encodeURIComponent(j.value);}});return true;}return false;}();function h(w,r,m){var v,l,u,s,z,t=false,p=[],y=0,o,q,n,x,k;this.resetFormState();if(typeof w=="string"){v=(document.getElementById(w)||document.forms[w]);}else{if(typeof w=="object"){v=w;}else{return;}}if(r){this.createFrame(m?m:null);this._isFormSubmit=true;this._isFileUpload=true;this._formNode=v;return;}for(o=0,q=v.elements.length;o<q;++o){l=v.elements[o];z=l.disabled;u=l.name;if(!z&&u){u=encodeURIComponent(u)+"=";s=encodeURIComponent(l.value);switch(l.type){case"select-one":if(l.selectedIndex>-1){k=l.options[l.selectedIndex];p[y++]=u+encodeURIComponent((k.attributes.value&&k.attributes.value.specified)?k.value:k.text);}break;case"select-multiple":if(l.selectedIndex>-1){for(n=l.selectedIndex,x=l.options.length;n<x;++n){k=l.options[n];if(k.selected){p[y++]=u+encodeURIComponent((k.attributes.value&&k.attributes.value.specified)?k.value:k.text);}}}break;case"radio":case"checkbox":if(l.checked){p[y++]=u+s;}break;case"file":case undefined:case"reset":case"button":break;case"submit":if(t===false){if(this._hasSubmitListener&&this._submitElementValue){p[y++]=this._submitElementValue;}t=true;}break;default:p[y++]=u+s;}}}this._isFormSubmit=true;this._sFormData=p.join("&");this.initHeader("Content-Type",this._default_form_header);return this._sFormData;}function d(){this._isFormSubmit=false;this._isFileUpload=false;this._formNode=null;this._sFormData="";}function c(i){var j="yuiIO"+this._transaction_id,l=(a===9)?true:false,k;if(YAHOO.env.ua.ie&&!l){k=document.createElement('<iframe id="'+j+'" name="'+j+'" />');if(typeof i=="boolean"){k.src="javascript:false";}}else{k=document.createElement("iframe");k.id=j;k.name=j;}k.style.position="absolute";k.style.top="-1000px";k.style.left="-1000px";document.body.appendChild(k);}function f(j){var m=[],k=j.split("&"),l,n;for(l=0;l<k.length;l++){n=k[l].indexOf("=");if(n!=-1){m[l]=document.createElement("input");m[l].type="hidden";m[l].name=decodeURIComponent(k[l].substring(0,n));m[l].value=decodeURIComponent(k[l].substring(n+1));this._formNode.appendChild(m[l]);}}return m;}function b(m,y,n,l){var t="yuiIO"+m.tId,u="multipart/form-data",w=document.getElementById(t),p=(a>=8)?true:false,z=this,v=(y&&y.argument)?y.argument:null,x,s,k,r,j,q;j={action:this._formNode.getAttribute("action"),method:this._formNode.getAttribute("method"),target:this._formNode.getAttribute("target")};this._formNode.setAttribute("action",n);this._formNode.setAttribute("method","POST");this._formNode.setAttribute("target",t);if(YAHOO.env.ua.ie&&!p){this._formNode.setAttribute("encoding",u);}else{this._formNode.setAttribute("enctype",u);}if(l){x=this.appendPostData(l);}this._formNode.submit();this.startEvent.fire(m,v);if(m.startEvent){m.startEvent.fire(m,v);}if(y&&y.timeout){this._timeOut[m.tId]=window.setTimeout(function(){z.abort(m,y,true);},y.timeout);}if(x&&x.length>0){for(s=0;s<x.length;s++){this._formNode.removeChild(x[s]);}}for(k in j){if(YAHOO.lang.hasOwnProperty(j,k)){if(j[k]){this._formNode.setAttribute(k,j[k]);}else{this._formNode.removeAttribute(k);}}}this.resetFormState();
q=function(){var i,A,B;if(y&&y.timeout){window.clearTimeout(z._timeOut[m.tId]);delete z._timeOut[m.tId];}z.completeEvent.fire(m,v);if(m.completeEvent){m.completeEvent.fire(m,v);}r={tId:m.tId,argument:v};try{i=w.contentWindow.document.getElementsByTagName("body")[0];A=w.contentWindow.document.getElementsByTagName("pre")[0];if(i){if(A){B=A.textContent?A.textContent:A.innerText;}else{B=i.textContent?i.textContent:i.innerText;}}r.responseText=B;r.responseXML=w.contentWindow.document.XMLDocument?w.contentWindow.document.XMLDocument:w.contentWindow.document;}catch(o){}if(y&&y.upload){if(!y.scope){y.upload(r);}else{y.upload.apply(y.scope,[r]);}}z.uploadEvent.fire(r);if(m.uploadEvent){m.uploadEvent.fire(r);}g.removeListener(w,"load",q);setTimeout(function(){document.body.removeChild(w);z.releaseObject(m);},100);};g.addListener(w,"load",q);}e.setForm=h;e.resetFormState=d;e.createFrame=c;e.appendPostData=f;e.uploadFile=b;})();YAHOO.register("connection",YAHOO.util.Connect,{version:"2.9.0",build:"2800"});

// FILE: get-min.js (d16e6f87) 3/7/2014 11:24:12 AM

/*
Copyright (c) 2011, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.9.0
*/
YAHOO.util.Get=function(){var m={},k=0,r=0,l=false,n=YAHOO.env.ua,s=YAHOO.lang,q,d,e,i=function(x,t,y){var u=y||window,z=u.document,A=z.createElement(x),v;for(v in t){if(t.hasOwnProperty(v)){A.setAttribute(v,t[v]);}}return A;},h=function(u,v,t){var w={id:"yui__dyn_"+(r++),type:"text/css",rel:"stylesheet",href:u};if(t){s.augmentObject(w,t);}return i("link",w,v);},p=function(u,v,t){var w={id:"yui__dyn_"+(r++),type:"text/javascript",src:u};if(t){s.augmentObject(w,t);}return i("script",w,v);},a=function(t,u){return{tId:t.tId,win:t.win,data:t.data,nodes:t.nodes,msg:u,purge:function(){d(this.tId);}};},b=function(t,w){var u=m[w],v=(s.isString(t))?u.win.document.getElementById(t):t;if(!v){q(w,"target node not found: "+t);}return v;},c=function(w){var u=m[w],v,t;u.finished=true;if(u.aborted){v="transaction "+w+" was aborted";q(w,v);return;}if(u.onSuccess){t=u.scope||u.win;u.onSuccess.call(t,a(u));}},o=function(v){var u=m[v],t;if(u.onTimeout){t=u.scope||u;u.onTimeout.call(t,a(u));}},f=function(v,A){var u=m[v],D=u.win,C=D.document,B=C.getElementsByTagName("head")[0],x,y,t,E,z;if(u.timer){u.timer.cancel();}if(u.aborted){y="transaction "+v+" was aborted";q(v,y);return;}if(A){u.url.shift();if(u.varName){u.varName.shift();}}else{u.url=(s.isString(u.url))?[u.url]:u.url;if(u.varName){u.varName=(s.isString(u.varName))?[u.varName]:u.varName;}}if(u.url.length===0){if(u.type==="script"&&n.webkit&&n.webkit<420&&!u.finalpass&&!u.varName){z=p(null,u.win,u.attributes);z.innerHTML='YAHOO.util.Get._finalize("'+v+'");';u.nodes.push(z);B.appendChild(z);}else{c(v);}return;}t=u.url[0];if(!t){u.url.shift();return f(v);}if(u.timeout){u.timer=s.later(u.timeout,u,o,v);}if(u.type==="script"){x=p(t,D,u.attributes);}else{x=h(t,D,u.attributes);}e(u.type,x,v,t,D,u.url.length);u.nodes.push(x);if(u.insertBefore){E=b(u.insertBefore,v);if(E){E.parentNode.insertBefore(x,E);}}else{B.appendChild(x);}if((n.webkit||n.gecko)&&u.type==="css"){f(v,t);}},j=function(){if(l){return;}l=true;var t,u;for(t in m){if(m.hasOwnProperty(t)){u=m[t];if(u.autopurge&&u.finished){d(u.tId);delete m[t];}}}l=false;},g=function(u,t,v){var x="q"+(k++),w;v=v||{};if(k%YAHOO.util.Get.PURGE_THRESH===0){j();}m[x]=s.merge(v,{tId:x,type:u,url:t,finished:false,aborted:false,nodes:[]});w=m[x];w.win=w.win||window;w.scope=w.scope||w.win;w.autopurge=("autopurge" in w)?w.autopurge:(u==="script")?true:false;w.attributes=w.attributes||{};w.attributes.charset=v.charset||w.attributes.charset||"utf-8";s.later(0,w,f,x);return{tId:x};};e=function(H,z,x,u,D,E,G){var F=G||f,B,t,I,v,J,A,C,y;if(n.ie){z.onreadystatechange=function(){B=this.readyState;if("loaded"===B||"complete"===B){z.onreadystatechange=null;F(x,u);}};}else{if(n.webkit){if(H==="script"){if(n.webkit>=420){z.addEventListener("load",function(){F(x,u);});}else{t=m[x];if(t.varName){v=YAHOO.util.Get.POLL_FREQ;t.maxattempts=YAHOO.util.Get.TIMEOUT/v;t.attempts=0;t._cache=t.varName[0].split(".");t.timer=s.later(v,t,function(w){I=this._cache;A=I.length;J=this.win;for(C=0;C<A;C=C+1){J=J[I[C]];if(!J){this.attempts++;if(this.attempts++>this.maxattempts){y="Over retry limit, giving up";t.timer.cancel();q(x,y);}else{}return;}}t.timer.cancel();F(x,u);},null,true);}else{s.later(YAHOO.util.Get.POLL_FREQ,null,F,[x,u]);}}}}else{z.onload=function(){F(x,u);};}}};q=function(w,v){var u=m[w],t;if(u.onFailure){t=u.scope||u.win;u.onFailure.call(t,a(u,v));}};d=function(z){if(m[z]){var t=m[z],u=t.nodes,x=u.length,C=t.win.document,A=C.getElementsByTagName("head")[0],v,y,w,B;if(t.insertBefore){v=b(t.insertBefore,z);if(v){A=v.parentNode;}}for(y=0;y<x;y=y+1){w=u[y];if(w.clearAttributes){w.clearAttributes();}else{for(B in w){if(w.hasOwnProperty(B)){delete w[B];}}}A.removeChild(w);}t.nodes=[];}};return{POLL_FREQ:10,PURGE_THRESH:20,TIMEOUT:2000,_finalize:function(t){s.later(0,null,c,t);},abort:function(u){var v=(s.isString(u))?u:u.tId,t=m[v];if(t){t.aborted=true;}},script:function(t,u){return g("script",t,u);},css:function(t,u){return g("css",t,u);}};}();YAHOO.register("get",YAHOO.util.Get,{version:"2.9.0",build:"2800"});

// FILE: cookie-min.js (3b456c38) 3/7/2014 11:24:11 AM

/*
Copyright (c) 2011, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.9.0
*/
YAHOO.namespace("util");YAHOO.util.Cookie={_createCookieString:function(B,D,C,A){var F=YAHOO.lang,E=encodeURIComponent(B)+"="+(C?encodeURIComponent(D):D);if(F.isObject(A)){if(A.expires instanceof Date){E+="; expires="+A.expires.toUTCString();}if(F.isString(A.path)&&A.path!==""){E+="; path="+A.path;}if(F.isString(A.domain)&&A.domain!==""){E+="; domain="+A.domain;}if(A.secure===true){E+="; secure";}}return E;},_createCookieHashString:function(B){var D=YAHOO.lang;if(!D.isObject(B)){throw new TypeError("Cookie._createCookieHashString(): Argument must be an object.");}var C=[];for(var A in B){if(D.hasOwnProperty(B,A)&&!D.isFunction(B[A])&&!D.isUndefined(B[A])){C.push(encodeURIComponent(A)+"="+encodeURIComponent(String(B[A])));}}return C.join("&");},_parseCookieHash:function(E){var D=E.split("&"),F=null,C={};if(E.length>0){for(var B=0,A=D.length;B<A;B++){F=D[B].split("=");C[decodeURIComponent(F[0])]=decodeURIComponent(F[1]);}}return C;},_parseCookieString:function(J,A){var K={};if(YAHOO.lang.isString(J)&&J.length>0){var B=(A===false?function(L){return L;}:decodeURIComponent);var H=J.split(/;\s/g),I=null,C=null,E=null;for(var D=0,F=H.length;D<F;D++){E=H[D].match(/([^=]+)=/i);if(E instanceof Array){try{I=decodeURIComponent(E[1]);C=B(H[D].substring(E[1].length+1));}catch(G){}}else{I=decodeURIComponent(H[D]);C="";}K[I]=C;}}return K;},exists:function(A){if(!YAHOO.lang.isString(A)||A===""){throw new TypeError("Cookie.exists(): Cookie name must be a non-empty string.");}var B=this._parseCookieString(document.cookie,true);return B.hasOwnProperty(A);},get:function(B,A){var E=YAHOO.lang,C;if(E.isFunction(A)){C=A;A={};}else{if(E.isObject(A)){C=A.converter;}else{A={};}}var D=this._parseCookieString(document.cookie,!A.raw);if(!E.isString(B)||B===""){throw new TypeError("Cookie.get(): Cookie name must be a non-empty string.");}if(E.isUndefined(D[B])){return null;}if(!E.isFunction(C)){return D[B];}else{return C(D[B]);}},getSub:function(A,C,B){var E=YAHOO.lang,D=this.getSubs(A);if(D!==null){if(!E.isString(C)||C===""){throw new TypeError("Cookie.getSub(): Subcookie name must be a non-empty string.");}if(E.isUndefined(D[C])){return null;}if(!E.isFunction(B)){return D[C];}else{return B(D[C]);}}else{return null;}},getSubs:function(B){var A=YAHOO.lang.isString;if(!A(B)||B===""){throw new TypeError("Cookie.getSubs(): Cookie name must be a non-empty string.");}var C=this._parseCookieString(document.cookie,false);if(A(C[B])){return this._parseCookieHash(C[B]);}return null;},remove:function(B,A){if(!YAHOO.lang.isString(B)||B===""){throw new TypeError("Cookie.remove(): Cookie name must be a non-empty string.");}A=YAHOO.lang.merge(A||{},{expires:new Date(0)});return this.set(B,"",A);},removeSub:function(B,E,A){var F=YAHOO.lang;A=A||{};if(!F.isString(B)||B===""){throw new TypeError("Cookie.removeSub(): Cookie name must be a non-empty string.");}if(!F.isString(E)||E===""){throw new TypeError("Cookie.removeSub(): Subcookie name must be a non-empty string.");}var D=this.getSubs(B);if(F.isObject(D)&&F.hasOwnProperty(D,E)){delete D[E];if(!A.removeIfEmpty){return this.setSubs(B,D,A);}else{for(var C in D){if(F.hasOwnProperty(D,C)&&!F.isFunction(D[C])&&!F.isUndefined(D[C])){return this.setSubs(B,D,A);}}return this.remove(B,A);}}else{return"";}},set:function(B,C,A){var E=YAHOO.lang;A=A||{};if(!E.isString(B)){throw new TypeError("Cookie.set(): Cookie name must be a string.");}if(E.isUndefined(C)){throw new TypeError("Cookie.set(): Value cannot be undefined.");}var D=this._createCookieString(B,C,!A.raw,A);document.cookie=D;return D;},setSub:function(B,D,C,A){var F=YAHOO.lang;if(!F.isString(B)||B===""){throw new TypeError("Cookie.setSub(): Cookie name must be a non-empty string.");}if(!F.isString(D)||D===""){throw new TypeError("Cookie.setSub(): Subcookie name must be a non-empty string.");}if(F.isUndefined(C)){throw new TypeError("Cookie.setSub(): Subcookie value cannot be undefined.");}var E=this.getSubs(B);if(!F.isObject(E)){E={};}E[D]=C;return this.setSubs(B,E,A);},setSubs:function(B,C,A){var E=YAHOO.lang;if(!E.isString(B)){throw new TypeError("Cookie.setSubs(): Cookie name must be a string.");}if(!E.isObject(C)){throw new TypeError("Cookie.setSubs(): Cookie value must be an object.");}var D=this._createCookieString(B,this._createCookieHashString(C),false,A);document.cookie=D;return D;}};YAHOO.register("cookie",YAHOO.util.Cookie,{version:"2.9.0",build:"2800"});

// FILE: storage-min.js (15d82a1b) 3/7/2014 11:24:12 AM

/*
Copyright (c) 2011, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.9.0
*/
(function(){var g=YAHOO,f=g.util,e=g.lang,c,d,b=/^type=(\w+)/i,a=/&value=(.*)/i;if(!f.Storage){c=function(h){g.log("Exception in YAHOO.util.Storage.?? - must be extended by a storage engine".replace("??",h).replace("??",this.getName?this.getName():"Unknown"),"error");};d=function(h,k,j){var i=this;g.env._id_counter+=1;i._cfg=e.isObject(j)?j:{};i._location=h;i._name=k;i.isReady=false;i.createEvent(d.CE_READY,{scope:i,fireOnce:true});i.createEvent(d.CE_CHANGE,{scope:i});i.subscribe(d.CE_READY,function(){i.isReady=true;});};d.CE_READY="YUIStorageReady";d.CE_CHANGE="YUIStorageChange";d.prototype={CE_READY:d.CE_READY,CE_CHANGE:d.CE_CHANGE,_cfg:"",_name:"",_location:"",length:0,isReady:false,clear:function(){this._clear();this.length=0;},getItem:function(h){g.log("Fetching item at  "+h);var i=this._getItem(h);return e.isValue(i)?this._getValue(i):null;},getName:function(){return this._name;},hasKey:function(h){return e.isString(h)&&this._hasKey(h);},key:function(h){g.log("Fetching key at "+h);if(e.isNumber(h)&&-1<h&&this.length>h){var i=this._key(h);if(i){return i;}}throw ("INDEX_SIZE_ERR - Storage.setItem - The provided index ("+h+") is not available");},removeItem:function(j){g.log("removing "+j);var i=this,h;if(i.hasKey(j)){h=i._getItem(j);if(!h){h=null;}i._removeItem(j);i.fireEvent(d.CE_CHANGE,new f.StorageEvent(i,j,h,null,f.StorageEvent.TYPE_REMOVE_ITEM));}else{}},setItem:function(j,k){g.log("SETTING "+k+" to "+j);if(e.isString(j)){var i=this,h=i._getItem(j);if(!h){h=null;}if(i._setItem(j,i._createValue(k))){i.fireEvent(d.CE_CHANGE,new f.StorageEvent(i,j,h,k,i.hasKey(j)?f.StorageEvent.TYPE_UPDATE_ITEM:f.StorageEvent.TYPE_ADD_ITEM));}else{throw ("QUOTA_EXCEEDED_ERROR - Storage.setItem - The choosen storage method ("+i.getName()+") has exceeded capacity");}}else{}},_clear:function(){c("_clear");return"";},_createValue:function(h){var i=(e.isNull(h)||e.isUndefined(h))?(""+h):typeof h;return"type="+i+"&value="+encodeURIComponent(""+h);},_getItem:function(h){c("_getItem");return"";},_getValue:function(h){var j=h.match(b)[1],i=h.match(a)[1];switch(j){case"boolean":return"true"==i;case"number":return parseFloat(i);case"null":return null;default:return decodeURIComponent(i);}},_key:function(h){c("_key");return"";},_hasKey:function(h){return null!==this._getItem(h);},_removeItem:function(h){c("_removeItem");return"";},_setItem:function(h,i){c("_setItem");return"";}};e.augmentProto(d,f.EventProvider);f.Storage=d;}}());(function(){var h=YAHOO.util,e=YAHOO.lang,d={},g=[],f={},b=function(i){return(i&&i.isAvailable())?i:null;},a=function(i,l,k){var j=d[i+l.ENGINE_NAME];if(!j){j=new l(i,k);d[i+l.ENGINE_NAME]=j;}return j;},c=function(i){switch(i){case h.StorageManager.LOCATION_LOCAL:case h.StorageManager.LOCATION_SESSION:return i;default:return h.StorageManager.LOCATION_SESSION;}};h.StorageManager={LOCATION_SESSION:"sessionStorage",LOCATION_LOCAL:"localStorage",get:function(q,k,p){var n=e.isObject(p)?p:{},o=b(f[q]),m,l;if(!o&&!n.force){if(n.order){l=n.order.length;for(m=0;m<l&&!o;m+=1){o=b(n.order[m]);}}if(!o){l=g.length;for(m=0;m<l&&!o;m+=1){o=b(g[m]);}}}if(o){return a(c(k),o,n.engine);}throw ("YAHOO.util.StorageManager.get - No engine available, please include an engine before calling this function.");},getByteSize:function(i){return encodeURIComponent(""+i).length;},register:function(i){if(e.isFunction(i)&&e.isFunction(i.isAvailable)&&e.isString(i.ENGINE_NAME)){f[i.ENGINE_NAME]=i;g.push(i);return true;}return false;}};YAHOO.register("StorageManager",h.SWFStore,{version:"2.9.0",build:"2800"});}());(function(){function a(e,d,c,b,f){this.key=d;this.oldValue=c;this.newValue=b;this.url=window.location.href;this.window=window;this.storageArea=e;this.type=f;}YAHOO.lang.augmentObject(a,{TYPE_ADD_ITEM:"addItem",TYPE_REMOVE_ITEM:"removeItem",TYPE_UPDATE_ITEM:"updateItem"});a.prototype={key:null,newValue:null,oldValue:null,source:null,storageArea:null,type:null,url:null};YAHOO.util.StorageEvent=a;}());(function(){var a=YAHOO.util;a.StorageEngineKeyed=function(){a.StorageEngineKeyed.superclass.constructor.apply(this,arguments);this._keys=[];this._keyMap={};};YAHOO.lang.extend(a.StorageEngineKeyed,a.Storage,{_keys:null,_keyMap:null,_addKey:function(b){if(!this._keyMap.hasOwnProperty(b)){this._keys.push(b);this._keyMap[b]=this.length;this.length=this._keys.length;}},_clear:function(){this._keys=[];this.length=0;},_indexOfKey:function(c){var b=this._keyMap[c];return undefined===b?-1:b;},_key:function(b){return this._keys[b];},_removeItem:function(f){var e=this,c=e._indexOfKey(f),d=e._keys.slice(c+1),b;delete e._keyMap[f];for(b in e._keyMap){if(c<e._keyMap[b]){e._keyMap[b]-=1;}}e._keys.length=c;e._keys=e._keys.concat(d);e.length=e._keys.length;}});}());(function(){var e=YAHOO.util,c=YAHOO.lang,a=function(f){f.begin();},b=function(f){f.commit();},d=function(f,h){var g=this,i=window[f];d.superclass.constructor.call(g,f,d.ENGINE_NAME,h);if(!i.begin){a=function(){};}if(!i.commit){b=function(){};}g.length=i.length;g._driver=i;g.fireEvent(e.Storage.CE_READY);};c.extend(d,e.Storage,{_driver:null,_clear:function(){var g=this,f,h;if(g._driver.clear){g._driver.clear();}else{for(f=g.length;0<=f;f-=1){h=g._key(f);g._removeItem(h);}}},_getItem:function(f){var g=this._driver.getItem(f);return c.isObject(g)?g.value:g;},_key:function(f){return this._driver.key(f);},_removeItem:function(f){var g=this._driver;a(g);g.removeItem(f);b(g);this.length=g.length;},_setItem:function(g,f){var i=this._driver;try{a(i);i.setItem(g,f);b(i);this.length=i.length;return true;}catch(h){return false;}}},true);d.ENGINE_NAME="html5";d.isAvailable=function(){try{return("localStorage" in window)&&window["localStorage"]!==null&&("sessionStorage" in window)&&window["sessionStorage"]!==null;}catch(f){return false;}};e.StorageManager.register(d);e.StorageEngineHTML5=d;}());(function(){var h=YAHOO.util,d=YAHOO.lang,e=9948,g="YUIStorageEngine",b=null,f=encodeURIComponent,a=decodeURIComponent,c=function(l,o){var n=this,p={},k,i,j;c.superclass.constructor.call(n,l,c.ENGINE_NAME,o);
if(!b){b=google.gears.factory.create(c.GEARS);b.open(window.location.host.replace(/[\/\:\*\?"\<\>\|;,]/g,"")+"-"+c.DATABASE);b.execute("CREATE TABLE IF NOT EXISTS "+g+" (key TEXT, location TEXT, value TEXT)");}k=h.StorageManager.LOCATION_SESSION===n._location;i=h.Cookie.get("sessionKey"+c.ENGINE_NAME);if(!i){b.execute("BEGIN");b.execute("DELETE FROM "+g+' WHERE location="'+f(h.StorageManager.LOCATION_SESSION)+'"');b.execute("COMMIT");}j=b.execute("SELECT key FROM "+g+' WHERE location="'+f(n._location)+'"');p={};try{while(j.isValidRow()){var m=a(j.field(0));if(!p[m]){p[m]=true;n._addKey(m);}j.next();}}finally{j.close();}if(k){h.Cookie.set("sessionKey"+c.ENGINE_NAME,true);}n.fireEvent(h.Storage.CE_READY);};d.extend(c,h.StorageEngineKeyed,{_clear:function(){c.superclass._clear.call(this);b.execute("BEGIN");b.execute("DELETE FROM "+g+' WHERE location="'+f(this._location)+'"');b.execute("COMMIT");},_getItem:function(k){var i=b.execute("SELECT value FROM "+g+' WHERE key="'+f(k)+'" AND location="'+f(this._location)+'"'),j="";try{while(i.isValidRow()){j+=i.field(0);i.next();}}finally{i.close();}return j?a(j):null;},_removeItem:function(i){c.superclass._removeItem.call(this,i);b.execute("BEGIN");b.execute("DELETE FROM "+g+' WHERE key="'+f(i)+'" AND location="'+f(this._location)+'"');b.execute("COMMIT");},_setItem:function(r,k){this._addKey(r);var l=f(r),m=f(this._location),p=f(k),q=[],s=e-(l+m).length,o=0,n;if(s<p.length){for(n=p.length;o<n;o+=s){q.push(p.substr(o,s));}}else{q.push(p);}b.execute("BEGIN");b.execute("DELETE FROM "+g+' WHERE key="'+l+'" AND location="'+m+'"');for(o=0,n=q.length;o<n;o+=1){b.execute("INSERT INTO "+g+' VALUES ("'+l+'", "'+m+'", "'+q[o]+'")');}b.execute("COMMIT");return true;}});h.Event.on("unload",function(){if(b){b.close();}});c.ENGINE_NAME="gears";c.GEARS="beta.database";c.DATABASE="yui.database";c.isAvailable=function(){if(("google" in window)&&("gears" in window.google)){try{google.gears.factory.create(c.GEARS);return true;}catch(i){}}return false;};h.StorageManager.register(c);h.StorageEngineGears=c;}());(function(){var b=YAHOO,i=b.util,g=b.lang,f=i.Dom,j=i.StorageManager,c=215,h=138,d=new RegExp("^("+j.LOCATION_SESSION+"|"+j.LOCATION_LOCAL+")"),e=null,k=function(m,n){return m._location+n;},a=function(n){if(!e){if(!g.isString(n.swfURL)){n.swfURL=l.SWFURL;}if(!n.containerID){var o=document.getElementsByTagName("body")[0],m=o.appendChild(document.createElement("div"));n.containerID=f.generateId(m);}if(!n.attributes){n.attributes={};}if(!n.attributes.flashVars){n.attributes.flashVars={};}n.attributes.flashVars.allowedDomain=document.location.hostname;n.attributes.flashVars.useCompression="true";n.attributes.version=9.115;e=new b.widget.SWF(n.containerID,n.swfURL,n.attributes);e.subscribe("save",function(p){b.log(p.message,"info");});e.subscribe("quotaExceededError",function(p){b.log(p.message,"error");});e.subscribe("inadequateDimensions",function(p){b.log(p.message,"error");});e.subscribe("error",function(p){b.log(p.message,"error");});e.subscribe("securityError",function(p){b.log(p.message,"error");});}},l=function(m,p){var o=this;l.superclass.constructor.call(o,m,l.ENGINE_NAME,p);a(o._cfg);var n=function(){o._swf=e._swf;e.initialized=true;var s=j.LOCATION_SESSION===o._location,r=i.Cookie.get("sessionKey"+l.ENGINE_NAME),u,t,q;for(u=e.callSWF("getLength",[])-1;0<=u;u-=1){t=e.callSWF("getNameAt",[u]);q=s&&(-1<t.indexOf(j.LOCATION_SESSION));if(q&&!r){e.callSWF("removeItem",[t]);}else{if(s===q){o._addKey(t);}}}if(s){i.Cookie.set("sessionKey"+l.ENGINE_NAME,true);}o.fireEvent(i.Storage.CE_READY);};if(e.initialized){n();}else{e.addListener("contentReady",n);}};g.extend(l,i.StorageEngineKeyed,{_swf:null,_clear:function(){for(var m=this._keys.length-1,n;0<=m;m-=1){n=this._keys[m];e.callSWF("removeItem",[n]);}l.superclass._clear.call(this);},_getItem:function(m){var n=k(this,m);return e.callSWF("getValueOf",[n]);},_key:function(m){return l.superclass._key.call(this,m).replace(d,"");},_removeItem:function(m){b.log("removing SWF key: "+m);var n=k(this,m);l.superclass._removeItem.call(this,n);e.callSWF("removeItem",[n]);},_setItem:function(m,p){var n=k(this,m),o;if(e.callSWF("setItem",[n,p])){this._addKey(n);return true;}else{o=f.get(e._id);if(c>f.getStyle(o,"width").replace(/\D+/g,"")){f.setStyle(o,"width",c+"px");}if(h>f.getStyle(o,"height").replace(/\D+/g,"")){f.setStyle(o,"height",h+"px");}b.log("attempting to show settings. are dimensions adequate? "+e.callSWF("hasAdequateDimensions"));return e.callSWF("displaySettings",[]);}}});l.SWFURL="swfstore.swf";l.ENGINE_NAME="swf";l.isAvailable=function(){return(6<=b.env.ua.flash&&b.widget.SWF);};j.register(l);i.StorageEngineSWF=l;}());YAHOO.register("storage",YAHOO.util.Storage,{version:"2.9.0",build:"2800"});

// FILE: element-min.js (dbb679f7) 3/7/2014 11:24:12 AM

/*
Copyright (c) 2011, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.9.0
*/
YAHOO.util.Attribute=function(b,a){if(a){this.owner=a;this.configure(b,true);}};YAHOO.util.Attribute.INVALID_VALUE={};YAHOO.util.Attribute.prototype={name:undefined,value:null,owner:null,readOnly:false,writeOnce:false,_initialConfig:null,_written:false,method:null,setter:null,getter:null,validator:null,getValue:function(){var a=this.value;if(this.getter){a=this.getter.call(this.owner,this.name,a);}return a;},setValue:function(f,b){var e,a=this.owner,c=this.name,g=YAHOO.util.Attribute.INVALID_VALUE,d={type:c,prevValue:this.getValue(),newValue:f};if(this.readOnly||(this.writeOnce&&this._written)){return false;}if(this.validator&&!this.validator.call(a,f)){return false;}if(!b){e=a.fireBeforeChangeEvent(d);if(e===false){return false;}}if(this.setter){f=this.setter.call(a,f,this.name);if(f===undefined){}if(f===g){return false;}}if(this.method){if(this.method.call(a,f,this.name)===g){return false;}}this.value=f;this._written=true;d.type=c;if(!b){this.owner.fireChangeEvent(d);}return true;},configure:function(b,c){b=b||{};if(c){this._written=false;}this._initialConfig=this._initialConfig||{};for(var a in b){if(b.hasOwnProperty(a)){this[a]=b[a];if(c){this._initialConfig[a]=b[a];}}}},resetValue:function(){return this.setValue(this._initialConfig.value);},resetConfig:function(){this.configure(this._initialConfig,true);},refresh:function(a){this.setValue(this.value,a);}};(function(){var a=YAHOO.util.Lang;YAHOO.util.AttributeProvider=function(){};YAHOO.util.AttributeProvider.prototype={_configs:null,get:function(c){this._configs=this._configs||{};var b=this._configs[c];if(!b||!this._configs.hasOwnProperty(c)){return null;}return b.getValue();},set:function(d,e,b){this._configs=this._configs||{};var c=this._configs[d];if(!c){return false;}return c.setValue(e,b);},getAttributeKeys:function(){this._configs=this._configs;var c=[],b;for(b in this._configs){if(a.hasOwnProperty(this._configs,b)&&!a.isUndefined(this._configs[b])){c[c.length]=b;}}return c;},setAttributes:function(d,b){for(var c in d){if(a.hasOwnProperty(d,c)){this.set(c,d[c],b);}}},resetValue:function(c,b){this._configs=this._configs||{};if(this._configs[c]){this.set(c,this._configs[c]._initialConfig.value,b);return true;}return false;},refresh:function(e,c){this._configs=this._configs||{};var f=this._configs;e=((a.isString(e))?[e]:e)||this.getAttributeKeys();for(var d=0,b=e.length;d<b;++d){if(f.hasOwnProperty(e[d])){this._configs[e[d]].refresh(c);}}},register:function(b,c){this.setAttributeConfig(b,c);},getAttributeConfig:function(c){this._configs=this._configs||{};var b=this._configs[c]||{};var d={};for(c in b){if(a.hasOwnProperty(b,c)){d[c]=b[c];}}return d;},setAttributeConfig:function(b,c,d){this._configs=this._configs||{};c=c||{};if(!this._configs[b]){c.name=b;this._configs[b]=this.createAttribute(c);}else{this._configs[b].configure(c,d);}},configureAttribute:function(b,c,d){this.setAttributeConfig(b,c,d);},resetAttributeConfig:function(b){this._configs=this._configs||{};this._configs[b].resetConfig();},subscribe:function(b,c){this._events=this._events||{};if(!(b in this._events)){this._events[b]=this.createEvent(b);}YAHOO.util.EventProvider.prototype.subscribe.apply(this,arguments);},on:function(){this.subscribe.apply(this,arguments);},addListener:function(){this.subscribe.apply(this,arguments);},fireBeforeChangeEvent:function(c){var b="before";b+=c.type.charAt(0).toUpperCase()+c.type.substr(1)+"Change";c.type=b;return this.fireEvent(c.type,c);},fireChangeEvent:function(b){b.type+="Change";return this.fireEvent(b.type,b);},createAttribute:function(b){return new YAHOO.util.Attribute(b,this);}};YAHOO.augment(YAHOO.util.AttributeProvider,YAHOO.util.EventProvider);})();(function(){var b=YAHOO.util.Dom,d=YAHOO.util.AttributeProvider,c={mouseenter:true,mouseleave:true};var a=function(e,f){this.init.apply(this,arguments);};a.DOM_EVENTS={"click":true,"dblclick":true,"keydown":true,"keypress":true,"keyup":true,"mousedown":true,"mousemove":true,"mouseout":true,"mouseover":true,"mouseup":true,"mouseenter":true,"mouseleave":true,"focus":true,"blur":true,"submit":true,"change":true};a.prototype={DOM_EVENTS:null,DEFAULT_HTML_SETTER:function(g,e){var f=this.get("element");if(f){f[e]=g;}return g;},DEFAULT_HTML_GETTER:function(e){var f=this.get("element"),g;if(f){g=f[e];}return g;},appendChild:function(e){e=e.get?e.get("element"):e;return this.get("element").appendChild(e);},getElementsByTagName:function(e){return this.get("element").getElementsByTagName(e);},hasChildNodes:function(){return this.get("element").hasChildNodes();},insertBefore:function(e,f){e=e.get?e.get("element"):e;f=(f&&f.get)?f.get("element"):f;return this.get("element").insertBefore(e,f);},removeChild:function(e){e=e.get?e.get("element"):e;return this.get("element").removeChild(e);},replaceChild:function(e,f){e=e.get?e.get("element"):e;f=f.get?f.get("element"):f;return this.get("element").replaceChild(e,f);},initAttributes:function(e){},addListener:function(j,i,k,h){h=h||this;var e=YAHOO.util.Event,g=this.get("element")||this.get("id"),f=this;if(c[j]&&!e._createMouseDelegate){return false;}if(!this._events[j]){if(g&&this.DOM_EVENTS[j]){e.on(g,j,function(m,l){if(m.srcElement&&!m.target){m.target=m.srcElement;}if((m.toElement&&!m.relatedTarget)||(m.fromElement&&!m.relatedTarget)){m.relatedTarget=e.getRelatedTarget(m);}if(!m.currentTarget){m.currentTarget=g;}f.fireEvent(j,m,l);},k,h);}this.createEvent(j,{scope:this});}return YAHOO.util.EventProvider.prototype.subscribe.apply(this,arguments);},on:function(){return this.addListener.apply(this,arguments);},subscribe:function(){return this.addListener.apply(this,arguments);},removeListener:function(f,e){return this.unsubscribe.apply(this,arguments);},addClass:function(e){b.addClass(this.get("element"),e);},getElementsByClassName:function(f,e){return b.getElementsByClassName(f,e,this.get("element"));},hasClass:function(e){return b.hasClass(this.get("element"),e);},removeClass:function(e){return b.removeClass(this.get("element"),e);},replaceClass:function(f,e){return b.replaceClass(this.get("element"),f,e);
},setStyle:function(f,e){return b.setStyle(this.get("element"),f,e);},getStyle:function(e){return b.getStyle(this.get("element"),e);},fireQueue:function(){var f=this._queue;for(var g=0,e=f.length;g<e;++g){this[f[g][0]].apply(this,f[g][1]);}},appendTo:function(f,g){f=(f.get)?f.get("element"):b.get(f);this.fireEvent("beforeAppendTo",{type:"beforeAppendTo",target:f});g=(g&&g.get)?g.get("element"):b.get(g);var e=this.get("element");if(!e){return false;}if(!f){return false;}if(e.parent!=f){if(g){f.insertBefore(e,g);}else{f.appendChild(e);}}this.fireEvent("appendTo",{type:"appendTo",target:f});return e;},get:function(e){var g=this._configs||{},f=g.element;if(f&&!g[e]&&!YAHOO.lang.isUndefined(f.value[e])){this._setHTMLAttrConfig(e);}return d.prototype.get.call(this,e);},setAttributes:function(l,h){var f={},j=this._configOrder;for(var k=0,e=j.length;k<e;++k){if(l[j[k]]!==undefined){f[j[k]]=true;this.set(j[k],l[j[k]],h);}}for(var g in l){if(l.hasOwnProperty(g)&&!f[g]){this.set(g,l[g],h);}}},set:function(f,h,e){var g=this.get("element");if(!g){this._queue[this._queue.length]=["set",arguments];if(this._configs[f]){this._configs[f].value=h;}return;}if(!this._configs[f]&&!YAHOO.lang.isUndefined(g[f])){this._setHTMLAttrConfig(f);}return d.prototype.set.apply(this,arguments);},setAttributeConfig:function(e,f,g){this._configOrder.push(e);d.prototype.setAttributeConfig.apply(this,arguments);},createEvent:function(f,e){this._events[f]=true;return d.prototype.createEvent.apply(this,arguments);},init:function(f,e){this._initElement(f,e);},destroy:function(){var e=this.get("element");YAHOO.util.Event.purgeElement(e,true);this.unsubscribeAll();if(e&&e.parentNode){e.parentNode.removeChild(e);}this._queue=[];this._events={};this._configs={};this._configOrder=[];},_initElement:function(g,f){this._queue=this._queue||[];this._events=this._events||{};this._configs=this._configs||{};this._configOrder=[];f=f||{};f.element=f.element||g||null;var i=false;var e=a.DOM_EVENTS;this.DOM_EVENTS=this.DOM_EVENTS||{};for(var h in e){if(e.hasOwnProperty(h)){this.DOM_EVENTS[h]=e[h];}}if(typeof f.element==="string"){this._setHTMLAttrConfig("id",{value:f.element});}if(b.get(f.element)){i=true;this._initHTMLElement(f);this._initContent(f);}YAHOO.util.Event.onAvailable(f.element,function(){if(!i){this._initHTMLElement(f);}this.fireEvent("available",{type:"available",target:b.get(f.element)});},this,true);YAHOO.util.Event.onContentReady(f.element,function(){if(!i){this._initContent(f);}this.fireEvent("contentReady",{type:"contentReady",target:b.get(f.element)});},this,true);},_initHTMLElement:function(e){this.setAttributeConfig("element",{value:b.get(e.element),readOnly:true});},_initContent:function(e){this.initAttributes(e);this.setAttributes(e,true);this.fireQueue();},_setHTMLAttrConfig:function(e,g){var f=this.get("element");g=g||{};g.name=e;g.setter=g.setter||this.DEFAULT_HTML_SETTER;g.getter=g.getter||this.DEFAULT_HTML_GETTER;g.value=g.value||f[e];this._configs[e]=new YAHOO.util.Attribute(g,this);}};YAHOO.augment(a,d);YAHOO.util.Element=a;})();YAHOO.register("element",YAHOO.util.Element,{version:"2.9.0",build:"2800"});

// FILE: button-min.js (a0429a46) 3/7/2014 11:24:11 AM

/*
Copyright (c) 2011, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.9.0
*/
(function(){var G=YAHOO.util.Dom,M=YAHOO.util.Event,I=YAHOO.lang,L=YAHOO.env.ua,B=YAHOO.widget.Overlay,J=YAHOO.widget.Menu,D={},K=null,E=null,C=null;function F(O,N,R,P){var S,Q;if(I.isString(O)&&I.isString(N)){if(L.ie&&(L.ie<9)){Q='<input type="'+O+'" name="'+N+'"';if(P){Q+=" checked";}Q+=">";S=document.createElement(Q);S.value=R;}else{S=document.createElement("input");S.name=N;S.type=O;S.value=R;if(P){S.checked=true;}}}return S;}function H(O,V){var N=O.nodeName.toUpperCase(),S=(this.CLASS_NAME_PREFIX+this.CSS_CLASS_NAME),T=this,U,P,Q;function W(X){if(!(X in V)){U=O.getAttributeNode(X);if(U&&("value" in U)){V[X]=U.value;}}}function R(){W("type");if(V.type=="button"){V.type="push";}if(!("disabled" in V)){V.disabled=O.disabled;}W("name");W("value");W("title");}switch(N){case"A":V.type="link";W("href");W("target");break;case"INPUT":R();if(!("checked" in V)){V.checked=O.checked;}break;case"BUTTON":R();P=O.parentNode.parentNode;if(G.hasClass(P,S+"-checked")){V.checked=true;}if(G.hasClass(P,S+"-disabled")){V.disabled=true;}O.removeAttribute("value");O.setAttribute("type","button");break;}O.removeAttribute("id");O.removeAttribute("name");if(!("tabindex" in V)){V.tabindex=O.tabIndex;}if(!("label" in V)){Q=N=="INPUT"?O.value:O.innerHTML;if(Q&&Q.length>0){V.label=Q;}}}function A(P){var O=P.attributes,N=O.srcelement,R=N.nodeName.toUpperCase(),Q=this;if(R==this.NODE_NAME){P.element=N;P.id=N.id;G.getElementsBy(function(S){switch(S.nodeName.toUpperCase()){case"BUTTON":case"A":case"INPUT":H.call(Q,S,O);break;}},"*",N);}else{switch(R){case"BUTTON":case"A":case"INPUT":H.call(this,N,O);break;}}}YAHOO.widget.Button=function(R,O){if(!B&&YAHOO.widget.Overlay){B=YAHOO.widget.Overlay;}if(!J&&YAHOO.widget.Menu){J=YAHOO.widget.Menu;}var Q=YAHOO.widget.Button.superclass.constructor,P,N;if(arguments.length==1&&!I.isString(R)&&!R.nodeName){if(!R.id){R.id=G.generateId();}Q.call(this,(this.createButtonElement(R.type)),R);}else{P={element:null,attributes:(O||{})};if(I.isString(R)){N=G.get(R);if(N){if(!P.attributes.id){P.attributes.id=R;}P.attributes.srcelement=N;A.call(this,P);if(!P.element){P.element=this.createButtonElement(P.attributes.type);}Q.call(this,P.element,P.attributes);}}else{if(R.nodeName){if(!P.attributes.id){if(R.id){P.attributes.id=R.id;}else{P.attributes.id=G.generateId();}}P.attributes.srcelement=R;A.call(this,P);if(!P.element){P.element=this.createButtonElement(P.attributes.type);}Q.call(this,P.element,P.attributes);}}}};YAHOO.extend(YAHOO.widget.Button,YAHOO.util.Element,{_button:null,_menu:null,_hiddenFields:null,_onclickAttributeValue:null,_activationKeyPressed:false,_activationButtonPressed:false,_hasKeyEventHandlers:false,_hasMouseEventHandlers:false,_nOptionRegionX:0,CLASS_NAME_PREFIX:"yui-",NODE_NAME:"SPAN",CHECK_ACTIVATION_KEYS:[32],ACTIVATION_KEYS:[13,32],OPTION_AREA_WIDTH:20,CSS_CLASS_NAME:"button",_setType:function(N){if(N=="split"){this.on("option",this._onOption);}},_setLabel:function(O){this._button.innerHTML=O;var P,N=L.gecko;if(N&&N<1.9&&G.inDocument(this.get("element"))){P=(this.CLASS_NAME_PREFIX+this.CSS_CLASS_NAME);this.removeClass(P);I.later(0,this,this.addClass,P);}},_setTabIndex:function(N){this._button.tabIndex=N;},_setTitle:function(N){if(this.get("type")!="link"){this._button.title=N;}},_setDisabled:function(N){if(this.get("type")!="link"){if(N){if(this._menu){this._menu.hide();}if(this.hasFocus()){this.blur();}this._button.setAttribute("disabled","disabled");this.addStateCSSClasses("disabled");this.removeStateCSSClasses("hover");this.removeStateCSSClasses("active");this.removeStateCSSClasses("focus");}else{this._button.removeAttribute("disabled");this.removeStateCSSClasses("disabled");}}},_setHref:function(N){if(this.get("type")=="link"){this._button.href=N;}},_setTarget:function(N){if(this.get("type")=="link"){this._button.setAttribute("target",N);}},_setChecked:function(N){var O=this.get("type");if(O=="checkbox"||O=="radio"){if(N){this.addStateCSSClasses("checked");}else{this.removeStateCSSClasses("checked");}}},_setMenu:function(U){var P=this.get("lazyloadmenu"),R=this.get("element"),N,W=false,X,O,Q;function V(){X.render(R.parentNode);this.removeListener("appendTo",V);}function T(){X.cfg.queueProperty("container",R.parentNode);this.removeListener("appendTo",T);}function S(){var Y;if(X){G.addClass(X.element,this.get("menuclassname"));G.addClass(X.element,this.CLASS_NAME_PREFIX+this.get("type")+"-button-menu");X.showEvent.subscribe(this._onMenuShow,null,this);X.hideEvent.subscribe(this._onMenuHide,null,this);X.renderEvent.subscribe(this._onMenuRender,null,this);if(J&&X instanceof J){if(P){Y=this.get("container");if(Y){X.cfg.queueProperty("container",Y);}else{this.on("appendTo",T);}}X.cfg.queueProperty("clicktohide",false);X.keyDownEvent.subscribe(this._onMenuKeyDown,this,true);X.subscribe("click",this._onMenuClick,this,true);this.on("selectedMenuItemChange",this._onSelectedMenuItemChange);Q=X.srcElement;if(Q&&Q.nodeName.toUpperCase()=="SELECT"){Q.style.display="none";Q.parentNode.removeChild(Q);}}else{if(B&&X instanceof B){if(!K){K=new YAHOO.widget.OverlayManager();}K.register(X);}}this._menu=X;if(!W&&!P){if(G.inDocument(R)){X.render(R.parentNode);}else{this.on("appendTo",V);}}}}if(B){if(J){N=J.prototype.CSS_CLASS_NAME;}if(U&&J&&(U instanceof J)){X=U;W=true;S.call(this);}else{if(B&&U&&(U instanceof B)){X=U;W=true;X.cfg.queueProperty("visible",false);S.call(this);}else{if(J&&I.isArray(U)){X=new J(G.generateId(),{lazyload:P,itemdata:U});this._menu=X;this.on("appendTo",S);}else{if(I.isString(U)){O=G.get(U);if(O){if(J&&G.hasClass(O,N)||O.nodeName.toUpperCase()=="SELECT"){X=new J(U,{lazyload:P});S.call(this);}else{if(B){X=new B(U,{visible:false});S.call(this);}}}}else{if(U&&U.nodeName){if(J&&G.hasClass(U,N)||U.nodeName.toUpperCase()=="SELECT"){X=new J(U,{lazyload:P});S.call(this);}else{if(B){if(!U.id){G.generateId(U);}X=new B(U,{visible:false});S.call(this);}}}}}}}}},_setOnClick:function(N){if(this._onclickAttributeValue&&(this._onclickAttributeValue!=N)){this.removeListener("click",this._onclickAttributeValue.fn);
this._onclickAttributeValue=null;}if(!this._onclickAttributeValue&&I.isObject(N)&&I.isFunction(N.fn)){this.on("click",N.fn,N.obj,N.scope);this._onclickAttributeValue=N;}},_isActivationKey:function(N){var S=this.get("type"),O=(S=="checkbox"||S=="radio")?this.CHECK_ACTIVATION_KEYS:this.ACTIVATION_KEYS,Q=O.length,R=false,P;if(Q>0){P=Q-1;do{if(N==O[P]){R=true;break;}}while(P--);}return R;},_isSplitButtonOptionKey:function(P){var O=(M.getCharCode(P)==40);var N=function(Q){M.preventDefault(Q);this.removeListener("keypress",N);};if(O){if(L.opera){this.on("keypress",N);}M.preventDefault(P);}return O;},_addListenersToForm:function(){var T=this.getForm(),S=YAHOO.widget.Button.onFormKeyPress,R,N,Q,P,O;if(T){M.on(T,"reset",this._onFormReset,null,this);M.on(T,"submit",this._onFormSubmit,null,this);N=this.get("srcelement");if(this.get("type")=="submit"||(N&&N.type=="submit")){Q=M.getListeners(T,"keypress");R=false;if(Q){P=Q.length;if(P>0){O=P-1;do{if(Q[O].fn==S){R=true;break;}}while(O--);}}if(!R){M.on(T,"keypress",S);}}}},_showMenu:function(R){if(YAHOO.widget.MenuManager){YAHOO.widget.MenuManager.hideVisible();}if(K){K.hideAll();}var N=this._menu,Q=this.get("menualignment"),P=this.get("focusmenu"),O;if(this._renderedMenu){N.cfg.setProperty("context",[this.get("element"),Q[0],Q[1]]);N.cfg.setProperty("preventcontextoverlap",true);N.cfg.setProperty("constraintoviewport",true);}else{N.cfg.queueProperty("context",[this.get("element"),Q[0],Q[1]]);N.cfg.queueProperty("preventcontextoverlap",true);N.cfg.queueProperty("constraintoviewport",true);}this.focus();if(J&&N&&(N instanceof J)){O=N.focus;N.focus=function(){};if(this._renderedMenu){N.cfg.setProperty("minscrollheight",this.get("menuminscrollheight"));N.cfg.setProperty("maxheight",this.get("menumaxheight"));}else{N.cfg.queueProperty("minscrollheight",this.get("menuminscrollheight"));N.cfg.queueProperty("maxheight",this.get("menumaxheight"));}N.show();N.focus=O;N.align();if(R.type=="mousedown"){M.stopPropagation(R);}if(P){N.focus();}}else{if(B&&N&&(N instanceof B)){if(!this._renderedMenu){N.render(this.get("element").parentNode);}N.show();N.align();}}},_hideMenu:function(){var N=this._menu;if(N){N.hide();}},_onMouseOver:function(O){var Q=this.get("type"),N,P;if(Q==="split"){N=this.get("element");P=(G.getX(N)+(N.offsetWidth-this.OPTION_AREA_WIDTH));this._nOptionRegionX=P;}if(!this._hasMouseEventHandlers){if(Q==="split"){this.on("mousemove",this._onMouseMove);}this.on("mouseout",this._onMouseOut);this._hasMouseEventHandlers=true;}this.addStateCSSClasses("hover");if(Q==="split"&&(M.getPageX(O)>P)){this.addStateCSSClasses("hoveroption");}if(this._activationButtonPressed){this.addStateCSSClasses("active");}if(this._bOptionPressed){this.addStateCSSClasses("activeoption");}if(this._activationButtonPressed||this._bOptionPressed){M.removeListener(document,"mouseup",this._onDocumentMouseUp);}},_onMouseMove:function(N){var O=this._nOptionRegionX;if(O){if(M.getPageX(N)>O){this.addStateCSSClasses("hoveroption");}else{this.removeStateCSSClasses("hoveroption");}}},_onMouseOut:function(N){var O=this.get("type");this.removeStateCSSClasses("hover");if(O!="menu"){this.removeStateCSSClasses("active");}if(this._activationButtonPressed||this._bOptionPressed){M.on(document,"mouseup",this._onDocumentMouseUp,null,this);}if(O==="split"&&(M.getPageX(N)>this._nOptionRegionX)){this.removeStateCSSClasses("hoveroption");}},_onDocumentMouseUp:function(P){this._activationButtonPressed=false;this._bOptionPressed=false;var Q=this.get("type"),N,O;if(Q=="menu"||Q=="split"){N=M.getTarget(P);O=this._menu.element;if(N!=O&&!G.isAncestor(O,N)){this.removeStateCSSClasses((Q=="menu"?"active":"activeoption"));this._hideMenu();}}M.removeListener(document,"mouseup",this._onDocumentMouseUp);},_onMouseDown:function(P){var Q,O=true;function N(){this._hideMenu();this.removeListener("mouseup",N);}if((P.which||P.button)==1){if(!this.hasFocus()){I.later(0,this,this.focus);}Q=this.get("type");if(Q=="split"){if(M.getPageX(P)>this._nOptionRegionX){this.fireEvent("option",P);O=false;}else{this.addStateCSSClasses("active");this._activationButtonPressed=true;}}else{if(Q=="menu"){if(this.isActive()){this._hideMenu();this._activationButtonPressed=false;}else{this._showMenu(P);this._activationButtonPressed=true;}}else{this.addStateCSSClasses("active");this._activationButtonPressed=true;}}if(Q=="split"||Q=="menu"){this._hideMenuTimer=I.later(250,this,this.on,["mouseup",N]);}}return O;},_onMouseUp:function(P){this.inMouseDown=false;var Q=this.get("type"),N=this._hideMenuTimer,O=true;if(N){N.cancel();}if(Q=="checkbox"||Q=="radio"){if((P.which||P.button)!=1){return;}this.set("checked",!(this.get("checked")));}this._activationButtonPressed=false;if(Q!="menu"){this.removeStateCSSClasses("active");}if(Q=="split"&&M.getPageX(P)>this._nOptionRegionX){O=false;}return O;},_onFocus:function(O){var N;this.addStateCSSClasses("focus");if(this._activationKeyPressed){this.addStateCSSClasses("active");}C=this;if(!this._hasKeyEventHandlers){N=this._button;M.on(N,"blur",this._onBlur,null,this);M.on(N,"keydown",this._onKeyDown,null,this);M.on(N,"keyup",this._onKeyUp,null,this);this._hasKeyEventHandlers=true;}this.fireEvent("focus",O);},_onBlur:function(N){this.removeStateCSSClasses("focus");if(this.get("type")!="menu"){this.removeStateCSSClasses("active");}if(this._activationKeyPressed){M.on(document,"keyup",this._onDocumentKeyUp,null,this);}C=null;this.fireEvent("blur",N);},_onDocumentKeyUp:function(N){if(this._isActivationKey(M.getCharCode(N))){this._activationKeyPressed=false;M.removeListener(document,"keyup",this._onDocumentKeyUp);}},_onKeyDown:function(O){var N=this._menu;if(this.get("type")=="split"&&this._isSplitButtonOptionKey(O)){this.fireEvent("option",O);}else{if(this._isActivationKey(M.getCharCode(O))){if(this.get("type")=="menu"){this._showMenu(O);}else{this._activationKeyPressed=true;this.addStateCSSClasses("active");}}}if(N&&N.cfg.getProperty("visible")&&M.getCharCode(O)==27){N.hide();this.focus();}},_onKeyUp:function(N){var O;
if(this._isActivationKey(M.getCharCode(N))){O=this.get("type");if(O=="checkbox"||O=="radio"){this.set("checked",!(this.get("checked")));}this._activationKeyPressed=false;if(this.get("type")!="menu"){this.removeStateCSSClasses("active");}}},_onClick:function(P){var R=this.get("type"),Q,N,O;switch(R){case"submit":if(P.returnValue!==false){this.submitForm();}break;case"reset":Q=this.getForm();if(Q){Q.reset();}break;case"split":if(this._nOptionRegionX>0&&(M.getPageX(P)>this._nOptionRegionX)){O=false;}else{this._hideMenu();N=this.get("srcelement");if(N&&N.type=="submit"&&P.returnValue!==false){this.submitForm();}}break;}return O;},_onDblClick:function(O){var N=true;if(this.get("type")=="split"&&M.getPageX(O)>this._nOptionRegionX){N=false;}return N;},_onAppendTo:function(N){I.later(0,this,this._addListenersToForm);},_onFormReset:function(O){var P=this.get("type"),N=this._menu;if(P=="checkbox"||P=="radio"){this.resetValue("checked");}if(J&&N&&(N instanceof J)){this.resetValue("selectedMenuItem");}},_onFormSubmit:function(N){this.createHiddenFields();},_onDocumentMouseDown:function(R){var O=M.getTarget(R),Q=this.get("element"),P=this._menu.element;function N(T){var V,S,U;if(!T){return true;}for(V=0,S=T.length;V<S;V++){U=T[V].element;if(O==U||G.isAncestor(U,O)){return true;}if(T[V]&&T[V].getSubmenus){if(N(T[V].getSubmenus())){return true;}}}return false;}if(O!=Q&&!G.isAncestor(Q,O)&&O!=P&&!G.isAncestor(P,O)){if(this._menu&&this._menu.getSubmenus){if(!N(this._menu.getSubmenus())){return;}}this._hideMenu();if(L.ie&&(L.ie<9)&&O.focus){O.setActive();}M.removeListener(document,"mousedown",this._onDocumentMouseDown);}},_onOption:function(N){if(this.hasClass(this.CLASS_NAME_PREFIX+"split-button-activeoption")){this._hideMenu();this._bOptionPressed=false;}else{this._showMenu(N);this._bOptionPressed=true;}},_onMenuShow:function(N){M.on(document,"mousedown",this._onDocumentMouseDown,null,this);var O=(this.get("type")=="split")?"activeoption":"active";this.addStateCSSClasses(O);},_onMenuHide:function(N){var O=(this.get("type")=="split")?"activeoption":"active";this.removeStateCSSClasses(O);if(this.get("type")=="split"){this._bOptionPressed=false;}},_onMenuKeyDown:function(P,O){var N=O[0];if(M.getCharCode(N)==27){this.focus();if(this.get("type")=="split"){this._bOptionPressed=false;}}},_onMenuRender:function(P){var S=this.get("element"),O=S.parentNode,N=this._menu,R=N.element,Q=N.srcElement,T;if(O!=R.parentNode){O.appendChild(R);}this._renderedMenu=true;if(Q&&Q.nodeName.toLowerCase()==="select"&&Q.value){T=N.getItem(Q.selectedIndex);this.set("selectedMenuItem",T,true);this._onSelectedMenuItemChange({newValue:T});}},_onMenuClick:function(O,N){var Q=N[1],P;if(Q){this.set("selectedMenuItem",Q);P=this.get("srcelement");if(P&&P.type=="submit"){this.submitForm();}this._hideMenu();}},_onSelectedMenuItemChange:function(O){var P=O.prevValue,Q=O.newValue,N=this.CLASS_NAME_PREFIX;if(P){G.removeClass(P.element,(N+"button-selectedmenuitem"));}if(Q){G.addClass(Q.element,(N+"button-selectedmenuitem"));}},_onLabelClick:function(N){this.focus();var O=this.get("type");if(O=="radio"||O=="checkbox"){this.set("checked",(!this.get("checked")));}},createButtonElement:function(N){var P=this.NODE_NAME,O=document.createElement(P);O.innerHTML="<"+P+' class="first-child">'+(N=="link"?"<a></a>":'<button type="button"></button>')+"</"+P+">";return O;},addStateCSSClasses:function(O){var P=this.get("type"),N=this.CLASS_NAME_PREFIX;if(I.isString(O)){if(O!="activeoption"&&O!="hoveroption"){this.addClass(N+this.CSS_CLASS_NAME+("-"+O));}this.addClass(N+P+("-button-"+O));}},removeStateCSSClasses:function(O){var P=this.get("type"),N=this.CLASS_NAME_PREFIX;if(I.isString(O)){this.removeClass(N+this.CSS_CLASS_NAME+("-"+O));this.removeClass(N+P+("-button-"+O));}},createHiddenFields:function(){this.removeHiddenFields();var V=this.getForm(),Z,O,S,X,Y,T,U,N,R,W,P,Q=false;if(V&&!this.get("disabled")){O=this.get("type");S=(O=="checkbox"||O=="radio");if((S&&this.get("checked"))||(E==this)){Z=F((S?O:"hidden"),this.get("name"),this.get("value"),this.get("checked"));if(Z){if(S){Z.style.display="none";}V.appendChild(Z);}}X=this._menu;if(J&&X&&(X instanceof J)){Y=this.get("selectedMenuItem");P=X.srcElement;Q=(P&&P.nodeName.toUpperCase()=="SELECT");if(Y){U=(Y.value===null||Y.value==="")?Y.cfg.getProperty("text"):Y.value;T=this.get("name");if(Q){W=P.name;}else{if(T){W=(T+"_options");}}if(U&&W){N=F("hidden",W,U);V.appendChild(N);}}else{if(Q){N=V.appendChild(P);}}}if(Z&&N){this._hiddenFields=[Z,N];}else{if(!Z&&N){this._hiddenFields=N;}else{if(Z&&!N){this._hiddenFields=Z;}}}R=this._hiddenFields;}return R;},removeHiddenFields:function(){var Q=this._hiddenFields,O,P;function N(R){if(G.inDocument(R)){R.parentNode.removeChild(R);}}if(Q){if(I.isArray(Q)){O=Q.length;if(O>0){P=O-1;do{N(Q[P]);}while(P--);}}else{N(Q);}this._hiddenFields=null;}},submitForm:function(){var Q=this.getForm(),P=this.get("srcelement"),O=false,N;if(Q){if(this.get("type")=="submit"||(P&&P.type=="submit")){E=this;}if(L.ie&&(L.ie<9)){O=Q.fireEvent("onsubmit");}else{N=document.createEvent("HTMLEvents");N.initEvent("submit",true,true);O=Q.dispatchEvent(N);}if((L.ie||L.webkit)&&O){Q.submit();}}return O;},init:function(P,d){var V=d.type=="link"?"a":"button",a=d.srcelement,S=P.getElementsByTagName(V)[0],U;if(!S){U=P.getElementsByTagName("input")[0];if(U){S=document.createElement("button");S.setAttribute("type","button");U.parentNode.replaceChild(S,U);}}this._button=S;YAHOO.widget.Button.superclass.init.call(this,P,d);var T=this.get("id"),Z=T+"-button";S.id=Z;var X,Q;var e=function(f){return(f.htmlFor===T);};var c=function(){Q.setAttribute((L.ie?"htmlFor":"for"),Z);};if(a&&this.get("type")!="link"){X=G.getElementsBy(e,"label");if(I.isArray(X)&&X.length>0){Q=X[0];}}D[T]=this;var b=this.CLASS_NAME_PREFIX;this.addClass(b+this.CSS_CLASS_NAME);this.addClass(b+this.get("type")+"-button");M.on(this._button,"focus",this._onFocus,null,this);this.on("mouseover",this._onMouseOver);this.on("mousedown",this._onMouseDown);
this.on("mouseup",this._onMouseUp);this.on("click",this._onClick);var R=this.get("onclick");this.set("onclick",null);this.set("onclick",R);this.on("dblclick",this._onDblClick);var O;if(Q){if(this.get("replaceLabel")){this.set("label",Q.innerHTML);O=Q.parentNode;O.removeChild(Q);}else{this.on("appendTo",c);M.on(Q,"click",this._onLabelClick,null,this);this._label=Q;}}this.on("appendTo",this._onAppendTo);var N=this.get("container"),Y=this.get("element"),W=G.inDocument(Y);if(N){if(a&&a!=Y){O=a.parentNode;if(O){O.removeChild(a);}}if(I.isString(N)){M.onContentReady(N,this.appendTo,N,this);}else{this.on("init",function(){I.later(0,this,this.appendTo,N);});}}else{if(!W&&a&&a!=Y){O=a.parentNode;if(O){this.fireEvent("beforeAppendTo",{type:"beforeAppendTo",target:O});O.replaceChild(Y,a);this.fireEvent("appendTo",{type:"appendTo",target:O});}}else{if(this.get("type")!="link"&&W&&a&&a==Y){this._addListenersToForm();}}}this.fireEvent("init",{type:"init",target:this});},initAttributes:function(O){var N=O||{};YAHOO.widget.Button.superclass.initAttributes.call(this,N);this.setAttributeConfig("type",{value:(N.type||"push"),validator:I.isString,writeOnce:true,method:this._setType});this.setAttributeConfig("label",{value:N.label,validator:I.isString,method:this._setLabel});this.setAttributeConfig("value",{value:N.value});this.setAttributeConfig("name",{value:N.name,validator:I.isString});this.setAttributeConfig("tabindex",{value:N.tabindex,validator:I.isNumber,method:this._setTabIndex});this.configureAttribute("title",{value:N.title,validator:I.isString,method:this._setTitle});this.setAttributeConfig("disabled",{value:(N.disabled||false),validator:I.isBoolean,method:this._setDisabled});this.setAttributeConfig("href",{value:N.href,validator:I.isString,method:this._setHref});this.setAttributeConfig("target",{value:N.target,validator:I.isString,method:this._setTarget});this.setAttributeConfig("checked",{value:(N.checked||false),validator:I.isBoolean,method:this._setChecked});this.setAttributeConfig("container",{value:N.container,writeOnce:true});this.setAttributeConfig("srcelement",{value:N.srcelement,writeOnce:true});this.setAttributeConfig("menu",{value:null,method:this._setMenu,writeOnce:true});this.setAttributeConfig("lazyloadmenu",{value:(N.lazyloadmenu===false?false:true),validator:I.isBoolean,writeOnce:true});this.setAttributeConfig("menuclassname",{value:(N.menuclassname||(this.CLASS_NAME_PREFIX+"button-menu")),validator:I.isString,method:this._setMenuClassName,writeOnce:true});this.setAttributeConfig("menuminscrollheight",{value:(N.menuminscrollheight||90),validator:I.isNumber});this.setAttributeConfig("menumaxheight",{value:(N.menumaxheight||0),validator:I.isNumber});this.setAttributeConfig("menualignment",{value:(N.menualignment||["tl","bl"]),validator:I.isArray});this.setAttributeConfig("selectedMenuItem",{value:null});this.setAttributeConfig("onclick",{value:N.onclick,method:this._setOnClick});this.setAttributeConfig("focusmenu",{value:(N.focusmenu===false?false:true),validator:I.isBoolean});this.setAttributeConfig("replaceLabel",{value:false,validator:I.isBoolean,writeOnce:true});},focus:function(){if(!this.get("disabled")){try{this._button.focus();}catch(N){}}},blur:function(){if(!this.get("disabled")){try{this._button.blur();}catch(N){}}},hasFocus:function(){return(C==this);},isActive:function(){return this.hasClass(this.CLASS_NAME_PREFIX+this.CSS_CLASS_NAME+"-active");},getMenu:function(){return this._menu;},getForm:function(){var N=this._button,O;if(N){O=N.form;}return O;},getHiddenFields:function(){return this._hiddenFields;},destroy:function(){var P=this.get("element"),N=this._menu,T=this._label,O,S;if(N){if(K&&K.find(N)){K.remove(N);}N.destroy();}M.purgeElement(P);M.purgeElement(this._button);M.removeListener(document,"mouseup",this._onDocumentMouseUp);M.removeListener(document,"keyup",this._onDocumentKeyUp);M.removeListener(document,"mousedown",this._onDocumentMouseDown);if(T){M.removeListener(T,"click",this._onLabelClick);O=T.parentNode;O.removeChild(T);}var Q=this.getForm();if(Q){M.removeListener(Q,"reset",this._onFormReset);M.removeListener(Q,"submit",this._onFormSubmit);}this.unsubscribeAll();O=P.parentNode;if(O){O.removeChild(P);}delete D[this.get("id")];var R=(this.CLASS_NAME_PREFIX+this.CSS_CLASS_NAME);S=G.getElementsByClassName(R,this.NODE_NAME,Q);if(I.isArray(S)&&S.length===0){M.removeListener(Q,"keypress",YAHOO.widget.Button.onFormKeyPress);}},fireEvent:function(O,N){var P=arguments[0];if(this.DOM_EVENTS[P]&&this.get("disabled")){return false;}return YAHOO.widget.Button.superclass.fireEvent.apply(this,arguments);},toString:function(){return("Button "+this.get("id"));}});YAHOO.widget.Button.onFormKeyPress=function(R){var P=M.getTarget(R),S=M.getCharCode(R),Q=P.nodeName&&P.nodeName.toUpperCase(),N=P.type,T=false,V,X,O,W;function U(a){var Z,Y;switch(a.nodeName.toUpperCase()){case"INPUT":case"BUTTON":if(a.type=="submit"&&!a.disabled){if(!T&&!O){O=a;}}break;default:Z=a.id;if(Z){V=D[Z];if(V){T=true;if(!V.get("disabled")){Y=V.get("srcelement");if(!X&&(V.get("type")=="submit"||(Y&&Y.type=="submit"))){X=V;}}}}break;}}if(S==13&&((Q=="INPUT"&&(N=="text"||N=="password"||N=="checkbox"||N=="radio"||N=="file"))||Q=="SELECT")){G.getElementsBy(U,"*",this);if(O){O.focus();}else{if(!O&&X){M.preventDefault(R);if(L.ie){X.get("element").fireEvent("onclick");}else{W=document.createEvent("HTMLEvents");W.initEvent("click",true,true);if(L.gecko<1.9){X.fireEvent("click",W);}else{X.get("element").dispatchEvent(W);}}}}}};YAHOO.widget.Button.addHiddenFieldsToForm=function(N){var R=YAHOO.widget.Button.prototype,T=G.getElementsByClassName((R.CLASS_NAME_PREFIX+R.CSS_CLASS_NAME),"*",N),Q=T.length,S,O,P;if(Q>0){for(P=0;P<Q;P++){O=T[P].id;if(O){S=D[O];if(S){S.createHiddenFields();}}}}};YAHOO.widget.Button.getButton=function(N){return D[N];};})();(function(){var C=YAHOO.util.Dom,B=YAHOO.util.Event,D=YAHOO.lang,A=YAHOO.widget.Button,E={};YAHOO.widget.ButtonGroup=function(J,H){var I=YAHOO.widget.ButtonGroup.superclass.constructor,K,G,F;
if(arguments.length==1&&!D.isString(J)&&!J.nodeName){if(!J.id){F=C.generateId();J.id=F;}I.call(this,(this._createGroupElement()),J);}else{if(D.isString(J)){G=C.get(J);if(G){if(G.nodeName.toUpperCase()==this.NODE_NAME){I.call(this,G,H);}}}else{K=J.nodeName.toUpperCase();if(K&&K==this.NODE_NAME){if(!J.id){J.id=C.generateId();}I.call(this,J,H);}}}};YAHOO.extend(YAHOO.widget.ButtonGroup,YAHOO.util.Element,{_buttons:null,NODE_NAME:"DIV",CLASS_NAME_PREFIX:"yui-",CSS_CLASS_NAME:"buttongroup",_createGroupElement:function(){var F=document.createElement(this.NODE_NAME);return F;},_setDisabled:function(G){var H=this.getCount(),F;if(H>0){F=H-1;do{this._buttons[F].set("disabled",G);}while(F--);}},_onKeyDown:function(K){var G=B.getTarget(K),I=B.getCharCode(K),H=G.parentNode.parentNode.id,J=E[H],F=-1;if(I==37||I==38){F=(J.index===0)?(this._buttons.length-1):(J.index-1);}else{if(I==39||I==40){F=(J.index===(this._buttons.length-1))?0:(J.index+1);}}if(F>-1){this.check(F);this.getButton(F).focus();}},_onAppendTo:function(H){var I=this._buttons,G=I.length,F;for(F=0;F<G;F++){I[F].appendTo(this.get("element"));}},_onButtonCheckedChange:function(G,F){var I=G.newValue,H=this.get("checkedButton");if(I&&H!=F){if(H){H.set("checked",false,true);}this.set("checkedButton",F);this.set("value",F.get("value"));}else{if(H&&!H.set("checked")){H.set("checked",true,true);}}},init:function(I,H){this._buttons=[];YAHOO.widget.ButtonGroup.superclass.init.call(this,I,H);this.addClass(this.CLASS_NAME_PREFIX+this.CSS_CLASS_NAME);var K=(YAHOO.widget.Button.prototype.CLASS_NAME_PREFIX+"radio-button"),J=this.getElementsByClassName(K);if(J.length>0){this.addButtons(J);}function F(L){return(L.type=="radio");}J=C.getElementsBy(F,"input",this.get("element"));if(J.length>0){this.addButtons(J);}this.on("keydown",this._onKeyDown);this.on("appendTo",this._onAppendTo);var G=this.get("container");if(G){if(D.isString(G)){B.onContentReady(G,function(){this.appendTo(G);},null,this);}else{this.appendTo(G);}}},initAttributes:function(G){var F=G||{};YAHOO.widget.ButtonGroup.superclass.initAttributes.call(this,F);this.setAttributeConfig("name",{value:F.name,validator:D.isString});this.setAttributeConfig("disabled",{value:(F.disabled||false),validator:D.isBoolean,method:this._setDisabled});this.setAttributeConfig("value",{value:F.value});this.setAttributeConfig("container",{value:F.container,writeOnce:true});this.setAttributeConfig("checkedButton",{value:null});},addButton:function(J){var L,K,G,F,H,I;if(J instanceof A&&J.get("type")=="radio"){L=J;}else{if(!D.isString(J)&&!J.nodeName){J.type="radio";L=new A(J);}else{L=new A(J,{type:"radio"});}}if(L){F=this._buttons.length;H=L.get("name");I=this.get("name");L.index=F;this._buttons[F]=L;E[L.get("id")]=L;if(H!=I){L.set("name",I);}if(this.get("disabled")){L.set("disabled",true);}if(L.get("checked")){this.set("checkedButton",L);}K=L.get("element");G=this.get("element");if(K.parentNode!=G){G.appendChild(K);}L.on("checkedChange",this._onButtonCheckedChange,L,this);}return L;},addButtons:function(G){var H,I,J,F;if(D.isArray(G)){H=G.length;J=[];if(H>0){for(F=0;F<H;F++){I=this.addButton(G[F]);if(I){J[J.length]=I;}}}}return J;},removeButton:function(H){var I=this.getButton(H),G,F;if(I){this._buttons.splice(H,1);delete E[I.get("id")];I.removeListener("checkedChange",this._onButtonCheckedChange);I.destroy();G=this._buttons.length;if(G>0){F=this._buttons.length-1;do{this._buttons[F].index=F;}while(F--);}}},getButton:function(F){return this._buttons[F];},getButtons:function(){return this._buttons;},getCount:function(){return this._buttons.length;},focus:function(H){var I,G,F;if(D.isNumber(H)){I=this._buttons[H];if(I){I.focus();}}else{G=this.getCount();for(F=0;F<G;F++){I=this._buttons[F];if(!I.get("disabled")){I.focus();break;}}}},check:function(F){var G=this.getButton(F);if(G){G.set("checked",true);}},destroy:function(){var I=this._buttons.length,H=this.get("element"),F=H.parentNode,G;if(I>0){G=this._buttons.length-1;do{this._buttons[G].destroy();}while(G--);}B.purgeElement(H);F.removeChild(H);},toString:function(){return("ButtonGroup "+this.get("id"));}});})();YAHOO.register("button",YAHOO.widget.Button,{version:"2.9.0",build:"2800"});

// FILE: animation-min.js (fef6821d) 3/7/2014 11:24:11 AM

/*
Copyright (c) 2011, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.9.0
*/
(function(){var b=YAHOO.util;var a=function(d,c,e,f){if(!d){}this.init(d,c,e,f);};a.NAME="Anim";a.prototype={toString:function(){var c=this.getEl()||{};var d=c.id||c.tagName;return(this.constructor.NAME+": "+d);},patterns:{noNegatives:/width|height|opacity|padding/i,offsetAttribute:/^((width|height)|(top|left))$/,defaultUnit:/width|height|top$|bottom$|left$|right$/i,offsetUnit:/\d+(em|%|en|ex|pt|in|cm|mm|pc)$/i},doMethod:function(c,e,d){return this.method(this.currentFrame,e,d-e,this.totalFrames);},setAttribute:function(c,f,e){var d=this.getEl();if(this.patterns.noNegatives.test(c)){f=(f>0)?f:0;}if(c in d&&!("style" in d&&c in d.style)){d[c]=f;}else{b.Dom.setStyle(d,c,f+e);}},getAttribute:function(c){var e=this.getEl();var g=b.Dom.getStyle(e,c);if(g!=="auto"&&!this.patterns.offsetUnit.test(g)){return parseFloat(g);}var d=this.patterns.offsetAttribute.exec(c)||[];var h=!!(d[3]);var f=!!(d[2]);if("style" in e){if(f||(b.Dom.getStyle(e,"position")=="absolute"&&h)){g=e["offset"+d[0].charAt(0).toUpperCase()+d[0].substr(1)];}else{g=0;}}else{if(c in e){g=e[c];}}return g;},getDefaultUnit:function(c){if(this.patterns.defaultUnit.test(c)){return"px";}return"";},setRuntimeAttribute:function(d){var j;var e;var f=this.attributes;this.runtimeAttributes[d]={};var h=function(i){return(typeof i!=="undefined");};if(!h(f[d]["to"])&&!h(f[d]["by"])){return false;}j=(h(f[d]["from"]))?f[d]["from"]:this.getAttribute(d);if(h(f[d]["to"])){e=f[d]["to"];}else{if(h(f[d]["by"])){if(j.constructor==Array){e=[];for(var g=0,c=j.length;g<c;++g){e[g]=j[g]+f[d]["by"][g]*1;}}else{e=j+f[d]["by"]*1;}}}this.runtimeAttributes[d].start=j;this.runtimeAttributes[d].end=e;this.runtimeAttributes[d].unit=(h(f[d].unit))?f[d]["unit"]:this.getDefaultUnit(d);return true;},init:function(f,c,h,i){var d=false;var e=null;var g=0;f=b.Dom.get(f);this.attributes=c||{};this.duration=!YAHOO.lang.isUndefined(h)?h:1;this.method=i||b.Easing.easeNone;this.useSeconds=true;this.currentFrame=0;this.totalFrames=b.AnimMgr.fps;this.setEl=function(j){f=b.Dom.get(j);};this.getEl=function(){return f;};this.isAnimated=function(){return d;};this.getStartTime=function(){return e;};this.runtimeAttributes={};this.animate=function(){if(this.isAnimated()){return false;}this.currentFrame=0;this.totalFrames=(this.useSeconds)?Math.ceil(b.AnimMgr.fps*this.duration):this.duration;if(this.duration===0&&this.useSeconds){this.totalFrames=1;}b.AnimMgr.registerElement(this);return true;};this.stop=function(j){if(!this.isAnimated()){return false;}if(j){this.currentFrame=this.totalFrames;this._onTween.fire();}b.AnimMgr.stop(this);};this._handleStart=function(){this.onStart.fire();this.runtimeAttributes={};for(var j in this.attributes){if(this.attributes.hasOwnProperty(j)){this.setRuntimeAttribute(j);}}d=true;g=0;e=new Date();};this._handleTween=function(){var l={duration:new Date()-this.getStartTime(),currentFrame:this.currentFrame};l.toString=function(){return("duration: "+l.duration+", currentFrame: "+l.currentFrame);};this.onTween.fire(l);var k=this.runtimeAttributes;for(var j in k){if(k.hasOwnProperty(j)){this.setAttribute(j,this.doMethod(j,k[j].start,k[j].end),k[j].unit);}}this.afterTween.fire(l);g+=1;};this._handleComplete=function(){var j=(new Date()-e)/1000;var k={duration:j,frames:g,fps:g/j};k.toString=function(){return("duration: "+k.duration+", frames: "+k.frames+", fps: "+k.fps);};d=false;g=0;this.onComplete.fire(k);};this._onStart=new b.CustomEvent("_start",this,true);this.onStart=new b.CustomEvent("start",this);this.onTween=new b.CustomEvent("tween",this);this.afterTween=new b.CustomEvent("afterTween",this);this._onTween=new b.CustomEvent("_tween",this,true);this.onComplete=new b.CustomEvent("complete",this);this._onComplete=new b.CustomEvent("_complete",this,true);this._onStart.subscribe(this._handleStart);this._onTween.subscribe(this._handleTween);this._onComplete.subscribe(this._handleComplete);}};b.Anim=a;})();YAHOO.util.AnimMgr=new function(){var e=null;var c=[];var g=0;this.fps=1000;this.delay=20;this.registerElement=function(j){c[c.length]=j;g+=1;j._onStart.fire();this.start();};var f=[];var d=false;var h=function(){var j=f.shift();b.apply(YAHOO.util.AnimMgr,j);if(f.length){arguments.callee();}};var b=function(k,j){j=j||a(k);if(!k.isAnimated()||j===-1){return false;}k._onComplete.fire();c.splice(j,1);g-=1;if(g<=0){this.stop();}return true;};this.unRegister=function(){f.push(arguments);if(!d){d=true;h();d=false;}};this.start=function(){if(e===null){e=setInterval(this.run,this.delay);}};this.stop=function(l){if(!l){clearInterval(e);for(var k=0,j=c.length;k<j;++k){this.unRegister(c[0],0);}c=[];e=null;g=0;}else{this.unRegister(l);}};this.run=function(){for(var l=0,j=c.length;l<j;++l){var k=c[l];if(!k||!k.isAnimated()){continue;}if(k.currentFrame<k.totalFrames||k.totalFrames===null){k.currentFrame+=1;if(k.useSeconds){i(k);}k._onTween.fire();}else{YAHOO.util.AnimMgr.stop(k,l);}}};var a=function(l){for(var k=0,j=c.length;k<j;++k){if(c[k]===l){return k;}}return -1;};var i=function(k){var n=k.totalFrames;var m=k.currentFrame;var l=(k.currentFrame*k.duration*1000/k.totalFrames);var j=(new Date()-k.getStartTime());var o=0;if(j<k.duration*1000){o=Math.round((j/l-1)*k.currentFrame);}else{o=n-(m+1);}if(o>0&&isFinite(o)){if(k.currentFrame+o>=n){o=n-(m+1);}k.currentFrame+=o;}};this._queue=c;this._getIndex=a;};YAHOO.util.Bezier=new function(){this.getPosition=function(e,d){var f=e.length;var c=[];for(var b=0;b<f;++b){c[b]=[e[b][0],e[b][1]];}for(var a=1;a<f;++a){for(b=0;b<f-a;++b){c[b][0]=(1-d)*c[b][0]+d*c[parseInt(b+1,10)][0];c[b][1]=(1-d)*c[b][1]+d*c[parseInt(b+1,10)][1];}}return[c[0][0],c[0][1]];};};(function(){var a=function(f,e,g,h){a.superclass.constructor.call(this,f,e,g,h);};a.NAME="ColorAnim";a.DEFAULT_BGCOLOR="#fff";var c=YAHOO.util;YAHOO.extend(a,c.Anim);var d=a.superclass;var b=a.prototype;b.patterns.color=/color$/i;b.patterns.rgb=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i;b.patterns.hex=/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i;b.patterns.hex3=/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i;
b.patterns.transparent=/^transparent|rgba\(0, 0, 0, 0\)$/;b.parseColor=function(e){if(e.length==3){return e;}var f=this.patterns.hex.exec(e);if(f&&f.length==4){return[parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16)];}f=this.patterns.rgb.exec(e);if(f&&f.length==4){return[parseInt(f[1],10),parseInt(f[2],10),parseInt(f[3],10)];}f=this.patterns.hex3.exec(e);if(f&&f.length==4){return[parseInt(f[1]+f[1],16),parseInt(f[2]+f[2],16),parseInt(f[3]+f[3],16)];}return null;};b.getAttribute=function(e){var g=this.getEl();if(this.patterns.color.test(e)){var i=YAHOO.util.Dom.getStyle(g,e);var h=this;if(this.patterns.transparent.test(i)){var f=YAHOO.util.Dom.getAncestorBy(g,function(j){return !h.patterns.transparent.test(i);});if(f){i=c.Dom.getStyle(f,e);}else{i=a.DEFAULT_BGCOLOR;}}}else{i=d.getAttribute.call(this,e);}return i;};b.doMethod=function(f,k,g){var j;if(this.patterns.color.test(f)){j=[];for(var h=0,e=k.length;h<e;++h){j[h]=d.doMethod.call(this,f,k[h],g[h]);}j="rgb("+Math.floor(j[0])+","+Math.floor(j[1])+","+Math.floor(j[2])+")";}else{j=d.doMethod.call(this,f,k,g);}return j;};b.setRuntimeAttribute=function(f){d.setRuntimeAttribute.call(this,f);if(this.patterns.color.test(f)){var h=this.attributes;var k=this.parseColor(this.runtimeAttributes[f].start);var g=this.parseColor(this.runtimeAttributes[f].end);if(typeof h[f]["to"]==="undefined"&&typeof h[f]["by"]!=="undefined"){g=this.parseColor(h[f].by);for(var j=0,e=k.length;j<e;++j){g[j]=k[j]+g[j];}}this.runtimeAttributes[f].start=k;this.runtimeAttributes[f].end=g;}};c.ColorAnim=a;})();
/*!
TERMS OF USE - EASING EQUATIONS
Open source under the BSD License.
Copyright 2001 Robert Penner All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

 * Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
 * Neither the name of the author nor the names of contributors may be used to endorse or promote products derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
YAHOO.util.Easing={easeNone:function(e,a,g,f){return g*e/f+a;},easeIn:function(e,a,g,f){return g*(e/=f)*e+a;},easeOut:function(e,a,g,f){return -g*(e/=f)*(e-2)+a;},easeBoth:function(e,a,g,f){if((e/=f/2)<1){return g/2*e*e+a;}return -g/2*((--e)*(e-2)-1)+a;},easeInStrong:function(e,a,g,f){return g*(e/=f)*e*e*e+a;},easeOutStrong:function(e,a,g,f){return -g*((e=e/f-1)*e*e*e-1)+a;},easeBothStrong:function(e,a,g,f){if((e/=f/2)<1){return g/2*e*e*e*e+a;}return -g/2*((e-=2)*e*e*e-2)+a;},elasticIn:function(g,e,k,j,f,i){if(g==0){return e;}if((g/=j)==1){return e+k;}if(!i){i=j*0.3;}if(!f||f<Math.abs(k)){f=k;var h=i/4;}else{var h=i/(2*Math.PI)*Math.asin(k/f);}return -(f*Math.pow(2,10*(g-=1))*Math.sin((g*j-h)*(2*Math.PI)/i))+e;},elasticOut:function(g,e,k,j,f,i){if(g==0){return e;}if((g/=j)==1){return e+k;}if(!i){i=j*0.3;}if(!f||f<Math.abs(k)){f=k;var h=i/4;}else{var h=i/(2*Math.PI)*Math.asin(k/f);}return f*Math.pow(2,-10*g)*Math.sin((g*j-h)*(2*Math.PI)/i)+k+e;},elasticBoth:function(g,e,k,j,f,i){if(g==0){return e;}if((g/=j/2)==2){return e+k;}if(!i){i=j*(0.3*1.5);}if(!f||f<Math.abs(k)){f=k;var h=i/4;}else{var h=i/(2*Math.PI)*Math.asin(k/f);}if(g<1){return -0.5*(f*Math.pow(2,10*(g-=1))*Math.sin((g*j-h)*(2*Math.PI)/i))+e;}return f*Math.pow(2,-10*(g-=1))*Math.sin((g*j-h)*(2*Math.PI)/i)*0.5+k+e;},backIn:function(e,a,h,g,f){if(typeof f=="undefined"){f=1.70158;}return h*(e/=g)*e*((f+1)*e-f)+a;},backOut:function(e,a,h,g,f){if(typeof f=="undefined"){f=1.70158;}return h*((e=e/g-1)*e*((f+1)*e+f)+1)+a;},backBoth:function(e,a,h,g,f){if(typeof f=="undefined"){f=1.70158;}if((e/=g/2)<1){return h/2*(e*e*(((f*=(1.525))+1)*e-f))+a;}return h/2*((e-=2)*e*(((f*=(1.525))+1)*e+f)+2)+a;},bounceIn:function(e,a,g,f){return g-YAHOO.util.Easing.bounceOut(f-e,0,g,f)+a;},bounceOut:function(e,a,g,f){if((e/=f)<(1/2.75)){return g*(7.5625*e*e)+a;}else{if(e<(2/2.75)){return g*(7.5625*(e-=(1.5/2.75))*e+0.75)+a;}else{if(e<(2.5/2.75)){return g*(7.5625*(e-=(2.25/2.75))*e+0.9375)+a;}}}return g*(7.5625*(e-=(2.625/2.75))*e+0.984375)+a;},bounceBoth:function(e,a,g,f){if(e<f/2){return YAHOO.util.Easing.bounceIn(e*2,0,g,f)*0.5+a;}return YAHOO.util.Easing.bounceOut(e*2-f,0,g,f)*0.5+g*0.5+a;}};(function(){var a=function(h,g,i,j){if(h){a.superclass.constructor.call(this,h,g,i,j);}};a.NAME="Motion";var e=YAHOO.util;YAHOO.extend(a,e.ColorAnim);var f=a.superclass;var c=a.prototype;c.patterns.points=/^points$/i;c.setAttribute=function(g,i,h){if(this.patterns.points.test(g)){h=h||"px";f.setAttribute.call(this,"left",i[0],h);f.setAttribute.call(this,"top",i[1],h);}else{f.setAttribute.call(this,g,i,h);}};c.getAttribute=function(g){if(this.patterns.points.test(g)){var h=[f.getAttribute.call(this,"left"),f.getAttribute.call(this,"top")];}else{h=f.getAttribute.call(this,g);}return h;};c.doMethod=function(g,k,h){var j=null;if(this.patterns.points.test(g)){var i=this.method(this.currentFrame,0,100,this.totalFrames)/100;j=e.Bezier.getPosition(this.runtimeAttributes[g],i);
}else{j=f.doMethod.call(this,g,k,h);}return j;};c.setRuntimeAttribute=function(q){if(this.patterns.points.test(q)){var h=this.getEl();var k=this.attributes;var g;var m=k["points"]["control"]||[];var j;var n,p;if(m.length>0&&!(m[0] instanceof Array)){m=[m];}else{var l=[];for(n=0,p=m.length;n<p;++n){l[n]=m[n];}m=l;}if(e.Dom.getStyle(h,"position")=="static"){e.Dom.setStyle(h,"position","relative");}if(d(k["points"]["from"])){e.Dom.setXY(h,k["points"]["from"]);}else{e.Dom.setXY(h,e.Dom.getXY(h));}g=this.getAttribute("points");if(d(k["points"]["to"])){j=b.call(this,k["points"]["to"],g);var o=e.Dom.getXY(this.getEl());for(n=0,p=m.length;n<p;++n){m[n]=b.call(this,m[n],g);}}else{if(d(k["points"]["by"])){j=[g[0]+k["points"]["by"][0],g[1]+k["points"]["by"][1]];for(n=0,p=m.length;n<p;++n){m[n]=[g[0]+m[n][0],g[1]+m[n][1]];}}}this.runtimeAttributes[q]=[g];if(m.length>0){this.runtimeAttributes[q]=this.runtimeAttributes[q].concat(m);}this.runtimeAttributes[q][this.runtimeAttributes[q].length]=j;}else{f.setRuntimeAttribute.call(this,q);}};var b=function(g,i){var h=e.Dom.getXY(this.getEl());g=[g[0]-h[0]+i[0],g[1]-h[1]+i[1]];return g;};var d=function(g){return(typeof g!=="undefined");};e.Motion=a;})();(function(){var d=function(f,e,g,h){if(f){d.superclass.constructor.call(this,f,e,g,h);}};d.NAME="Scroll";var b=YAHOO.util;YAHOO.extend(d,b.ColorAnim);var c=d.superclass;var a=d.prototype;a.doMethod=function(e,h,f){var g=null;if(e=="scroll"){g=[this.method(this.currentFrame,h[0],f[0]-h[0],this.totalFrames),this.method(this.currentFrame,h[1],f[1]-h[1],this.totalFrames)];}else{g=c.doMethod.call(this,e,h,f);}return g;};a.getAttribute=function(e){var g=null;var f=this.getEl();if(e=="scroll"){g=[f.scrollLeft,f.scrollTop];}else{g=c.getAttribute.call(this,e);}return g;};a.setAttribute=function(e,h,g){var f=this.getEl();if(e=="scroll"){f.scrollLeft=h[0];f.scrollTop=h[1];}else{c.setAttribute.call(this,e,h,g);}};b.Scroll=d;})();YAHOO.register("animation",YAHOO.util.Anim,{version:"2.9.0",build:"2800"});

// FILE: dragdrop-min.js (1d0909e9) 3/7/2014 11:24:12 AM

/*
Copyright (c) 2011, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.9.0
*/
if(!YAHOO.util.DragDropMgr){YAHOO.util.DragDropMgr=function(){var A=YAHOO.util.Event,B=YAHOO.util.Dom;return{useShim:false,_shimActive:false,_shimState:false,_debugShim:false,_createShim:function(){var C=document.createElement("div");C.id="yui-ddm-shim";if(document.body.firstChild){document.body.insertBefore(C,document.body.firstChild);}else{document.body.appendChild(C);}C.style.display="none";C.style.backgroundColor="red";C.style.position="absolute";C.style.zIndex="99999";B.setStyle(C,"opacity","0");this._shim=C;A.on(C,"mouseup",this.handleMouseUp,this,true);A.on(C,"mousemove",this.handleMouseMove,this,true);A.on(window,"scroll",this._sizeShim,this,true);},_sizeShim:function(){if(this._shimActive){var C=this._shim;C.style.height=B.getDocumentHeight()+"px";C.style.width=B.getDocumentWidth()+"px";C.style.top="0";C.style.left="0";}},_activateShim:function(){if(this.useShim){if(!this._shim){this._createShim();}this._shimActive=true;var C=this._shim,D="0";if(this._debugShim){D=".5";}B.setStyle(C,"opacity",D);this._sizeShim();C.style.display="block";}},_deactivateShim:function(){this._shim.style.display="none";this._shimActive=false;},_shim:null,ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:true,stopPropagation:true,initialized:false,locked:false,interactionInfo:null,init:function(){this.initialized=true;},POINT:0,INTERSECT:1,STRICT_INTERSECT:2,mode:0,_execOnAll:function(E,D){for(var F in this.ids){for(var C in this.ids[F]){var G=this.ids[F][C];if(!this.isTypeOfDD(G)){continue;}G[E].apply(G,D);}}},_onLoad:function(){this.init();A.on(document,"mouseup",this.handleMouseUp,this,true);A.on(document,"mousemove",this.handleMouseMove,this,true);A.on(window,"unload",this._onUnload,this,true);A.on(window,"resize",this._onResize,this,true);},_onResize:function(C){this._execOnAll("resetConstraints",[]);},lock:function(){this.locked=true;},unlock:function(){this.locked=false;},isLocked:function(){return this.locked;},locationCache:{},useCache:true,clickPixelThresh:3,clickTimeThresh:1000,dragThreshMet:false,clickTimeout:null,startX:0,startY:0,fromTimeout:false,regDragDrop:function(D,C){if(!this.initialized){this.init();}if(!this.ids[C]){this.ids[C]={};}this.ids[C][D.id]=D;},removeDDFromGroup:function(E,C){if(!this.ids[C]){this.ids[C]={};}var D=this.ids[C];if(D&&D[E.id]){delete D[E.id];}},_remove:function(E){for(var D in E.groups){if(D){var C=this.ids[D];if(C&&C[E.id]){delete C[E.id];}}}delete this.handleIds[E.id];},regHandle:function(D,C){if(!this.handleIds[D]){this.handleIds[D]={};}this.handleIds[D][C]=C;},isDragDrop:function(C){return(this.getDDById(C))?true:false;},getRelated:function(H,D){var G=[];for(var F in H.groups){for(var E in this.ids[F]){var C=this.ids[F][E];if(!this.isTypeOfDD(C)){continue;}if(!D||C.isTarget){G[G.length]=C;}}}return G;},isLegalTarget:function(G,F){var D=this.getRelated(G,true);for(var E=0,C=D.length;E<C;++E){if(D[E].id==F.id){return true;}}return false;},isTypeOfDD:function(C){return(C&&C.__ygDragDrop);},isHandle:function(D,C){return(this.handleIds[D]&&this.handleIds[D][C]);},getDDById:function(D){for(var C in this.ids){if(this.ids[C][D]){return this.ids[C][D];}}return null;},handleMouseDown:function(E,D){this.currentTarget=YAHOO.util.Event.getTarget(E);this.dragCurrent=D;var C=D.getEl();this.startX=YAHOO.util.Event.getPageX(E);this.startY=YAHOO.util.Event.getPageY(E);this.deltaX=this.startX-C.offsetLeft;this.deltaY=this.startY-C.offsetTop;this.dragThreshMet=false;this.clickTimeout=setTimeout(function(){var F=YAHOO.util.DDM;F.startDrag(F.startX,F.startY);F.fromTimeout=true;},this.clickTimeThresh);},startDrag:function(C,E){if(this.dragCurrent&&this.dragCurrent.useShim){this._shimState=this.useShim;this.useShim=true;}this._activateShim();clearTimeout(this.clickTimeout);var D=this.dragCurrent;if(D&&D.events.b4StartDrag){D.b4StartDrag(C,E);D.fireEvent("b4StartDragEvent",{x:C,y:E});}if(D&&D.events.startDrag){D.startDrag(C,E);D.fireEvent("startDragEvent",{x:C,y:E});}this.dragThreshMet=true;},handleMouseUp:function(C){if(this.dragCurrent){clearTimeout(this.clickTimeout);if(this.dragThreshMet){if(this.fromTimeout){this.fromTimeout=false;this.handleMouseMove(C);}this.fromTimeout=false;this.fireEvents(C,true);}else{}this.stopDrag(C);this.stopEvent(C);}},stopEvent:function(C){if(this.stopPropagation){YAHOO.util.Event.stopPropagation(C);}if(this.preventDefault){YAHOO.util.Event.preventDefault(C);}},stopDrag:function(E,D){var C=this.dragCurrent;if(C&&!D){if(this.dragThreshMet){if(C.events.b4EndDrag){C.b4EndDrag(E);C.fireEvent("b4EndDragEvent",{e:E});}if(C.events.endDrag){C.endDrag(E);C.fireEvent("endDragEvent",{e:E});}}if(C.events.mouseUp){C.onMouseUp(E);C.fireEvent("mouseUpEvent",{e:E});}}if(this._shimActive){this._deactivateShim();if(this.dragCurrent&&this.dragCurrent.useShim){this.useShim=this._shimState;this._shimState=false;}}this.dragCurrent=null;this.dragOvers={};},handleMouseMove:function(F){var C=this.dragCurrent;if(C){if(YAHOO.env.ua.ie&&(YAHOO.env.ua.ie<9)&&!F.button){this.stopEvent(F);return this.handleMouseUp(F);}else{if(F.clientX<0||F.clientY<0){}}if(!this.dragThreshMet){var E=Math.abs(this.startX-YAHOO.util.Event.getPageX(F));var D=Math.abs(this.startY-YAHOO.util.Event.getPageY(F));if(E>this.clickPixelThresh||D>this.clickPixelThresh){this.startDrag(this.startX,this.startY);}}if(this.dragThreshMet){if(C&&C.events.b4Drag){C.b4Drag(F);C.fireEvent("b4DragEvent",{e:F});}if(C&&C.events.drag){C.onDrag(F);C.fireEvent("dragEvent",{e:F});}if(C){this.fireEvents(F,false);}}this.stopEvent(F);}},fireEvents:function(W,M){var c=this.dragCurrent;if(!c||c.isLocked()||c.dragOnly){return;}var O=YAHOO.util.Event.getPageX(W),N=YAHOO.util.Event.getPageY(W),Q=new YAHOO.util.Point(O,N),K=c.getTargetCoord(Q.x,Q.y),F=c.getDragEl(),E=["out","over","drop","enter"],V=new YAHOO.util.Region(K.y,K.x+F.offsetWidth,K.y+F.offsetHeight,K.x),I=[],D={},L={},R=[],d={outEvts:[],overEvts:[],dropEvts:[],enterEvts:[]};for(var T in this.dragOvers){var f=this.dragOvers[T];if(!this.isTypeOfDD(f)){continue;
}if(!this.isOverTarget(Q,f,this.mode,V)){d.outEvts.push(f);}I[T]=true;delete this.dragOvers[T];}for(var S in c.groups){if("string"!=typeof S){continue;}for(T in this.ids[S]){var G=this.ids[S][T];if(!this.isTypeOfDD(G)){continue;}if(G.isTarget&&!G.isLocked()&&G!=c){if(this.isOverTarget(Q,G,this.mode,V)){D[S]=true;if(M){d.dropEvts.push(G);}else{if(!I[G.id]){d.enterEvts.push(G);}else{d.overEvts.push(G);}this.dragOvers[G.id]=G;}}}}}this.interactionInfo={out:d.outEvts,enter:d.enterEvts,over:d.overEvts,drop:d.dropEvts,point:Q,draggedRegion:V,sourceRegion:this.locationCache[c.id],validDrop:M};for(var C in D){R.push(C);}if(M&&!d.dropEvts.length){this.interactionInfo.validDrop=false;if(c.events.invalidDrop){c.onInvalidDrop(W);c.fireEvent("invalidDropEvent",{e:W});}}for(T=0;T<E.length;T++){var Z=null;if(d[E[T]+"Evts"]){Z=d[E[T]+"Evts"];}if(Z&&Z.length){var H=E[T].charAt(0).toUpperCase()+E[T].substr(1),Y="onDrag"+H,J="b4Drag"+H,P="drag"+H+"Event",X="drag"+H;if(this.mode){if(c.events[J]){c[J](W,Z,R);L[Y]=c.fireEvent(J+"Event",{event:W,info:Z,group:R});}if(c.events[X]&&(L[Y]!==false)){c[Y](W,Z,R);c.fireEvent(P,{event:W,info:Z,group:R});}}else{for(var a=0,U=Z.length;a<U;++a){if(c.events[J]){c[J](W,Z[a].id,R[0]);L[Y]=c.fireEvent(J+"Event",{event:W,info:Z[a].id,group:R[0]});}if(c.events[X]&&(L[Y]!==false)){c[Y](W,Z[a].id,R[0]);c.fireEvent(P,{event:W,info:Z[a].id,group:R[0]});}}}}}},getBestMatch:function(E){var G=null;var D=E.length;if(D==1){G=E[0];}else{for(var F=0;F<D;++F){var C=E[F];if(this.mode==this.INTERSECT&&C.cursorIsOver){G=C;break;}else{if(!G||!G.overlap||(C.overlap&&G.overlap.getArea()<C.overlap.getArea())){G=C;}}}}return G;},refreshCache:function(D){var F=D||this.ids;for(var C in F){if("string"!=typeof C){continue;}for(var E in this.ids[C]){var G=this.ids[C][E];if(this.isTypeOfDD(G)){var H=this.getLocation(G);if(H){this.locationCache[G.id]=H;}else{delete this.locationCache[G.id];}}}}},verifyEl:function(D){try{if(D){var C=D.offsetParent;if(C){return true;}}}catch(E){}return false;},getLocation:function(H){if(!this.isTypeOfDD(H)){return null;}var F=H.getEl(),K,E,D,M,L,N,C,J,G;try{K=YAHOO.util.Dom.getXY(F);}catch(I){}if(!K){return null;}E=K[0];D=E+F.offsetWidth;M=K[1];L=M+F.offsetHeight;N=M-H.padding[0];C=D+H.padding[1];J=L+H.padding[2];G=E-H.padding[3];return new YAHOO.util.Region(N,C,J,G);},isOverTarget:function(K,C,E,F){var G=this.locationCache[C.id];if(!G||!this.useCache){G=this.getLocation(C);this.locationCache[C.id]=G;}if(!G){return false;}C.cursorIsOver=G.contains(K);var J=this.dragCurrent;if(!J||(!E&&!J.constrainX&&!J.constrainY)){return C.cursorIsOver;}C.overlap=null;if(!F){var H=J.getTargetCoord(K.x,K.y);var D=J.getDragEl();F=new YAHOO.util.Region(H.y,H.x+D.offsetWidth,H.y+D.offsetHeight,H.x);}var I=F.intersect(G);if(I){C.overlap=I;return(E)?true:C.cursorIsOver;}else{return false;}},_onUnload:function(D,C){this.unregAll();},unregAll:function(){if(this.dragCurrent){this.stopDrag();this.dragCurrent=null;}this._execOnAll("unreg",[]);this.ids={};},elementCache:{},getElWrapper:function(D){var C=this.elementCache[D];if(!C||!C.el){C=this.elementCache[D]=new this.ElementWrapper(YAHOO.util.Dom.get(D));}return C;},getElement:function(C){return YAHOO.util.Dom.get(C);},getCss:function(D){var C=YAHOO.util.Dom.get(D);return(C)?C.style:null;},ElementWrapper:function(C){this.el=C||null;this.id=this.el&&C.id;this.css=this.el&&C.style;},getPosX:function(C){return YAHOO.util.Dom.getX(C);},getPosY:function(C){return YAHOO.util.Dom.getY(C);},swapNode:function(E,C){if(E.swapNode){E.swapNode(C);}else{var F=C.parentNode;var D=C.nextSibling;if(D==E){F.insertBefore(E,C);}else{if(C==E.nextSibling){F.insertBefore(C,E);}else{E.parentNode.replaceChild(C,E);F.insertBefore(E,D);}}}},getScroll:function(){var E,C,F=document.documentElement,D=document.body;if(F&&(F.scrollTop||F.scrollLeft)){E=F.scrollTop;C=F.scrollLeft;}else{if(D){E=D.scrollTop;C=D.scrollLeft;}else{}}return{top:E,left:C};},getStyle:function(D,C){return YAHOO.util.Dom.getStyle(D,C);},getScrollTop:function(){return this.getScroll().top;},getScrollLeft:function(){return this.getScroll().left;},moveToEl:function(C,E){var D=YAHOO.util.Dom.getXY(E);YAHOO.util.Dom.setXY(C,D);},getClientHeight:function(){return YAHOO.util.Dom.getViewportHeight();},getClientWidth:function(){return YAHOO.util.Dom.getViewportWidth();},numericSort:function(D,C){return(D-C);},_timeoutCount:0,_addListeners:function(){var C=YAHOO.util.DDM;if(YAHOO.util.Event&&document){C._onLoad();}else{if(C._timeoutCount>2000){}else{setTimeout(C._addListeners,10);if(document&&document.body){C._timeoutCount+=1;}}}},handleWasClicked:function(C,E){if(this.isHandle(E,C.id)){return true;}else{var D=C.parentNode;while(D){if(this.isHandle(E,D.id)){return true;}else{D=D.parentNode;}}}return false;}};}();YAHOO.util.DDM=YAHOO.util.DragDropMgr;YAHOO.util.DDM._addListeners();}(function(){var A=YAHOO.util.Event;var B=YAHOO.util.Dom;YAHOO.util.DragDrop=function(E,C,D){if(E){this.init(E,C,D);}};YAHOO.util.DragDrop.prototype={events:null,on:function(){this.subscribe.apply(this,arguments);},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:false,lock:function(){this.locked=true;},unlock:function(){this.locked=false;},isTarget:true,padding:null,dragOnly:false,useShim:false,_domRef:null,__ygDragDrop:true,constrainX:false,constrainY:false,minX:0,maxX:0,minY:0,maxY:0,deltaX:0,deltaY:0,maintainOffset:false,xTicks:null,yTicks:null,primaryButtonOnly:true,available:false,hasOuterHandles:false,cursorIsOver:false,overlap:null,b4StartDrag:function(C,D){},startDrag:function(C,D){},b4Drag:function(C){},onDrag:function(C){},onDragEnter:function(C,D){},b4DragOver:function(C){},onDragOver:function(C,D){},b4DragOut:function(C){},onDragOut:function(C,D){},b4DragDrop:function(C){},onDragDrop:function(C,D){},onInvalidDrop:function(C){},b4EndDrag:function(C){},endDrag:function(C){},b4MouseDown:function(C){},onMouseDown:function(C){},onMouseUp:function(C){},onAvailable:function(){},getEl:function(){if(!this._domRef){this._domRef=B.get(this.id);
}return this._domRef;},getDragEl:function(){return B.get(this.dragElId);},init:function(F,C,D){this.initTarget(F,C,D);A.on(this._domRef||this.id,"mousedown",this.handleMouseDown,this,true);for(var E in this.events){this.createEvent(E+"Event");}},initTarget:function(E,C,D){this.config=D||{};this.events={};this.DDM=YAHOO.util.DDM;this.groups={};if(typeof E!=="string"){this._domRef=E;E=B.generateId(E);}this.id=E;this.addToGroup((C)?C:"default");this.handleElId=E;A.onAvailable(E,this.handleOnAvailable,this,true);this.setDragElId(E);this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();},applyConfig:function(){this.events={mouseDown:true,b4MouseDown:true,mouseUp:true,b4StartDrag:true,startDrag:true,b4EndDrag:true,endDrag:true,drag:true,b4Drag:true,invalidDrop:true,b4DragOut:true,dragOut:true,dragEnter:true,b4DragOver:true,dragOver:true,b4DragDrop:true,dragDrop:true};if(this.config.events){for(var C in this.config.events){if(this.config.events[C]===false){this.events[C]=false;}}}this.padding=this.config.padding||[0,0,0,0];this.isTarget=(this.config.isTarget!==false);this.maintainOffset=(this.config.maintainOffset);this.primaryButtonOnly=(this.config.primaryButtonOnly!==false);this.dragOnly=((this.config.dragOnly===true)?true:false);this.useShim=((this.config.useShim===true)?true:false);},handleOnAvailable:function(){this.available=true;this.resetConstraints();this.onAvailable();},setPadding:function(E,C,F,D){if(!C&&0!==C){this.padding=[E,E,E,E];}else{if(!F&&0!==F){this.padding=[E,C,E,C];}else{this.padding=[E,C,F,D];}}},setInitPosition:function(F,E){var G=this.getEl();if(!this.DDM.verifyEl(G)){if(G&&G.style&&(G.style.display=="none")){}else{}return;}var D=F||0;var C=E||0;var H=B.getXY(G);this.initPageX=H[0]-D;this.initPageY=H[1]-C;this.lastPageX=H[0];this.lastPageY=H[1];this.setStartPosition(H);},setStartPosition:function(D){var C=D||B.getXY(this.getEl());this.deltaSetXY=null;this.startPageX=C[0];this.startPageY=C[1];},addToGroup:function(C){this.groups[C]=true;this.DDM.regDragDrop(this,C);},removeFromGroup:function(C){if(this.groups[C]){delete this.groups[C];}this.DDM.removeDDFromGroup(this,C);},setDragElId:function(C){this.dragElId=C;},setHandleElId:function(C){if(typeof C!=="string"){C=B.generateId(C);}this.handleElId=C;this.DDM.regHandle(this.id,C);},setOuterHandleElId:function(C){if(typeof C!=="string"){C=B.generateId(C);}A.on(C,"mousedown",this.handleMouseDown,this,true);this.setHandleElId(C);this.hasOuterHandles=true;},unreg:function(){A.removeListener(this.id,"mousedown",this.handleMouseDown);this._domRef=null;this.DDM._remove(this);},isLocked:function(){return(this.DDM.isLocked()||this.locked);},handleMouseDown:function(J,I){var D=J.which||J.button;if(this.primaryButtonOnly&&D>1){return;}if(this.isLocked()){return;}var C=this.b4MouseDown(J),F=true;if(this.events.b4MouseDown){F=this.fireEvent("b4MouseDownEvent",J);}var E=this.onMouseDown(J),H=true;if(this.events.mouseDown){if(E===false){H=false;}else{H=this.fireEvent("mouseDownEvent",J);}}if((C===false)||(E===false)||(F===false)||(H===false)){return;}this.DDM.refreshCache(this.groups);var G=new YAHOO.util.Point(A.getPageX(J),A.getPageY(J));if(!this.hasOuterHandles&&!this.DDM.isOverTarget(G,this)){}else{if(this.clickValidator(J)){this.setStartPosition();this.DDM.handleMouseDown(J,this);this.DDM.stopEvent(J);}else{}}},clickValidator:function(D){var C=YAHOO.util.Event.getTarget(D);return(this.isValidHandleChild(C)&&(this.id==this.handleElId||this.DDM.handleWasClicked(C,this.id)));},getTargetCoord:function(E,D){var C=E-this.deltaX;var F=D-this.deltaY;if(this.constrainX){if(C<this.minX){C=this.minX;}if(C>this.maxX){C=this.maxX;}}if(this.constrainY){if(F<this.minY){F=this.minY;}if(F>this.maxY){F=this.maxY;}}C=this.getTick(C,this.xTicks);F=this.getTick(F,this.yTicks);return{x:C,y:F};},addInvalidHandleType:function(C){var D=C.toUpperCase();this.invalidHandleTypes[D]=D;},addInvalidHandleId:function(C){if(typeof C!=="string"){C=B.generateId(C);}this.invalidHandleIds[C]=C;},addInvalidHandleClass:function(C){this.invalidHandleClasses.push(C);},removeInvalidHandleType:function(C){var D=C.toUpperCase();delete this.invalidHandleTypes[D];},removeInvalidHandleId:function(C){if(typeof C!=="string"){C=B.generateId(C);}delete this.invalidHandleIds[C];},removeInvalidHandleClass:function(D){for(var E=0,C=this.invalidHandleClasses.length;E<C;++E){if(this.invalidHandleClasses[E]==D){delete this.invalidHandleClasses[E];}}},isValidHandleChild:function(F){var E=true;var H;try{H=F.nodeName.toUpperCase();}catch(G){H=F.nodeName;}E=E&&!this.invalidHandleTypes[H];E=E&&!this.invalidHandleIds[F.id];for(var D=0,C=this.invalidHandleClasses.length;E&&D<C;++D){E=!B.hasClass(F,this.invalidHandleClasses[D]);}return E;},setXTicks:function(F,C){this.xTicks=[];this.xTickSize=C;var E={};for(var D=this.initPageX;D>=this.minX;D=D-C){if(!E[D]){this.xTicks[this.xTicks.length]=D;E[D]=true;}}for(D=this.initPageX;D<=this.maxX;D=D+C){if(!E[D]){this.xTicks[this.xTicks.length]=D;E[D]=true;}}this.xTicks.sort(this.DDM.numericSort);},setYTicks:function(F,C){this.yTicks=[];this.yTickSize=C;var E={};for(var D=this.initPageY;D>=this.minY;D=D-C){if(!E[D]){this.yTicks[this.yTicks.length]=D;E[D]=true;}}for(D=this.initPageY;D<=this.maxY;D=D+C){if(!E[D]){this.yTicks[this.yTicks.length]=D;E[D]=true;}}this.yTicks.sort(this.DDM.numericSort);},setXConstraint:function(E,D,C){this.leftConstraint=parseInt(E,10);this.rightConstraint=parseInt(D,10);this.minX=this.initPageX-this.leftConstraint;this.maxX=this.initPageX+this.rightConstraint;if(C){this.setXTicks(this.initPageX,C);}this.constrainX=true;},clearConstraints:function(){this.constrainX=false;this.constrainY=false;this.clearTicks();},clearTicks:function(){this.xTicks=null;this.yTicks=null;this.xTickSize=0;this.yTickSize=0;},setYConstraint:function(C,E,D){this.topConstraint=parseInt(C,10);this.bottomConstraint=parseInt(E,10);this.minY=this.initPageY-this.topConstraint;this.maxY=this.initPageY+this.bottomConstraint;
if(D){this.setYTicks(this.initPageY,D);}this.constrainY=true;},resetConstraints:function(){if(this.initPageX||this.initPageX===0){var D=(this.maintainOffset)?this.lastPageX-this.initPageX:0;var C=(this.maintainOffset)?this.lastPageY-this.initPageY:0;this.setInitPosition(D,C);}else{this.setInitPosition();}if(this.constrainX){this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize);}if(this.constrainY){this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize);}},getTick:function(I,F){if(!F){return I;}else{if(F[0]>=I){return F[0];}else{for(var D=0,C=F.length;D<C;++D){var E=D+1;if(F[E]&&F[E]>=I){var H=I-F[D];var G=F[E]-I;return(G>H)?F[D]:F[E];}}return F[F.length-1];}}},toString:function(){return("DragDrop "+this.id);}};YAHOO.augment(YAHOO.util.DragDrop,YAHOO.util.EventProvider);})();YAHOO.util.DD=function(C,A,B){if(C){this.init(C,A,B);}};YAHOO.extend(YAHOO.util.DD,YAHOO.util.DragDrop,{scroll:true,autoOffset:function(C,B){var A=C-this.startPageX;var D=B-this.startPageY;this.setDelta(A,D);},setDelta:function(B,A){this.deltaX=B;this.deltaY=A;},setDragElPos:function(C,B){var A=this.getDragEl();this.alignElWithMouse(A,C,B);},alignElWithMouse:function(C,G,F){var E=this.getTargetCoord(G,F);if(!this.deltaSetXY){var H=[E.x,E.y];YAHOO.util.Dom.setXY(C,H);var D=parseInt(YAHOO.util.Dom.getStyle(C,"left"),10);var B=parseInt(YAHOO.util.Dom.getStyle(C,"top"),10);this.deltaSetXY=[D-E.x,B-E.y];}else{YAHOO.util.Dom.setStyle(C,"left",(E.x+this.deltaSetXY[0])+"px");YAHOO.util.Dom.setStyle(C,"top",(E.y+this.deltaSetXY[1])+"px");}this.cachePosition(E.x,E.y);var A=this;setTimeout(function(){A.autoScroll.call(A,E.x,E.y,C.offsetHeight,C.offsetWidth);},0);},cachePosition:function(B,A){if(B){this.lastPageX=B;this.lastPageY=A;}else{var C=YAHOO.util.Dom.getXY(this.getEl());this.lastPageX=C[0];this.lastPageY=C[1];}},autoScroll:function(J,I,E,K){if(this.scroll){var L=this.DDM.getClientHeight();var B=this.DDM.getClientWidth();var N=this.DDM.getScrollTop();var D=this.DDM.getScrollLeft();var H=E+I;var M=K+J;var G=(L+N-I-this.deltaY);var F=(B+D-J-this.deltaX);var C=40;var A=(document.all)?80:30;if(H>L&&G<C){window.scrollTo(D,N+A);}if(I<N&&N>0&&I-N<C){window.scrollTo(D,N-A);}if(M>B&&F<C){window.scrollTo(D+A,N);}if(J<D&&D>0&&J-D<C){window.scrollTo(D-A,N);}}},applyConfig:function(){YAHOO.util.DD.superclass.applyConfig.call(this);this.scroll=(this.config.scroll!==false);},b4MouseDown:function(A){this.setStartPosition();this.autoOffset(YAHOO.util.Event.getPageX(A),YAHOO.util.Event.getPageY(A));},b4Drag:function(A){this.setDragElPos(YAHOO.util.Event.getPageX(A),YAHOO.util.Event.getPageY(A));},toString:function(){return("DD "+this.id);}});YAHOO.util.DDProxy=function(C,A,B){if(C){this.init(C,A,B);this.initFrame();}};YAHOO.util.DDProxy.dragElId="ygddfdiv";YAHOO.extend(YAHOO.util.DDProxy,YAHOO.util.DD,{resizeFrame:true,centerFrame:false,createFrame:function(){var B=this,A=document.body;if(!A||!A.firstChild){setTimeout(function(){B.createFrame();},50);return;}var F=this.getDragEl(),E=YAHOO.util.Dom;if(!F){F=document.createElement("div");F.id=this.dragElId;var D=F.style;D.position="absolute";D.visibility="hidden";D.cursor="move";D.border="2px solid #aaa";D.zIndex=999;D.height="25px";D.width="25px";var C=document.createElement("div");E.setStyle(C,"height","100%");E.setStyle(C,"width","100%");E.setStyle(C,"background-color","#ccc");E.setStyle(C,"opacity","0");F.appendChild(C);A.insertBefore(F,A.firstChild);}},initFrame:function(){this.createFrame();},applyConfig:function(){YAHOO.util.DDProxy.superclass.applyConfig.call(this);this.resizeFrame=(this.config.resizeFrame!==false);this.centerFrame=(this.config.centerFrame);this.setDragElId(this.config.dragElId||YAHOO.util.DDProxy.dragElId);},showFrame:function(E,D){var C=this.getEl();var A=this.getDragEl();var B=A.style;this._resizeProxy();if(this.centerFrame){this.setDelta(Math.round(parseInt(B.width,10)/2),Math.round(parseInt(B.height,10)/2));}this.setDragElPos(E,D);YAHOO.util.Dom.setStyle(A,"visibility","visible");},_resizeProxy:function(){if(this.resizeFrame){var H=YAHOO.util.Dom;var B=this.getEl();var C=this.getDragEl();var G=parseInt(H.getStyle(C,"borderTopWidth"),10);var I=parseInt(H.getStyle(C,"borderRightWidth"),10);var F=parseInt(H.getStyle(C,"borderBottomWidth"),10);var D=parseInt(H.getStyle(C,"borderLeftWidth"),10);if(isNaN(G)){G=0;}if(isNaN(I)){I=0;}if(isNaN(F)){F=0;}if(isNaN(D)){D=0;}var E=Math.max(0,B.offsetWidth-I-D);var A=Math.max(0,B.offsetHeight-G-F);H.setStyle(C,"width",E+"px");H.setStyle(C,"height",A+"px");}},b4MouseDown:function(B){this.setStartPosition();var A=YAHOO.util.Event.getPageX(B);var C=YAHOO.util.Event.getPageY(B);this.autoOffset(A,C);},b4StartDrag:function(A,B){this.showFrame(A,B);},b4EndDrag:function(A){YAHOO.util.Dom.setStyle(this.getDragEl(),"visibility","hidden");},endDrag:function(D){var C=YAHOO.util.Dom;var B=this.getEl();var A=this.getDragEl();C.setStyle(A,"visibility","");C.setStyle(B,"visibility","hidden");YAHOO.util.DDM.moveToEl(B,A);C.setStyle(A,"visibility","hidden");C.setStyle(B,"visibility","");},toString:function(){return("DDProxy "+this.id);}});YAHOO.util.DDTarget=function(C,A,B){if(C){this.initTarget(C,A,B);}};YAHOO.extend(YAHOO.util.DDTarget,YAHOO.util.DragDrop,{toString:function(){return("DDTarget "+this.id);}});YAHOO.register("dragdrop",YAHOO.util.DragDropMgr,{version:"2.9.0",build:"2800"});

// FILE: container-min.js (c0ceff96) 3/7/2014 11:24:11 AM

/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.8.1
*/
(function(){YAHOO.util.Config=function(D){if(D){this.init(D);}};var B=YAHOO.lang,C=YAHOO.util.CustomEvent,A=YAHOO.util.Config;A.CONFIG_CHANGED_EVENT="configChanged";A.BOOLEAN_TYPE="boolean";A.prototype={owner:null,queueInProgress:false,config:null,initialConfig:null,eventQueue:null,configChangedEvent:null,init:function(D){this.owner=D;this.configChangedEvent=this.createEvent(A.CONFIG_CHANGED_EVENT);this.configChangedEvent.signature=C.LIST;this.queueInProgress=false;this.config={};this.initialConfig={};this.eventQueue=[];},checkBoolean:function(D){return(typeof D==A.BOOLEAN_TYPE);},checkNumber:function(D){return(!isNaN(D));},fireEvent:function(D,F){var E=this.config[D];if(E&&E.event){E.event.fire(F);}},addProperty:function(E,D){E=E.toLowerCase();this.config[E]=D;D.event=this.createEvent(E,{scope:this.owner});D.event.signature=C.LIST;D.key=E;if(D.handler){D.event.subscribe(D.handler,this.owner);}this.setProperty(E,D.value,true);if(!D.suppressEvent){this.queueProperty(E,D.value);}},getConfig:function(){var D={},F=this.config,G,E;for(G in F){if(B.hasOwnProperty(F,G)){E=F[G];if(E&&E.event){D[G]=E.value;}}}return D;},getProperty:function(D){var E=this.config[D.toLowerCase()];if(E&&E.event){return E.value;}else{return undefined;}},resetProperty:function(D){D=D.toLowerCase();var E=this.config[D];if(E&&E.event){if(this.initialConfig[D]&&!B.isUndefined(this.initialConfig[D])){this.setProperty(D,this.initialConfig[D]);return true;}}else{return false;}},setProperty:function(E,G,D){var F;E=E.toLowerCase();if(this.queueInProgress&&!D){this.queueProperty(E,G);return true;}else{F=this.config[E];if(F&&F.event){if(F.validator&&!F.validator(G)){return false;}else{F.value=G;if(!D){this.fireEvent(E,G);this.configChangedEvent.fire([E,G]);}return true;}}else{return false;}}},queueProperty:function(S,P){S=S.toLowerCase();var R=this.config[S],K=false,J,G,H,I,O,Q,F,M,N,D,L,T,E;if(R&&R.event){if(!B.isUndefined(P)&&R.validator&&!R.validator(P)){return false;}else{if(!B.isUndefined(P)){R.value=P;}else{P=R.value;}K=false;J=this.eventQueue.length;for(L=0;L<J;L++){G=this.eventQueue[L];if(G){H=G[0];I=G[1];if(H==S){this.eventQueue[L]=null;this.eventQueue.push([S,(!B.isUndefined(P)?P:I)]);K=true;break;}}}if(!K&&!B.isUndefined(P)){this.eventQueue.push([S,P]);}}if(R.supercedes){O=R.supercedes.length;for(T=0;T<O;T++){Q=R.supercedes[T];F=this.eventQueue.length;for(E=0;E<F;E++){M=this.eventQueue[E];if(M){N=M[0];D=M[1];if(N==Q.toLowerCase()){this.eventQueue.push([N,D]);this.eventQueue[E]=null;break;}}}}}return true;}else{return false;}},refireEvent:function(D){D=D.toLowerCase();var E=this.config[D];if(E&&E.event&&!B.isUndefined(E.value)){if(this.queueInProgress){this.queueProperty(D);}else{this.fireEvent(D,E.value);}}},applyConfig:function(D,G){var F,E;if(G){E={};for(F in D){if(B.hasOwnProperty(D,F)){E[F.toLowerCase()]=D[F];}}this.initialConfig=E;}for(F in D){if(B.hasOwnProperty(D,F)){this.queueProperty(F,D[F]);}}},refresh:function(){var D;for(D in this.config){if(B.hasOwnProperty(this.config,D)){this.refireEvent(D);}}},fireQueue:function(){var E,H,D,G,F;this.queueInProgress=true;for(E=0;E<this.eventQueue.length;E++){H=this.eventQueue[E];if(H){D=H[0];G=H[1];F=this.config[D];F.value=G;this.eventQueue[E]=null;this.fireEvent(D,G);}}this.queueInProgress=false;this.eventQueue=[];},subscribeToConfigEvent:function(D,E,G,H){var F=this.config[D.toLowerCase()];if(F&&F.event){if(!A.alreadySubscribed(F.event,E,G)){F.event.subscribe(E,G,H);}return true;}else{return false;}},unsubscribeFromConfigEvent:function(D,E,G){var F=this.config[D.toLowerCase()];if(F&&F.event){return F.event.unsubscribe(E,G);}else{return false;}},toString:function(){var D="Config";if(this.owner){D+=" ["+this.owner.toString()+"]";}return D;},outputEventQueue:function(){var D="",G,E,F=this.eventQueue.length;for(E=0;E<F;E++){G=this.eventQueue[E];if(G){D+=G[0]+"="+G[1]+", ";}}return D;},destroy:function(){var E=this.config,D,F;for(D in E){if(B.hasOwnProperty(E,D)){F=E[D];F.event.unsubscribeAll();F.event=null;}}this.configChangedEvent.unsubscribeAll();this.configChangedEvent=null;this.owner=null;this.config=null;this.initialConfig=null;this.eventQueue=null;}};A.alreadySubscribed=function(E,H,I){var F=E.subscribers.length,D,G;if(F>0){G=F-1;do{D=E.subscribers[G];if(D&&D.obj==I&&D.fn==H){return true;}}while(G--);}return false;};YAHOO.lang.augmentProto(A,YAHOO.util.EventProvider);}());(function(){YAHOO.widget.Module=function(R,Q){if(R){this.init(R,Q);}else{}};var F=YAHOO.util.Dom,D=YAHOO.util.Config,N=YAHOO.util.Event,M=YAHOO.util.CustomEvent,G=YAHOO.widget.Module,I=YAHOO.env.ua,H,P,O,E,A={"BEFORE_INIT":"beforeInit","INIT":"init","APPEND":"append","BEFORE_RENDER":"beforeRender","RENDER":"render","CHANGE_HEADER":"changeHeader","CHANGE_BODY":"changeBody","CHANGE_FOOTER":"changeFooter","CHANGE_CONTENT":"changeContent","DESTROY":"destroy","BEFORE_SHOW":"beforeShow","SHOW":"show","BEFORE_HIDE":"beforeHide","HIDE":"hide"},J={"VISIBLE":{key:"visible",value:true,validator:YAHOO.lang.isBoolean},"EFFECT":{key:"effect",suppressEvent:true,supercedes:["visible"]},"MONITOR_RESIZE":{key:"monitorresize",value:true},"APPEND_TO_DOCUMENT_BODY":{key:"appendtodocumentbody",value:false}};G.IMG_ROOT=null;G.IMG_ROOT_SSL=null;G.CSS_MODULE="yui-module";G.CSS_HEADER="hd";G.CSS_BODY="bd";G.CSS_FOOTER="ft";G.RESIZE_MONITOR_SECURE_URL="javascript:false;";G.RESIZE_MONITOR_BUFFER=1;G.textResizeEvent=new M("textResize");G.forceDocumentRedraw=function(){var Q=document.documentElement;if(Q){Q.className+=" ";Q.className=YAHOO.lang.trim(Q.className);}};function L(){if(!H){H=document.createElement("div");H.innerHTML=('<div class="'+G.CSS_HEADER+'"></div>'+'<div class="'+G.CSS_BODY+'"></div><div class="'+G.CSS_FOOTER+'"></div>');P=H.firstChild;O=P.nextSibling;E=O.nextSibling;}return H;}function K(){if(!P){L();}return(P.cloneNode(false));}function B(){if(!O){L();}return(O.cloneNode(false));}function C(){if(!E){L();}return(E.cloneNode(false));}G.prototype={constructor:G,element:null,header:null,body:null,footer:null,id:null,imageRoot:G.IMG_ROOT,initEvents:function(){var Q=M.LIST;
this.beforeInitEvent=this.createEvent(A.BEFORE_INIT);this.beforeInitEvent.signature=Q;this.initEvent=this.createEvent(A.INIT);this.initEvent.signature=Q;this.appendEvent=this.createEvent(A.APPEND);this.appendEvent.signature=Q;this.beforeRenderEvent=this.createEvent(A.BEFORE_RENDER);this.beforeRenderEvent.signature=Q;this.renderEvent=this.createEvent(A.RENDER);this.renderEvent.signature=Q;this.changeHeaderEvent=this.createEvent(A.CHANGE_HEADER);this.changeHeaderEvent.signature=Q;this.changeBodyEvent=this.createEvent(A.CHANGE_BODY);this.changeBodyEvent.signature=Q;this.changeFooterEvent=this.createEvent(A.CHANGE_FOOTER);this.changeFooterEvent.signature=Q;this.changeContentEvent=this.createEvent(A.CHANGE_CONTENT);this.changeContentEvent.signature=Q;this.destroyEvent=this.createEvent(A.DESTROY);this.destroyEvent.signature=Q;this.beforeShowEvent=this.createEvent(A.BEFORE_SHOW);this.beforeShowEvent.signature=Q;this.showEvent=this.createEvent(A.SHOW);this.showEvent.signature=Q;this.beforeHideEvent=this.createEvent(A.BEFORE_HIDE);this.beforeHideEvent.signature=Q;this.hideEvent=this.createEvent(A.HIDE);this.hideEvent.signature=Q;},platform:function(){var Q=navigator.userAgent.toLowerCase();if(Q.indexOf("windows")!=-1||Q.indexOf("win32")!=-1){return"windows";}else{if(Q.indexOf("macintosh")!=-1){return"mac";}else{return false;}}}(),browser:function(){var Q=navigator.userAgent.toLowerCase();if(Q.indexOf("opera")!=-1){return"opera";}else{if(Q.indexOf("msie 7")!=-1){return"ie7";}else{if(Q.indexOf("msie")!=-1){return"ie";}else{if(Q.indexOf("safari")!=-1){return"safari";}else{if(Q.indexOf("gecko")!=-1){return"gecko";}else{return false;}}}}}}(),isSecure:function(){if(window.location.href.toLowerCase().indexOf("https")===0){return true;}else{return false;}}(),initDefaultConfig:function(){this.cfg.addProperty(J.VISIBLE.key,{handler:this.configVisible,value:J.VISIBLE.value,validator:J.VISIBLE.validator});this.cfg.addProperty(J.EFFECT.key,{suppressEvent:J.EFFECT.suppressEvent,supercedes:J.EFFECT.supercedes});this.cfg.addProperty(J.MONITOR_RESIZE.key,{handler:this.configMonitorResize,value:J.MONITOR_RESIZE.value});this.cfg.addProperty(J.APPEND_TO_DOCUMENT_BODY.key,{value:J.APPEND_TO_DOCUMENT_BODY.value});},init:function(V,U){var S,W;this.initEvents();this.beforeInitEvent.fire(G);this.cfg=new D(this);if(this.isSecure){this.imageRoot=G.IMG_ROOT_SSL;}if(typeof V=="string"){S=V;V=document.getElementById(V);if(!V){V=(L()).cloneNode(false);V.id=S;}}this.id=F.generateId(V);this.element=V;W=this.element.firstChild;if(W){var R=false,Q=false,T=false;do{if(1==W.nodeType){if(!R&&F.hasClass(W,G.CSS_HEADER)){this.header=W;R=true;}else{if(!Q&&F.hasClass(W,G.CSS_BODY)){this.body=W;Q=true;}else{if(!T&&F.hasClass(W,G.CSS_FOOTER)){this.footer=W;T=true;}}}}}while((W=W.nextSibling));}this.initDefaultConfig();F.addClass(this.element,G.CSS_MODULE);if(U){this.cfg.applyConfig(U,true);}if(!D.alreadySubscribed(this.renderEvent,this.cfg.fireQueue,this.cfg)){this.renderEvent.subscribe(this.cfg.fireQueue,this.cfg,true);}this.initEvent.fire(G);},initResizeMonitor:function(){var R=(I.gecko&&this.platform=="windows");if(R){var Q=this;setTimeout(function(){Q._initResizeMonitor();},0);}else{this._initResizeMonitor();}},_initResizeMonitor:function(){var Q,S,U;function W(){G.textResizeEvent.fire();}if(!I.opera){S=F.get("_yuiResizeMonitor");var V=this._supportsCWResize();if(!S){S=document.createElement("iframe");if(this.isSecure&&G.RESIZE_MONITOR_SECURE_URL&&I.ie){S.src=G.RESIZE_MONITOR_SECURE_URL;}if(!V){U=["<html><head><script ",'type="text/javascript">',"window.onresize=function(){window.parent.","YAHOO.widget.Module.textResizeEvent.","fire();};<","/script></head>","<body></body></html>"].join("");S.src="data:text/html;charset=utf-8,"+encodeURIComponent(U);}S.id="_yuiResizeMonitor";S.title="Text Resize Monitor";S.style.position="absolute";S.style.visibility="hidden";var R=document.body,T=R.firstChild;if(T){R.insertBefore(S,T);}else{R.appendChild(S);}S.style.backgroundColor="transparent";S.style.borderWidth="0";S.style.width="2em";S.style.height="2em";S.style.left="0";S.style.top=(-1*(S.offsetHeight+G.RESIZE_MONITOR_BUFFER))+"px";S.style.visibility="visible";if(I.webkit){Q=S.contentWindow.document;Q.open();Q.close();}}if(S&&S.contentWindow){G.textResizeEvent.subscribe(this.onDomResize,this,true);if(!G.textResizeInitialized){if(V){if(!N.on(S.contentWindow,"resize",W)){N.on(S,"resize",W);}}G.textResizeInitialized=true;}this.resizeMonitor=S;}}},_supportsCWResize:function(){var Q=true;if(I.gecko&&I.gecko<=1.8){Q=false;}return Q;},onDomResize:function(S,R){var Q=-1*(this.resizeMonitor.offsetHeight+G.RESIZE_MONITOR_BUFFER);this.resizeMonitor.style.top=Q+"px";this.resizeMonitor.style.left="0";},setHeader:function(R){var Q=this.header||(this.header=K());if(R.nodeName){Q.innerHTML="";Q.appendChild(R);}else{Q.innerHTML=R;}if(this._rendered){this._renderHeader();}this.changeHeaderEvent.fire(R);this.changeContentEvent.fire();},appendToHeader:function(R){var Q=this.header||(this.header=K());Q.appendChild(R);this.changeHeaderEvent.fire(R);this.changeContentEvent.fire();},setBody:function(R){var Q=this.body||(this.body=B());if(R.nodeName){Q.innerHTML="";Q.appendChild(R);}else{Q.innerHTML=R;}if(this._rendered){this._renderBody();}this.changeBodyEvent.fire(R);this.changeContentEvent.fire();},appendToBody:function(R){var Q=this.body||(this.body=B());Q.appendChild(R);this.changeBodyEvent.fire(R);this.changeContentEvent.fire();},setFooter:function(R){var Q=this.footer||(this.footer=C());if(R.nodeName){Q.innerHTML="";Q.appendChild(R);}else{Q.innerHTML=R;}if(this._rendered){this._renderFooter();}this.changeFooterEvent.fire(R);this.changeContentEvent.fire();},appendToFooter:function(R){var Q=this.footer||(this.footer=C());Q.appendChild(R);this.changeFooterEvent.fire(R);this.changeContentEvent.fire();},render:function(S,Q){var T=this;function R(U){if(typeof U=="string"){U=document.getElementById(U);}if(U){T._addToParent(U,T.element);T.appendEvent.fire();}}this.beforeRenderEvent.fire();
if(!Q){Q=this.element;}if(S){R(S);}else{if(!F.inDocument(this.element)){return false;}}this._renderHeader(Q);this._renderBody(Q);this._renderFooter(Q);this._rendered=true;this.renderEvent.fire();return true;},_renderHeader:function(Q){Q=Q||this.element;if(this.header&&!F.inDocument(this.header)){var R=Q.firstChild;if(R){Q.insertBefore(this.header,R);}else{Q.appendChild(this.header);}}},_renderBody:function(Q){Q=Q||this.element;if(this.body&&!F.inDocument(this.body)){if(this.footer&&F.isAncestor(Q,this.footer)){Q.insertBefore(this.body,this.footer);}else{Q.appendChild(this.body);}}},_renderFooter:function(Q){Q=Q||this.element;if(this.footer&&!F.inDocument(this.footer)){Q.appendChild(this.footer);}},destroy:function(){var Q;if(this.element){N.purgeElement(this.element,true);Q=this.element.parentNode;}if(Q){Q.removeChild(this.element);}this.element=null;this.header=null;this.body=null;this.footer=null;G.textResizeEvent.unsubscribe(this.onDomResize,this);this.cfg.destroy();this.cfg=null;this.destroyEvent.fire();},show:function(){this.cfg.setProperty("visible",true);},hide:function(){this.cfg.setProperty("visible",false);},configVisible:function(R,Q,S){var T=Q[0];if(T){this.beforeShowEvent.fire();F.setStyle(this.element,"display","block");this.showEvent.fire();}else{this.beforeHideEvent.fire();F.setStyle(this.element,"display","none");this.hideEvent.fire();}},configMonitorResize:function(S,R,T){var Q=R[0];if(Q){this.initResizeMonitor();}else{G.textResizeEvent.unsubscribe(this.onDomResize,this,true);this.resizeMonitor=null;}},_addToParent:function(Q,R){if(!this.cfg.getProperty("appendtodocumentbody")&&Q===document.body&&Q.firstChild){Q.insertBefore(R,Q.firstChild);}else{Q.appendChild(R);}},toString:function(){return"Module "+this.id;}};YAHOO.lang.augmentProto(G,YAHOO.util.EventProvider);}());(function(){YAHOO.widget.Overlay=function(P,O){YAHOO.widget.Overlay.superclass.constructor.call(this,P,O);};var I=YAHOO.lang,M=YAHOO.util.CustomEvent,G=YAHOO.widget.Module,N=YAHOO.util.Event,F=YAHOO.util.Dom,D=YAHOO.util.Config,K=YAHOO.env.ua,B=YAHOO.widget.Overlay,H="subscribe",E="unsubscribe",C="contained",J,A={"BEFORE_MOVE":"beforeMove","MOVE":"move"},L={"X":{key:"x",validator:I.isNumber,suppressEvent:true,supercedes:["iframe"]},"Y":{key:"y",validator:I.isNumber,suppressEvent:true,supercedes:["iframe"]},"XY":{key:"xy",suppressEvent:true,supercedes:["iframe"]},"CONTEXT":{key:"context",suppressEvent:true,supercedes:["iframe"]},"FIXED_CENTER":{key:"fixedcenter",value:false,supercedes:["iframe","visible"]},"WIDTH":{key:"width",suppressEvent:true,supercedes:["context","fixedcenter","iframe"]},"HEIGHT":{key:"height",suppressEvent:true,supercedes:["context","fixedcenter","iframe"]},"AUTO_FILL_HEIGHT":{key:"autofillheight",supercedes:["height"],value:"body"},"ZINDEX":{key:"zindex",value:null},"CONSTRAIN_TO_VIEWPORT":{key:"constraintoviewport",value:false,validator:I.isBoolean,supercedes:["iframe","x","y","xy"]},"IFRAME":{key:"iframe",value:(K.ie==6?true:false),validator:I.isBoolean,supercedes:["zindex"]},"PREVENT_CONTEXT_OVERLAP":{key:"preventcontextoverlap",value:false,validator:I.isBoolean,supercedes:["constraintoviewport"]}};B.IFRAME_SRC="javascript:false;";B.IFRAME_OFFSET=3;B.VIEWPORT_OFFSET=10;B.TOP_LEFT="tl";B.TOP_RIGHT="tr";B.BOTTOM_LEFT="bl";B.BOTTOM_RIGHT="br";B.PREVENT_OVERLAP_X={"tltr":true,"blbr":true,"brbl":true,"trtl":true};B.PREVENT_OVERLAP_Y={"trbr":true,"tlbl":true,"bltl":true,"brtr":true};B.CSS_OVERLAY="yui-overlay";B.CSS_HIDDEN="yui-overlay-hidden";B.CSS_IFRAME="yui-overlay-iframe";B.STD_MOD_RE=/^\s*?(body|footer|header)\s*?$/i;B.windowScrollEvent=new M("windowScroll");B.windowResizeEvent=new M("windowResize");B.windowScrollHandler=function(P){var O=N.getTarget(P);if(!O||O===window||O===window.document){if(K.ie){if(!window.scrollEnd){window.scrollEnd=-1;}clearTimeout(window.scrollEnd);window.scrollEnd=setTimeout(function(){B.windowScrollEvent.fire();},1);}else{B.windowScrollEvent.fire();}}};B.windowResizeHandler=function(O){if(K.ie){if(!window.resizeEnd){window.resizeEnd=-1;}clearTimeout(window.resizeEnd);window.resizeEnd=setTimeout(function(){B.windowResizeEvent.fire();},100);}else{B.windowResizeEvent.fire();}};B._initialized=null;if(B._initialized===null){N.on(window,"scroll",B.windowScrollHandler);N.on(window,"resize",B.windowResizeHandler);B._initialized=true;}B._TRIGGER_MAP={"windowScroll":B.windowScrollEvent,"windowResize":B.windowResizeEvent,"textResize":G.textResizeEvent};YAHOO.extend(B,G,{CONTEXT_TRIGGERS:[],init:function(P,O){B.superclass.init.call(this,P);this.beforeInitEvent.fire(B);F.addClass(this.element,B.CSS_OVERLAY);if(O){this.cfg.applyConfig(O,true);}if(this.platform=="mac"&&K.gecko){if(!D.alreadySubscribed(this.showEvent,this.showMacGeckoScrollbars,this)){this.showEvent.subscribe(this.showMacGeckoScrollbars,this,true);}if(!D.alreadySubscribed(this.hideEvent,this.hideMacGeckoScrollbars,this)){this.hideEvent.subscribe(this.hideMacGeckoScrollbars,this,true);}}this.initEvent.fire(B);},initEvents:function(){B.superclass.initEvents.call(this);var O=M.LIST;this.beforeMoveEvent=this.createEvent(A.BEFORE_MOVE);this.beforeMoveEvent.signature=O;this.moveEvent=this.createEvent(A.MOVE);this.moveEvent.signature=O;},initDefaultConfig:function(){B.superclass.initDefaultConfig.call(this);var O=this.cfg;O.addProperty(L.X.key,{handler:this.configX,validator:L.X.validator,suppressEvent:L.X.suppressEvent,supercedes:L.X.supercedes});O.addProperty(L.Y.key,{handler:this.configY,validator:L.Y.validator,suppressEvent:L.Y.suppressEvent,supercedes:L.Y.supercedes});O.addProperty(L.XY.key,{handler:this.configXY,suppressEvent:L.XY.suppressEvent,supercedes:L.XY.supercedes});O.addProperty(L.CONTEXT.key,{handler:this.configContext,suppressEvent:L.CONTEXT.suppressEvent,supercedes:L.CONTEXT.supercedes});O.addProperty(L.FIXED_CENTER.key,{handler:this.configFixedCenter,value:L.FIXED_CENTER.value,validator:L.FIXED_CENTER.validator,supercedes:L.FIXED_CENTER.supercedes});O.addProperty(L.WIDTH.key,{handler:this.configWidth,suppressEvent:L.WIDTH.suppressEvent,supercedes:L.WIDTH.supercedes});
O.addProperty(L.HEIGHT.key,{handler:this.configHeight,suppressEvent:L.HEIGHT.suppressEvent,supercedes:L.HEIGHT.supercedes});O.addProperty(L.AUTO_FILL_HEIGHT.key,{handler:this.configAutoFillHeight,value:L.AUTO_FILL_HEIGHT.value,validator:this._validateAutoFill,supercedes:L.AUTO_FILL_HEIGHT.supercedes});O.addProperty(L.ZINDEX.key,{handler:this.configzIndex,value:L.ZINDEX.value});O.addProperty(L.CONSTRAIN_TO_VIEWPORT.key,{handler:this.configConstrainToViewport,value:L.CONSTRAIN_TO_VIEWPORT.value,validator:L.CONSTRAIN_TO_VIEWPORT.validator,supercedes:L.CONSTRAIN_TO_VIEWPORT.supercedes});O.addProperty(L.IFRAME.key,{handler:this.configIframe,value:L.IFRAME.value,validator:L.IFRAME.validator,supercedes:L.IFRAME.supercedes});O.addProperty(L.PREVENT_CONTEXT_OVERLAP.key,{value:L.PREVENT_CONTEXT_OVERLAP.value,validator:L.PREVENT_CONTEXT_OVERLAP.validator,supercedes:L.PREVENT_CONTEXT_OVERLAP.supercedes});},moveTo:function(O,P){this.cfg.setProperty("xy",[O,P]);},hideMacGeckoScrollbars:function(){F.replaceClass(this.element,"show-scrollbars","hide-scrollbars");},showMacGeckoScrollbars:function(){F.replaceClass(this.element,"hide-scrollbars","show-scrollbars");},_setDomVisibility:function(O){F.setStyle(this.element,"visibility",(O)?"visible":"hidden");var P=B.CSS_HIDDEN;if(O){F.removeClass(this.element,P);}else{F.addClass(this.element,P);}},configVisible:function(R,O,X){var Q=O[0],S=F.getStyle(this.element,"visibility"),Y=this.cfg.getProperty("effect"),V=[],U=(this.platform=="mac"&&K.gecko),g=D.alreadySubscribed,W,P,f,c,b,a,d,Z,T;if(S=="inherit"){f=this.element.parentNode;while(f.nodeType!=9&&f.nodeType!=11){S=F.getStyle(f,"visibility");if(S!="inherit"){break;}f=f.parentNode;}if(S=="inherit"){S="visible";}}if(Y){if(Y instanceof Array){Z=Y.length;for(c=0;c<Z;c++){W=Y[c];V[V.length]=W.effect(this,W.duration);}}else{V[V.length]=Y.effect(this,Y.duration);}}if(Q){if(U){this.showMacGeckoScrollbars();}if(Y){if(Q){if(S!="visible"||S===""){this.beforeShowEvent.fire();T=V.length;for(b=0;b<T;b++){P=V[b];if(b===0&&!g(P.animateInCompleteEvent,this.showEvent.fire,this.showEvent)){P.animateInCompleteEvent.subscribe(this.showEvent.fire,this.showEvent,true);}P.animateIn();}}}}else{if(S!="visible"||S===""){this.beforeShowEvent.fire();this._setDomVisibility(true);this.cfg.refireEvent("iframe");this.showEvent.fire();}else{this._setDomVisibility(true);}}}else{if(U){this.hideMacGeckoScrollbars();}if(Y){if(S=="visible"){this.beforeHideEvent.fire();T=V.length;for(a=0;a<T;a++){d=V[a];if(a===0&&!g(d.animateOutCompleteEvent,this.hideEvent.fire,this.hideEvent)){d.animateOutCompleteEvent.subscribe(this.hideEvent.fire,this.hideEvent,true);}d.animateOut();}}else{if(S===""){this._setDomVisibility(false);}}}else{if(S=="visible"||S===""){this.beforeHideEvent.fire();this._setDomVisibility(false);this.hideEvent.fire();}else{this._setDomVisibility(false);}}}},doCenterOnDOMEvent:function(){var O=this.cfg,P=O.getProperty("fixedcenter");if(O.getProperty("visible")){if(P&&(P!==C||this.fitsInViewport())){this.center();}}},fitsInViewport:function(){var S=B.VIEWPORT_OFFSET,Q=this.element,T=Q.offsetWidth,R=Q.offsetHeight,O=F.getViewportWidth(),P=F.getViewportHeight();return((T+S<O)&&(R+S<P));},configFixedCenter:function(S,Q,T){var U=Q[0],P=D.alreadySubscribed,R=B.windowResizeEvent,O=B.windowScrollEvent;if(U){this.center();if(!P(this.beforeShowEvent,this.center)){this.beforeShowEvent.subscribe(this.center);}if(!P(R,this.doCenterOnDOMEvent,this)){R.subscribe(this.doCenterOnDOMEvent,this,true);}if(!P(O,this.doCenterOnDOMEvent,this)){O.subscribe(this.doCenterOnDOMEvent,this,true);}}else{this.beforeShowEvent.unsubscribe(this.center);R.unsubscribe(this.doCenterOnDOMEvent,this);O.unsubscribe(this.doCenterOnDOMEvent,this);}},configHeight:function(R,P,S){var O=P[0],Q=this.element;F.setStyle(Q,"height",O);this.cfg.refireEvent("iframe");},configAutoFillHeight:function(T,S,P){var V=S[0],Q=this.cfg,U="autofillheight",W="height",R=Q.getProperty(U),O=this._autoFillOnHeightChange;Q.unsubscribeFromConfigEvent(W,O);G.textResizeEvent.unsubscribe(O);this.changeContentEvent.unsubscribe(O);if(R&&V!==R&&this[R]){F.setStyle(this[R],W,"");}if(V){V=I.trim(V.toLowerCase());Q.subscribeToConfigEvent(W,O,this[V],this);G.textResizeEvent.subscribe(O,this[V],this);this.changeContentEvent.subscribe(O,this[V],this);Q.setProperty(U,V,true);}},configWidth:function(R,O,S){var Q=O[0],P=this.element;F.setStyle(P,"width",Q);this.cfg.refireEvent("iframe");},configzIndex:function(Q,O,R){var S=O[0],P=this.element;if(!S){S=F.getStyle(P,"zIndex");if(!S||isNaN(S)){S=0;}}if(this.iframe||this.cfg.getProperty("iframe")===true){if(S<=0){S=1;}}F.setStyle(P,"zIndex",S);this.cfg.setProperty("zIndex",S,true);if(this.iframe){this.stackIframe();}},configXY:function(Q,P,R){var T=P[0],O=T[0],S=T[1];this.cfg.setProperty("x",O);this.cfg.setProperty("y",S);this.beforeMoveEvent.fire([O,S]);O=this.cfg.getProperty("x");S=this.cfg.getProperty("y");this.cfg.refireEvent("iframe");this.moveEvent.fire([O,S]);},configX:function(Q,P,R){var O=P[0],S=this.cfg.getProperty("y");this.cfg.setProperty("x",O,true);this.cfg.setProperty("y",S,true);this.beforeMoveEvent.fire([O,S]);O=this.cfg.getProperty("x");S=this.cfg.getProperty("y");F.setX(this.element,O,true);this.cfg.setProperty("xy",[O,S],true);this.cfg.refireEvent("iframe");this.moveEvent.fire([O,S]);},configY:function(Q,P,R){var O=this.cfg.getProperty("x"),S=P[0];this.cfg.setProperty("x",O,true);this.cfg.setProperty("y",S,true);this.beforeMoveEvent.fire([O,S]);O=this.cfg.getProperty("x");S=this.cfg.getProperty("y");F.setY(this.element,S,true);this.cfg.setProperty("xy",[O,S],true);this.cfg.refireEvent("iframe");this.moveEvent.fire([O,S]);},showIframe:function(){var P=this.iframe,O;if(P){O=this.element.parentNode;if(O!=P.parentNode){this._addToParent(O,P);}P.style.display="block";}},hideIframe:function(){if(this.iframe){this.iframe.style.display="none";}},syncIframe:function(){var O=this.iframe,Q=this.element,S=B.IFRAME_OFFSET,P=(S*2),R;if(O){O.style.width=(Q.offsetWidth+P+"px");
O.style.height=(Q.offsetHeight+P+"px");R=this.cfg.getProperty("xy");if(!I.isArray(R)||(isNaN(R[0])||isNaN(R[1]))){this.syncPosition();R=this.cfg.getProperty("xy");}F.setXY(O,[(R[0]-S),(R[1]-S)]);}},stackIframe:function(){if(this.iframe){var O=F.getStyle(this.element,"zIndex");if(!YAHOO.lang.isUndefined(O)&&!isNaN(O)){F.setStyle(this.iframe,"zIndex",(O-1));}}},configIframe:function(R,Q,S){var O=Q[0];function T(){var V=this.iframe,W=this.element,X;if(!V){if(!J){J=document.createElement("iframe");if(this.isSecure){J.src=B.IFRAME_SRC;}if(K.ie){J.style.filter="alpha(opacity=0)";J.frameBorder=0;}else{J.style.opacity="0";}J.style.position="absolute";J.style.border="none";J.style.margin="0";J.style.padding="0";J.style.display="none";J.tabIndex=-1;J.className=B.CSS_IFRAME;}V=J.cloneNode(false);V.id=this.id+"_f";X=W.parentNode;var U=X||document.body;this._addToParent(U,V);this.iframe=V;}this.showIframe();this.syncIframe();this.stackIframe();if(!this._hasIframeEventListeners){this.showEvent.subscribe(this.showIframe);this.hideEvent.subscribe(this.hideIframe);this.changeContentEvent.subscribe(this.syncIframe);this._hasIframeEventListeners=true;}}function P(){T.call(this);this.beforeShowEvent.unsubscribe(P);this._iframeDeferred=false;}if(O){if(this.cfg.getProperty("visible")){T.call(this);}else{if(!this._iframeDeferred){this.beforeShowEvent.subscribe(P);this._iframeDeferred=true;}}}else{this.hideIframe();if(this._hasIframeEventListeners){this.showEvent.unsubscribe(this.showIframe);this.hideEvent.unsubscribe(this.hideIframe);this.changeContentEvent.unsubscribe(this.syncIframe);this._hasIframeEventListeners=false;}}},_primeXYFromDOM:function(){if(YAHOO.lang.isUndefined(this.cfg.getProperty("xy"))){this.syncPosition();this.cfg.refireEvent("xy");this.beforeShowEvent.unsubscribe(this._primeXYFromDOM);}},configConstrainToViewport:function(P,O,Q){var R=O[0];if(R){if(!D.alreadySubscribed(this.beforeMoveEvent,this.enforceConstraints,this)){this.beforeMoveEvent.subscribe(this.enforceConstraints,this,true);}if(!D.alreadySubscribed(this.beforeShowEvent,this._primeXYFromDOM)){this.beforeShowEvent.subscribe(this._primeXYFromDOM);}}else{this.beforeShowEvent.unsubscribe(this._primeXYFromDOM);this.beforeMoveEvent.unsubscribe(this.enforceConstraints,this);}},configContext:function(U,T,Q){var X=T[0],R,O,V,S,P,W=this.CONTEXT_TRIGGERS;if(X){R=X[0];O=X[1];V=X[2];S=X[3];P=X[4];if(W&&W.length>0){S=(S||[]).concat(W);}if(R){if(typeof R=="string"){this.cfg.setProperty("context",[document.getElementById(R),O,V,S,P],true);}if(O&&V){this.align(O,V,P);}if(this._contextTriggers){this._processTriggers(this._contextTriggers,E,this._alignOnTrigger);}if(S){this._processTriggers(S,H,this._alignOnTrigger);this._contextTriggers=S;}}}},_alignOnTrigger:function(P,O){this.align();},_findTriggerCE:function(O){var P=null;if(O instanceof M){P=O;}else{if(B._TRIGGER_MAP[O]){P=B._TRIGGER_MAP[O];}}return P;},_processTriggers:function(S,U,R){var Q,T;for(var P=0,O=S.length;P<O;++P){Q=S[P];T=this._findTriggerCE(Q);if(T){T[U](R,this,true);}else{this[U](Q,R);}}},align:function(P,W,S){var V=this.cfg.getProperty("context"),T=this,O,Q,U;function R(Z,a){var Y=null,X=null;switch(P){case B.TOP_LEFT:Y=a;X=Z;break;case B.TOP_RIGHT:Y=a-Q.offsetWidth;X=Z;break;case B.BOTTOM_LEFT:Y=a;X=Z-Q.offsetHeight;break;case B.BOTTOM_RIGHT:Y=a-Q.offsetWidth;X=Z-Q.offsetHeight;break;}if(Y!==null&&X!==null){if(S){Y+=S[0];X+=S[1];}T.moveTo(Y,X);}}if(V){O=V[0];Q=this.element;T=this;if(!P){P=V[1];}if(!W){W=V[2];}if(!S&&V[4]){S=V[4];}if(Q&&O){U=F.getRegion(O);switch(W){case B.TOP_LEFT:R(U.top,U.left);break;case B.TOP_RIGHT:R(U.top,U.right);break;case B.BOTTOM_LEFT:R(U.bottom,U.left);break;case B.BOTTOM_RIGHT:R(U.bottom,U.right);break;}}}},enforceConstraints:function(P,O,Q){var S=O[0];var R=this.getConstrainedXY(S[0],S[1]);this.cfg.setProperty("x",R[0],true);this.cfg.setProperty("y",R[1],true);this.cfg.setProperty("xy",R,true);},_getConstrainedPos:function(X,P){var T=this.element,R=B.VIEWPORT_OFFSET,Z=(X=="x"),Y=(Z)?T.offsetWidth:T.offsetHeight,S=(Z)?F.getViewportWidth():F.getViewportHeight(),c=(Z)?F.getDocumentScrollLeft():F.getDocumentScrollTop(),b=(Z)?B.PREVENT_OVERLAP_X:B.PREVENT_OVERLAP_Y,O=this.cfg.getProperty("context"),U=(Y+R<S),W=this.cfg.getProperty("preventcontextoverlap")&&O&&b[(O[1]+O[2])],V=c+R,a=c+S-Y-R,Q=P;if(P<V||P>a){if(W){Q=this._preventOverlap(X,O[0],Y,S,c);}else{if(U){if(P<V){Q=V;}else{if(P>a){Q=a;}}}else{Q=V;}}}return Q;},_preventOverlap:function(X,W,Y,U,b){var Z=(X=="x"),T=B.VIEWPORT_OFFSET,S=this,Q=((Z)?F.getX(W):F.getY(W))-b,O=(Z)?W.offsetWidth:W.offsetHeight,P=Q-T,R=(U-(Q+O))-T,c=false,V=function(){var d;if((S.cfg.getProperty(X)-b)>Q){d=(Q-Y);}else{d=(Q+O);}S.cfg.setProperty(X,(d+b),true);return d;},a=function(){var e=((S.cfg.getProperty(X)-b)>Q)?R:P,d;if(Y>e){if(c){V();}else{V();c=true;d=a();}}return d;};a();return this.cfg.getProperty(X);},getConstrainedX:function(O){return this._getConstrainedPos("x",O);},getConstrainedY:function(O){return this._getConstrainedPos("y",O);},getConstrainedXY:function(O,P){return[this.getConstrainedX(O),this.getConstrainedY(P)];},center:function(){var R=B.VIEWPORT_OFFSET,S=this.element.offsetWidth,Q=this.element.offsetHeight,P=F.getViewportWidth(),T=F.getViewportHeight(),O,U;if(S<P){O=(P/2)-(S/2)+F.getDocumentScrollLeft();}else{O=R+F.getDocumentScrollLeft();}if(Q<T){U=(T/2)-(Q/2)+F.getDocumentScrollTop();}else{U=R+F.getDocumentScrollTop();}this.cfg.setProperty("xy",[parseInt(O,10),parseInt(U,10)]);this.cfg.refireEvent("iframe");if(K.webkit){this.forceContainerRedraw();}},syncPosition:function(){var O=F.getXY(this.element);this.cfg.setProperty("x",O[0],true);this.cfg.setProperty("y",O[1],true);this.cfg.setProperty("xy",O,true);},onDomResize:function(Q,P){var O=this;B.superclass.onDomResize.call(this,Q,P);setTimeout(function(){O.syncPosition();O.cfg.refireEvent("iframe");O.cfg.refireEvent("context");},0);},_getComputedHeight:(function(){if(document.defaultView&&document.defaultView.getComputedStyle){return function(P){var O=null;
if(P.ownerDocument&&P.ownerDocument.defaultView){var Q=P.ownerDocument.defaultView.getComputedStyle(P,"");if(Q){O=parseInt(Q.height,10);}}return(I.isNumber(O))?O:null;};}else{return function(P){var O=null;if(P.style.pixelHeight){O=P.style.pixelHeight;}return(I.isNumber(O))?O:null;};}})(),_validateAutoFillHeight:function(O){return(!O)||(I.isString(O)&&B.STD_MOD_RE.test(O));},_autoFillOnHeightChange:function(R,P,Q){var O=this.cfg.getProperty("height");if((O&&O!=="auto")||(O===0)){this.fillHeight(Q);}},_getPreciseHeight:function(P){var O=P.offsetHeight;if(P.getBoundingClientRect){var Q=P.getBoundingClientRect();O=Q.bottom-Q.top;}return O;},fillHeight:function(R){if(R){var P=this.innerElement||this.element,O=[this.header,this.body,this.footer],V,W=0,X=0,T=0,Q=false;for(var U=0,S=O.length;U<S;U++){V=O[U];if(V){if(R!==V){X+=this._getPreciseHeight(V);}else{Q=true;}}}if(Q){if(K.ie||K.opera){F.setStyle(R,"height",0+"px");}W=this._getComputedHeight(P);if(W===null){F.addClass(P,"yui-override-padding");W=P.clientHeight;F.removeClass(P,"yui-override-padding");}T=Math.max(W-X,0);F.setStyle(R,"height",T+"px");if(R.offsetHeight!=T){T=Math.max(T-(R.offsetHeight-T),0);}F.setStyle(R,"height",T+"px");}}},bringToTop:function(){var S=[],R=this.element;function V(Z,Y){var b=F.getStyle(Z,"zIndex"),a=F.getStyle(Y,"zIndex"),X=(!b||isNaN(b))?0:parseInt(b,10),W=(!a||isNaN(a))?0:parseInt(a,10);if(X>W){return -1;}else{if(X<W){return 1;}else{return 0;}}}function Q(Y){var X=F.hasClass(Y,B.CSS_OVERLAY),W=YAHOO.widget.Panel;if(X&&!F.isAncestor(R,Y)){if(W&&F.hasClass(Y,W.CSS_PANEL)){S[S.length]=Y.parentNode;}else{S[S.length]=Y;}}}F.getElementsBy(Q,"DIV",document.body);S.sort(V);var O=S[0],U;if(O){U=F.getStyle(O,"zIndex");if(!isNaN(U)){var T=false;if(O!=R){T=true;}else{if(S.length>1){var P=F.getStyle(S[1],"zIndex");if(!isNaN(P)&&(U==P)){T=true;}}}if(T){this.cfg.setProperty("zindex",(parseInt(U,10)+2));}}}},destroy:function(){if(this.iframe){this.iframe.parentNode.removeChild(this.iframe);}this.iframe=null;B.windowResizeEvent.unsubscribe(this.doCenterOnDOMEvent,this);B.windowScrollEvent.unsubscribe(this.doCenterOnDOMEvent,this);G.textResizeEvent.unsubscribe(this._autoFillOnHeightChange);if(this._contextTriggers){this._processTriggers(this._contextTriggers,E,this._alignOnTrigger);}B.superclass.destroy.call(this);},forceContainerRedraw:function(){var O=this;F.addClass(O.element,"yui-force-redraw");setTimeout(function(){F.removeClass(O.element,"yui-force-redraw");},0);},toString:function(){return"Overlay "+this.id;}});}());(function(){YAHOO.widget.OverlayManager=function(G){this.init(G);};var D=YAHOO.widget.Overlay,C=YAHOO.util.Event,E=YAHOO.util.Dom,B=YAHOO.util.Config,F=YAHOO.util.CustomEvent,A=YAHOO.widget.OverlayManager;A.CSS_FOCUSED="focused";A.prototype={constructor:A,overlays:null,initDefaultConfig:function(){this.cfg.addProperty("overlays",{suppressEvent:true});this.cfg.addProperty("focusevent",{value:"mousedown"});},init:function(I){this.cfg=new B(this);this.initDefaultConfig();if(I){this.cfg.applyConfig(I,true);}this.cfg.fireQueue();var H=null;this.getActive=function(){return H;};this.focus=function(J){var K=this.find(J);if(K){K.focus();}};this.remove=function(K){var M=this.find(K),J;if(M){if(H==M){H=null;}var L=(M.element===null&&M.cfg===null)?true:false;if(!L){J=E.getStyle(M.element,"zIndex");M.cfg.setProperty("zIndex",-1000,true);}this.overlays.sort(this.compareZIndexDesc);this.overlays=this.overlays.slice(0,(this.overlays.length-1));M.hideEvent.unsubscribe(M.blur);M.destroyEvent.unsubscribe(this._onOverlayDestroy,M);M.focusEvent.unsubscribe(this._onOverlayFocusHandler,M);M.blurEvent.unsubscribe(this._onOverlayBlurHandler,M);if(!L){C.removeListener(M.element,this.cfg.getProperty("focusevent"),this._onOverlayElementFocus);M.cfg.setProperty("zIndex",J,true);M.cfg.setProperty("manager",null);}if(M.focusEvent._managed){M.focusEvent=null;}if(M.blurEvent._managed){M.blurEvent=null;}if(M.focus._managed){M.focus=null;}if(M.blur._managed){M.blur=null;}}};this.blurAll=function(){var K=this.overlays.length,J;if(K>0){J=K-1;do{this.overlays[J].blur();}while(J--);}};this._manageBlur=function(J){var K=false;if(H==J){E.removeClass(H.element,A.CSS_FOCUSED);H=null;K=true;}return K;};this._manageFocus=function(J){var K=false;if(H!=J){if(H){H.blur();}H=J;this.bringToTop(H);E.addClass(H.element,A.CSS_FOCUSED);K=true;}return K;};var G=this.cfg.getProperty("overlays");if(!this.overlays){this.overlays=[];}if(G){this.register(G);this.overlays.sort(this.compareZIndexDesc);}},_onOverlayElementFocus:function(I){var G=C.getTarget(I),H=this.close;if(H&&(G==H||E.isAncestor(H,G))){this.blur();}else{this.focus();}},_onOverlayDestroy:function(H,G,I){this.remove(I);},_onOverlayFocusHandler:function(H,G,I){this._manageFocus(I);},_onOverlayBlurHandler:function(H,G,I){this._manageBlur(I);},_bindFocus:function(G){var H=this;if(!G.focusEvent){G.focusEvent=G.createEvent("focus");G.focusEvent.signature=F.LIST;G.focusEvent._managed=true;}else{G.focusEvent.subscribe(H._onOverlayFocusHandler,G,H);}if(!G.focus){C.on(G.element,H.cfg.getProperty("focusevent"),H._onOverlayElementFocus,null,G);G.focus=function(){if(H._manageFocus(this)){if(this.cfg.getProperty("visible")&&this.focusFirst){this.focusFirst();}this.focusEvent.fire();}};G.focus._managed=true;}},_bindBlur:function(G){var H=this;if(!G.blurEvent){G.blurEvent=G.createEvent("blur");G.blurEvent.signature=F.LIST;G.focusEvent._managed=true;}else{G.blurEvent.subscribe(H._onOverlayBlurHandler,G,H);}if(!G.blur){G.blur=function(){if(H._manageBlur(this)){this.blurEvent.fire();}};G.blur._managed=true;}G.hideEvent.subscribe(G.blur);},_bindDestroy:function(G){var H=this;G.destroyEvent.subscribe(H._onOverlayDestroy,G,H);},_syncZIndex:function(G){var H=E.getStyle(G.element,"zIndex");if(!isNaN(H)){G.cfg.setProperty("zIndex",parseInt(H,10));}else{G.cfg.setProperty("zIndex",0);}},register:function(G){var J=false,H,I;if(G instanceof D){G.cfg.addProperty("manager",{value:this});this._bindFocus(G);this._bindBlur(G);this._bindDestroy(G);
this._syncZIndex(G);this.overlays.push(G);this.bringToTop(G);J=true;}else{if(G instanceof Array){for(H=0,I=G.length;H<I;H++){J=this.register(G[H])||J;}}}return J;},bringToTop:function(M){var I=this.find(M),L,G,J;if(I){J=this.overlays;J.sort(this.compareZIndexDesc);G=J[0];if(G){L=E.getStyle(G.element,"zIndex");if(!isNaN(L)){var K=false;if(G!==I){K=true;}else{if(J.length>1){var H=E.getStyle(J[1].element,"zIndex");if(!isNaN(H)&&(L==H)){K=true;}}}if(K){I.cfg.setProperty("zindex",(parseInt(L,10)+2));}}J.sort(this.compareZIndexDesc);}}},find:function(G){var K=G instanceof D,I=this.overlays,M=I.length,J=null,L,H;if(K||typeof G=="string"){for(H=M-1;H>=0;H--){L=I[H];if((K&&(L===G))||(L.id==G)){J=L;break;}}}return J;},compareZIndexDesc:function(J,I){var H=(J.cfg)?J.cfg.getProperty("zIndex"):null,G=(I.cfg)?I.cfg.getProperty("zIndex"):null;if(H===null&&G===null){return 0;}else{if(H===null){return 1;}else{if(G===null){return -1;}else{if(H>G){return -1;}else{if(H<G){return 1;}else{return 0;}}}}}},showAll:function(){var H=this.overlays,I=H.length,G;for(G=I-1;G>=0;G--){H[G].show();}},hideAll:function(){var H=this.overlays,I=H.length,G;for(G=I-1;G>=0;G--){H[G].hide();}},toString:function(){return"OverlayManager";}};}());(function(){YAHOO.widget.Tooltip=function(P,O){YAHOO.widget.Tooltip.superclass.constructor.call(this,P,O);};var E=YAHOO.lang,N=YAHOO.util.Event,M=YAHOO.util.CustomEvent,C=YAHOO.util.Dom,J=YAHOO.widget.Tooltip,H=YAHOO.env.ua,G=(H.ie&&(H.ie<=6||document.compatMode=="BackCompat")),F,I={"PREVENT_OVERLAP":{key:"preventoverlap",value:true,validator:E.isBoolean,supercedes:["x","y","xy"]},"SHOW_DELAY":{key:"showdelay",value:200,validator:E.isNumber},"AUTO_DISMISS_DELAY":{key:"autodismissdelay",value:5000,validator:E.isNumber},"HIDE_DELAY":{key:"hidedelay",value:250,validator:E.isNumber},"TEXT":{key:"text",suppressEvent:true},"CONTAINER":{key:"container"},"DISABLED":{key:"disabled",value:false,suppressEvent:true},"XY_OFFSET":{key:"xyoffset",value:[0,25],suppressEvent:true}},A={"CONTEXT_MOUSE_OVER":"contextMouseOver","CONTEXT_MOUSE_OUT":"contextMouseOut","CONTEXT_TRIGGER":"contextTrigger"};J.CSS_TOOLTIP="yui-tt";function K(Q,O){var P=this.cfg,R=P.getProperty("width");if(R==O){P.setProperty("width",Q);}}function D(P,O){if("_originalWidth" in this){K.call(this,this._originalWidth,this._forcedWidth);}var Q=document.body,U=this.cfg,T=U.getProperty("width"),R,S;if((!T||T=="auto")&&(U.getProperty("container")!=Q||U.getProperty("x")>=C.getViewportWidth()||U.getProperty("y")>=C.getViewportHeight())){S=this.element.cloneNode(true);S.style.visibility="hidden";S.style.top="0px";S.style.left="0px";Q.appendChild(S);R=(S.offsetWidth+"px");Q.removeChild(S);S=null;U.setProperty("width",R);U.refireEvent("xy");this._originalWidth=T||"";this._forcedWidth=R;}}function B(P,O,Q){this.render(Q);}function L(){N.onDOMReady(B,this.cfg.getProperty("container"),this);}YAHOO.extend(J,YAHOO.widget.Overlay,{init:function(P,O){J.superclass.init.call(this,P);this.beforeInitEvent.fire(J);C.addClass(this.element,J.CSS_TOOLTIP);if(O){this.cfg.applyConfig(O,true);}this.cfg.queueProperty("visible",false);this.cfg.queueProperty("constraintoviewport",true);this.setBody("");this.subscribe("changeContent",D);this.subscribe("init",L);this.subscribe("render",this.onRender);this.initEvent.fire(J);},initEvents:function(){J.superclass.initEvents.call(this);var O=M.LIST;this.contextMouseOverEvent=this.createEvent(A.CONTEXT_MOUSE_OVER);this.contextMouseOverEvent.signature=O;this.contextMouseOutEvent=this.createEvent(A.CONTEXT_MOUSE_OUT);this.contextMouseOutEvent.signature=O;this.contextTriggerEvent=this.createEvent(A.CONTEXT_TRIGGER);this.contextTriggerEvent.signature=O;},initDefaultConfig:function(){J.superclass.initDefaultConfig.call(this);this.cfg.addProperty(I.PREVENT_OVERLAP.key,{value:I.PREVENT_OVERLAP.value,validator:I.PREVENT_OVERLAP.validator,supercedes:I.PREVENT_OVERLAP.supercedes});this.cfg.addProperty(I.SHOW_DELAY.key,{handler:this.configShowDelay,value:200,validator:I.SHOW_DELAY.validator});this.cfg.addProperty(I.AUTO_DISMISS_DELAY.key,{handler:this.configAutoDismissDelay,value:I.AUTO_DISMISS_DELAY.value,validator:I.AUTO_DISMISS_DELAY.validator});this.cfg.addProperty(I.HIDE_DELAY.key,{handler:this.configHideDelay,value:I.HIDE_DELAY.value,validator:I.HIDE_DELAY.validator});this.cfg.addProperty(I.TEXT.key,{handler:this.configText,suppressEvent:I.TEXT.suppressEvent});this.cfg.addProperty(I.CONTAINER.key,{handler:this.configContainer,value:document.body});this.cfg.addProperty(I.DISABLED.key,{handler:this.configContainer,value:I.DISABLED.value,supressEvent:I.DISABLED.suppressEvent});this.cfg.addProperty(I.XY_OFFSET.key,{value:I.XY_OFFSET.value.concat(),supressEvent:I.XY_OFFSET.suppressEvent});},configText:function(P,O,Q){var R=O[0];if(R){this.setBody(R);}},configContainer:function(Q,P,R){var O=P[0];if(typeof O=="string"){this.cfg.setProperty("container",document.getElementById(O),true);}},_removeEventListeners:function(){var R=this._context,O,Q,P;if(R){O=R.length;if(O>0){P=O-1;do{Q=R[P];N.removeListener(Q,"mouseover",this.onContextMouseOver);N.removeListener(Q,"mousemove",this.onContextMouseMove);N.removeListener(Q,"mouseout",this.onContextMouseOut);}while(P--);}}},configContext:function(T,P,U){var S=P[0],V,O,R,Q;if(S){if(!(S instanceof Array)){if(typeof S=="string"){this.cfg.setProperty("context",[document.getElementById(S)],true);}else{this.cfg.setProperty("context",[S],true);}S=this.cfg.getProperty("context");}this._removeEventListeners();this._context=S;V=this._context;if(V){O=V.length;if(O>0){Q=O-1;do{R=V[Q];N.on(R,"mouseover",this.onContextMouseOver,this);N.on(R,"mousemove",this.onContextMouseMove,this);N.on(R,"mouseout",this.onContextMouseOut,this);}while(Q--);}}}},onContextMouseMove:function(P,O){O.pageX=N.getPageX(P);O.pageY=N.getPageY(P);},onContextMouseOver:function(Q,P){var O=this;if(O.title){P._tempTitle=O.title;O.title="";}if(P.fireEvent("contextMouseOver",O,Q)!==false&&!P.cfg.getProperty("disabled")){if(P.hideProcId){clearTimeout(P.hideProcId);
P.hideProcId=null;}N.on(O,"mousemove",P.onContextMouseMove,P);P.showProcId=P.doShow(Q,O);}},onContextMouseOut:function(Q,P){var O=this;if(P._tempTitle){O.title=P._tempTitle;P._tempTitle=null;}if(P.showProcId){clearTimeout(P.showProcId);P.showProcId=null;}if(P.hideProcId){clearTimeout(P.hideProcId);P.hideProcId=null;}P.fireEvent("contextMouseOut",O,Q);P.hideProcId=setTimeout(function(){P.hide();},P.cfg.getProperty("hidedelay"));},doShow:function(R,O){var T=this.cfg.getProperty("xyoffset"),P=T[0],S=T[1],Q=this;if(H.opera&&O.tagName&&O.tagName.toUpperCase()=="A"){S+=12;}return setTimeout(function(){var U=Q.cfg.getProperty("text");if(Q._tempTitle&&(U===""||YAHOO.lang.isUndefined(U)||YAHOO.lang.isNull(U))){Q.setBody(Q._tempTitle);}else{Q.cfg.refireEvent("text");}Q.moveTo(Q.pageX+P,Q.pageY+S);if(Q.cfg.getProperty("preventoverlap")){Q.preventOverlap(Q.pageX,Q.pageY);}N.removeListener(O,"mousemove",Q.onContextMouseMove);Q.contextTriggerEvent.fire(O);Q.show();Q.hideProcId=Q.doHide();},this.cfg.getProperty("showdelay"));},doHide:function(){var O=this;return setTimeout(function(){O.hide();},this.cfg.getProperty("autodismissdelay"));},preventOverlap:function(S,R){var O=this.element.offsetHeight,Q=new YAHOO.util.Point(S,R),P=C.getRegion(this.element);P.top-=5;P.left-=5;P.right+=5;P.bottom+=5;if(P.contains(Q)){this.cfg.setProperty("y",(R-O-5));}},onRender:function(S,R){function T(){var W=this.element,V=this.underlay;if(V){V.style.width=(W.offsetWidth+6)+"px";V.style.height=(W.offsetHeight+1)+"px";}}function P(){C.addClass(this.underlay,"yui-tt-shadow-visible");if(H.ie){this.forceUnderlayRedraw();}}function O(){C.removeClass(this.underlay,"yui-tt-shadow-visible");}function U(){var X=this.underlay,W,V,Z,Y;if(!X){W=this.element;V=YAHOO.widget.Module;Z=H.ie;Y=this;if(!F){F=document.createElement("div");F.className="yui-tt-shadow";}X=F.cloneNode(false);W.appendChild(X);this.underlay=X;this._shadow=this.underlay;P.call(this);this.subscribe("beforeShow",P);this.subscribe("hide",O);if(G){window.setTimeout(function(){T.call(Y);},0);this.cfg.subscribeToConfigEvent("width",T);this.cfg.subscribeToConfigEvent("height",T);this.subscribe("changeContent",T);V.textResizeEvent.subscribe(T,this,true);this.subscribe("destroy",function(){V.textResizeEvent.unsubscribe(T,this);});}}}function Q(){U.call(this);this.unsubscribe("beforeShow",Q);}if(this.cfg.getProperty("visible")){U.call(this);}else{this.subscribe("beforeShow",Q);}},forceUnderlayRedraw:function(){var O=this;C.addClass(O.underlay,"yui-force-redraw");setTimeout(function(){C.removeClass(O.underlay,"yui-force-redraw");},0);},destroy:function(){this._removeEventListeners();J.superclass.destroy.call(this);},toString:function(){return"Tooltip "+this.id;}});}());(function(){YAHOO.widget.Panel=function(V,U){YAHOO.widget.Panel.superclass.constructor.call(this,V,U);};var S=null;var E=YAHOO.lang,F=YAHOO.util,A=F.Dom,T=F.Event,M=F.CustomEvent,K=YAHOO.util.KeyListener,I=F.Config,H=YAHOO.widget.Overlay,O=YAHOO.widget.Panel,L=YAHOO.env.ua,P=(L.ie&&(L.ie<=6||document.compatMode=="BackCompat")),G,Q,C,D={"SHOW_MASK":"showMask","HIDE_MASK":"hideMask","DRAG":"drag"},N={"CLOSE":{key:"close",value:true,validator:E.isBoolean,supercedes:["visible"]},"DRAGGABLE":{key:"draggable",value:(F.DD?true:false),validator:E.isBoolean,supercedes:["visible"]},"DRAG_ONLY":{key:"dragonly",value:false,validator:E.isBoolean,supercedes:["draggable"]},"UNDERLAY":{key:"underlay",value:"shadow",supercedes:["visible"]},"MODAL":{key:"modal",value:false,validator:E.isBoolean,supercedes:["visible","zindex"]},"KEY_LISTENERS":{key:"keylisteners",suppressEvent:true,supercedes:["visible"]},"STRINGS":{key:"strings",supercedes:["close"],validator:E.isObject,value:{close:"Close"}}};O.CSS_PANEL="yui-panel";O.CSS_PANEL_CONTAINER="yui-panel-container";O.FOCUSABLE=["a","button","select","textarea","input","iframe"];function J(V,U){if(!this.header&&this.cfg.getProperty("draggable")){this.setHeader("&#160;");}}function R(V,U,W){var Z=W[0],X=W[1],Y=this.cfg,a=Y.getProperty("width");if(a==X){Y.setProperty("width",Z);}this.unsubscribe("hide",R,W);}function B(V,U){var Y,X,W;if(P){Y=this.cfg;X=Y.getProperty("width");if(!X||X=="auto"){W=(this.element.offsetWidth+"px");Y.setProperty("width",W);this.subscribe("hide",R,[(X||""),W]);}}}YAHOO.extend(O,H,{init:function(V,U){O.superclass.init.call(this,V);this.beforeInitEvent.fire(O);A.addClass(this.element,O.CSS_PANEL);this.buildWrapper();if(U){this.cfg.applyConfig(U,true);}this.subscribe("showMask",this._addFocusHandlers);this.subscribe("hideMask",this._removeFocusHandlers);this.subscribe("beforeRender",J);this.subscribe("render",function(){this.setFirstLastFocusable();this.subscribe("changeContent",this.setFirstLastFocusable);});this.subscribe("show",this.focusFirst);this.initEvent.fire(O);},_onElementFocus:function(Z){if(S===this){var Y=T.getTarget(Z),X=document.documentElement,V=(Y!==X&&Y!==window);if(V&&Y!==this.element&&Y!==this.mask&&!A.isAncestor(this.element,Y)){try{if(this.firstElement){this.firstElement.focus();}else{if(this._modalFocus){this._modalFocus.focus();}else{this.innerElement.focus();}}}catch(W){try{if(V&&Y!==document.body){Y.blur();}}catch(U){}}}}},_addFocusHandlers:function(V,U){if(!this.firstElement){if(L.webkit||L.opera){if(!this._modalFocus){this._createHiddenFocusElement();}}else{this.innerElement.tabIndex=0;}}this.setTabLoop(this.firstElement,this.lastElement);T.onFocus(document.documentElement,this._onElementFocus,this,true);S=this;},_createHiddenFocusElement:function(){var U=document.createElement("button");U.style.height="1px";U.style.width="1px";U.style.position="absolute";U.style.left="-10000em";U.style.opacity=0;U.tabIndex=-1;this.innerElement.appendChild(U);this._modalFocus=U;},_removeFocusHandlers:function(V,U){T.removeFocusListener(document.documentElement,this._onElementFocus,this);if(S==this){S=null;}},focusFirst:function(W,U,Y){var V=this.firstElement;if(U&&U[1]){T.stopEvent(U[1]);}if(V){try{V.focus();}catch(X){}}},focusLast:function(W,U,Y){var V=this.lastElement;
if(U&&U[1]){T.stopEvent(U[1]);}if(V){try{V.focus();}catch(X){}}},setTabLoop:function(X,Z){var V=this.preventBackTab,W=this.preventTabOut,U=this.showEvent,Y=this.hideEvent;if(V){V.disable();U.unsubscribe(V.enable,V);Y.unsubscribe(V.disable,V);V=this.preventBackTab=null;}if(W){W.disable();U.unsubscribe(W.enable,W);Y.unsubscribe(W.disable,W);W=this.preventTabOut=null;}if(X){this.preventBackTab=new K(X,{shift:true,keys:9},{fn:this.focusLast,scope:this,correctScope:true});V=this.preventBackTab;U.subscribe(V.enable,V,true);Y.subscribe(V.disable,V,true);}if(Z){this.preventTabOut=new K(Z,{shift:false,keys:9},{fn:this.focusFirst,scope:this,correctScope:true});W=this.preventTabOut;U.subscribe(W.enable,W,true);Y.subscribe(W.disable,W,true);}},getFocusableElements:function(U){U=U||this.innerElement;var X={};for(var W=0;W<O.FOCUSABLE.length;W++){X[O.FOCUSABLE[W]]=true;}function V(Y){if(Y.focus&&Y.type!=="hidden"&&!Y.disabled&&X[Y.tagName.toLowerCase()]){return true;}return false;}return A.getElementsBy(V,null,U);},setFirstLastFocusable:function(){this.firstElement=null;this.lastElement=null;var U=this.getFocusableElements();this.focusableElements=U;if(U.length>0){this.firstElement=U[0];this.lastElement=U[U.length-1];}if(this.cfg.getProperty("modal")){this.setTabLoop(this.firstElement,this.lastElement);}},initEvents:function(){O.superclass.initEvents.call(this);var U=M.LIST;this.showMaskEvent=this.createEvent(D.SHOW_MASK);this.showMaskEvent.signature=U;this.hideMaskEvent=this.createEvent(D.HIDE_MASK);this.hideMaskEvent.signature=U;this.dragEvent=this.createEvent(D.DRAG);this.dragEvent.signature=U;},initDefaultConfig:function(){O.superclass.initDefaultConfig.call(this);this.cfg.addProperty(N.CLOSE.key,{handler:this.configClose,value:N.CLOSE.value,validator:N.CLOSE.validator,supercedes:N.CLOSE.supercedes});this.cfg.addProperty(N.DRAGGABLE.key,{handler:this.configDraggable,value:(F.DD)?true:false,validator:N.DRAGGABLE.validator,supercedes:N.DRAGGABLE.supercedes});this.cfg.addProperty(N.DRAG_ONLY.key,{value:N.DRAG_ONLY.value,validator:N.DRAG_ONLY.validator,supercedes:N.DRAG_ONLY.supercedes});this.cfg.addProperty(N.UNDERLAY.key,{handler:this.configUnderlay,value:N.UNDERLAY.value,supercedes:N.UNDERLAY.supercedes});this.cfg.addProperty(N.MODAL.key,{handler:this.configModal,value:N.MODAL.value,validator:N.MODAL.validator,supercedes:N.MODAL.supercedes});this.cfg.addProperty(N.KEY_LISTENERS.key,{handler:this.configKeyListeners,suppressEvent:N.KEY_LISTENERS.suppressEvent,supercedes:N.KEY_LISTENERS.supercedes});this.cfg.addProperty(N.STRINGS.key,{value:N.STRINGS.value,handler:this.configStrings,validator:N.STRINGS.validator,supercedes:N.STRINGS.supercedes});},configClose:function(X,V,Y){var Z=V[0],W=this.close,U=this.cfg.getProperty("strings");if(Z){if(!W){if(!C){C=document.createElement("a");C.className="container-close";C.href="#";}W=C.cloneNode(true);this.innerElement.appendChild(W);W.innerHTML=(U&&U.close)?U.close:"&#160;";T.on(W,"click",this._doClose,this,true);this.close=W;}else{W.style.display="block";}}else{if(W){W.style.display="none";}}},_doClose:function(U){T.preventDefault(U);this.hide();},configDraggable:function(V,U,W){var X=U[0];if(X){if(!F.DD){this.cfg.setProperty("draggable",false);return;}if(this.header){A.setStyle(this.header,"cursor","move");this.registerDragDrop();}this.subscribe("beforeShow",B);}else{if(this.dd){this.dd.unreg();}if(this.header){A.setStyle(this.header,"cursor","auto");}this.unsubscribe("beforeShow",B);}},configUnderlay:function(d,c,Z){var b=(this.platform=="mac"&&L.gecko),e=c[0].toLowerCase(),V=this.underlay,W=this.element;function X(){var f=false;if(!V){if(!Q){Q=document.createElement("div");Q.className="underlay";}V=Q.cloneNode(false);this.element.appendChild(V);this.underlay=V;if(P){this.sizeUnderlay();this.cfg.subscribeToConfigEvent("width",this.sizeUnderlay);this.cfg.subscribeToConfigEvent("height",this.sizeUnderlay);this.changeContentEvent.subscribe(this.sizeUnderlay);YAHOO.widget.Module.textResizeEvent.subscribe(this.sizeUnderlay,this,true);}if(L.webkit&&L.webkit<420){this.changeContentEvent.subscribe(this.forceUnderlayRedraw);}f=true;}}function a(){var f=X.call(this);if(!f&&P){this.sizeUnderlay();}this._underlayDeferred=false;this.beforeShowEvent.unsubscribe(a);}function Y(){if(this._underlayDeferred){this.beforeShowEvent.unsubscribe(a);this._underlayDeferred=false;}if(V){this.cfg.unsubscribeFromConfigEvent("width",this.sizeUnderlay);this.cfg.unsubscribeFromConfigEvent("height",this.sizeUnderlay);this.changeContentEvent.unsubscribe(this.sizeUnderlay);this.changeContentEvent.unsubscribe(this.forceUnderlayRedraw);YAHOO.widget.Module.textResizeEvent.unsubscribe(this.sizeUnderlay,this,true);this.element.removeChild(V);this.underlay=null;}}switch(e){case"shadow":A.removeClass(W,"matte");A.addClass(W,"shadow");break;case"matte":if(!b){Y.call(this);}A.removeClass(W,"shadow");A.addClass(W,"matte");break;default:if(!b){Y.call(this);}A.removeClass(W,"shadow");A.removeClass(W,"matte");break;}if((e=="shadow")||(b&&!V)){if(this.cfg.getProperty("visible")){var U=X.call(this);if(!U&&P){this.sizeUnderlay();}}else{if(!this._underlayDeferred){this.beforeShowEvent.subscribe(a);this._underlayDeferred=true;}}}},configModal:function(V,U,X){var W=U[0];if(W){if(!this._hasModalityEventListeners){this.subscribe("beforeShow",this.buildMask);this.subscribe("beforeShow",this.bringToTop);this.subscribe("beforeShow",this.showMask);this.subscribe("hide",this.hideMask);H.windowResizeEvent.subscribe(this.sizeMask,this,true);this._hasModalityEventListeners=true;}}else{if(this._hasModalityEventListeners){if(this.cfg.getProperty("visible")){this.hideMask();this.removeMask();}this.unsubscribe("beforeShow",this.buildMask);this.unsubscribe("beforeShow",this.bringToTop);this.unsubscribe("beforeShow",this.showMask);this.unsubscribe("hide",this.hideMask);H.windowResizeEvent.unsubscribe(this.sizeMask,this);this._hasModalityEventListeners=false;}}},removeMask:function(){var V=this.mask,U;if(V){this.hideMask();U=V.parentNode;
if(U){U.removeChild(V);}this.mask=null;}},configKeyListeners:function(X,U,a){var W=U[0],Z,Y,V;if(W){if(W instanceof Array){Y=W.length;for(V=0;V<Y;V++){Z=W[V];if(!I.alreadySubscribed(this.showEvent,Z.enable,Z)){this.showEvent.subscribe(Z.enable,Z,true);}if(!I.alreadySubscribed(this.hideEvent,Z.disable,Z)){this.hideEvent.subscribe(Z.disable,Z,true);this.destroyEvent.subscribe(Z.disable,Z,true);}}}else{if(!I.alreadySubscribed(this.showEvent,W.enable,W)){this.showEvent.subscribe(W.enable,W,true);}if(!I.alreadySubscribed(this.hideEvent,W.disable,W)){this.hideEvent.subscribe(W.disable,W,true);this.destroyEvent.subscribe(W.disable,W,true);}}}},configStrings:function(V,U,W){var X=E.merge(N.STRINGS.value,U[0]);this.cfg.setProperty(N.STRINGS.key,X,true);},configHeight:function(X,V,Y){var U=V[0],W=this.innerElement;A.setStyle(W,"height",U);this.cfg.refireEvent("iframe");},_autoFillOnHeightChange:function(X,V,W){O.superclass._autoFillOnHeightChange.apply(this,arguments);if(P){var U=this;setTimeout(function(){U.sizeUnderlay();},0);}},configWidth:function(X,U,Y){var W=U[0],V=this.innerElement;A.setStyle(V,"width",W);this.cfg.refireEvent("iframe");},configzIndex:function(V,U,X){O.superclass.configzIndex.call(this,V,U,X);if(this.mask||this.cfg.getProperty("modal")===true){var W=A.getStyle(this.element,"zIndex");if(!W||isNaN(W)){W=0;}if(W===0){this.cfg.setProperty("zIndex",1);}else{this.stackMask();}}},buildWrapper:function(){var W=this.element.parentNode,U=this.element,V=document.createElement("div");V.className=O.CSS_PANEL_CONTAINER;V.id=U.id+"_c";if(W){W.insertBefore(V,U);}V.appendChild(U);this.element=V;this.innerElement=U;A.setStyle(this.innerElement,"visibility","inherit");},sizeUnderlay:function(){var V=this.underlay,U;if(V){U=this.element;V.style.width=U.offsetWidth+"px";V.style.height=U.offsetHeight+"px";}},registerDragDrop:function(){var V=this;if(this.header){if(!F.DD){return;}var U=(this.cfg.getProperty("dragonly")===true);this.dd=new F.DD(this.element.id,this.id,{dragOnly:U});if(!this.header.id){this.header.id=this.id+"_h";}this.dd.startDrag=function(){var X,Z,W,c,b,a;if(YAHOO.env.ua.ie==6){A.addClass(V.element,"drag");}if(V.cfg.getProperty("constraintoviewport")){var Y=H.VIEWPORT_OFFSET;X=V.element.offsetHeight;Z=V.element.offsetWidth;W=A.getViewportWidth();c=A.getViewportHeight();b=A.getDocumentScrollLeft();a=A.getDocumentScrollTop();if(X+Y<c){this.minY=a+Y;this.maxY=a+c-X-Y;}else{this.minY=a+Y;this.maxY=a+Y;}if(Z+Y<W){this.minX=b+Y;this.maxX=b+W-Z-Y;}else{this.minX=b+Y;this.maxX=b+Y;}this.constrainX=true;this.constrainY=true;}else{this.constrainX=false;this.constrainY=false;}V.dragEvent.fire("startDrag",arguments);};this.dd.onDrag=function(){V.syncPosition();V.cfg.refireEvent("iframe");if(this.platform=="mac"&&YAHOO.env.ua.gecko){this.showMacGeckoScrollbars();}V.dragEvent.fire("onDrag",arguments);};this.dd.endDrag=function(){if(YAHOO.env.ua.ie==6){A.removeClass(V.element,"drag");}V.dragEvent.fire("endDrag",arguments);V.moveEvent.fire(V.cfg.getProperty("xy"));};this.dd.setHandleElId(this.header.id);this.dd.addInvalidHandleType("INPUT");this.dd.addInvalidHandleType("SELECT");this.dd.addInvalidHandleType("TEXTAREA");}},buildMask:function(){var U=this.mask;if(!U){if(!G){G=document.createElement("div");G.className="mask";G.innerHTML="&#160;";}U=G.cloneNode(true);U.id=this.id+"_mask";document.body.insertBefore(U,document.body.firstChild);this.mask=U;if(YAHOO.env.ua.gecko&&this.platform=="mac"){A.addClass(this.mask,"block-scrollbars");}this.stackMask();}},hideMask:function(){if(this.cfg.getProperty("modal")&&this.mask){this.mask.style.display="none";A.removeClass(document.body,"masked");this.hideMaskEvent.fire();}},showMask:function(){if(this.cfg.getProperty("modal")&&this.mask){A.addClass(document.body,"masked");this.sizeMask();this.mask.style.display="block";this.showMaskEvent.fire();}},sizeMask:function(){if(this.mask){var V=this.mask,W=A.getViewportWidth(),U=A.getViewportHeight();if(V.offsetHeight>U){V.style.height=U+"px";}if(V.offsetWidth>W){V.style.width=W+"px";}V.style.height=A.getDocumentHeight()+"px";V.style.width=A.getDocumentWidth()+"px";}},stackMask:function(){if(this.mask){var U=A.getStyle(this.element,"zIndex");if(!YAHOO.lang.isUndefined(U)&&!isNaN(U)){A.setStyle(this.mask,"zIndex",U-1);}}},render:function(U){return O.superclass.render.call(this,U,this.innerElement);},_renderHeader:function(U){U=U||this.innerElement;O.superclass._renderHeader.call(this,U);},_renderBody:function(U){U=U||this.innerElement;O.superclass._renderBody.call(this,U);},_renderFooter:function(U){U=U||this.innerElement;O.superclass._renderFooter.call(this,U);},destroy:function(){H.windowResizeEvent.unsubscribe(this.sizeMask,this);this.removeMask();if(this.close){T.purgeElement(this.close);}O.superclass.destroy.call(this);},forceUnderlayRedraw:function(){var U=this.underlay;A.addClass(U,"yui-force-redraw");setTimeout(function(){A.removeClass(U,"yui-force-redraw");},0);},toString:function(){return"Panel "+this.id;}});}());(function(){YAHOO.widget.Dialog=function(J,I){YAHOO.widget.Dialog.superclass.constructor.call(this,J,I);};var B=YAHOO.util.Event,G=YAHOO.util.CustomEvent,E=YAHOO.util.Dom,A=YAHOO.widget.Dialog,F=YAHOO.lang,H={"BEFORE_SUBMIT":"beforeSubmit","SUBMIT":"submit","MANUAL_SUBMIT":"manualSubmit","ASYNC_SUBMIT":"asyncSubmit","FORM_SUBMIT":"formSubmit","CANCEL":"cancel"},C={"POST_METHOD":{key:"postmethod",value:"async"},"POST_DATA":{key:"postdata",value:null},"BUTTONS":{key:"buttons",value:"none",supercedes:["visible"]},"HIDEAFTERSUBMIT":{key:"hideaftersubmit",value:true}};A.CSS_DIALOG="yui-dialog";function D(){var L=this._aButtons,J,K,I;if(F.isArray(L)){J=L.length;if(J>0){I=J-1;do{K=L[I];if(YAHOO.widget.Button&&K instanceof YAHOO.widget.Button){K.destroy();}else{if(K.tagName.toUpperCase()=="BUTTON"){B.purgeElement(K);B.purgeElement(K,false);}}}while(I--);}}}YAHOO.extend(A,YAHOO.widget.Panel,{form:null,initDefaultConfig:function(){A.superclass.initDefaultConfig.call(this);this.callback={success:null,failure:null,argument:null};
this.cfg.addProperty(C.POST_METHOD.key,{handler:this.configPostMethod,value:C.POST_METHOD.value,validator:function(I){if(I!="form"&&I!="async"&&I!="none"&&I!="manual"){return false;}else{return true;}}});this.cfg.addProperty(C.POST_DATA.key,{value:C.POST_DATA.value});this.cfg.addProperty(C.HIDEAFTERSUBMIT.key,{value:C.HIDEAFTERSUBMIT.value});this.cfg.addProperty(C.BUTTONS.key,{handler:this.configButtons,value:C.BUTTONS.value,supercedes:C.BUTTONS.supercedes});},initEvents:function(){A.superclass.initEvents.call(this);var I=G.LIST;this.beforeSubmitEvent=this.createEvent(H.BEFORE_SUBMIT);this.beforeSubmitEvent.signature=I;this.submitEvent=this.createEvent(H.SUBMIT);this.submitEvent.signature=I;this.manualSubmitEvent=this.createEvent(H.MANUAL_SUBMIT);this.manualSubmitEvent.signature=I;this.asyncSubmitEvent=this.createEvent(H.ASYNC_SUBMIT);this.asyncSubmitEvent.signature=I;this.formSubmitEvent=this.createEvent(H.FORM_SUBMIT);this.formSubmitEvent.signature=I;this.cancelEvent=this.createEvent(H.CANCEL);this.cancelEvent.signature=I;},init:function(J,I){A.superclass.init.call(this,J);this.beforeInitEvent.fire(A);E.addClass(this.element,A.CSS_DIALOG);this.cfg.setProperty("visible",false);if(I){this.cfg.applyConfig(I,true);}this.showEvent.subscribe(this.focusFirst,this,true);this.beforeHideEvent.subscribe(this.blurButtons,this,true);this.subscribe("changeBody",this.registerForm);this.initEvent.fire(A);},doSubmit:function(){var P=YAHOO.util.Connect,Q=this.form,K=false,N=false,R,M,L,I;switch(this.cfg.getProperty("postmethod")){case"async":R=Q.elements;M=R.length;if(M>0){L=M-1;do{if(R[L].type=="file"){K=true;break;}}while(L--);}if(K&&YAHOO.env.ua.ie&&this.isSecure){N=true;}I=this._getFormAttributes(Q);P.setForm(Q,K,N);var J=this.cfg.getProperty("postdata");var O=P.asyncRequest(I.method,I.action,this.callback,J);this.asyncSubmitEvent.fire(O);break;case"form":Q.submit();this.formSubmitEvent.fire();break;case"none":case"manual":this.manualSubmitEvent.fire();break;}},_getFormAttributes:function(K){var I={method:null,action:null};if(K){if(K.getAttributeNode){var J=K.getAttributeNode("action");var L=K.getAttributeNode("method");if(J){I.action=J.value;}if(L){I.method=L.value;}}else{I.action=K.getAttribute("action");I.method=K.getAttribute("method");}}I.method=(F.isString(I.method)?I.method:"POST").toUpperCase();I.action=F.isString(I.action)?I.action:"";return I;},registerForm:function(){var I=this.element.getElementsByTagName("form")[0];if(this.form){if(this.form==I&&E.isAncestor(this.element,this.form)){return;}else{B.purgeElement(this.form);this.form=null;}}if(!I){I=document.createElement("form");I.name="frm_"+this.id;this.body.appendChild(I);}if(I){this.form=I;B.on(I,"submit",this._submitHandler,this,true);}},_submitHandler:function(I){B.stopEvent(I);this.submit();this.form.blur();},setTabLoop:function(I,J){I=I||this.firstButton;J=this.lastButton||J;A.superclass.setTabLoop.call(this,I,J);},setFirstLastFocusable:function(){A.superclass.setFirstLastFocusable.call(this);var J,I,K,L=this.focusableElements;this.firstFormElement=null;this.lastFormElement=null;if(this.form&&L&&L.length>0){I=L.length;for(J=0;J<I;++J){K=L[J];if(this.form===K.form){this.firstFormElement=K;break;}}for(J=I-1;J>=0;--J){K=L[J];if(this.form===K.form){this.lastFormElement=K;break;}}}},configClose:function(J,I,K){A.superclass.configClose.apply(this,arguments);},_doClose:function(I){B.preventDefault(I);this.cancel();},configButtons:function(S,R,M){var N=YAHOO.widget.Button,U=R[0],K=this.innerElement,T,P,J,Q,O,I,L;D.call(this);this._aButtons=null;if(F.isArray(U)){O=document.createElement("span");O.className="button-group";Q=U.length;this._aButtons=[];this.defaultHtmlButton=null;for(L=0;L<Q;L++){T=U[L];if(N){J=new N({label:T.text});J.appendTo(O);P=J.get("element");if(T.isDefault){J.addClass("default");this.defaultHtmlButton=P;}if(F.isFunction(T.handler)){J.set("onclick",{fn:T.handler,obj:this,scope:this});}else{if(F.isObject(T.handler)&&F.isFunction(T.handler.fn)){J.set("onclick",{fn:T.handler.fn,obj:((!F.isUndefined(T.handler.obj))?T.handler.obj:this),scope:(T.handler.scope||this)});}}this._aButtons[this._aButtons.length]=J;}else{P=document.createElement("button");P.setAttribute("type","button");if(T.isDefault){P.className="default";this.defaultHtmlButton=P;}P.innerHTML=T.text;if(F.isFunction(T.handler)){B.on(P,"click",T.handler,this,true);}else{if(F.isObject(T.handler)&&F.isFunction(T.handler.fn)){B.on(P,"click",T.handler.fn,((!F.isUndefined(T.handler.obj))?T.handler.obj:this),(T.handler.scope||this));}}O.appendChild(P);this._aButtons[this._aButtons.length]=P;}T.htmlButton=P;if(L===0){this.firstButton=P;}if(L==(Q-1)){this.lastButton=P;}}this.setFooter(O);I=this.footer;if(E.inDocument(this.element)&&!E.isAncestor(K,I)){K.appendChild(I);}this.buttonSpan=O;}else{O=this.buttonSpan;I=this.footer;if(O&&I){I.removeChild(O);this.buttonSpan=null;this.firstButton=null;this.lastButton=null;this.defaultHtmlButton=null;}}this.changeContentEvent.fire();},getButtons:function(){return this._aButtons||null;},focusFirst:function(K,I,M){var J=this.firstFormElement;if(I&&I[1]){B.stopEvent(I[1]);}if(J){try{J.focus();}catch(L){}}else{if(this.defaultHtmlButton){this.focusDefaultButton();}else{this.focusFirstButton();}}},focusLast:function(K,I,M){var N=this.cfg.getProperty("buttons"),J=this.lastFormElement;if(I&&I[1]){B.stopEvent(I[1]);}if(N&&F.isArray(N)){this.focusLastButton();}else{if(J){try{J.focus();}catch(L){}}}},_getButton:function(J){var I=YAHOO.widget.Button;if(I&&J&&J.nodeName&&J.id){J=I.getButton(J.id)||J;}return J;},focusDefaultButton:function(){var I=this._getButton(this.defaultHtmlButton);if(I){try{I.focus();}catch(J){}}},blurButtons:function(){var N=this.cfg.getProperty("buttons"),K,M,J,I;if(N&&F.isArray(N)){K=N.length;if(K>0){I=(K-1);do{M=N[I];if(M){J=this._getButton(M.htmlButton);if(J){try{J.blur();}catch(L){}}}}while(I--);}}},focusFirstButton:function(){var L=this.cfg.getProperty("buttons"),K,I;if(L&&F.isArray(L)){K=L[0];if(K){I=this._getButton(K.htmlButton);
if(I){try{I.focus();}catch(J){}}}}},focusLastButton:function(){var M=this.cfg.getProperty("buttons"),J,L,I;if(M&&F.isArray(M)){J=M.length;if(J>0){L=M[(J-1)];if(L){I=this._getButton(L.htmlButton);if(I){try{I.focus();}catch(K){}}}}}},configPostMethod:function(J,I,K){this.registerForm();},validate:function(){return true;},submit:function(){if(this.validate()){if(this.beforeSubmitEvent.fire()){this.doSubmit();this.submitEvent.fire();if(this.cfg.getProperty("hideaftersubmit")){this.hide();}return true;}else{return false;}}else{return false;}},cancel:function(){this.cancelEvent.fire();this.hide();},getData:function(){var Y=this.form,J,R,U,L,S,P,O,I,V,K,W,Z,N,a,M,X,T;function Q(c){var b=c.tagName.toUpperCase();return((b=="INPUT"||b=="TEXTAREA"||b=="SELECT")&&c.name==L);}if(Y){J=Y.elements;R=J.length;U={};for(X=0;X<R;X++){L=J[X].name;S=E.getElementsBy(Q,"*",Y);P=S.length;if(P>0){if(P==1){S=S[0];O=S.type;I=S.tagName.toUpperCase();switch(I){case"INPUT":if(O=="checkbox"){U[L]=S.checked;}else{if(O!="radio"){U[L]=S.value;}}break;case"TEXTAREA":U[L]=S.value;break;case"SELECT":V=S.options;K=V.length;W=[];for(T=0;T<K;T++){Z=V[T];if(Z.selected){M=Z.attributes.value;W[W.length]=(M&&M.specified)?Z.value:Z.text;}}U[L]=W;break;}}else{O=S[0].type;switch(O){case"radio":for(T=0;T<P;T++){N=S[T];if(N.checked){U[L]=N.value;break;}}break;case"checkbox":W=[];for(T=0;T<P;T++){a=S[T];if(a.checked){W[W.length]=a.value;}}U[L]=W;break;}}}}}return U;},destroy:function(){D.call(this);this._aButtons=null;var I=this.element.getElementsByTagName("form"),J;if(I.length>0){J=I[0];if(J){B.purgeElement(J);if(J.parentNode){J.parentNode.removeChild(J);}this.form=null;}}A.superclass.destroy.call(this);},toString:function(){return"Dialog "+this.id;}});}());(function(){YAHOO.widget.SimpleDialog=function(E,D){YAHOO.widget.SimpleDialog.superclass.constructor.call(this,E,D);};var C=YAHOO.util.Dom,B=YAHOO.widget.SimpleDialog,A={"ICON":{key:"icon",value:"none",suppressEvent:true},"TEXT":{key:"text",value:"",suppressEvent:true,supercedes:["icon"]}};B.ICON_BLOCK="blckicon";B.ICON_ALARM="alrticon";B.ICON_HELP="hlpicon";B.ICON_INFO="infoicon";B.ICON_WARN="warnicon";B.ICON_TIP="tipicon";B.ICON_CSS_CLASSNAME="yui-icon";B.CSS_SIMPLEDIALOG="yui-simple-dialog";YAHOO.extend(B,YAHOO.widget.Dialog,{initDefaultConfig:function(){B.superclass.initDefaultConfig.call(this);this.cfg.addProperty(A.ICON.key,{handler:this.configIcon,value:A.ICON.value,suppressEvent:A.ICON.suppressEvent});this.cfg.addProperty(A.TEXT.key,{handler:this.configText,value:A.TEXT.value,suppressEvent:A.TEXT.suppressEvent,supercedes:A.TEXT.supercedes});},init:function(E,D){B.superclass.init.call(this,E);this.beforeInitEvent.fire(B);C.addClass(this.element,B.CSS_SIMPLEDIALOG);this.cfg.queueProperty("postmethod","manual");if(D){this.cfg.applyConfig(D,true);}this.beforeRenderEvent.subscribe(function(){if(!this.body){this.setBody("");}},this,true);this.initEvent.fire(B);},registerForm:function(){B.superclass.registerForm.call(this);this.form.innerHTML+='<input type="hidden" name="'+this.id+'" value=""/>';},configIcon:function(K,J,H){var D=J[0],E=this.body,F=B.ICON_CSS_CLASSNAME,L,I,G;if(D&&D!="none"){L=C.getElementsByClassName(F,"*",E);if(L.length===1){I=L[0];G=I.parentNode;if(G){G.removeChild(I);I=null;}}if(D.indexOf(".")==-1){I=document.createElement("span");I.className=(F+" "+D);I.innerHTML="&#160;";}else{I=document.createElement("img");I.src=(this.imageRoot+D);I.className=F;}if(I){E.insertBefore(I,E.firstChild);}}},configText:function(E,D,F){var G=D[0];if(G){this.setBody(G);this.cfg.refireEvent("icon");}},toString:function(){return"SimpleDialog "+this.id;}});}());(function(){YAHOO.widget.ContainerEffect=function(E,H,G,D,F){if(!F){F=YAHOO.util.Anim;}this.overlay=E;this.attrIn=H;this.attrOut=G;this.targetElement=D||E.element;this.animClass=F;};var B=YAHOO.util.Dom,C=YAHOO.util.CustomEvent,A=YAHOO.widget.ContainerEffect;A.FADE=function(D,F){var G=YAHOO.util.Easing,I={attributes:{opacity:{from:0,to:1}},duration:F,method:G.easeIn},E={attributes:{opacity:{to:0}},duration:F,method:G.easeOut},H=new A(D,I,E,D.element);H.handleUnderlayStart=function(){var K=this.overlay.underlay;if(K&&YAHOO.env.ua.ie){var J=(K.filters&&K.filters.length>0);if(J){B.addClass(D.element,"yui-effect-fade");}}};H.handleUnderlayComplete=function(){var J=this.overlay.underlay;if(J&&YAHOO.env.ua.ie){B.removeClass(D.element,"yui-effect-fade");}};H.handleStartAnimateIn=function(K,J,L){B.addClass(L.overlay.element,"hide-select");if(!L.overlay.underlay){L.overlay.cfg.refireEvent("underlay");}L.handleUnderlayStart();L.overlay._setDomVisibility(true);B.setStyle(L.overlay.element,"opacity",0);};H.handleCompleteAnimateIn=function(K,J,L){B.removeClass(L.overlay.element,"hide-select");if(L.overlay.element.style.filter){L.overlay.element.style.filter=null;}L.handleUnderlayComplete();L.overlay.cfg.refireEvent("iframe");L.animateInCompleteEvent.fire();};H.handleStartAnimateOut=function(K,J,L){B.addClass(L.overlay.element,"hide-select");L.handleUnderlayStart();};H.handleCompleteAnimateOut=function(K,J,L){B.removeClass(L.overlay.element,"hide-select");if(L.overlay.element.style.filter){L.overlay.element.style.filter=null;}L.overlay._setDomVisibility(false);B.setStyle(L.overlay.element,"opacity",1);L.handleUnderlayComplete();L.overlay.cfg.refireEvent("iframe");L.animateOutCompleteEvent.fire();};H.init();return H;};A.SLIDE=function(F,D){var I=YAHOO.util.Easing,L=F.cfg.getProperty("x")||B.getX(F.element),K=F.cfg.getProperty("y")||B.getY(F.element),M=B.getClientWidth(),H=F.element.offsetWidth,J={attributes:{points:{to:[L,K]}},duration:D,method:I.easeIn},E={attributes:{points:{to:[(M+25),K]}},duration:D,method:I.easeOut},G=new A(F,J,E,F.element,YAHOO.util.Motion);G.handleStartAnimateIn=function(O,N,P){P.overlay.element.style.left=((-25)-H)+"px";P.overlay.element.style.top=K+"px";};G.handleTweenAnimateIn=function(Q,P,R){var S=B.getXY(R.overlay.element),O=S[0],N=S[1];if(B.getStyle(R.overlay.element,"visibility")=="hidden"&&O<L){R.overlay._setDomVisibility(true);
}R.overlay.cfg.setProperty("xy",[O,N],true);R.overlay.cfg.refireEvent("iframe");};G.handleCompleteAnimateIn=function(O,N,P){P.overlay.cfg.setProperty("xy",[L,K],true);P.startX=L;P.startY=K;P.overlay.cfg.refireEvent("iframe");P.animateInCompleteEvent.fire();};G.handleStartAnimateOut=function(O,N,R){var P=B.getViewportWidth(),S=B.getXY(R.overlay.element),Q=S[1];R.animOut.attributes.points.to=[(P+25),Q];};G.handleTweenAnimateOut=function(P,O,Q){var S=B.getXY(Q.overlay.element),N=S[0],R=S[1];Q.overlay.cfg.setProperty("xy",[N,R],true);Q.overlay.cfg.refireEvent("iframe");};G.handleCompleteAnimateOut=function(O,N,P){P.overlay._setDomVisibility(false);P.overlay.cfg.setProperty("xy",[L,K]);P.animateOutCompleteEvent.fire();};G.init();return G;};A.prototype={init:function(){this.beforeAnimateInEvent=this.createEvent("beforeAnimateIn");this.beforeAnimateInEvent.signature=C.LIST;this.beforeAnimateOutEvent=this.createEvent("beforeAnimateOut");this.beforeAnimateOutEvent.signature=C.LIST;this.animateInCompleteEvent=this.createEvent("animateInComplete");this.animateInCompleteEvent.signature=C.LIST;this.animateOutCompleteEvent=this.createEvent("animateOutComplete");this.animateOutCompleteEvent.signature=C.LIST;this.animIn=new this.animClass(this.targetElement,this.attrIn.attributes,this.attrIn.duration,this.attrIn.method);this.animIn.onStart.subscribe(this.handleStartAnimateIn,this);this.animIn.onTween.subscribe(this.handleTweenAnimateIn,this);this.animIn.onComplete.subscribe(this.handleCompleteAnimateIn,this);this.animOut=new this.animClass(this.targetElement,this.attrOut.attributes,this.attrOut.duration,this.attrOut.method);this.animOut.onStart.subscribe(this.handleStartAnimateOut,this);this.animOut.onTween.subscribe(this.handleTweenAnimateOut,this);this.animOut.onComplete.subscribe(this.handleCompleteAnimateOut,this);},animateIn:function(){this.beforeAnimateInEvent.fire();this.animIn.animate();},animateOut:function(){this.beforeAnimateOutEvent.fire();this.animOut.animate();},handleStartAnimateIn:function(E,D,F){},handleTweenAnimateIn:function(E,D,F){},handleCompleteAnimateIn:function(E,D,F){},handleStartAnimateOut:function(E,D,F){},handleTweenAnimateOut:function(E,D,F){},handleCompleteAnimateOut:function(E,D,F){},toString:function(){var D="ContainerEffect";if(this.overlay){D+=" ["+this.overlay.toString()+"]";}return D;}};YAHOO.lang.augmentProto(A,YAHOO.util.EventProvider);})();YAHOO.register("container",YAHOO.widget.Module,{version:"2.8.1",build:"19"});

// FILE: containerariaplugin-min.js (8b938ed1) 3/7/2014 11:24:11 AM

(function(){var S=YAHOO.util.Event,U=YAHOO.util.Dom,al=YAHOO.lang,G=YAHOO.env.ua,e=YAHOO.widget.Panel,I=YAHOO.widget.Tooltip,an=YAHOO.widget.SimpleDialog,g=YAHOO.widget.Module.prototype,aj=g.initDefaultConfig,Y=g._initResizeMonitor,h=YAHOO.widget.Overlay.prototype,L=h.showIframe,aa,a,l,c,O=false,z,R,b=false,ab={},ad={},v="aria-",ak="role",W="presentation",K="usearia",N="blur",ah="focus",D="visible",y="beforeHide",x="alertdialog",Q="dialog",B="describedby",ac="context",k="hidden",j="container-close",t="a",X="href",o="button",am="keydown",n="beforeShow",ag="close",A="labelledby",w="xy",H="tooltip",V="destroy";var q=function(ao,ap){ao.setAttribute(ak,ap)};var s=function(ao,aq,ap){ao.setAttribute((v+aq),ap)};al.augmentObject(g,{_initResizeMonitor:function(){Y.call(this);var ao=this.resizeMonitor;if(ao){q(ao,W);ao.tabIndex=-1}},configUseARIA:function(ap,ao){},configDescribedBy:function(aq,ap){var ao=ap[0];if(this.cfg.getProperty(K)&&ao){s(this.element,B,ao)}},configLabelledBy:function(aq,ap){var ao=ap[0];if(this.cfg.getProperty(K)&&ao){s(this.element,A,ao)}},initDefaultConfig:function(){this.cfg.addProperty(K,{handler:this.configUseARIA,value:(G.gecko&&G.gecko>=1.9)||(G.ie&&G.ie>=8),validator:al.isBoolean});this.cfg.addProperty(A,{handler:this.configLabelledBy,validator:al.isString});this.cfg.addProperty(B,{handler:this.configDescribedBy,validator:al.isString});aj.call(this)}},"initDefaultConfig","configUseARIA","configLabelledBy","configDescribedBy","_initResizeMonitor");h.showIframe=function(){L.call(this);var ao=this.iframe;if(this.cfg.getProperty(K)&&ao&&!ao.getAttribute(ak)){q(ao,W);ao.tabIndex=-1}};var i=function(ap){var ao=S.getCharCode(ap);if(ao===27){if(this.cancel){this.cancel()}else{this.hide()}}};var p=function(ao){this.fireEvent(ah,ao)};var af=function(ao){this.fireEvent(N,ao)};var ai=function(aq,ap){var ao=ap[0];if(R._manageFocus(this)){if(this.cfg.getProperty(D)&&this.focusFirst){if(!ao){this.focusFirst()}}}};var d=function(aq,ap){var ao=ap[0];if(R._manageBlur(this)&&!ao){this.fireEvent(N)}};var F=function(aq,ao,ap){this.blur();if(ap&&ap.focus){try{ap.focus()}catch(ar){}}this.unsubscribe(aq,F,ap)};var r=function(){var ao=(this.cfg.getProperty("modal")===true)?"hideMask":y;this.subscribe(ao,F,z)};var f=function(){s(this.innerElement,k,!this.cfg.getProperty(D))};var u=function(){U.getElementsByClassName(j,t,this.element,function(ao){ao.removeAttribute(X);q(ao,o);ao.tabIndex=0})};var Z=function(ap,ao){var aq=ao[0];if(aq){u.call(this)}};if(e){aa=e.prototype;a=aa.initDefaultConfig;al.augmentObject(aa,{hasFocus:function(){return(R&&this===R.getActive())},configUseARIA:function(aq,ap){var ao=ap[0];if(ao){if(!R){R=new YAHOO.widget.OverlayManager()}R.register(this);this.focus=function(){if(!this.hasFocus()){this.fireEvent(ah)}};this.blur=function(){if(this.hasFocus()){this.fireEvent(N)}};S.onFocus(this.element,p,null,this);S.onBlur(this.element,af,null,this);this.subscribe(ah,ai);this.subscribe(N,d);S.on(this.element,am,i,null,this);this.subscribe(n,r);f.call(this);this.cfg.subscribeToConfigEvent(D,f);this.cfg.subscribeToConfigEvent(ag,Z);if(!O){S.onFocus(document,function(ar){z=S.getTarget(ar)});O=true}}},configDescribedBy:function(aq,ap){var ao=ap[0];if(this.cfg.getProperty(K)&&ao){s(this.innerElement,B,ao)}},configLabelledBy:function(aq,ap){var ao=ap[0];if(this.cfg.getProperty(K)&&ao){s(this.innerElement,A,ao)}},configRole:function(au,ar){var at=ar[0],aq,ap,ao;if(at){switch(at){case x:aq=this.body;if(aq){ao=aq.id||U.generateId(aq);this.cfg.setProperty(B,ao)}break;case Q:ap=this.header;if(ap){ao=ap.id||U.generateId(ap);this.cfg.setProperty(A,ao)}break}q(this.innerElement,at);u.call(this)}},initDefaultConfig:function(){a.call(this);this.cfg.addProperty(ak,{handler:this.configRole,value:Q,validator:al.isString})}},"initDefaultConfig","configRole","configUseARIA","configLabelledBy","configDescribedBy","hasFocus")}if(an){l=an.prototype;c=l.configIcon;l.configIcon=function(ap,ao,at){c.apply(this,arguments);var au=ao[0],ar=an.ICON_CSS_CLASSNAME,aq;if(au&&au!="none"){aq=U.getElementsByClassName(ar,"*",this.body);if(aq){q(aq[0],W)}}}}var m=function(aq){var ao=S.getTarget(aq),ar=ad[ao.id],ap;if(ar){ap=U.getXY(ao);ar.cfg.setProperty(w,[ap[0],(ap[1]+ao.offsetHeight+5)]);ar.show()}};var J=function(ap){var ao=S.getTarget(ap),aq=ad[ao.id];if(aq&&aq.cfg.getProperty(D)){aq.hide()}};var T=function(ap){var ao=ap.id,aq=ad[ao];if(aq===this){delete ad[ao];ap.removeAttribute(B)}};var E=function(){var ap=(this.element)?this.element.id:this.id,ao=ab[ap];U.batch(ao,T,this,true);ab[ap]=null};var M=function(ap){var ao=ap.id||U.generateId(ap);ad[ao]=this;s(ap,B,this.element.id)};var C=function(){var ao=this.cfg.getProperty(ac);U.batch(ao,M,this,true);ab[this.element.id]=ao};var P=function(aq,ao){E.call(this);var ap=ao[0];if(ap){C.call(this)}};var ae=function(){s(this.body,k,!this.cfg.getProperty(D))};if(I){I.prototype.configUseARIA=function(aq,ap){var ao=ap[0];if(ao){q(this.body,H);this.cfg.subscribeToConfigEvent(ac,P);ae.call(this);this.cfg.subscribeToConfigEvent(D,ae);this.subscribe(V,E);if(!b){S.onFocus(document,m);S.onBlur(document,J);b=true}}}}}());YAHOO.register("containerariaplugin",YAHOO.widget.Module,{version:"@VERSION@",build:"@BUILD@"});

// FILE: menu-min.js (3054efe0) 3/7/2014 11:24:12 AM

/*
Copyright (c) 2011, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.9.0
*/
(function(){var K=YAHOO.env.ua,C=YAHOO.util.Dom,Z=YAHOO.util.Event,H=YAHOO.lang,T="DIV",P="hd",M="bd",O="ft",X="LI",A="disabled",D="mouseover",F="mouseout",U="mousedown",G="mouseup",V="click",B="keydown",N="keyup",I="keypress",L="clicktohide",S="position",Q="dynamic",Y="showdelay",J="selected",E="visible",W="UL",R="MenuManager";YAHOO.widget.MenuManager=function(){var l=false,d={},o={},h={},c={"click":"clickEvent","mousedown":"mouseDownEvent","mouseup":"mouseUpEvent","mouseover":"mouseOverEvent","mouseout":"mouseOutEvent","keydown":"keyDownEvent","keyup":"keyUpEvent","keypress":"keyPressEvent","focus":"focusEvent","focusin":"focusEvent","blur":"blurEvent","focusout":"blurEvent"},i=null;function b(r){var p,q;if(r&&r.tagName){switch(r.tagName.toUpperCase()){case T:p=r.parentNode;if((C.hasClass(r,P)||C.hasClass(r,M)||C.hasClass(r,O))&&p&&p.tagName&&p.tagName.toUpperCase()==T){q=p;}else{q=r;}break;case X:q=r;break;default:p=r.parentNode;if(p){q=b(p);}break;}}return q;}function e(t){var p=Z.getTarget(t),q=b(p),u=true,w=t.type,x,r,s,z,y;if(q){r=q.tagName.toUpperCase();if(r==X){s=q.id;if(s&&h[s]){z=h[s];y=z.parent;}}else{if(r==T){if(q.id){y=d[q.id];}}}}if(y){x=c[w];if(w=="click"&&(K.gecko&&y.platform!="mac")&&t.button>0){u=false;}if(u&&z&&!z.cfg.getProperty(A)){z[x].fire(t);}if(u){y[x].fire(t,z);}}else{if(w==U){for(var v in o){if(H.hasOwnProperty(o,v)){y=o[v];if(y.cfg.getProperty(L)&&!(y instanceof YAHOO.widget.MenuBar)&&y.cfg.getProperty(S)==Q){y.hide();if(K.ie&&p.focus&&(K.ie<9)){p.setActive();}}else{if(y.cfg.getProperty(Y)>0){y._cancelShowDelay();}if(y.activeItem){y.activeItem.blur();y.activeItem.cfg.setProperty(J,false);y.activeItem=null;}}}}}}}function n(q,p,r){if(d[r.id]){this.removeMenu(r);}}function k(q,p){var r=p[1];if(r){i=r;}}function f(q,p){i=null;}function a(r,q){var p=q[0],s=this.id;if(p){o[s]=this;}else{if(o[s]){delete o[s];}}}function j(q,p){m(this);}function m(q){var p=q.id;if(p&&h[p]){if(i==q){i=null;}delete h[p];q.destroyEvent.unsubscribe(j);}}function g(q,p){var s=p[0],r;if(s instanceof YAHOO.widget.MenuItem){r=s.id;if(!h[r]){h[r]=s;s.destroyEvent.subscribe(j);}}}return{addMenu:function(q){var p;if(q instanceof YAHOO.widget.Menu&&q.id&&!d[q.id]){d[q.id]=q;if(!l){p=document;Z.on(p,D,e,this,true);Z.on(p,F,e,this,true);Z.on(p,U,e,this,true);Z.on(p,G,e,this,true);Z.on(p,V,e,this,true);Z.on(p,B,e,this,true);Z.on(p,N,e,this,true);Z.on(p,I,e,this,true);Z.onFocus(p,e,this,true);Z.onBlur(p,e,this,true);l=true;}q.cfg.subscribeToConfigEvent(E,a);q.destroyEvent.subscribe(n,q,this);q.itemAddedEvent.subscribe(g);q.focusEvent.subscribe(k);q.blurEvent.subscribe(f);}},removeMenu:function(s){var q,p,r;if(s){q=s.id;if((q in d)&&(d[q]==s)){p=s.getItems();if(p&&p.length>0){r=p.length-1;do{m(p[r]);}while(r--);}delete d[q];if((q in o)&&(o[q]==s)){delete o[q];}if(s.cfg){s.cfg.unsubscribeFromConfigEvent(E,a);}s.destroyEvent.unsubscribe(n,s);s.itemAddedEvent.unsubscribe(g);s.focusEvent.unsubscribe(k);s.blurEvent.unsubscribe(f);}}},hideVisible:function(){var p;for(var q in o){if(H.hasOwnProperty(o,q)){p=o[q];if(!(p instanceof YAHOO.widget.MenuBar)&&p.cfg.getProperty(S)==Q){p.hide();}}}},getVisible:function(){return o;},getMenus:function(){return d;},getMenu:function(q){var p;if(q in d){p=d[q];}return p;},getMenuItem:function(q){var p;if(q in h){p=h[q];}return p;},getMenuItemGroup:function(t){var q=C.get(t),p,v,u,r,s;if(q&&q.tagName&&q.tagName.toUpperCase()==W){v=q.firstChild;if(v){p=[];do{r=v.id;if(r){u=this.getMenuItem(r);if(u){p[p.length]=u;}}}while((v=v.nextSibling));if(p.length>0){s=p;}}}return s;},getFocusedMenuItem:function(){return i;},getFocusedMenu:function(){var p;if(i){p=i.parent.getRoot();}return p;},toString:function(){return R;}};}();})();(function(){var AM=YAHOO.lang,Aq="Menu",G="DIV",K="div",Am="id",AH="SELECT",e="xy",R="y",Ax="UL",L="ul",AJ="first-of-type",k="LI",h="OPTGROUP",Az="OPTION",Ah="disabled",AY="none",y="selected",At="groupindex",i="index",O="submenu",Au="visible",AX="hidedelay",Ac="position",AD="dynamic",C="static",An=AD+","+C,Q="url",M="#",V="target",AU="maxheight",T="topscrollbar",x="bottomscrollbar",d="_",P=T+d+Ah,E=x+d+Ah,b="mousemove",Av="showdelay",c="submenuhidedelay",AF="iframe",w="constraintoviewport",A4="preventcontextoverlap",AO="submenualignment",Z="autosubmenudisplay",AC="clicktohide",g="container",j="scrollincrement",Aj="minscrollheight",A2="classname",Ag="shadow",Ar="keepopen",A0="hd",D="hastitle",p="context",u="",Ak="mousedown",Ae="keydown",Ao="height",U="width",AQ="px",Ay="effect",AE="monitorresize",AW="display",AV="block",J="visibility",z="absolute",AS="zindex",l="yui-menu-body-scrolled",AK="&#32;",A1=" ",Ai="mouseover",H="mouseout",AR="itemAdded",n="itemRemoved",AL="hidden",s="yui-menu-shadow",AG=s+"-visible",m=s+A1+AG;YAHOO.widget.Menu=function(A6,A5){if(A5){this.parent=A5.parent;this.lazyLoad=A5.lazyLoad||A5.lazyload;this.itemData=A5.itemData||A5.itemdata;}YAHOO.widget.Menu.superclass.constructor.call(this,A6,A5);};function B(A6){var A5=false;if(AM.isString(A6)){A5=(An.indexOf((A6.toLowerCase()))!=-1);}return A5;}var f=YAHOO.util.Dom,AA=YAHOO.util.Event,Aw=YAHOO.widget.Module,AB=YAHOO.widget.Overlay,r=YAHOO.widget.Menu,A3=YAHOO.widget.MenuManager,F=YAHOO.util.CustomEvent,As=YAHOO.env.ua,Ap,AT=false,Ad,Ab=[["mouseOverEvent",Ai],["mouseOutEvent",H],["mouseDownEvent",Ak],["mouseUpEvent","mouseup"],["clickEvent","click"],["keyPressEvent","keypress"],["keyDownEvent",Ae],["keyUpEvent","keyup"],["focusEvent","focus"],["blurEvent","blur"],["itemAddedEvent",AR],["itemRemovedEvent",n]],AZ={key:Au,value:false,validator:AM.isBoolean},AP={key:w,value:true,validator:AM.isBoolean,supercedes:[AF,"x",R,e]},AI={key:A4,value:true,validator:AM.isBoolean,supercedes:[w]},S={key:Ac,value:AD,validator:B,supercedes:[Au,AF]},A={key:AO,value:["tl","tr"]},t={key:Z,value:true,validator:AM.isBoolean,suppressEvent:true},Y={key:Av,value:250,validator:AM.isNumber,suppressEvent:true},q={key:AX,value:0,validator:AM.isNumber,suppressEvent:true},v={key:c,value:250,validator:AM.isNumber,suppressEvent:true},o={key:AC,value:true,validator:AM.isBoolean,suppressEvent:true},AN={key:g,suppressEvent:true},Af={key:j,value:1,validator:AM.isNumber,supercedes:[AU],suppressEvent:true},N={key:Aj,value:90,validator:AM.isNumber,supercedes:[AU],suppressEvent:true},X={key:AU,value:0,validator:AM.isNumber,supercedes:[AF],suppressEvent:true},W={key:A2,value:null,validator:AM.isString,suppressEvent:true},a={key:Ah,value:false,validator:AM.isBoolean,suppressEvent:true},I={key:Ag,value:true,validator:AM.isBoolean,suppressEvent:true,supercedes:[Au]},Al={key:Ar,value:false,validator:AM.isBoolean};
function Aa(A5){Ad=AA.getTarget(A5);}YAHOO.lang.extend(r,AB,{CSS_CLASS_NAME:"yuimenu",ITEM_TYPE:null,GROUP_TITLE_TAG_NAME:"h6",OFF_SCREEN_POSITION:"-999em",_useHideDelay:false,_bHandledMouseOverEvent:false,_bHandledMouseOutEvent:false,_aGroupTitleElements:null,_aItemGroups:null,_aListElements:null,_nCurrentMouseX:0,_bStopMouseEventHandlers:false,_sClassName:null,lazyLoad:false,itemData:null,activeItem:null,parent:null,srcElement:null,init:function(A7,A6){this._aItemGroups=[];this._aListElements=[];this._aGroupTitleElements=[];if(!this.ITEM_TYPE){this.ITEM_TYPE=YAHOO.widget.MenuItem;}var A5;if(AM.isString(A7)){A5=f.get(A7);}else{if(A7.tagName){A5=A7;}}if(A5&&A5.tagName){switch(A5.tagName.toUpperCase()){case G:this.srcElement=A5;if(!A5.id){A5.setAttribute(Am,f.generateId());}r.superclass.init.call(this,A5);this.beforeInitEvent.fire(r);break;case AH:this.srcElement=A5;r.superclass.init.call(this,f.generateId());this.beforeInitEvent.fire(r);break;}}else{r.superclass.init.call(this,A7);this.beforeInitEvent.fire(r);}if(this.element){f.addClass(this.element,this.CSS_CLASS_NAME);this.initEvent.subscribe(this._onInit);this.beforeRenderEvent.subscribe(this._onBeforeRender);this.renderEvent.subscribe(this._onRender);this.beforeShowEvent.subscribe(this._onBeforeShow);this.hideEvent.subscribe(this._onHide);this.showEvent.subscribe(this._onShow);this.beforeHideEvent.subscribe(this._onBeforeHide);this.mouseOverEvent.subscribe(this._onMouseOver);this.mouseOutEvent.subscribe(this._onMouseOut);this.clickEvent.subscribe(this._onClick);this.keyDownEvent.subscribe(this._onKeyDown);this.keyPressEvent.subscribe(this._onKeyPress);this.blurEvent.subscribe(this._onBlur);if(!AT){AA.onFocus(document,Aa);AT=true;}if((As.gecko&&As.gecko<1.9)||(As.webkit&&As.webkit<523)){this.cfg.subscribeToConfigEvent(R,this._onYChange);}if(A6){this.cfg.applyConfig(A6,true);}A3.addMenu(this);this.initEvent.fire(r);}},_initSubTree:function(){var A6=this.srcElement,A5,A8,BB,BC,BA,A9,A7;if(A6){A5=(A6.tagName&&A6.tagName.toUpperCase());if(A5==G){BC=this.body.firstChild;if(BC){A8=0;BB=this.GROUP_TITLE_TAG_NAME.toUpperCase();do{if(BC&&BC.tagName){switch(BC.tagName.toUpperCase()){case BB:this._aGroupTitleElements[A8]=BC;break;case Ax:this._aListElements[A8]=BC;this._aItemGroups[A8]=[];A8++;break;}}}while((BC=BC.nextSibling));if(this._aListElements[0]){f.addClass(this._aListElements[0],AJ);}}}BC=null;if(A5){switch(A5){case G:BA=this._aListElements;A9=BA.length;if(A9>0){A7=A9-1;do{BC=BA[A7].firstChild;if(BC){do{if(BC&&BC.tagName&&BC.tagName.toUpperCase()==k){this.addItem(new this.ITEM_TYPE(BC,{parent:this}),A7);}}while((BC=BC.nextSibling));}}while(A7--);}break;case AH:BC=A6.firstChild;do{if(BC&&BC.tagName){switch(BC.tagName.toUpperCase()){case h:case Az:this.addItem(new this.ITEM_TYPE(BC,{parent:this}));break;}}}while((BC=BC.nextSibling));break;}}}},_getFirstEnabledItem:function(){var A5=this.getItems(),A9=A5.length,A8,A7;for(var A6=0;A6<A9;A6++){A8=A5[A6];if(A8&&!A8.cfg.getProperty(Ah)&&A8.element.style.display!=AY){A7=A8;break;}}return A7;},_addItemToGroup:function(BA,BB,BF){var BD,BG,A8,BE,A9,A6,A7,BC;function A5(BH,BI){return(BH[BI]||A5(BH,(BI+1)));}if(BB instanceof this.ITEM_TYPE){BD=BB;BD.parent=this;}else{if(AM.isString(BB)){BD=new this.ITEM_TYPE(BB,{parent:this});}else{if(AM.isObject(BB)){BB.parent=this;BD=new this.ITEM_TYPE(BB.text,BB);}}}if(BD){if(BD.cfg.getProperty(y)){this.activeItem=BD;}BG=AM.isNumber(BA)?BA:0;A8=this._getItemGroup(BG);if(!A8){A8=this._createItemGroup(BG);}if(AM.isNumber(BF)){A9=(BF>=A8.length);if(A8[BF]){A8.splice(BF,0,BD);}else{A8[BF]=BD;}BE=A8[BF];if(BE){if(A9&&(!BE.element.parentNode||BE.element.parentNode.nodeType==11)){this._aListElements[BG].appendChild(BE.element);}else{A6=A5(A8,(BF+1));if(A6&&(!BE.element.parentNode||BE.element.parentNode.nodeType==11)){this._aListElements[BG].insertBefore(BE.element,A6.element);}}BE.parent=this;this._subscribeToItemEvents(BE);this._configureSubmenu(BE);this._updateItemProperties(BG);this.itemAddedEvent.fire(BE);this.changeContentEvent.fire();BC=BE;}}else{A7=A8.length;A8[A7]=BD;BE=A8[A7];if(BE){if(!f.isAncestor(this._aListElements[BG],BE.element)){this._aListElements[BG].appendChild(BE.element);}BE.element.setAttribute(At,BG);BE.element.setAttribute(i,A7);BE.parent=this;BE.index=A7;BE.groupIndex=BG;this._subscribeToItemEvents(BE);this._configureSubmenu(BE);if(A7===0){f.addClass(BE.element,AJ);}this.itemAddedEvent.fire(BE);this.changeContentEvent.fire();BC=BE;}}}return BC;},_removeItemFromGroupByIndex:function(A8,A6){var A7=AM.isNumber(A8)?A8:0,A9=this._getItemGroup(A7),BB,BA,A5;if(A9){BB=A9.splice(A6,1);BA=BB[0];if(BA){this._updateItemProperties(A7);if(A9.length===0){A5=this._aListElements[A7];if(A5&&A5.parentNode){A5.parentNode.removeChild(A5);}this._aItemGroups.splice(A7,1);this._aListElements.splice(A7,1);A5=this._aListElements[0];if(A5){f.addClass(A5,AJ);}}this.itemRemovedEvent.fire(BA);this.changeContentEvent.fire();}}return BA;},_removeItemFromGroupByValue:function(A8,A5){var BA=this._getItemGroup(A8),BB,A9,A7,A6;if(BA){BB=BA.length;A9=-1;if(BB>0){A6=BB-1;do{if(BA[A6]==A5){A9=A6;break;}}while(A6--);if(A9>-1){A7=this._removeItemFromGroupByIndex(A8,A9);}}}return A7;},_updateItemProperties:function(A6){var A7=this._getItemGroup(A6),BA=A7.length,A9,A8,A5;if(BA>0){A5=BA-1;do{A9=A7[A5];if(A9){A8=A9.element;A9.index=A5;A9.groupIndex=A6;A8.setAttribute(At,A6);A8.setAttribute(i,A5);f.removeClass(A8,AJ);}}while(A5--);if(A8){f.addClass(A8,AJ);}}},_createItemGroup:function(A7){var A5,A6;if(!this._aItemGroups[A7]){this._aItemGroups[A7]=[];A5=document.createElement(L);this._aListElements[A7]=A5;A6=this._aItemGroups[A7];}return A6;},_getItemGroup:function(A7){var A5=AM.isNumber(A7)?A7:0,A8=this._aItemGroups,A6;if(A5 in A8){A6=A8[A5];}return A6;},_configureSubmenu:function(A5){var A6=A5.cfg.getProperty(O);if(A6){this.cfg.configChangedEvent.subscribe(this._onParentMenuConfigChange,A6,true);this.renderEvent.subscribe(this._onParentMenuRender,A6,true);}},_subscribeToItemEvents:function(A5){A5.destroyEvent.subscribe(this._onMenuItemDestroy,A5,this);
A5.cfg.configChangedEvent.subscribe(this._onMenuItemConfigChange,A5,this);},_onVisibleChange:function(A7,A6){var A5=A6[0];if(A5){f.addClass(this.element,Au);}else{f.removeClass(this.element,Au);}},_cancelHideDelay:function(){var A5=this.getRoot()._hideDelayTimer;if(A5){A5.cancel();}},_execHideDelay:function(){this._cancelHideDelay();var A5=this.getRoot();A5._hideDelayTimer=AM.later(A5.cfg.getProperty(AX),this,function(){if(A5.activeItem){if(A5.hasFocus()){A5.activeItem.focus();}A5.clearActiveItem();}if(A5==this&&!(this instanceof YAHOO.widget.MenuBar)&&this.cfg.getProperty(Ac)==AD){this.hide();}});},_cancelShowDelay:function(){var A5=this.getRoot()._showDelayTimer;if(A5){A5.cancel();}},_execSubmenuHideDelay:function(A7,A6,A5){A7._submenuHideDelayTimer=AM.later(50,this,function(){if(this._nCurrentMouseX>(A6+10)){A7._submenuHideDelayTimer=AM.later(A5,A7,function(){this.hide();});}else{A7.hide();}});},_disableScrollHeader:function(){if(!this._bHeaderDisabled){f.addClass(this.header,P);this._bHeaderDisabled=true;}},_disableScrollFooter:function(){if(!this._bFooterDisabled){f.addClass(this.footer,E);this._bFooterDisabled=true;}},_enableScrollHeader:function(){if(this._bHeaderDisabled){f.removeClass(this.header,P);this._bHeaderDisabled=false;}},_enableScrollFooter:function(){if(this._bFooterDisabled){f.removeClass(this.footer,E);this._bFooterDisabled=false;}},_onMouseOver:function(BH,BA){var BI=BA[0],BE=BA[1],A5=AA.getTarget(BI),A9=this.getRoot(),BG=this._submenuHideDelayTimer,A6,A8,BD,A7,BC,BB;var BF=function(){if(this.parent.cfg.getProperty(y)){this.show();}};if(!this._bStopMouseEventHandlers){if(!this._bHandledMouseOverEvent&&(A5==this.element||f.isAncestor(this.element,A5))){if(this._useHideDelay){this._cancelHideDelay();}this._nCurrentMouseX=0;AA.on(this.element,b,this._onMouseMove,this,true);if(!(BE&&f.isAncestor(BE.element,AA.getRelatedTarget(BI)))){this.clearActiveItem();}if(this.parent&&BG){BG.cancel();this.parent.cfg.setProperty(y,true);A6=this.parent.parent;A6._bHandledMouseOutEvent=true;A6._bHandledMouseOverEvent=false;}this._bHandledMouseOverEvent=true;this._bHandledMouseOutEvent=false;}if(BE&&!BE.handledMouseOverEvent&&!BE.cfg.getProperty(Ah)&&(A5==BE.element||f.isAncestor(BE.element,A5))){A8=this.cfg.getProperty(Av);BD=(A8>0);if(BD){this._cancelShowDelay();}A7=this.activeItem;if(A7){A7.cfg.setProperty(y,false);}BC=BE.cfg;BC.setProperty(y,true);if(this.hasFocus()||A9._hasFocus){BE.focus();A9._hasFocus=false;}if(this.cfg.getProperty(Z)){BB=BC.getProperty(O);if(BB){if(BD){A9._showDelayTimer=AM.later(A9.cfg.getProperty(Av),BB,BF);}else{BB.show();}}}BE.handledMouseOverEvent=true;BE.handledMouseOutEvent=false;}}},_onMouseOut:function(BD,A7){var BE=A7[0],BB=A7[1],A8=AA.getRelatedTarget(BE),BC=false,BA,A9,A5,A6;if(!this._bStopMouseEventHandlers){if(BB&&!BB.cfg.getProperty(Ah)){BA=BB.cfg;A9=BA.getProperty(O);if(A9&&(A8==A9.element||f.isAncestor(A9.element,A8))){BC=true;}if(!BB.handledMouseOutEvent&&((A8!=BB.element&&!f.isAncestor(BB.element,A8))||BC)){if(!BC){BB.cfg.setProperty(y,false);if(A9){A5=this.cfg.getProperty(c);A6=this.cfg.getProperty(Av);if(!(this instanceof YAHOO.widget.MenuBar)&&A5>0&&A5>=A6){this._execSubmenuHideDelay(A9,AA.getPageX(BE),A5);}else{A9.hide();}}}BB.handledMouseOutEvent=true;BB.handledMouseOverEvent=false;}}if(!this._bHandledMouseOutEvent){if(this._didMouseLeave(A8)||BC){if(this._useHideDelay){this._execHideDelay();}AA.removeListener(this.element,b,this._onMouseMove);this._nCurrentMouseX=AA.getPageX(BE);this._bHandledMouseOutEvent=true;this._bHandledMouseOverEvent=false;}}}},_didMouseLeave:function(A5){return(A5===this._shadow||(A5!=this.element&&!f.isAncestor(this.element,A5)));},_onMouseMove:function(A6,A5){if(!this._bStopMouseEventHandlers){this._nCurrentMouseX=AA.getPageX(A6);}},_onClick:function(BG,A7){var BH=A7[0],BB=A7[1],BD=false,A9,BE,A6,A5,BA,BC,BF;var A8=function(){A6=this.getRoot();if(A6 instanceof YAHOO.widget.MenuBar||A6.cfg.getProperty(Ac)==C){A6.clearActiveItem();}else{A6.hide();}};if(BB){if(BB.cfg.getProperty(Ah)){AA.preventDefault(BH);A8.call(this);}else{A9=BB.cfg.getProperty(O);BA=BB.cfg.getProperty(Q);if(BA){BC=BA.indexOf(M);BF=BA.length;if(BC!=-1){BA=BA.substr(BC,BF);BF=BA.length;if(BF>1){A5=BA.substr(1,BF);BE=YAHOO.widget.MenuManager.getMenu(A5);if(BE){BD=(this.getRoot()===BE.getRoot());}}else{if(BF===1){BD=true;}}}}if(BD&&!BB.cfg.getProperty(V)){AA.preventDefault(BH);if(As.webkit){BB.focus();}else{BB.focusEvent.fire();}}if(!A9&&!this.cfg.getProperty(Ar)){A8.call(this);}}}},_stopMouseEventHandlers:function(){this._bStopMouseEventHandlers=true;AM.later(10,this,function(){this._bStopMouseEventHandlers=false;});},_onKeyDown:function(BJ,BD){var BG=BD[0],BF=BD[1],BC,BH,A6,A9,BK,A5,BN,A8,BI,A7,BE,BM,BA,BB;if(this._useHideDelay){this._cancelHideDelay();}if(BF&&!BF.cfg.getProperty(Ah)){BH=BF.cfg;A6=this.parent;switch(BG.keyCode){case 38:case 40:BK=(BG.keyCode==38)?BF.getPreviousEnabledSibling():BF.getNextEnabledSibling();if(BK){this.clearActiveItem();BK.cfg.setProperty(y,true);BK.focus();if(this.cfg.getProperty(AU)>0||f.hasClass(this.body,l)){A5=this.body;BN=A5.scrollTop;A8=A5.offsetHeight;BI=this.getItems();A7=BI.length-1;BE=BK.element.offsetTop;if(BG.keyCode==40){if(BE>=(A8+BN)){A5.scrollTop=BE-A8;}else{if(BE<=BN){A5.scrollTop=0;}}if(BK==BI[A7]){A5.scrollTop=BK.element.offsetTop;}}else{if(BE<=BN){A5.scrollTop=BE-BK.element.offsetHeight;}else{if(BE>=(BN+A8)){A5.scrollTop=BE;}}if(BK==BI[0]){A5.scrollTop=0;}}BN=A5.scrollTop;BM=A5.scrollHeight-A5.offsetHeight;if(BN===0){this._disableScrollHeader();this._enableScrollFooter();}else{if(BN==BM){this._enableScrollHeader();this._disableScrollFooter();}else{this._enableScrollHeader();this._enableScrollFooter();}}}}AA.preventDefault(BG);this._stopMouseEventHandlers();break;case 39:BC=BH.getProperty(O);if(BC){if(!BH.getProperty(y)){BH.setProperty(y,true);}BC.show();BC.setInitialFocus();BC.setInitialSelection();}else{A9=this.getRoot();if(A9 instanceof YAHOO.widget.MenuBar){BK=A9.activeItem.getNextEnabledSibling();
if(BK){A9.clearActiveItem();BK.cfg.setProperty(y,true);BC=BK.cfg.getProperty(O);if(BC){BC.show();BC.setInitialFocus();}else{BK.focus();}}}}AA.preventDefault(BG);this._stopMouseEventHandlers();break;case 37:if(A6){BA=A6.parent;if(BA instanceof YAHOO.widget.MenuBar){BK=BA.activeItem.getPreviousEnabledSibling();if(BK){BA.clearActiveItem();BK.cfg.setProperty(y,true);BC=BK.cfg.getProperty(O);if(BC){BC.show();BC.setInitialFocus();}else{BK.focus();}}}else{this.hide();A6.focus();}}AA.preventDefault(BG);this._stopMouseEventHandlers();break;}}if(BG.keyCode==27){if(this.cfg.getProperty(Ac)==AD){this.hide();if(this.parent){this.parent.focus();}else{BB=this._focusedElement;if(BB&&BB.focus){try{BB.focus();}catch(BL){}}}}else{if(this.activeItem){BC=this.activeItem.cfg.getProperty(O);if(BC&&BC.cfg.getProperty(Au)){BC.hide();this.activeItem.focus();}else{this.activeItem.blur();this.activeItem.cfg.setProperty(y,false);}}}AA.preventDefault(BG);}},_onKeyPress:function(A7,A6){var A5=A6[0];if(A5.keyCode==40||A5.keyCode==38){AA.preventDefault(A5);}},_onBlur:function(A6,A5){if(this._hasFocus){this._hasFocus=false;}},_onYChange:function(A6,A5){var A8=this.parent,BA,A7,A9;if(A8){BA=A8.parent.body.scrollTop;if(BA>0){A9=(this.cfg.getProperty(R)-BA);f.setY(this.element,A9);A7=this.iframe;if(A7){f.setY(A7,A9);}this.cfg.setProperty(R,A9,true);}}},_onScrollTargetMouseOver:function(BB,BE){var BD=this._bodyScrollTimer;if(BD){BD.cancel();}this._cancelHideDelay();var A7=AA.getTarget(BB),A9=this.body,A8=this.cfg.getProperty(j),A5,A6;function BC(){var BF=A9.scrollTop;if(BF<A5){A9.scrollTop=(BF+A8);this._enableScrollHeader();}else{A9.scrollTop=A5;this._bodyScrollTimer.cancel();this._disableScrollFooter();}}function BA(){var BF=A9.scrollTop;if(BF>0){A9.scrollTop=(BF-A8);this._enableScrollFooter();}else{A9.scrollTop=0;this._bodyScrollTimer.cancel();this._disableScrollHeader();}}if(f.hasClass(A7,A0)){A6=BA;}else{A5=A9.scrollHeight-A9.offsetHeight;A6=BC;}this._bodyScrollTimer=AM.later(10,this,A6,null,true);},_onScrollTargetMouseOut:function(A7,A5){var A6=this._bodyScrollTimer;if(A6){A6.cancel();}this._cancelHideDelay();},_onInit:function(A6,A5){this.cfg.subscribeToConfigEvent(Au,this._onVisibleChange);var A7=!this.parent,A8=this.lazyLoad;if(((A7&&!A8)||(A7&&(this.cfg.getProperty(Au)||this.cfg.getProperty(Ac)==C))||(!A7&&!A8))&&this.getItemGroups().length===0){if(this.srcElement){this._initSubTree();}if(this.itemData){this.addItems(this.itemData);}}else{if(A8){this.cfg.fireQueue();}}},_onBeforeRender:function(A8,A7){var A9=this.element,BC=this._aListElements.length,A6=true,BB=0,A5,BA;if(BC>0){do{A5=this._aListElements[BB];if(A5){if(A6){f.addClass(A5,AJ);A6=false;}if(!f.isAncestor(A9,A5)){this.appendToBody(A5);}BA=this._aGroupTitleElements[BB];if(BA){if(!f.isAncestor(A9,BA)){A5.parentNode.insertBefore(BA,A5);}f.addClass(A5,D);}}BB++;}while(BB<BC);}},_onRender:function(A6,A5){if(this.cfg.getProperty(Ac)==AD){if(!this.cfg.getProperty(Au)){this.positionOffScreen();}}},_onBeforeShow:function(A7,A6){var A9,BC,A8,BA=this.cfg.getProperty(g);if(this.lazyLoad&&this.getItemGroups().length===0){if(this.srcElement){this._initSubTree();}if(this.itemData){if(this.parent&&this.parent.parent&&this.parent.parent.srcElement&&this.parent.parent.srcElement.tagName.toUpperCase()==AH){A9=this.itemData.length;for(BC=0;BC<A9;BC++){if(this.itemData[BC].tagName){this.addItem((new this.ITEM_TYPE(this.itemData[BC])));}}}else{this.addItems(this.itemData);}}A8=this.srcElement;if(A8){if(A8.tagName.toUpperCase()==AH){if(f.inDocument(A8)){this.render(A8.parentNode);}else{this.render(BA);}}else{this.render();}}else{if(this.parent){this.render(this.parent.element);}else{this.render(BA);}}}var BB=this.parent,A5;if(!BB&&this.cfg.getProperty(Ac)==AD){this.cfg.refireEvent(e);}if(BB){A5=BB.parent.cfg.getProperty(AO);this.cfg.setProperty(p,[BB.element,A5[0],A5[1]]);this.align();}},getConstrainedY:function(BH){var BS=this,BO=BS.cfg.getProperty(p),BV=BS.cfg.getProperty(AU),BR,BG={"trbr":true,"tlbl":true,"bltl":true,"brtr":true},BA=(BO&&BG[BO[1]+BO[2]]),BC=BS.element,BW=BC.offsetHeight,BQ=AB.VIEWPORT_OFFSET,BL=f.getViewportHeight(),BP=f.getDocumentScrollTop(),BM=(BS.cfg.getProperty(Aj)+BQ<BL),BU,BD,BJ,BK,BF=false,BE,A7,BI=BP+BQ,A9=BP+BL-BW-BQ,A5=BH;var BB=function(){var BX;if((BS.cfg.getProperty(R)-BP)>BJ){BX=(BJ-BW);}else{BX=(BJ+BK);}BS.cfg.setProperty(R,(BX+BP),true);return BX;};var A8=function(){if((BS.cfg.getProperty(R)-BP)>BJ){return(A7-BQ);}else{return(BE-BQ);}};var BN=function(){var BX;if((BS.cfg.getProperty(R)-BP)>BJ){BX=(BJ+BK);}else{BX=(BJ-BC.offsetHeight);}BS.cfg.setProperty(R,(BX+BP),true);};var A6=function(){BS._setScrollHeight(this.cfg.getProperty(AU));BS.hideEvent.unsubscribe(A6);};var BT=function(){var Ba=A8(),BX=(BS.getItems().length>0),BZ,BY;if(BW>Ba){BZ=BX?BS.cfg.getProperty(Aj):BW;if((Ba>BZ)&&BX){BR=Ba;}else{BR=BV;}BS._setScrollHeight(BR);BS.hideEvent.subscribe(A6);BN();if(Ba<BZ){if(BF){BB();}else{BB();BF=true;BY=BT();}}}else{if(BR&&(BR!==BV)){BS._setScrollHeight(BV);BS.hideEvent.subscribe(A6);BN();}}return BY;};if(BH<BI||BH>A9){if(BM){if(BS.cfg.getProperty(A4)&&BA){BD=BO[0];BK=BD.offsetHeight;BJ=(f.getY(BD)-BP);BE=BJ;A7=(BL-(BJ+BK));BT();A5=BS.cfg.getProperty(R);}else{if(!(BS instanceof YAHOO.widget.MenuBar)&&BW>=BL){BU=(BL-(BQ*2));if(BU>BS.cfg.getProperty(Aj)){BS._setScrollHeight(BU);BS.hideEvent.subscribe(A6);BN();A5=BS.cfg.getProperty(R);}}else{if(BH<BI){A5=BI;}else{if(BH>A9){A5=A9;}}}}}else{A5=BQ+BP;}}return A5;},_onHide:function(A6,A5){if(this.cfg.getProperty(Ac)===AD){this.positionOffScreen();}},_onShow:function(BD,BB){var A5=this.parent,A7,A8,BA,A6;function A9(BF){var BE;if(BF.type==Ak||(BF.type==Ae&&BF.keyCode==27)){BE=AA.getTarget(BF);if(BE!=A7.element||!f.isAncestor(A7.element,BE)){A7.cfg.setProperty(Z,false);AA.removeListener(document,Ak,A9);AA.removeListener(document,Ae,A9);}}}function BC(BF,BE,BG){this.cfg.setProperty(U,u);this.hideEvent.unsubscribe(BC,BG);}if(A5){A7=A5.parent;if(!A7.cfg.getProperty(Z)&&(A7 instanceof YAHOO.widget.MenuBar||A7.cfg.getProperty(Ac)==C)){A7.cfg.setProperty(Z,true);
AA.on(document,Ak,A9);AA.on(document,Ae,A9);}if((this.cfg.getProperty("x")<A7.cfg.getProperty("x"))&&(As.gecko&&As.gecko<1.9)&&!this.cfg.getProperty(U)){A8=this.element;BA=A8.offsetWidth;A8.style.width=BA+AQ;A6=(BA-(A8.offsetWidth-BA))+AQ;this.cfg.setProperty(U,A6);this.hideEvent.subscribe(BC,A6);}}if(this===this.getRoot()&&this.cfg.getProperty(Ac)===AD){this._focusedElement=Ad;this.focus();}},_onBeforeHide:function(A7,A6){var A5=this.activeItem,A9=this.getRoot(),BA,A8;if(A5){BA=A5.cfg;BA.setProperty(y,false);A8=BA.getProperty(O);if(A8){A8.hide();}}if(As.ie&&this.cfg.getProperty(Ac)===AD&&this.parent){A9._hasFocus=this.hasFocus();}if(A9==this){A9.blur();}},_onParentMenuConfigChange:function(A6,A5,A9){var A7=A5[0][0],A8=A5[0][1];switch(A7){case AF:case w:case AX:case Av:case c:case AC:case Ay:case A2:case j:case AU:case Aj:case AE:case Ag:case A4:case Ar:A9.cfg.setProperty(A7,A8);break;case AO:if(!(this.parent.parent instanceof YAHOO.widget.MenuBar)){A9.cfg.setProperty(A7,A8);}break;}},_onParentMenuRender:function(A6,A5,BB){var A8=BB.parent.parent,A7=A8.cfg,A9={constraintoviewport:A7.getProperty(w),xy:[0,0],clicktohide:A7.getProperty(AC),effect:A7.getProperty(Ay),showdelay:A7.getProperty(Av),hidedelay:A7.getProperty(AX),submenuhidedelay:A7.getProperty(c),classname:A7.getProperty(A2),scrollincrement:A7.getProperty(j),maxheight:A7.getProperty(AU),minscrollheight:A7.getProperty(Aj),iframe:A7.getProperty(AF),shadow:A7.getProperty(Ag),preventcontextoverlap:A7.getProperty(A4),monitorresize:A7.getProperty(AE),keepopen:A7.getProperty(Ar)},BA;if(!(A8 instanceof YAHOO.widget.MenuBar)){A9[AO]=A7.getProperty(AO);}BB.cfg.applyConfig(A9);if(!this.lazyLoad){BA=this.parent.element;if(this.element.parentNode==BA){this.render();}else{this.render(BA);}}},_onMenuItemDestroy:function(A7,A6,A5){this._removeItemFromGroupByValue(A5.groupIndex,A5);},_onMenuItemConfigChange:function(A7,A6,A5){var A9=A6[0][0],BA=A6[0][1],A8;switch(A9){case y:if(BA===true){this.activeItem=A5;}break;case O:A8=A6[0][1];if(A8){this._configureSubmenu(A5);}break;}},configVisible:function(A7,A6,A8){var A5,A9;if(this.cfg.getProperty(Ac)==AD){r.superclass.configVisible.call(this,A7,A6,A8);}else{A5=A6[0];A9=f.getStyle(this.element,AW);f.setStyle(this.element,J,Au);if(A5){if(A9!=AV){this.beforeShowEvent.fire();f.setStyle(this.element,AW,AV);this.showEvent.fire();}}else{if(A9==AV){this.beforeHideEvent.fire();f.setStyle(this.element,AW,AY);this.hideEvent.fire();}}}},configPosition:function(A7,A6,BA){var A9=this.element,A8=A6[0]==C?C:z,BB=this.cfg,A5;f.setStyle(A9,Ac,A8);if(A8==C){f.setStyle(A9,AW,AV);BB.setProperty(Au,true);}else{f.setStyle(A9,J,AL);}if(A8==z){A5=BB.getProperty(AS);if(!A5||A5===0){BB.setProperty(AS,1);}}},configIframe:function(A6,A5,A7){if(this.cfg.getProperty(Ac)==AD){r.superclass.configIframe.call(this,A6,A5,A7);}},configHideDelay:function(A6,A5,A7){var A8=A5[0];this._useHideDelay=(A8>0);},configContainer:function(A6,A5,A8){var A7=A5[0];if(AM.isString(A7)){this.cfg.setProperty(g,f.get(A7),true);}},_clearSetWidthFlag:function(){this._widthSetForScroll=false;this.cfg.unsubscribeFromConfigEvent(U,this._clearSetWidthFlag);},_subscribeScrollHandlers:function(A6,A5){var A8=this._onScrollTargetMouseOver;var A7=this._onScrollTargetMouseOut;AA.on(A6,Ai,A8,this,true);AA.on(A6,H,A7,this,true);AA.on(A5,Ai,A8,this,true);AA.on(A5,H,A7,this,true);},_unsubscribeScrollHandlers:function(A6,A5){var A8=this._onScrollTargetMouseOver;var A7=this._onScrollTargetMouseOut;AA.removeListener(A6,Ai,A8);AA.removeListener(A6,H,A7);AA.removeListener(A5,Ai,A8);AA.removeListener(A5,H,A7);},_setScrollHeight:function(BF){var BC=BF,BB=false,BG=false,A8,A9,BE,A6,A5,BD,BA,A7;if(this.getItems().length>0){A8=this.element;A9=this.body;BE=this.header;A6=this.footer;A5=this.cfg.getProperty(Aj);if(BC>0&&BC<A5){BC=A5;}f.setStyle(A9,Ao,u);f.removeClass(A9,l);A9.scrollTop=0;BG=((As.gecko&&As.gecko<1.9)||As.ie);if(BC>0&&BG&&!this.cfg.getProperty(U)){BA=A8.offsetWidth;A8.style.width=BA+AQ;A7=(BA-(A8.offsetWidth-BA))+AQ;this.cfg.unsubscribeFromConfigEvent(U,this._clearSetWidthFlag);this.cfg.setProperty(U,A7);this._widthSetForScroll=true;this.cfg.subscribeToConfigEvent(U,this._clearSetWidthFlag);}if(BC>0&&(!BE&&!A6)){this.setHeader(AK);this.setFooter(AK);BE=this.header;A6=this.footer;f.addClass(BE,T);f.addClass(A6,x);A8.insertBefore(BE,A9);A8.appendChild(A6);}BD=BC;if(BE&&A6){BD=(BD-(BE.offsetHeight+A6.offsetHeight));}if((BD>0)&&(A9.offsetHeight>BC)){f.addClass(A9,l);f.setStyle(A9,Ao,(BD+AQ));if(!this._hasScrollEventHandlers){this._subscribeScrollHandlers(BE,A6);this._hasScrollEventHandlers=true;}this._disableScrollHeader();this._enableScrollFooter();BB=true;}else{if(BE&&A6){if(this._widthSetForScroll){this._widthSetForScroll=false;this.cfg.unsubscribeFromConfigEvent(U,this._clearSetWidthFlag);this.cfg.setProperty(U,u);}this._enableScrollHeader();this._enableScrollFooter();if(this._hasScrollEventHandlers){this._unsubscribeScrollHandlers(BE,A6);this._hasScrollEventHandlers=false;}A8.removeChild(BE);A8.removeChild(A6);this.header=null;this.footer=null;BB=true;}}if(BB){this.cfg.refireEvent(AF);this.cfg.refireEvent(Ag);}}},_setMaxHeight:function(A6,A5,A7){this._setScrollHeight(A7);this.renderEvent.unsubscribe(this._setMaxHeight);},configMaxHeight:function(A6,A5,A7){var A8=A5[0];if(this.lazyLoad&&!this.body&&A8>0){this.renderEvent.subscribe(this._setMaxHeight,A8,this);}else{this._setScrollHeight(A8);}},configClassName:function(A7,A6,A8){var A5=A6[0];if(this._sClassName){f.removeClass(this.element,this._sClassName);}f.addClass(this.element,A5);this._sClassName=A5;},_onItemAdded:function(A6,A5){var A7=A5[0];if(A7){A7.cfg.setProperty(Ah,true);}},configDisabled:function(A7,A6,BA){var A9=A6[0],A5=this.getItems(),BB,A8;if(AM.isArray(A5)){BB=A5.length;if(BB>0){A8=BB-1;do{A5[A8].cfg.setProperty(Ah,A9);}while(A8--);}if(A9){this.clearActiveItem(true);f.addClass(this.element,Ah);this.itemAddedEvent.subscribe(this._onItemAdded);}else{f.removeClass(this.element,Ah);this.itemAddedEvent.unsubscribe(this._onItemAdded);
}}},_sizeShadow:function(){var A6=this.element,A5=this._shadow;if(A5&&A6){if(A5.style.width&&A5.style.height){A5.style.width=u;A5.style.height=u;}A5.style.width=(A6.offsetWidth+6)+AQ;A5.style.height=(A6.offsetHeight+1)+AQ;}},_replaceShadow:function(){this.element.appendChild(this._shadow);},_addShadowVisibleClass:function(){f.addClass(this._shadow,AG);},_removeShadowVisibleClass:function(){f.removeClass(this._shadow,AG);},_removeShadow:function(){var A5=(this._shadow&&this._shadow.parentNode);if(A5){A5.removeChild(this._shadow);}this.beforeShowEvent.unsubscribe(this._addShadowVisibleClass);this.beforeHideEvent.unsubscribe(this._removeShadowVisibleClass);this.cfg.unsubscribeFromConfigEvent(U,this._sizeShadow);this.cfg.unsubscribeFromConfigEvent(Ao,this._sizeShadow);this.cfg.unsubscribeFromConfigEvent(AU,this._sizeShadow);this.cfg.unsubscribeFromConfigEvent(AU,this._replaceShadow);this.changeContentEvent.unsubscribe(this._sizeShadow);Aw.textResizeEvent.unsubscribe(this._sizeShadow);},_createShadow:function(){var A6=this._shadow,A5;if(!A6){A5=this.element;if(!Ap){Ap=document.createElement(K);Ap.className=m;}A6=Ap.cloneNode(false);A5.appendChild(A6);this._shadow=A6;this.beforeShowEvent.subscribe(this._addShadowVisibleClass);this.beforeHideEvent.subscribe(this._removeShadowVisibleClass);if(As.ie){AM.later(0,this,function(){this._sizeShadow();this.syncIframe();});this.cfg.subscribeToConfigEvent(U,this._sizeShadow);this.cfg.subscribeToConfigEvent(Ao,this._sizeShadow);this.cfg.subscribeToConfigEvent(AU,this._sizeShadow);this.changeContentEvent.subscribe(this._sizeShadow);Aw.textResizeEvent.subscribe(this._sizeShadow,this,true);this.destroyEvent.subscribe(function(){Aw.textResizeEvent.unsubscribe(this._sizeShadow,this);});}this.cfg.subscribeToConfigEvent(AU,this._replaceShadow);}},_shadowBeforeShow:function(){if(this._shadow){this._replaceShadow();if(As.ie){this._sizeShadow();}}else{this._createShadow();}this.beforeShowEvent.unsubscribe(this._shadowBeforeShow);},configShadow:function(A6,A5,A7){var A8=A5[0];if(A8&&this.cfg.getProperty(Ac)==AD){if(this.cfg.getProperty(Au)){if(this._shadow){this._replaceShadow();if(As.ie){this._sizeShadow();}}else{this._createShadow();}}else{this.beforeShowEvent.subscribe(this._shadowBeforeShow);}}else{if(!A8){this.beforeShowEvent.unsubscribe(this._shadowBeforeShow);this._removeShadow();}}},initEvents:function(){r.superclass.initEvents.call(this);var A6=Ab.length-1,A7,A5;do{A7=Ab[A6];A5=this.createEvent(A7[1]);A5.signature=F.LIST;this[A7[0]]=A5;}while(A6--);},positionOffScreen:function(){var A6=this.iframe,A7=this.element,A5=this.OFF_SCREEN_POSITION;A7.style.top=u;A7.style.left=u;if(A6){A6.style.top=A5;A6.style.left=A5;}},getRoot:function(){var A7=this.parent,A6,A5;if(A7){A6=A7.parent;A5=A6?A6.getRoot():this;}else{A5=this;}return A5;},toString:function(){var A6=Aq,A5=this.id;if(A5){A6+=(A1+A5);}return A6;},setItemGroupTitle:function(BA,A9){var A8,A7,A6,A5;if(AM.isString(BA)&&BA.length>0){A8=AM.isNumber(A9)?A9:0;A7=this._aGroupTitleElements[A8];if(A7){A7.innerHTML=BA;}else{A7=document.createElement(this.GROUP_TITLE_TAG_NAME);A7.innerHTML=BA;this._aGroupTitleElements[A8]=A7;}A6=this._aGroupTitleElements.length-1;do{if(this._aGroupTitleElements[A6]){f.removeClass(this._aGroupTitleElements[A6],AJ);A5=A6;}}while(A6--);if(A5!==null){f.addClass(this._aGroupTitleElements[A5],AJ);}this.changeContentEvent.fire();}},addItem:function(A5,A6){return this._addItemToGroup(A6,A5);},addItems:function(A9,A8){var BB,A5,BA,A6,A7;if(AM.isArray(A9)){BB=A9.length;A5=[];for(A6=0;A6<BB;A6++){BA=A9[A6];if(BA){if(AM.isArray(BA)){A5[A5.length]=this.addItems(BA,A6);}else{A5[A5.length]=this._addItemToGroup(A8,BA);}}}if(A5.length){A7=A5;}}return A7;},insertItem:function(A5,A6,A7){return this._addItemToGroup(A7,A5,A6);},removeItem:function(A5,A7){var A8,A6;if(!AM.isUndefined(A5)){if(A5 instanceof YAHOO.widget.MenuItem){A8=this._removeItemFromGroupByValue(A7,A5);}else{if(AM.isNumber(A5)){A8=this._removeItemFromGroupByIndex(A7,A5);}}if(A8){A8.destroy();A6=A8;}}return A6;},getItems:function(){var A8=this._aItemGroups,A6,A7,A5=[];if(AM.isArray(A8)){A6=A8.length;A7=((A6==1)?A8[0]:(Array.prototype.concat.apply(A5,A8)));}return A7;},getItemGroups:function(){return this._aItemGroups;},getItem:function(A6,A7){var A8,A5;if(AM.isNumber(A6)){A8=this._getItemGroup(A7);if(A8){A5=A8[A6];}}return A5;},getSubmenus:function(){var A6=this.getItems(),BA=A6.length,A5,A7,A9,A8;if(BA>0){A5=[];for(A8=0;A8<BA;A8++){A9=A6[A8];if(A9){A7=A9.cfg.getProperty(O);if(A7){A5[A5.length]=A7;}}}}return A5;},clearContent:function(){var A9=this.getItems(),A6=A9.length,A7=this.element,A8=this.body,BD=this.header,A5=this.footer,BC,BB,BA;if(A6>0){BA=A6-1;do{BC=A9[BA];if(BC){BB=BC.cfg.getProperty(O);if(BB){this.cfg.configChangedEvent.unsubscribe(this._onParentMenuConfigChange,BB);this.renderEvent.unsubscribe(this._onParentMenuRender,BB);}this.removeItem(BC,BC.groupIndex);}}while(BA--);}if(BD){AA.purgeElement(BD);A7.removeChild(BD);}if(A5){AA.purgeElement(A5);A7.removeChild(A5);}if(A8){AA.purgeElement(A8);A8.innerHTML=u;}this.activeItem=null;this._aItemGroups=[];this._aListElements=[];this._aGroupTitleElements=[];this.cfg.setProperty(U,null);},destroy:function(A5){this.clearContent();this._aItemGroups=null;this._aListElements=null;this._aGroupTitleElements=null;r.superclass.destroy.call(this,A5);},setInitialFocus:function(){var A5=this._getFirstEnabledItem();if(A5){A5.focus();}},setInitialSelection:function(){var A5=this._getFirstEnabledItem();if(A5){A5.cfg.setProperty(y,true);}},clearActiveItem:function(A7){if(this.cfg.getProperty(Av)>0){this._cancelShowDelay();}var A5=this.activeItem,A8,A6;if(A5){A8=A5.cfg;if(A7){A5.blur();this.getRoot()._hasFocus=true;}A8.setProperty(y,false);A6=A8.getProperty(O);if(A6){A6.hide();}this.activeItem=null;}},focus:function(){if(!this.hasFocus()){this.setInitialFocus();}},blur:function(){var A5;if(this.hasFocus()){A5=A3.getFocusedMenuItem();if(A5){A5.blur();}}},hasFocus:function(){return(A3.getFocusedMenu()==this.getRoot());
},_doItemSubmenuSubscribe:function(A6,A5,A8){var A9=A5[0],A7=A9.cfg.getProperty(O);if(A7){A7.subscribe.apply(A7,A8);}},_doSubmenuSubscribe:function(A6,A5,A8){var A7=this.cfg.getProperty(O);if(A7){A7.subscribe.apply(A7,A8);}},subscribe:function(){r.superclass.subscribe.apply(this,arguments);r.superclass.subscribe.call(this,AR,this._doItemSubmenuSubscribe,arguments);var A5=this.getItems(),A9,A8,A6,A7;if(A5){A9=A5.length;if(A9>0){A7=A9-1;do{A8=A5[A7];A6=A8.cfg.getProperty(O);if(A6){A6.subscribe.apply(A6,arguments);}else{A8.cfg.subscribeToConfigEvent(O,this._doSubmenuSubscribe,arguments);}}while(A7--);}}},unsubscribe:function(){r.superclass.unsubscribe.apply(this,arguments);r.superclass.unsubscribe.call(this,AR,this._doItemSubmenuSubscribe,arguments);var A5=this.getItems(),A9,A8,A6,A7;if(A5){A9=A5.length;if(A9>0){A7=A9-1;do{A8=A5[A7];A6=A8.cfg.getProperty(O);if(A6){A6.unsubscribe.apply(A6,arguments);}else{A8.cfg.unsubscribeFromConfigEvent(O,this._doSubmenuSubscribe,arguments);}}while(A7--);}}},initDefaultConfig:function(){r.superclass.initDefaultConfig.call(this);var A5=this.cfg;A5.addProperty(AZ.key,{handler:this.configVisible,value:AZ.value,validator:AZ.validator});A5.addProperty(AP.key,{handler:this.configConstrainToViewport,value:AP.value,validator:AP.validator,supercedes:AP.supercedes});A5.addProperty(AI.key,{value:AI.value,validator:AI.validator,supercedes:AI.supercedes});A5.addProperty(S.key,{handler:this.configPosition,value:S.value,validator:S.validator,supercedes:S.supercedes});A5.addProperty(A.key,{value:A.value,suppressEvent:A.suppressEvent});A5.addProperty(t.key,{value:t.value,validator:t.validator,suppressEvent:t.suppressEvent});A5.addProperty(Y.key,{value:Y.value,validator:Y.validator,suppressEvent:Y.suppressEvent});A5.addProperty(q.key,{handler:this.configHideDelay,value:q.value,validator:q.validator,suppressEvent:q.suppressEvent});A5.addProperty(v.key,{value:v.value,validator:v.validator,suppressEvent:v.suppressEvent});A5.addProperty(o.key,{value:o.value,validator:o.validator,suppressEvent:o.suppressEvent});A5.addProperty(AN.key,{handler:this.configContainer,value:document.body,suppressEvent:AN.suppressEvent});A5.addProperty(Af.key,{value:Af.value,validator:Af.validator,supercedes:Af.supercedes,suppressEvent:Af.suppressEvent});A5.addProperty(N.key,{value:N.value,validator:N.validator,supercedes:N.supercedes,suppressEvent:N.suppressEvent});A5.addProperty(X.key,{handler:this.configMaxHeight,value:X.value,validator:X.validator,suppressEvent:X.suppressEvent,supercedes:X.supercedes});A5.addProperty(W.key,{handler:this.configClassName,value:W.value,validator:W.validator,supercedes:W.supercedes});A5.addProperty(a.key,{handler:this.configDisabled,value:a.value,validator:a.validator,suppressEvent:a.suppressEvent});A5.addProperty(I.key,{handler:this.configShadow,value:I.value,validator:I.validator});A5.addProperty(Al.key,{value:Al.value,validator:Al.validator});}});})();(function(){YAHOO.widget.MenuItem=function(AS,AR){if(AS){if(AR){this.parent=AR.parent;this.value=AR.value;this.id=AR.id;}this.init(AS,AR);}};var x=YAHOO.util.Dom,j=YAHOO.widget.Module,AB=YAHOO.widget.Menu,c=YAHOO.widget.MenuItem,AK=YAHOO.util.CustomEvent,k=YAHOO.env.ua,AQ=YAHOO.lang,AL="text",O="#",Q="-",L="helptext",n="url",AH="target",A="emphasis",N="strongemphasis",b="checked",w="submenu",H="disabled",B="selected",P="hassubmenu",U="checked-disabled",AI="hassubmenu-disabled",AD="hassubmenu-selected",T="checked-selected",q="onclick",J="classname",AJ="",i="OPTION",v="OPTGROUP",K="LI",AE="href",r="SELECT",X="DIV",AN='<em class="helptext">',a="<em>",I="</em>",W="<strong>",y="</strong>",Y="preventcontextoverlap",h="obj",AG="scope",t="none",V="visible",E=" ",m="MenuItem",AA="click",D="show",M="hide",S="li",AF='<a href="#"></a>',p=[["mouseOverEvent","mouseover"],["mouseOutEvent","mouseout"],["mouseDownEvent","mousedown"],["mouseUpEvent","mouseup"],["clickEvent",AA],["keyPressEvent","keypress"],["keyDownEvent","keydown"],["keyUpEvent","keyup"],["focusEvent","focus"],["blurEvent","blur"],["destroyEvent","destroy"]],o={key:AL,value:AJ,validator:AQ.isString,suppressEvent:true},s={key:L,supercedes:[AL],suppressEvent:true},G={key:n,value:O,suppressEvent:true},AO={key:AH,suppressEvent:true},AP={key:A,value:false,validator:AQ.isBoolean,suppressEvent:true,supercedes:[AL]},d={key:N,value:false,validator:AQ.isBoolean,suppressEvent:true,supercedes:[AL]},l={key:b,value:false,validator:AQ.isBoolean,suppressEvent:true,supercedes:[H,B]},F={key:w,suppressEvent:true,supercedes:[H,B]},AM={key:H,value:false,validator:AQ.isBoolean,suppressEvent:true,supercedes:[AL,B]},f={key:B,value:false,validator:AQ.isBoolean,suppressEvent:true},u={key:q,suppressEvent:true},AC={key:J,value:null,validator:AQ.isString,suppressEvent:true},z={key:"keylistener",value:null,suppressEvent:true},C=null,e={};var Z=function(AU,AT){var AR=e[AU];if(!AR){e[AU]={};AR=e[AU];}var AS=AR[AT];if(!AS){AS=AU+Q+AT;AR[AT]=AS;}return AS;};var g=function(AR){x.addClass(this.element,Z(this.CSS_CLASS_NAME,AR));x.addClass(this._oAnchor,Z(this.CSS_LABEL_CLASS_NAME,AR));};var R=function(AR){x.removeClass(this.element,Z(this.CSS_CLASS_NAME,AR));x.removeClass(this._oAnchor,Z(this.CSS_LABEL_CLASS_NAME,AR));};c.prototype={CSS_CLASS_NAME:"yuimenuitem",CSS_LABEL_CLASS_NAME:"yuimenuitemlabel",SUBMENU_TYPE:null,_oAnchor:null,_oHelpTextEM:null,_oSubmenu:null,_oOnclickAttributeValue:null,_sClassName:null,constructor:c,index:null,groupIndex:null,parent:null,element:null,srcElement:null,value:null,browser:j.prototype.browser,id:null,init:function(AR,Ab){if(!this.SUBMENU_TYPE){this.SUBMENU_TYPE=AB;}this.cfg=new YAHOO.util.Config(this);this.initDefaultConfig();var AX=this.cfg,AY=O,AT,Aa,AZ,AS,AV,AU,AW;if(AQ.isString(AR)){this._createRootNodeStructure();AX.queueProperty(AL,AR);}else{if(AR&&AR.tagName){switch(AR.tagName.toUpperCase()){case i:this._createRootNodeStructure();AX.queueProperty(AL,AR.text);AX.queueProperty(H,AR.disabled);this.value=AR.value;this.srcElement=AR;break;case v:this._createRootNodeStructure();
AX.queueProperty(AL,AR.label);AX.queueProperty(H,AR.disabled);this.srcElement=AR;this._initSubTree();break;case K:AZ=x.getFirstChild(AR);if(AZ){AY=AZ.getAttribute(AE,2);AS=AZ.getAttribute(AH);AV=AZ.innerHTML;}this.srcElement=AR;this.element=AR;this._oAnchor=AZ;AX.setProperty(AL,AV,true);AX.setProperty(n,AY,true);AX.setProperty(AH,AS,true);this._initSubTree();break;}}}if(this.element){AU=(this.srcElement||this.element).id;if(!AU){AU=this.id||x.generateId();this.element.id=AU;}this.id=AU;x.addClass(this.element,this.CSS_CLASS_NAME);x.addClass(this._oAnchor,this.CSS_LABEL_CLASS_NAME);AW=p.length-1;do{Aa=p[AW];AT=this.createEvent(Aa[1]);AT.signature=AK.LIST;this[Aa[0]]=AT;}while(AW--);if(Ab){AX.applyConfig(Ab);}AX.fireQueue();}},_createRootNodeStructure:function(){var AR,AS;if(!C){C=document.createElement(S);C.innerHTML=AF;}AR=C.cloneNode(true);AR.className=this.CSS_CLASS_NAME;AS=AR.firstChild;AS.className=this.CSS_LABEL_CLASS_NAME;this.element=AR;this._oAnchor=AS;},_initSubTree:function(){var AX=this.srcElement,AT=this.cfg,AV,AU,AS,AR,AW;if(AX.childNodes.length>0){if(this.parent.lazyLoad&&this.parent.srcElement&&this.parent.srcElement.tagName.toUpperCase()==r){AT.setProperty(w,{id:x.generateId(),itemdata:AX.childNodes});}else{AV=AX.firstChild;AU=[];do{if(AV&&AV.tagName){switch(AV.tagName.toUpperCase()){case X:AT.setProperty(w,AV);break;case i:AU[AU.length]=AV;break;}}}while((AV=AV.nextSibling));AS=AU.length;if(AS>0){AR=new this.SUBMENU_TYPE(x.generateId());AT.setProperty(w,AR);for(AW=0;AW<AS;AW++){AR.addItem((new AR.ITEM_TYPE(AU[AW])));}}}}},configText:function(Aa,AT,AV){var AS=AT[0],AU=this.cfg,AY=this._oAnchor,AR=AU.getProperty(L),AZ=AJ,AW=AJ,AX=AJ;if(AS){if(AR){AZ=AN+AR+I;}if(AU.getProperty(A)){AW=a;AX=I;}if(AU.getProperty(N)){AW=W;AX=y;}AY.innerHTML=(AW+AS+AX+AZ);}},configHelpText:function(AT,AS,AR){this.cfg.refireEvent(AL);},configURL:function(AT,AS,AR){var AV=AS[0];if(!AV){AV=O;}var AU=this._oAnchor;if(k.opera){AU.removeAttribute(AE);}AU.setAttribute(AE,AV);},configTarget:function(AU,AT,AS){var AR=AT[0],AV=this._oAnchor;if(AR&&AR.length>0){AV.setAttribute(AH,AR);}else{AV.removeAttribute(AH);}},configEmphasis:function(AT,AS,AR){var AV=AS[0],AU=this.cfg;if(AV&&AU.getProperty(N)){AU.setProperty(N,false);}AU.refireEvent(AL);},configStrongEmphasis:function(AU,AT,AS){var AR=AT[0],AV=this.cfg;if(AR&&AV.getProperty(A)){AV.setProperty(A,false);}AV.refireEvent(AL);},configChecked:function(AT,AS,AR){var AV=AS[0],AU=this.cfg;if(AV){g.call(this,b);}else{R.call(this,b);}AU.refireEvent(AL);if(AU.getProperty(H)){AU.refireEvent(H);}if(AU.getProperty(B)){AU.refireEvent(B);}},configDisabled:function(AT,AS,AR){var AV=AS[0],AW=this.cfg,AU=AW.getProperty(w),AX=AW.getProperty(b);if(AV){if(AW.getProperty(B)){AW.setProperty(B,false);}g.call(this,H);if(AU){g.call(this,AI);}if(AX){g.call(this,U);}}else{R.call(this,H);if(AU){R.call(this,AI);}if(AX){R.call(this,U);}}},configSelected:function(AT,AS,AR){var AX=this.cfg,AW=this._oAnchor,AV=AS[0],AY=AX.getProperty(b),AU=AX.getProperty(w);if(k.opera){AW.blur();}if(AV&&!AX.getProperty(H)){g.call(this,B);if(AU){g.call(this,AD);}if(AY){g.call(this,T);}}else{R.call(this,B);if(AU){R.call(this,AD);}if(AY){R.call(this,T);}}if(this.hasFocus()&&k.opera){AW.focus();}},_onSubmenuBeforeHide:function(AU,AT){var AV=this.parent,AR;function AS(){AV._oAnchor.blur();AR.beforeHideEvent.unsubscribe(AS);}if(AV.hasFocus()){AR=AV.parent;AR.beforeHideEvent.subscribe(AS);}},configSubmenu:function(AY,AT,AW){var AV=AT[0],AU=this.cfg,AS=this.parent&&this.parent.lazyLoad,AX,AZ,AR;if(AV){if(AV instanceof AB){AX=AV;AX.parent=this;AX.lazyLoad=AS;}else{if(AQ.isObject(AV)&&AV.id&&!AV.nodeType){AZ=AV.id;AR=AV;AR.lazyload=AS;AR.parent=this;AX=new this.SUBMENU_TYPE(AZ,AR);AU.setProperty(w,AX,true);}else{AX=new this.SUBMENU_TYPE(AV,{lazyload:AS,parent:this});AU.setProperty(w,AX,true);}}if(AX){AX.cfg.setProperty(Y,true);g.call(this,P);if(AU.getProperty(n)===O){AU.setProperty(n,(O+AX.id));}this._oSubmenu=AX;if(k.opera){AX.beforeHideEvent.subscribe(this._onSubmenuBeforeHide);}}}else{R.call(this,P);if(this._oSubmenu){this._oSubmenu.destroy();}}if(AU.getProperty(H)){AU.refireEvent(H);}if(AU.getProperty(B)){AU.refireEvent(B);}},configOnClick:function(AT,AS,AR){var AU=AS[0];if(this._oOnclickAttributeValue&&(this._oOnclickAttributeValue!=AU)){this.clickEvent.unsubscribe(this._oOnclickAttributeValue.fn,this._oOnclickAttributeValue.obj);this._oOnclickAttributeValue=null;}if(!this._oOnclickAttributeValue&&AQ.isObject(AU)&&AQ.isFunction(AU.fn)){this.clickEvent.subscribe(AU.fn,((h in AU)?AU.obj:this),((AG in AU)?AU.scope:null));this._oOnclickAttributeValue=AU;}},configClassName:function(AU,AT,AS){var AR=AT[0];if(this._sClassName){x.removeClass(this.element,this._sClassName);}x.addClass(this.element,AR);this._sClassName=AR;},_dispatchClickEvent:function(){var AS=this,AR;if(!AS.cfg.getProperty(H)){AR=x.getFirstChild(AS.element);this._dispatchDOMClick(AR);}},_dispatchDOMClick:function(AS){var AR;if(k.ie&&k.ie<9){AS.fireEvent(q);}else{if((k.gecko&&k.gecko>=1.9)||k.opera||k.webkit){AR=document.createEvent("HTMLEvents");AR.initEvent(AA,true,true);}else{AR=document.createEvent("MouseEvents");AR.initMouseEvent(AA,true,true,window,0,0,0,0,0,false,false,false,false,0,null);}AS.dispatchEvent(AR);}},_createKeyListener:function(AU,AT,AW){var AV=this,AS=AV.parent;var AR=new YAHOO.util.KeyListener(AS.element.ownerDocument,AW,{fn:AV._dispatchClickEvent,scope:AV,correctScope:true});if(AS.cfg.getProperty(V)){AR.enable();}AS.subscribe(D,AR.enable,null,AR);AS.subscribe(M,AR.disable,null,AR);AV._keyListener=AR;AS.unsubscribe(D,AV._createKeyListener,AW);},configKeyListener:function(AT,AS){var AV=AS[0],AU=this,AR=AU.parent;if(AU._keyData){AR.unsubscribe(D,AU._createKeyListener,AU._keyData);AU._keyData=null;}if(AU._keyListener){AR.unsubscribe(D,AU._keyListener.enable);AR.unsubscribe(M,AU._keyListener.disable);AU._keyListener.disable();AU._keyListener=null;}if(AV){AU._keyData=AV;AR.subscribe(D,AU._createKeyListener,AV,AU);}},initDefaultConfig:function(){var AR=this.cfg;
AR.addProperty(o.key,{handler:this.configText,value:o.value,validator:o.validator,suppressEvent:o.suppressEvent});AR.addProperty(s.key,{handler:this.configHelpText,supercedes:s.supercedes,suppressEvent:s.suppressEvent});AR.addProperty(G.key,{handler:this.configURL,value:G.value,suppressEvent:G.suppressEvent});AR.addProperty(AO.key,{handler:this.configTarget,suppressEvent:AO.suppressEvent});AR.addProperty(AP.key,{handler:this.configEmphasis,value:AP.value,validator:AP.validator,suppressEvent:AP.suppressEvent,supercedes:AP.supercedes});AR.addProperty(d.key,{handler:this.configStrongEmphasis,value:d.value,validator:d.validator,suppressEvent:d.suppressEvent,supercedes:d.supercedes});AR.addProperty(l.key,{handler:this.configChecked,value:l.value,validator:l.validator,suppressEvent:l.suppressEvent,supercedes:l.supercedes});AR.addProperty(AM.key,{handler:this.configDisabled,value:AM.value,validator:AM.validator,suppressEvent:AM.suppressEvent});AR.addProperty(f.key,{handler:this.configSelected,value:f.value,validator:f.validator,suppressEvent:f.suppressEvent});AR.addProperty(F.key,{handler:this.configSubmenu,supercedes:F.supercedes,suppressEvent:F.suppressEvent});AR.addProperty(u.key,{handler:this.configOnClick,suppressEvent:u.suppressEvent});AR.addProperty(AC.key,{handler:this.configClassName,value:AC.value,validator:AC.validator,suppressEvent:AC.suppressEvent});AR.addProperty(z.key,{handler:this.configKeyListener,value:z.value,suppressEvent:z.suppressEvent});},getNextSibling:function(){var AR=function(AX){return(AX.nodeName.toLowerCase()==="ul");},AV=this.element,AU=x.getNextSibling(AV),AT,AS,AW;if(!AU){AT=AV.parentNode;AS=x.getNextSiblingBy(AT,AR);if(AS){AW=AS;}else{AW=x.getFirstChildBy(AT.parentNode,AR);}AU=x.getFirstChild(AW);}return YAHOO.widget.MenuManager.getMenuItem(AU.id);},getNextEnabledSibling:function(){var AR=this.getNextSibling();return(AR.cfg.getProperty(H)||AR.element.style.display==t)?AR.getNextEnabledSibling():AR;},getPreviousSibling:function(){var AR=function(AX){return(AX.nodeName.toLowerCase()==="ul");},AV=this.element,AU=x.getPreviousSibling(AV),AT,AS,AW;if(!AU){AT=AV.parentNode;AS=x.getPreviousSiblingBy(AT,AR);if(AS){AW=AS;}else{AW=x.getLastChildBy(AT.parentNode,AR);}AU=x.getLastChild(AW);}return YAHOO.widget.MenuManager.getMenuItem(AU.id);},getPreviousEnabledSibling:function(){var AR=this.getPreviousSibling();return(AR.cfg.getProperty(H)||AR.element.style.display==t)?AR.getPreviousEnabledSibling():AR;},focus:function(){var AU=this.parent,AT=this._oAnchor,AR=AU.activeItem;function AS(){try{if(!(k.ie&&!document.hasFocus())){if(AR){AR.blurEvent.fire();}AT.focus();this.focusEvent.fire();}}catch(AV){}}if(!this.cfg.getProperty(H)&&AU&&AU.cfg.getProperty(V)&&this.element.style.display!=t){AQ.later(0,this,AS);}},blur:function(){var AR=this.parent;if(!this.cfg.getProperty(H)&&AR&&AR.cfg.getProperty(V)){AQ.later(0,this,function(){try{this._oAnchor.blur();this.blurEvent.fire();}catch(AS){}},0);}},hasFocus:function(){return(YAHOO.widget.MenuManager.getFocusedMenuItem()==this);},destroy:function(){var AT=this.element,AS,AR,AV,AU;if(AT){AS=this.cfg.getProperty(w);if(AS){AS.destroy();}AR=AT.parentNode;if(AR){AR.removeChild(AT);this.destroyEvent.fire();}AU=p.length-1;do{AV=p[AU];this[AV[0]].unsubscribeAll();}while(AU--);this.cfg.configChangedEvent.unsubscribeAll();}},toString:function(){var AS=m,AR=this.id;if(AR){AS+=(E+AR);}return AS;}};AQ.augmentProto(c,YAHOO.util.EventProvider);})();(function(){var B="xy",C="mousedown",F="ContextMenu",J=" ";YAHOO.widget.ContextMenu=function(L,K){YAHOO.widget.ContextMenu.superclass.constructor.call(this,L,K);};var I=YAHOO.util.Event,E=YAHOO.env.ua,G=YAHOO.widget.ContextMenu,A={"TRIGGER_CONTEXT_MENU":"triggerContextMenu","CONTEXT_MENU":(E.opera?C:"contextmenu"),"CLICK":"click"},H={key:"trigger",suppressEvent:true};function D(L,K,M){this.cfg.setProperty(B,M);this.beforeShowEvent.unsubscribe(D,M);}YAHOO.lang.extend(G,YAHOO.widget.Menu,{_oTrigger:null,_bCancelled:false,contextEventTarget:null,triggerContextMenuEvent:null,init:function(L,K){G.superclass.init.call(this,L);this.beforeInitEvent.fire(G);if(K){this.cfg.applyConfig(K,true);}this.initEvent.fire(G);},initEvents:function(){G.superclass.initEvents.call(this);this.triggerContextMenuEvent=this.createEvent(A.TRIGGER_CONTEXT_MENU);this.triggerContextMenuEvent.signature=YAHOO.util.CustomEvent.LIST;},cancel:function(){this._bCancelled=true;},_removeEventHandlers:function(){var K=this._oTrigger;if(K){I.removeListener(K,A.CONTEXT_MENU,this._onTriggerContextMenu);if(E.opera){I.removeListener(K,A.CLICK,this._onTriggerClick);}}},_onTriggerClick:function(L,K){if(L.ctrlKey){I.stopEvent(L);}},_onTriggerContextMenu:function(M,K){var L;if(!(M.type==C&&!M.ctrlKey)){this.contextEventTarget=I.getTarget(M);this.triggerContextMenuEvent.fire(M);if(!this._bCancelled){I.stopEvent(M);YAHOO.widget.MenuManager.hideVisible();L=I.getXY(M);if(!YAHOO.util.Dom.inDocument(this.element)){this.beforeShowEvent.subscribe(D,L);}else{this.cfg.setProperty(B,L);}this.show();}this._bCancelled=false;}},toString:function(){var L=F,K=this.id;if(K){L+=(J+K);}return L;},initDefaultConfig:function(){G.superclass.initDefaultConfig.call(this);this.cfg.addProperty(H.key,{handler:this.configTrigger,suppressEvent:H.suppressEvent});},destroy:function(K){this._removeEventHandlers();G.superclass.destroy.call(this,K);},configTrigger:function(L,K,N){var M=K[0];if(M){if(this._oTrigger){this._removeEventHandlers();}this._oTrigger=M;I.on(M,A.CONTEXT_MENU,this._onTriggerContextMenu,this,true);if(E.opera){I.on(M,A.CLICK,this._onTriggerClick,this,true);}}else{this._removeEventHandlers();}}});}());YAHOO.widget.ContextMenuItem=YAHOO.widget.MenuItem;(function(){var D=YAHOO.lang,N="static",M="dynamic,"+N,A="disabled",F="selected",B="autosubmenudisplay",G="submenu",C="visible",Q=" ",H="submenutoggleregion",P="MenuBar";YAHOO.widget.MenuBar=function(T,S){YAHOO.widget.MenuBar.superclass.constructor.call(this,T,S);};function O(T){var S=false;if(D.isString(T)){S=(M.indexOf((T.toLowerCase()))!=-1);
}return S;}var R=YAHOO.util.Event,L=YAHOO.widget.MenuBar,K={key:"position",value:N,validator:O,supercedes:[C]},E={key:"submenualignment",value:["tl","bl"]},J={key:B,value:false,validator:D.isBoolean,suppressEvent:true},I={key:H,value:false,validator:D.isBoolean};D.extend(L,YAHOO.widget.Menu,{init:function(T,S){if(!this.ITEM_TYPE){this.ITEM_TYPE=YAHOO.widget.MenuBarItem;}L.superclass.init.call(this,T);this.beforeInitEvent.fire(L);if(S){this.cfg.applyConfig(S,true);}this.initEvent.fire(L);},CSS_CLASS_NAME:"yuimenubar",SUBMENU_TOGGLE_REGION_WIDTH:20,_onKeyDown:function(U,T,Y){var S=T[0],Z=T[1],W,X,V;if(Z&&!Z.cfg.getProperty(A)){X=Z.cfg;switch(S.keyCode){case 37:case 39:if(Z==this.activeItem&&!X.getProperty(F)){X.setProperty(F,true);}else{V=(S.keyCode==37)?Z.getPreviousEnabledSibling():Z.getNextEnabledSibling();if(V){this.clearActiveItem();V.cfg.setProperty(F,true);W=V.cfg.getProperty(G);if(W){W.show();W.setInitialFocus();}else{V.focus();}}}R.preventDefault(S);break;case 40:if(this.activeItem!=Z){this.clearActiveItem();X.setProperty(F,true);Z.focus();}W=X.getProperty(G);if(W){if(W.cfg.getProperty(C)){W.setInitialSelection();W.setInitialFocus();}else{W.show();W.setInitialFocus();}}R.preventDefault(S);break;}}if(S.keyCode==27&&this.activeItem){W=this.activeItem.cfg.getProperty(G);if(W&&W.cfg.getProperty(C)){W.hide();this.activeItem.focus();}else{this.activeItem.cfg.setProperty(F,false);this.activeItem.blur();}R.preventDefault(S);}},_onClick:function(e,Y,b){L.superclass._onClick.call(this,e,Y,b);var d=Y[1],T=true,S,f,U,W,Z,a,c,V;var X=function(){if(a.cfg.getProperty(C)){a.hide();}else{a.show();}};if(d&&!d.cfg.getProperty(A)){f=Y[0];U=R.getTarget(f);W=this.activeItem;Z=this.cfg;if(W&&W!=d){this.clearActiveItem();}d.cfg.setProperty(F,true);a=d.cfg.getProperty(G);if(a){S=d.element;c=YAHOO.util.Dom.getX(S);V=c+(S.offsetWidth-this.SUBMENU_TOGGLE_REGION_WIDTH);if(Z.getProperty(H)){if(R.getPageX(f)>V){X();R.preventDefault(f);T=false;}}else{X();}}}return T;},configSubmenuToggle:function(U,T){var S=T[0];if(S){this.cfg.setProperty(B,false);}},toString:function(){var T=P,S=this.id;if(S){T+=(Q+S);}return T;},initDefaultConfig:function(){L.superclass.initDefaultConfig.call(this);var S=this.cfg;S.addProperty(K.key,{handler:this.configPosition,value:K.value,validator:K.validator,supercedes:K.supercedes});S.addProperty(E.key,{value:E.value,suppressEvent:E.suppressEvent});S.addProperty(J.key,{value:J.value,validator:J.validator,suppressEvent:J.suppressEvent});S.addProperty(I.key,{value:I.value,validator:I.validator,handler:this.configSubmenuToggle});}});}());YAHOO.widget.MenuBarItem=function(B,A){YAHOO.widget.MenuBarItem.superclass.constructor.call(this,B,A);};YAHOO.lang.extend(YAHOO.widget.MenuBarItem,YAHOO.widget.MenuItem,{init:function(B,A){if(!this.SUBMENU_TYPE){this.SUBMENU_TYPE=YAHOO.widget.Menu;}YAHOO.widget.MenuBarItem.superclass.init.call(this,B);var C=this.cfg;if(A){C.applyConfig(A,true);}C.fireQueue();},CSS_CLASS_NAME:"yuimenubaritem",CSS_LABEL_CLASS_NAME:"yuimenubaritemlabel",toString:function(){var A="MenuBarItem";if(this.cfg&&this.cfg.getProperty("text")){A+=(": "+this.cfg.getProperty("text"));}return A;}});YAHOO.register("menu",YAHOO.widget.Menu,{version:"2.9.0",build:"2800"});

// FILE: tabview-min.js (213744dd) 3/7/2014 11:24:12 AM

/*
Copyright (c) 2011, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.9.0
*/
(function(){var b=YAHOO.util,c=b.Dom,i=b.Event,g=window.document,k="active",d="activeIndex",f="activeTab",e="disabled",a="contentEl",h="element",j=function(m,l){l=l||{};if(arguments.length==1&&!YAHOO.lang.isString(m)&&!m.nodeName){l=m;m=l.element||null;}if(!m&&!l.element){m=this._createTabViewElement(l);}j.superclass.constructor.call(this,m,l);};YAHOO.extend(j,b.Element,{CLASSNAME:"yui-navset",TAB_PARENT_CLASSNAME:"yui-nav",CONTENT_PARENT_CLASSNAME:"yui-content",_tabParent:null,_contentParent:null,addTab:function(n,o){var p=this.get("tabs"),s=this._tabParent,q=this._contentParent,l=n.get(h),m=n.get(a),t=this.get(d),r;if(!p){this._queue[this._queue.length]=["addTab",arguments];return false;}r=this.getTab(o);o=(o===undefined)?p.length:o;p.splice(o,0,n);if(r){s.insertBefore(l,r.get(h));if(m){q.appendChild(m);}}else{s.appendChild(l);if(m){q.appendChild(m);}}if(!n.get(k)){n.set("contentVisible",false,true);if(o<=t){this.set(d,t+1,true);}}else{this.set(f,n,true);this.set("activeIndex",o,true);}this._initTabEvents(n);},_initTabEvents:function(l){l.addListener(l.get("activationEvent"),l._onActivate,this,l);l.addListener("activationEventChange",l._onActivationEventChange,this,l);},_removeTabEvents:function(l){l.removeListener(l.get("activationEvent"),l._onActivate,this,l);l.removeListener("activationEventChange",l._onActivationEventChange,this,l);},DOMEventHandler:function(q){var r=i.getTarget(q),t=this._tabParent,s=this.get("tabs"),n,m,l;if(c.isAncestor(t,r)){for(var o=0,p=s.length;o<p;o++){m=s[o].get(h);l=s[o].get(a);if(r==m||c.isAncestor(m,r)){n=s[o];break;}}if(n){n.fireEvent(q.type,q);}}},getTab:function(l){return this.get("tabs")[l];},getTabIndex:function(p){var m=null,o=this.get("tabs");for(var n=0,l=o.length;n<l;++n){if(p==o[n]){m=n;break;}}return m;},removeTab:function(o){var n=this.get("tabs").length,l=this.get(d),m=this.getTabIndex(o);if(o===this.get(f)){if(n>1){if(m+1===n){this.set(d,m-1);}else{this.set(d,m+1);}}else{this.set(f,null);}}else{if(m<l){this.set(d,l-1,true);}}this._removeTabEvents(o);this._tabParent.removeChild(o.get(h));this._contentParent.removeChild(o.get(a));this._configs.tabs.value.splice(m,1);o.fireEvent("remove",{type:"remove",tabview:this});},toString:function(){var l=this.get("id")||this.get("tagName");return"TabView "+l;},contentTransition:function(m,l){if(m){m.set("contentVisible",true);}if(l){l.set("contentVisible",false);}},initAttributes:function(l){j.superclass.initAttributes.call(this,l);if(!l.orientation){l.orientation="top";}var n=this.get(h);if(!this.hasClass(this.CLASSNAME)){this.addClass(this.CLASSNAME);}this.setAttributeConfig("tabs",{value:[],readOnly:true});this._tabParent=this.getElementsByClassName(this.TAB_PARENT_CLASSNAME,"ul")[0]||this._createTabParent();this._contentParent=this.getElementsByClassName(this.CONTENT_PARENT_CLASSNAME,"div")[0]||this._createContentParent();this.setAttributeConfig("orientation",{value:l.orientation,method:function(o){var p=this.get("orientation");this.addClass("yui-navset-"+o);if(p!=o){this.removeClass("yui-navset-"+p);}if(o==="bottom"){this.appendChild(this._tabParent);}}});this.setAttributeConfig(d,{value:l.activeIndex,validator:function(q){var o=true,p;if(q){p=this.getTab(q);if(p&&p.get(e)){o=false;}}return o;}});this.setAttributeConfig(f,{value:l[f],method:function(p){var o=this.get(f);if(p){p.set(k,true);}if(o&&o!==p){o.set(k,false);}if(o&&p!==o){this.contentTransition(p,o);}else{if(p){p.set("contentVisible",true);}}},validator:function(p){var o=true;if(p&&p.get(e)){o=false;}return o;}});this.on("activeTabChange",this._onActiveTabChange);this.on("activeIndexChange",this._onActiveIndexChange);if(this._tabParent){this._initTabs();}this.DOM_EVENTS.submit=false;this.DOM_EVENTS.focus=false;this.DOM_EVENTS.blur=false;this.DOM_EVENTS.change=false;for(var m in this.DOM_EVENTS){if(YAHOO.lang.hasOwnProperty(this.DOM_EVENTS,m)){this.addListener.call(this,m,this.DOMEventHandler);}}},deselectTab:function(l){if(this.getTab(l)===this.get(f)){this.set(f,null);}},selectTab:function(l){this.set(f,this.getTab(l));},_onActiveTabChange:function(n){var l=this.get(d),m=this.getTabIndex(n.newValue);if(l!==m){if(!(this.set(d,m))){this.set(f,n.prevValue);}}},_onActiveIndexChange:function(l){if(l.newValue!==this.getTabIndex(this.get(f))){if(!(this.set(f,this.getTab(l.newValue)))){this.set(d,l.prevValue);}}},_initTabs:function(){var q=c.getChildren(this._tabParent),o=c.getChildren(this._contentParent),n=this.get(d),r,m,s;for(var p=0,l=q.length;p<l;++p){m={};if(o[p]){m.contentEl=o[p];}r=new YAHOO.widget.Tab(q[p],m);this.addTab(r);if(r.hasClass(r.ACTIVE_CLASSNAME)){s=r;}}if(n!=undefined){this.set(f,this.getTab(n));}else{this._configs[f].value=s;this._configs[d].value=this.getTabIndex(s);}},_createTabViewElement:function(l){var m=g.createElement("div");if(this.CLASSNAME){m.className=this.CLASSNAME;}return m;},_createTabParent:function(l){var m=g.createElement("ul");if(this.TAB_PARENT_CLASSNAME){m.className=this.TAB_PARENT_CLASSNAME;}this.get(h).appendChild(m);return m;},_createContentParent:function(l){var m=g.createElement("div");if(this.CONTENT_PARENT_CLASSNAME){m.className=this.CONTENT_PARENT_CLASSNAME;}this.get(h).appendChild(m);return m;}});YAHOO.widget.TabView=j;})();(function(){var d=YAHOO.util,i=d.Dom,l=YAHOO.lang,m="activeTab",j="label",g="labelEl",q="content",c="contentEl",o="element",p="cacheData",b="dataSrc",h="dataLoaded",a="dataTimeout",n="loadMethod",f="postData",k="disabled",e=function(s,r){r=r||{};if(arguments.length==1&&!l.isString(s)&&!s.nodeName){r=s;s=r.element;}if(!s&&!r.element){s=this._createTabElement(r);}this.loadHandler={success:function(t){this.set(q,t.responseText);},failure:function(t){}};e.superclass.constructor.call(this,s,r);this.DOM_EVENTS={};};YAHOO.extend(e,YAHOO.util.Element,{LABEL_TAGNAME:"em",ACTIVE_CLASSNAME:"selected",HIDDEN_CLASSNAME:"yui-hidden",ACTIVE_TITLE:"active",DISABLED_CLASSNAME:k,LOADING_CLASSNAME:"loading",dataConnection:null,loadHandler:null,_loading:false,toString:function(){var r=this.get(o),s=r.id||r.tagName;
return"Tab "+s;},initAttributes:function(r){r=r||{};e.superclass.initAttributes.call(this,r);this.setAttributeConfig("activationEvent",{value:r.activationEvent||"click"});this.setAttributeConfig(g,{value:r[g]||this._getLabelEl(),method:function(s){s=i.get(s);var t=this.get(g);if(t){if(t==s){return false;}t.parentNode.replaceChild(s,t);this.set(j,s.innerHTML);}}});this.setAttributeConfig(j,{value:r.label||this._getLabel(),method:function(t){var s=this.get(g);if(!s){this.set(g,this._createLabelEl());}s.innerHTML=t;}});this.setAttributeConfig(c,{value:r[c]||document.createElement("div"),method:function(s){s=i.get(s);var t=this.get(c);if(t){if(t===s){return false;}if(!this.get("selected")){i.addClass(s,this.HIDDEN_CLASSNAME);}t.parentNode.replaceChild(s,t);this.set(q,s.innerHTML);}}});this.setAttributeConfig(q,{value:r[q]||this.get(c).innerHTML,method:function(s){this.get(c).innerHTML=s;}});this.setAttributeConfig(b,{value:r.dataSrc});this.setAttributeConfig(p,{value:r.cacheData||false,validator:l.isBoolean});this.setAttributeConfig(n,{value:r.loadMethod||"GET",validator:l.isString});this.setAttributeConfig(h,{value:false,validator:l.isBoolean,writeOnce:true});this.setAttributeConfig(a,{value:r.dataTimeout||null,validator:l.isNumber});this.setAttributeConfig(f,{value:r.postData||null});this.setAttributeConfig("active",{value:r.active||this.hasClass(this.ACTIVE_CLASSNAME),method:function(s){if(s===true){this.addClass(this.ACTIVE_CLASSNAME);this.set("title",this.ACTIVE_TITLE);}else{this.removeClass(this.ACTIVE_CLASSNAME);this.set("title","");}},validator:function(s){return l.isBoolean(s)&&!this.get(k);}});this.setAttributeConfig(k,{value:r.disabled||this.hasClass(this.DISABLED_CLASSNAME),method:function(s){if(s===true){this.addClass(this.DISABLED_CLASSNAME);}else{this.removeClass(this.DISABLED_CLASSNAME);}},validator:l.isBoolean});this.setAttributeConfig("href",{value:r.href||this.getElementsByTagName("a")[0].getAttribute("href",2)||"#",method:function(s){this.getElementsByTagName("a")[0].href=s;},validator:l.isString});this.setAttributeConfig("contentVisible",{value:r.contentVisible,method:function(s){if(s){i.removeClass(this.get(c),this.HIDDEN_CLASSNAME);if(this.get(b)){if(!this._loading&&!(this.get(h)&&this.get(p))){this._dataConnect();}}}else{i.addClass(this.get(c),this.HIDDEN_CLASSNAME);}},validator:l.isBoolean});},_dataConnect:function(){if(!d.Connect){return false;}i.addClass(this.get(c).parentNode,this.LOADING_CLASSNAME);this._loading=true;this.dataConnection=d.Connect.asyncRequest(this.get(n),this.get(b),{success:function(r){this.loadHandler.success.call(this,r);this.set(h,true);this.dataConnection=null;i.removeClass(this.get(c).parentNode,this.LOADING_CLASSNAME);this._loading=false;},failure:function(r){this.loadHandler.failure.call(this,r);this.dataConnection=null;i.removeClass(this.get(c).parentNode,this.LOADING_CLASSNAME);this._loading=false;},scope:this,timeout:this.get(a)},this.get(f));},_createTabElement:function(r){var v=document.createElement("li"),s=document.createElement("a"),u=r.label||null,t=r.labelEl||null;s.href=r.href||"#";v.appendChild(s);if(t){if(!u){u=this._getLabel();}}else{t=this._createLabelEl();}s.appendChild(t);return v;},_getLabelEl:function(){return this.getElementsByTagName(this.LABEL_TAGNAME)[0];},_createLabelEl:function(){var r=document.createElement(this.LABEL_TAGNAME);return r;},_getLabel:function(){var r=this.get(g);if(!r){return undefined;}return r.innerHTML;},_onActivate:function(u,t){var s=this,r=false;d.Event.preventDefault(u);if(s===t.get(m)){r=true;}t.set(m,s,r);},_onActivationEventChange:function(s){var r=this;if(s.prevValue!=s.newValue){r.removeListener(s.prevValue,r._onActivate);r.addListener(s.newValue,r._onActivate,this,r);}}});YAHOO.widget.Tab=e;})();YAHOO.register("tabview",YAHOO.widget.TabView,{version:"2.9.0",build:"2800"});

// FILE: slider-min.js (dcc3e909) 3/7/2014 11:24:12 AM

/*
Copyright (c) 2011, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.9.0
*/
(function(){var B=YAHOO.util.Dom.getXY,A=YAHOO.util.Event,D=Array.prototype.slice;function C(G,E,F,H){C.ANIM_AVAIL=(!YAHOO.lang.isUndefined(YAHOO.util.Anim));if(G){this.init(G,E,true);this.initSlider(H);this.initThumb(F);}}YAHOO.lang.augmentObject(C,{getHorizSlider:function(F,G,I,H,E){return new C(F,F,new YAHOO.widget.SliderThumb(G,F,I,H,0,0,E),"horiz");},getVertSlider:function(G,H,E,I,F){return new C(G,G,new YAHOO.widget.SliderThumb(H,G,0,0,E,I,F),"vert");},getSliderRegion:function(G,H,J,I,E,K,F){return new C(G,G,new YAHOO.widget.SliderThumb(H,G,J,I,E,K,F),"region");},SOURCE_UI_EVENT:1,SOURCE_SET_VALUE:2,SOURCE_KEY_EVENT:3,ANIM_AVAIL:false},true);YAHOO.extend(C,YAHOO.util.DragDrop,{_mouseDown:false,dragOnly:true,initSlider:function(E){this.type=E;this.createEvent("change",this);this.createEvent("slideStart",this);this.createEvent("slideEnd",this);this.isTarget=false;this.animate=C.ANIM_AVAIL;this.backgroundEnabled=true;this.tickPause=40;this.enableKeys=true;this.keyIncrement=20;this.moveComplete=true;this.animationDuration=0.2;this.SOURCE_UI_EVENT=1;this.SOURCE_SET_VALUE=2;this.valueChangeSource=0;this._silent=false;this.lastOffset=[0,0];},initThumb:function(F){var E=this;this.thumb=F;F.cacheBetweenDrags=true;if(F._isHoriz&&F.xTicks&&F.xTicks.length){this.tickPause=Math.round(360/F.xTicks.length);}else{if(F.yTicks&&F.yTicks.length){this.tickPause=Math.round(360/F.yTicks.length);}}F.onAvailable=function(){return E.setStartSliderState();};F.onMouseDown=function(){E._mouseDown=true;return E.focus();};F.startDrag=function(){E._slideStart();};F.onDrag=function(){E.fireEvents(true);};F.onMouseUp=function(){E.thumbMouseUp();};},onAvailable:function(){this._bindKeyEvents();},_bindKeyEvents:function(){A.on(this.id,"keydown",this.handleKeyDown,this,true);A.on(this.id,"keypress",this.handleKeyPress,this,true);},handleKeyPress:function(F){if(this.enableKeys){var E=A.getCharCode(F);switch(E){case 37:case 38:case 39:case 40:case 36:case 35:A.preventDefault(F);break;default:}}},handleKeyDown:function(J){if(this.enableKeys){var G=A.getCharCode(J),F=this.thumb,H=this.getXValue(),E=this.getYValue(),I=true;switch(G){case 37:H-=this.keyIncrement;break;case 38:E-=this.keyIncrement;break;case 39:H+=this.keyIncrement;break;case 40:E+=this.keyIncrement;break;case 36:H=F.leftConstraint;E=F.topConstraint;break;case 35:H=F.rightConstraint;E=F.bottomConstraint;break;default:I=false;}if(I){if(F._isRegion){this._setRegionValue(C.SOURCE_KEY_EVENT,H,E,true);}else{this._setValue(C.SOURCE_KEY_EVENT,(F._isHoriz?H:E),true);}A.stopEvent(J);}}},setStartSliderState:function(){this.setThumbCenterPoint();this.baselinePos=B(this.getEl());this.thumb.startOffset=this.thumb.getOffsetFromParent(this.baselinePos);if(this.thumb._isRegion){if(this.deferredSetRegionValue){this._setRegionValue.apply(this,this.deferredSetRegionValue);this.deferredSetRegionValue=null;}else{this.setRegionValue(0,0,true,true,true);}}else{if(this.deferredSetValue){this._setValue.apply(this,this.deferredSetValue);this.deferredSetValue=null;}else{this.setValue(0,true,true,true);}}},setThumbCenterPoint:function(){var E=this.thumb.getEl();if(E){this.thumbCenterPoint={x:parseInt(E.offsetWidth/2,10),y:parseInt(E.offsetHeight/2,10)};}},lock:function(){this.thumb.lock();this.locked=true;},unlock:function(){this.thumb.unlock();this.locked=false;},thumbMouseUp:function(){this._mouseDown=false;if(!this.isLocked()){this.endMove();}},onMouseUp:function(){this._mouseDown=false;if(this.backgroundEnabled&&!this.isLocked()){this.endMove();}},getThumb:function(){return this.thumb;},focus:function(){this.valueChangeSource=C.SOURCE_UI_EVENT;var E=this.getEl();if(E.focus){try{E.focus();}catch(F){}}this.verifyOffset();return !this.isLocked();},onChange:function(E,F){},onSlideStart:function(){},onSlideEnd:function(){},getValue:function(){return this.thumb.getValue();},getXValue:function(){return this.thumb.getXValue();},getYValue:function(){return this.thumb.getYValue();},setValue:function(){var E=D.call(arguments);E.unshift(C.SOURCE_SET_VALUE);return this._setValue.apply(this,E);},_setValue:function(I,L,G,H,E){var F=this.thumb,K,J;if(!F.available){this.deferredSetValue=arguments;return false;}if(this.isLocked()&&!H){return false;}if(isNaN(L)){return false;}if(F._isRegion){return false;}this._silent=E;this.valueChangeSource=I||C.SOURCE_SET_VALUE;F.lastOffset=[L,L];this.verifyOffset();this._slideStart();if(F._isHoriz){K=F.initPageX+L+this.thumbCenterPoint.x;this.moveThumb(K,F.initPageY,G);}else{J=F.initPageY+L+this.thumbCenterPoint.y;this.moveThumb(F.initPageX,J,G);}return true;},setRegionValue:function(){var E=D.call(arguments);E.unshift(C.SOURCE_SET_VALUE);return this._setRegionValue.apply(this,E);},_setRegionValue:function(F,J,H,I,G,K){var L=this.thumb,E,M;if(!L.available){this.deferredSetRegionValue=arguments;return false;}if(this.isLocked()&&!G){return false;}if(isNaN(J)){return false;}if(!L._isRegion){return false;}this._silent=K;this.valueChangeSource=F||C.SOURCE_SET_VALUE;L.lastOffset=[J,H];this.verifyOffset();this._slideStart();E=L.initPageX+J+this.thumbCenterPoint.x;M=L.initPageY+H+this.thumbCenterPoint.y;this.moveThumb(E,M,I);return true;},verifyOffset:function(){var F=B(this.getEl()),E=this.thumb;if(!this.thumbCenterPoint||!this.thumbCenterPoint.x){this.setThumbCenterPoint();}if(F){if(F[0]!=this.baselinePos[0]||F[1]!=this.baselinePos[1]){this.setInitPosition();this.baselinePos=F;E.initPageX=this.initPageX+E.startOffset[0];E.initPageY=this.initPageY+E.startOffset[1];E.deltaSetXY=null;this.resetThumbConstraints();return false;}}return true;},moveThumb:function(K,J,I,G){var L=this.thumb,M=this,F,E,H;if(!L.available){return;}L.setDelta(this.thumbCenterPoint.x,this.thumbCenterPoint.y);E=L.getTargetCoord(K,J);F=[Math.round(E.x),Math.round(E.y)];if(this.animate&&L._graduated&&!I){this.lock();this.curCoord=B(this.thumb.getEl());this.curCoord=[Math.round(this.curCoord[0]),Math.round(this.curCoord[1])];setTimeout(function(){M.moveOneTick(F);},this.tickPause);}else{if(this.animate&&C.ANIM_AVAIL&&!I){this.lock();
H=new YAHOO.util.Motion(L.id,{points:{to:F}},this.animationDuration,YAHOO.util.Easing.easeOut);H.onComplete.subscribe(function(){M.unlock();if(!M._mouseDown){M.endMove();}});H.animate();}else{L.setDragElPos(K,J);if(!G&&!this._mouseDown){this.endMove();}}}},_slideStart:function(){if(!this._sliding){if(!this._silent){this.onSlideStart();this.fireEvent("slideStart");}this._sliding=true;this.moveComplete=false;}},_slideEnd:function(){if(this._sliding){var E=this._silent;this._sliding=false;this.moveComplete=true;this._silent=false;if(!E){this.onSlideEnd();this.fireEvent("slideEnd");}}},moveOneTick:function(F){var H=this.thumb,G=this,I=null,E,J;if(H._isRegion){I=this._getNextX(this.curCoord,F);E=(I!==null)?I[0]:this.curCoord[0];I=this._getNextY(this.curCoord,F);J=(I!==null)?I[1]:this.curCoord[1];I=E!==this.curCoord[0]||J!==this.curCoord[1]?[E,J]:null;}else{if(H._isHoriz){I=this._getNextX(this.curCoord,F);}else{I=this._getNextY(this.curCoord,F);}}if(I){this.curCoord=I;this.thumb.alignElWithMouse(H.getEl(),I[0]+this.thumbCenterPoint.x,I[1]+this.thumbCenterPoint.y);if(!(I[0]==F[0]&&I[1]==F[1])){setTimeout(function(){G.moveOneTick(F);},this.tickPause);}else{this.unlock();if(!this._mouseDown){this.endMove();}}}else{this.unlock();if(!this._mouseDown){this.endMove();}}},_getNextX:function(E,F){var H=this.thumb,J,G=[],I=null;if(E[0]>F[0]){J=H.tickSize-this.thumbCenterPoint.x;G=H.getTargetCoord(E[0]-J,E[1]);I=[G.x,G.y];}else{if(E[0]<F[0]){J=H.tickSize+this.thumbCenterPoint.x;G=H.getTargetCoord(E[0]+J,E[1]);I=[G.x,G.y];}else{}}return I;},_getNextY:function(E,F){var H=this.thumb,J,G=[],I=null;if(E[1]>F[1]){J=H.tickSize-this.thumbCenterPoint.y;G=H.getTargetCoord(E[0],E[1]-J);I=[G.x,G.y];}else{if(E[1]<F[1]){J=H.tickSize+this.thumbCenterPoint.y;G=H.getTargetCoord(E[0],E[1]+J);I=[G.x,G.y];}else{}}return I;},b4MouseDown:function(E){if(!this.backgroundEnabled){return false;}this.thumb.autoOffset();this.baselinePos=[];},onMouseDown:function(F){if(!this.backgroundEnabled||this.isLocked()){return false;}this._mouseDown=true;var E=A.getPageX(F),G=A.getPageY(F);this.focus();this._slideStart();this.moveThumb(E,G);},onDrag:function(F){if(this.backgroundEnabled&&!this.isLocked()){var E=A.getPageX(F),G=A.getPageY(F);this.moveThumb(E,G,true,true);this.fireEvents();}},endMove:function(){this.unlock();this.fireEvents();this._slideEnd();},resetThumbConstraints:function(){var E=this.thumb;E.setXConstraint(E.leftConstraint,E.rightConstraint,E.xTickSize);E.setYConstraint(E.topConstraint,E.bottomConstraint,E.xTickSize);},fireEvents:function(G){var F=this.thumb,I,H,E;if(!G){F.cachePosition();}if(!this.isLocked()){if(F._isRegion){I=F.getXValue();H=F.getYValue();if(I!=this.previousX||H!=this.previousY){if(!this._silent){this.onChange(I,H);this.fireEvent("change",{x:I,y:H});}}this.previousX=I;this.previousY=H;}else{E=F.getValue();if(E!=this.previousVal){if(!this._silent){this.onChange(E);this.fireEvent("change",E);}}this.previousVal=E;}}},toString:function(){return("Slider ("+this.type+") "+this.id);}});YAHOO.lang.augmentProto(C,YAHOO.util.EventProvider);YAHOO.widget.Slider=C;})();YAHOO.widget.SliderThumb=function(G,B,E,D,A,F,C){if(G){YAHOO.widget.SliderThumb.superclass.constructor.call(this,G,B);this.parentElId=B;}this.isTarget=false;this.tickSize=C;this.maintainOffset=true;this.initSlider(E,D,A,F,C);this.scroll=false;};YAHOO.extend(YAHOO.widget.SliderThumb,YAHOO.util.DD,{startOffset:null,dragOnly:true,_isHoriz:false,_prevVal:0,_graduated:false,getOffsetFromParent0:function(C){var A=YAHOO.util.Dom.getXY(this.getEl()),B=C||YAHOO.util.Dom.getXY(this.parentElId);return[(A[0]-B[0]),(A[1]-B[1])];},getOffsetFromParent:function(H){var A=this.getEl(),E,I,F,B,K,D,C,J,G;if(!this.deltaOffset){I=YAHOO.util.Dom.getXY(A);F=H||YAHOO.util.Dom.getXY(this.parentElId);E=[(I[0]-F[0]),(I[1]-F[1])];B=parseInt(YAHOO.util.Dom.getStyle(A,"left"),10);K=parseInt(YAHOO.util.Dom.getStyle(A,"top"),10);D=B-E[0];C=K-E[1];if(isNaN(D)||isNaN(C)){}else{this.deltaOffset=[D,C];}}else{J=parseInt(YAHOO.util.Dom.getStyle(A,"left"),10);G=parseInt(YAHOO.util.Dom.getStyle(A,"top"),10);E=[J+this.deltaOffset[0],G+this.deltaOffset[1]];}return E;},initSlider:function(D,C,A,E,B){this.initLeft=D;this.initRight=C;this.initUp=A;this.initDown=E;this.setXConstraint(D,C,B);this.setYConstraint(A,E,B);if(B&&B>1){this._graduated=true;}this._isHoriz=(D||C);this._isVert=(A||E);this._isRegion=(this._isHoriz&&this._isVert);},clearTicks:function(){YAHOO.widget.SliderThumb.superclass.clearTicks.call(this);this.tickSize=0;this._graduated=false;},getValue:function(){return(this._isHoriz)?this.getXValue():this.getYValue();},getXValue:function(){if(!this.available){return 0;}var A=this.getOffsetFromParent();if(YAHOO.lang.isNumber(A[0])){this.lastOffset=A;return(A[0]-this.startOffset[0]);}else{return(this.lastOffset[0]-this.startOffset[0]);}},getYValue:function(){if(!this.available){return 0;}var A=this.getOffsetFromParent();if(YAHOO.lang.isNumber(A[1])){this.lastOffset=A;return(A[1]-this.startOffset[1]);}else{return(this.lastOffset[1]-this.startOffset[1]);}},toString:function(){return"SliderThumb "+this.id;},onChange:function(A,B){}});(function(){var A=YAHOO.util.Event,B=YAHOO.widget;function C(I,F,H,D){var G=this,J={min:false,max:false},E,K;this.minSlider=I;this.maxSlider=F;this.activeSlider=I;this.isHoriz=I.thumb._isHoriz;E=this.minSlider.thumb.onMouseDown;K=this.maxSlider.thumb.onMouseDown;this.minSlider.thumb.onMouseDown=function(){G.activeSlider=G.minSlider;E.apply(this,arguments);};this.maxSlider.thumb.onMouseDown=function(){G.activeSlider=G.maxSlider;K.apply(this,arguments);};this.minSlider.thumb.onAvailable=function(){I.setStartSliderState();J.min=true;if(J.max){G.fireEvent("ready",G);}};this.maxSlider.thumb.onAvailable=function(){F.setStartSliderState();J.max=true;if(J.min){G.fireEvent("ready",G);}};I.onMouseDown=F.onMouseDown=function(L){return this.backgroundEnabled&&G._handleMouseDown(L);};I.onDrag=F.onDrag=function(L){G._handleDrag(L);};I.onMouseUp=F.onMouseUp=function(L){G._handleMouseUp(L);
};I._bindKeyEvents=function(){G._bindKeyEvents(this);};F._bindKeyEvents=function(){};I.subscribe("change",this._handleMinChange,I,this);I.subscribe("slideStart",this._handleSlideStart,I,this);I.subscribe("slideEnd",this._handleSlideEnd,I,this);F.subscribe("change",this._handleMaxChange,F,this);F.subscribe("slideStart",this._handleSlideStart,F,this);F.subscribe("slideEnd",this._handleSlideEnd,F,this);this.createEvent("ready",this);this.createEvent("change",this);this.createEvent("slideStart",this);this.createEvent("slideEnd",this);D=YAHOO.lang.isArray(D)?D:[0,H];D[0]=Math.min(Math.max(parseInt(D[0],10)|0,0),H);D[1]=Math.max(Math.min(parseInt(D[1],10)|0,H),0);if(D[0]>D[1]){D.splice(0,2,D[1],D[0]);}this.minVal=D[0];this.maxVal=D[1];this.minSlider.setValue(this.minVal,true,true,true);this.maxSlider.setValue(this.maxVal,true,true,true);}C.prototype={minVal:-1,maxVal:-1,minRange:0,_handleSlideStart:function(E,D){this.fireEvent("slideStart",D);},_handleSlideEnd:function(E,D){this.fireEvent("slideEnd",D);},_handleDrag:function(D){B.Slider.prototype.onDrag.call(this.activeSlider,D);},_handleMinChange:function(){this.activeSlider=this.minSlider;this.updateValue();},_handleMaxChange:function(){this.activeSlider=this.maxSlider;this.updateValue();},_bindKeyEvents:function(D){A.on(D.id,"keydown",this._handleKeyDown,this,true);A.on(D.id,"keypress",this._handleKeyPress,this,true);},_handleKeyDown:function(D){this.activeSlider.handleKeyDown.apply(this.activeSlider,arguments);},_handleKeyPress:function(D){this.activeSlider.handleKeyPress.apply(this.activeSlider,arguments);},setValues:function(H,K,I,E,J){var F=this.minSlider,M=this.maxSlider,D=F.thumb,L=M.thumb,N=this,G={min:false,max:false};if(D._isHoriz){D.setXConstraint(D.leftConstraint,L.rightConstraint,D.tickSize);L.setXConstraint(D.leftConstraint,L.rightConstraint,L.tickSize);}else{D.setYConstraint(D.topConstraint,L.bottomConstraint,D.tickSize);L.setYConstraint(D.topConstraint,L.bottomConstraint,L.tickSize);}this._oneTimeCallback(F,"slideEnd",function(){G.min=true;if(G.max){N.updateValue(J);setTimeout(function(){N._cleanEvent(F,"slideEnd");N._cleanEvent(M,"slideEnd");},0);}});this._oneTimeCallback(M,"slideEnd",function(){G.max=true;if(G.min){N.updateValue(J);setTimeout(function(){N._cleanEvent(F,"slideEnd");N._cleanEvent(M,"slideEnd");},0);}});F.setValue(H,I,E,false);M.setValue(K,I,E,false);},setMinValue:function(F,H,I,E){var G=this.minSlider,D=this;this.activeSlider=G;D=this;this._oneTimeCallback(G,"slideEnd",function(){D.updateValue(E);setTimeout(function(){D._cleanEvent(G,"slideEnd");},0);});G.setValue(F,H,I);},setMaxValue:function(D,H,I,F){var G=this.maxSlider,E=this;this.activeSlider=G;this._oneTimeCallback(G,"slideEnd",function(){E.updateValue(F);setTimeout(function(){E._cleanEvent(G,"slideEnd");},0);});G.setValue(D,H,I);},updateValue:function(J){var E=this.minSlider.getValue(),K=this.maxSlider.getValue(),F=false,D,M,H,I,L,G;if(E!=this.minVal||K!=this.maxVal){F=true;D=this.minSlider.thumb;M=this.maxSlider.thumb;H=this.isHoriz?"x":"y";G=this.minSlider.thumbCenterPoint[H]+this.maxSlider.thumbCenterPoint[H];I=Math.max(K-G-this.minRange,0);L=Math.min(-E-G-this.minRange,0);if(this.isHoriz){I=Math.min(I,M.rightConstraint);D.setXConstraint(D.leftConstraint,I,D.tickSize);M.setXConstraint(L,M.rightConstraint,M.tickSize);}else{I=Math.min(I,M.bottomConstraint);D.setYConstraint(D.leftConstraint,I,D.tickSize);M.setYConstraint(L,M.bottomConstraint,M.tickSize);}}this.minVal=E;this.maxVal=K;if(F&&!J){this.fireEvent("change",this);}},selectActiveSlider:function(H){var E=this.minSlider,D=this.maxSlider,J=E.isLocked()||!E.backgroundEnabled,G=D.isLocked()||!E.backgroundEnabled,F=YAHOO.util.Event,I;if(J||G){this.activeSlider=J?D:E;}else{if(this.isHoriz){I=F.getPageX(H)-E.thumb.initPageX-E.thumbCenterPoint.x;}else{I=F.getPageY(H)-E.thumb.initPageY-E.thumbCenterPoint.y;}this.activeSlider=I*2>D.getValue()+E.getValue()?D:E;}},_handleMouseDown:function(D){if(!D._handled&&!this.minSlider._sliding&&!this.maxSlider._sliding){D._handled=true;this.selectActiveSlider(D);return B.Slider.prototype.onMouseDown.call(this.activeSlider,D);}else{return false;}},_handleMouseUp:function(D){B.Slider.prototype.onMouseUp.apply(this.activeSlider,arguments);},_oneTimeCallback:function(G,D,F){var E=function(){G.unsubscribe(D,E);F.apply({},arguments);};G.subscribe(D,E);},_cleanEvent:function(K,E){var J,I,D,G,H,F;if(K.__yui_events&&K.events[E]){for(I=K.__yui_events.length;I>=0;--I){if(K.__yui_events[I].type===E){J=K.__yui_events[I];break;}}if(J){H=J.subscribers;F=[];G=0;for(I=0,D=H.length;I<D;++I){if(H[I]){F[G++]=H[I];}}J.subscribers=F;}}}};YAHOO.lang.augmentProto(C,YAHOO.util.EventProvider);B.Slider.getHorizDualSlider=function(H,J,K,G,F,D){var I=new B.SliderThumb(J,H,0,G,0,0,F),E=new B.SliderThumb(K,H,0,G,0,0,F);return new C(new B.Slider(H,H,I,"horiz"),new B.Slider(H,H,E,"horiz"),G,D);};B.Slider.getVertDualSlider=function(H,J,K,G,F,D){var I=new B.SliderThumb(J,H,0,0,0,G,F),E=new B.SliderThumb(K,H,0,0,0,G,F);return new B.DualSlider(new B.Slider(H,H,I,"vert"),new B.Slider(H,H,E,"vert"),G,D);};YAHOO.widget.DualSlider=C;})();YAHOO.register("slider",YAHOO.widget.Slider,{version:"2.9.0",build:"2800"});

// FILE: YUI3-min.js (35a728cf) 3/7/2014 11:24:11 AM

var Y=YAHOO;Y.Lang=Y.lang;Y.UA=YAHOO.env.ua;(function(){var b=Y.Lang,a="__",c=function(f,e){var d=e.toString;if(b.isFunction(d)&&d!=Object.prototype.toString){f.toString=d}};Y.merge=function(){var e=arguments,g={},f,d=e.length;for(f=0;f<d;f=f+1){Y.mix(g,e[f],true)}return g};Y.mix=function(d,o,f,n,k,m){if(!o||!d){return d||Y}if(k){switch(k){case 1:return Y.mix(d.prototype,o.prototype);case 2:Y.mix(d.prototype,o.prototype);break;case 3:return Y.mix(d,o.prototype);case 4:return Y.mix(d.prototype,o);default:}}var j=m&&b.isArray(d),h,g,e;if(n&&n.length){for(h=0,g=n.length;h<g;++h){e=n[h];if(e in o){if(m&&b.isObject(d[e],true)){Y.mix(d[e],o[e])}else{if(!j&&(f||!(e in d))){d[e]=o[e]}else{if(j){d.push(o[e])}}}}}}else{for(h in o){if(m&&b.isObject(d[h],true)){Y.mix(d[h],o[h])}else{if(!j&&(f||!(h in d))){d[h]=o[h]}else{if(j){d.push(o[h])}}}}if(Y.UA.ie){c(d,o)}}return d};Y.cached=function(f,d){d=d||{};return function e(h,g){var i=(g)?Array.prototype.join.call(arguments,a):h;if(!(i in d)){d[i]=f.apply(f,arguments)}return d[i]}}})();(function(){var a=Y.Lang,b=Array.prototype;YArray=function(m,h,k){var g=(k)?2:Y.Array.test(m),f,d,c;if(g){try{return b.slice.call(m,h||0)}catch(j){c=[];for(f=0,d=m.length;f<d;f=f+1){c.push(m[f])}return c}}else{return[m]}};YAHOO.Array=YArray;YArray.test=function(f){var c=0;if(a.isObject(f)){if(a.isArray(f)){c=1}else{try{if("length" in f&&!("tagName" in f)&&!("alert" in f)&&(!Y.Lang.isFunction(f.size)||f.size()>1)){c=2}}catch(d){}}}return c};YArray.each=(b.forEach)?function(c,d,e){b.forEach.call(c||[],d,e||Y);return Y}:function(d,g,h){var c=(d&&d.length)||0,e;for(e=0;e<c;e=e+1){g.call(h||Y,d[e],e,d)}return Y};YArray.hash=function(e,d){var h={},c=e.length,g=d&&d.length,f;for(f=0;f<c;f=f+1){h[e[f]]=(g&&g>f)?d[f]:true}return h};YArray.indexOf=(b.indexOf)?function(c,d){return c.indexOf(d)}:function(c,e){for(var d=0;d<c.length;d=d+1){if(c[d]===e){return d}}return -1};YArray.numericSort=function(d,c){return(d-c)};YArray.some=(b.some)?function(c,d,e){return b.some.call(c,d,e)}:function(d,g,h){var c=d.length,e;for(e=0;e<c;e=e+1){if(g.call(h,d[e],e,d)){return true}}return false}})();(function(){var b=Y.Lang,c=Array.prototype,a=Y.Array;a.lastIndexOf=(c.lastIndexOf)?function(d,e){return d.lastIndexOf(e)}:function(d,f){for(var e=d.length-1;e>=0;e=e-1){if(d[e]===f){break}}return e};a.unique=function(e,g){var h=b.isValue(g)?g:false,d=e.slice(),f=0,k=-1,j=null;if(h){while(f<d.length){if(d[f]===j){k=(k==-1?f:k);f+=1}else{if(k!==-1){d.splice(k,f-k);f=k;k=-1}else{j=d[f];f+=1}}}return d}else{while(f<d.length){j=d[f];while((k=d.lastIndexOf(j))!==f){d.splice(k,1)}f+=1}return d}};a.filter=(c.filter)?function(d,e,g){return c.filter.call(d,e,g)}:function(d,g,h){var e=[];a.each(d,function(k,j,f){if(g.call(h,k,j,f)){e.push(k)}});return e};a.reject=function(d,e,g){return a.filter(d,function(j,h,f){return !e.call(g,j,h,f)})};a.every=(c.every)?function(d,e,g){return c.every.call(d,e,g)}:function(e,h,j){var d=e.length;for(var g=0;g<d;g=g+1){if(!h.call(j,e[g],g,e)){return false}}return true};a.map=(c.map)?function(d,e,g){return c.map.call(d,e,g)}:function(d,g,h){var e=[];a.each(d,function(k,j,f){e.push(g.call(h,k,j,f))});return e};a.reduce=(c.reduce)?function(d,h,e,g){return c.reduce.call(d,function(l,k,j,f){return e.call(g,l,k,j,f)},h)}:function(d,i,g,h){var e=i;a.each(d,function(k,j,f){e=g.call(h,e,k,j,f)});return e};a.find=function(e,h,j){var d=e.length;for(var g=0;g<d;g++){if(h.call(j,e[g],g,e)){return e[g]}}return null};a.grep=function(d,e){return a.filter(d,function(g,f){return e.test(g)})};a.partition=function(d,g,h){var e={matches:[],rejects:[]};a.each(d,function(i,f){var j=g.call(h,i,f,d)?e.matches:e.rejects;j.push(i)});return e};a.zip=function(e,d){var f=[];a.each(e,function(h,g){f.push([h,d[g]])});return f}})();

// FILE: jquery-1.10.2.min.js (13bba847) 3/7/2014 11:24:12 AM

/*! jQuery v1.10.2 | (c) 2005, 2013 jQuery Foundation, Inc. | jquery.org/license
//@ sourceMappingURL=jquery-1.10.2.min.map
*/
(function(e,t){var n,r,i=typeof t,o=e.location,a=e.document,s=a.documentElement,l=e.jQuery,u=e.$,c={},p=[],f="1.10.2",d=p.concat,h=p.push,g=p.slice,m=p.indexOf,y=c.toString,v=c.hasOwnProperty,b=f.trim,x=function(e,t){return new x.fn.init(e,t,r)},w=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=/\S+/g,C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,k=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,E=/^[\],:{}\s]*$/,S=/(?:^|:|,)(?:\s*\[)+/g,A=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,j=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,D=/^-ms-/,L=/-([\da-z])/gi,H=function(e,t){return t.toUpperCase()},q=function(e){(a.addEventListener||"load"===e.type||"complete"===a.readyState)&&(_(),x.ready())},_=function(){a.addEventListener?(a.removeEventListener("DOMContentLoaded",q,!1),e.removeEventListener("load",q,!1)):(a.detachEvent("onreadystatechange",q),e.detachEvent("onload",q))};x.fn=x.prototype={jquery:f,constructor:x,init:function(e,n,r){var i,o;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:N.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof x?n[0]:n,x.merge(this,x.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:a,!0)),k.test(i[1])&&x.isPlainObject(n))for(i in n)x.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}if(o=a.getElementById(i[2]),o&&o.parentNode){if(o.id!==i[2])return r.find(e);this.length=1,this[0]=o}return this.context=a,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):x.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),x.makeArray(e,this))},selector:"",length:0,toArray:function(){return g.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=x.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return x.each(this,e,t)},ready:function(e){return x.ready.promise().done(e),this},slice:function(){return this.pushStack(g.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(x.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:h,sort:[].sort,splice:[].splice},x.fn.init.prototype=x.fn,x.extend=x.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),"object"==typeof s||x.isFunction(s)||(s={}),u===l&&(s=this,--l);u>l;l++)if(null!=(o=arguments[l]))for(i in o)e=s[i],r=o[i],s!==r&&(c&&r&&(x.isPlainObject(r)||(n=x.isArray(r)))?(n?(n=!1,a=e&&x.isArray(e)?e:[]):a=e&&x.isPlainObject(e)?e:{},s[i]=x.extend(c,a,r)):r!==t&&(s[i]=r));return s},x.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===x&&(e.$=u),t&&e.jQuery===x&&(e.jQuery=l),x},isReady:!1,readyWait:1,holdReady:function(e){e?x.readyWait++:x.ready(!0)},ready:function(e){if(e===!0?!--x.readyWait:!x.isReady){if(!a.body)return setTimeout(x.ready);x.isReady=!0,e!==!0&&--x.readyWait>0||(n.resolveWith(a,[x]),x.fn.trigger&&x(a).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===x.type(e)},isArray:Array.isArray||function(e){return"array"===x.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[y.call(e)]||"object":typeof e},isPlainObject:function(e){var n;if(!e||"object"!==x.type(e)||e.nodeType||x.isWindow(e))return!1;try{if(e.constructor&&!v.call(e,"constructor")&&!v.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}if(x.support.ownLast)for(n in e)return v.call(e,n);for(n in e);return n===t||v.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||a;var r=k.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=x.buildFragment([e],t,i),i&&x(i).remove(),x.merge([],r.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=x.trim(n),n&&E.test(n.replace(A,"@").replace(j,"]").replace(S,"")))?Function("return "+n)():(x.error("Invalid JSON: "+n),t)},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||x.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&x.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(D,"ms-").replace(L,H)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,o=e.length,a=M(e);if(n){if(a){for(;o>i;i++)if(r=t.apply(e[i],n),r===!1)break}else for(i in e)if(r=t.apply(e[i],n),r===!1)break}else if(a){for(;o>i;i++)if(r=t.call(e[i],i,e[i]),r===!1)break}else for(i in e)if(r=t.call(e[i],i,e[i]),r===!1)break;return e},trim:b&&!b.call("\ufeff\u00a0")?function(e){return null==e?"":b.call(e)}:function(e){return null==e?"":(e+"").replace(C,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(M(Object(e))?x.merge(n,"string"==typeof e?[e]:e):h.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(m)return m.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r)for(;r>o;o++)e[i++]=n[o];else while(n[o]!==t)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;a>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,t,n){var r,i=0,o=e.length,a=M(e),s=[];if(a)for(;o>i;i++)r=t(e[i],i,n),null!=r&&(s[s.length]=r);else for(i in e)r=t(e[i],i,n),null!=r&&(s[s.length]=r);return d.apply([],s)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(o=e[n],n=e,e=o),x.isFunction(e)?(r=g.call(arguments,2),i=function(){return e.apply(n||this,r.concat(g.call(arguments)))},i.guid=e.guid=e.guid||x.guid++,i):t},access:function(e,n,r,i,o,a,s){var l=0,u=e.length,c=null==r;if("object"===x.type(r)){o=!0;for(l in r)x.access(e,n,l,r[l],!0,a,s)}else if(i!==t&&(o=!0,x.isFunction(i)||(s=!0),c&&(s?(n.call(e,i),n=null):(c=n,n=function(e,t,n){return c.call(x(e),n)})),n))for(;u>l;l++)n(e[l],r,s?i:i.call(e[l],l,n(e[l],r)));return o?e:c?n.call(e):u?n(e[0],r):a},now:function(){return(new Date).getTime()},swap:function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i}}),x.ready.promise=function(t){if(!n)if(n=x.Deferred(),"complete"===a.readyState)setTimeout(x.ready);else if(a.addEventListener)a.addEventListener("DOMContentLoaded",q,!1),e.addEventListener("load",q,!1);else{a.attachEvent("onreadystatechange",q),e.attachEvent("onload",q);var r=!1;try{r=null==e.frameElement&&a.documentElement}catch(i){}r&&r.doScroll&&function o(){if(!x.isReady){try{r.doScroll("left")}catch(e){return setTimeout(o,50)}_(),x.ready()}}()}return n.promise(t)},x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){c["[object "+t+"]"]=t.toLowerCase()});function M(e){var t=e.length,n=x.type(e);return x.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}r=x(a),function(e,t){var n,r,i,o,a,s,l,u,c,p,f,d,h,g,m,y,v,b="sizzle"+-new Date,w=e.document,T=0,C=0,N=st(),k=st(),E=st(),S=!1,A=function(e,t){return e===t?(S=!0,0):0},j=typeof t,D=1<<31,L={}.hasOwnProperty,H=[],q=H.pop,_=H.push,M=H.push,O=H.slice,F=H.indexOf||function(e){var t=0,n=this.length;for(;n>t;t++)if(this[t]===e)return t;return-1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",P="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",W=R.replace("w","w#"),$="\\["+P+"*("+R+")"+P+"*(?:([*^$|!~]?=)"+P+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+W+")|)|)"+P+"*\\]",I=":("+R+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+$.replace(3,8)+")*)|.*)\\)|)",z=RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g"),X=RegExp("^"+P+"*,"+P+"*"),U=RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),V=RegExp(P+"*[+~]"),Y=RegExp("="+P+"*([^\\]'\"]*)"+P+"*\\]","g"),J=RegExp(I),G=RegExp("^"+W+"$"),Q={ID:RegExp("^#("+R+")"),CLASS:RegExp("^\\.("+R+")"),TAG:RegExp("^("+R.replace("w","w*")+")"),ATTR:RegExp("^"+$),PSEUDO:RegExp("^"+I),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:RegExp("^(?:"+B+")$","i"),needsContext:RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/^(?:input|select|textarea|button)$/i,tt=/^h\d$/i,nt=/'|\\/g,rt=RegExp("\\\\([\\da-f]{1,6}"+P+"?|("+P+")|.)","ig"),it=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r)};try{M.apply(H=O.call(w.childNodes),w.childNodes),H[w.childNodes.length].nodeType}catch(ot){M={apply:H.length?function(e,t){_.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function at(e,t,n,i){var o,a,s,l,u,c,d,m,y,x;if((t?t.ownerDocument||t:w)!==f&&p(t),t=t||f,n=n||[],!e||"string"!=typeof e)return n;if(1!==(l=t.nodeType)&&9!==l)return[];if(h&&!i){if(o=Z.exec(e))if(s=o[1]){if(9===l){if(a=t.getElementById(s),!a||!a.parentNode)return n;if(a.id===s)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(s))&&v(t,a)&&a.id===s)return n.push(a),n}else{if(o[2])return M.apply(n,t.getElementsByTagName(e)),n;if((s=o[3])&&r.getElementsByClassName&&t.getElementsByClassName)return M.apply(n,t.getElementsByClassName(s)),n}if(r.qsa&&(!g||!g.test(e))){if(m=d=b,y=t,x=9===l&&e,1===l&&"object"!==t.nodeName.toLowerCase()){c=mt(e),(d=t.getAttribute("id"))?m=d.replace(nt,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",u=c.length;while(u--)c[u]=m+yt(c[u]);y=V.test(e)&&t.parentNode||t,x=c.join(",")}if(x)try{return M.apply(n,y.querySelectorAll(x)),n}catch(T){}finally{d||t.removeAttribute("id")}}}return kt(e.replace(z,"$1"),t,n,i)}function st(){var e=[];function t(n,r){return e.push(n+=" ")>o.cacheLength&&delete t[e.shift()],t[n]=r}return t}function lt(e){return e[b]=!0,e}function ut(e){var t=f.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ct(e,t){var n=e.split("|"),r=e.length;while(r--)o.attrHandle[n[r]]=t}function pt(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||D)-(~e.sourceIndex||D);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ft(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function dt(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ht(e){return lt(function(t){return t=+t,lt(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}s=at.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},r=at.support={},p=at.setDocument=function(e){var n=e?e.ownerDocument||e:w,i=n.defaultView;return n!==f&&9===n.nodeType&&n.documentElement?(f=n,d=n.documentElement,h=!s(n),i&&i.attachEvent&&i!==i.top&&i.attachEvent("onbeforeunload",function(){p()}),r.attributes=ut(function(e){return e.className="i",!e.getAttribute("className")}),r.getElementsByTagName=ut(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),r.getElementsByClassName=ut(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),r.getById=ut(function(e){return d.appendChild(e).id=b,!n.getElementsByName||!n.getElementsByName(b).length}),r.getById?(o.find.ID=function(e,t){if(typeof t.getElementById!==j&&h){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},o.filter.ID=function(e){var t=e.replace(rt,it);return function(e){return e.getAttribute("id")===t}}):(delete o.find.ID,o.filter.ID=function(e){var t=e.replace(rt,it);return function(e){var n=typeof e.getAttributeNode!==j&&e.getAttributeNode("id");return n&&n.value===t}}),o.find.TAG=r.getElementsByTagName?function(e,n){return typeof n.getElementsByTagName!==j?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},o.find.CLASS=r.getElementsByClassName&&function(e,n){return typeof n.getElementsByClassName!==j&&h?n.getElementsByClassName(e):t},m=[],g=[],(r.qsa=K.test(n.querySelectorAll))&&(ut(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||g.push("\\["+P+"*(?:value|"+B+")"),e.querySelectorAll(":checked").length||g.push(":checked")}),ut(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&g.push("[*^$]="+P+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(r.matchesSelector=K.test(y=d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ut(function(e){r.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),m.push("!=",I)}),g=g.length&&RegExp(g.join("|")),m=m.length&&RegExp(m.join("|")),v=K.test(d.contains)||d.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},A=d.compareDocumentPosition?function(e,t){if(e===t)return S=!0,0;var i=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return i?1&i||!r.sortDetached&&t.compareDocumentPosition(e)===i?e===n||v(w,e)?-1:t===n||v(w,t)?1:c?F.call(c,e)-F.call(c,t):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,o=e.parentNode,a=t.parentNode,s=[e],l=[t];if(e===t)return S=!0,0;if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:c?F.call(c,e)-F.call(c,t):0;if(o===a)return pt(e,t);r=e;while(r=r.parentNode)s.unshift(r);r=t;while(r=r.parentNode)l.unshift(r);while(s[i]===l[i])i++;return i?pt(s[i],l[i]):s[i]===w?-1:l[i]===w?1:0},n):f},at.matches=function(e,t){return at(e,null,null,t)},at.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&p(e),t=t.replace(Y,"='$1']"),!(!r.matchesSelector||!h||m&&m.test(t)||g&&g.test(t)))try{var n=y.call(e,t);if(n||r.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(i){}return at(t,f,null,[e]).length>0},at.contains=function(e,t){return(e.ownerDocument||e)!==f&&p(e),v(e,t)},at.attr=function(e,n){(e.ownerDocument||e)!==f&&p(e);var i=o.attrHandle[n.toLowerCase()],a=i&&L.call(o.attrHandle,n.toLowerCase())?i(e,n,!h):t;return a===t?r.attributes||!h?e.getAttribute(n):(a=e.getAttributeNode(n))&&a.specified?a.value:null:a},at.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},at.uniqueSort=function(e){var t,n=[],i=0,o=0;if(S=!r.detectDuplicates,c=!r.sortStable&&e.slice(0),e.sort(A),S){while(t=e[o++])t===e[o]&&(i=n.push(o));while(i--)e.splice(n[i],1)}return e},a=at.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=a(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=a(t);return n},o=at.selectors={cacheLength:50,createPseudo:lt,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(rt,it),e[3]=(e[4]||e[5]||"").replace(rt,it),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||at.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&at.error(e[0]),e},PSEUDO:function(e){var n,r=!e[5]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:r&&J.test(r)&&(n=mt(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(e[0]=e[0].slice(0,n),e[2]=r.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(rt,it).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=N[e+" "];return t||(t=RegExp("(^|"+P+")"+e+"("+P+"|$)"))&&N(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==j&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=at.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,p,f,d,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!l&&!s;if(m){if(o){while(g){p=t;while(p=p[g])if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&v){c=m[b]||(m[b]={}),u=c[e]||[],d=u[0]===T&&u[1],f=u[0]===T&&u[2],p=d&&m.childNodes[d];while(p=++d&&p&&p[g]||(f=d=0)||h.pop())if(1===p.nodeType&&++f&&p===t){c[e]=[T,d,f];break}}else if(v&&(u=(t[b]||(t[b]={}))[e])&&u[0]===T)f=u[1];else while(p=++d&&p&&p[g]||(f=d=0)||h.pop())if((s?p.nodeName.toLowerCase()===y:1===p.nodeType)&&++f&&(v&&((p[b]||(p[b]={}))[e]=[T,f]),p===t))break;return f-=i,f===r||0===f%r&&f/r>=0}}},PSEUDO:function(e,t){var n,r=o.pseudos[e]||o.setFilters[e.toLowerCase()]||at.error("unsupported pseudo: "+e);return r[b]?r(t):r.length>1?(n=[e,e,"",t],o.setFilters.hasOwnProperty(e.toLowerCase())?lt(function(e,n){var i,o=r(e,t),a=o.length;while(a--)i=F.call(e,o[a]),e[i]=!(n[i]=o[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:lt(function(e){var t=[],n=[],r=l(e.replace(z,"$1"));return r[b]?lt(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:lt(function(e){return function(t){return at(e,t).length>0}}),contains:lt(function(e){return function(t){return(t.textContent||t.innerText||a(t)).indexOf(e)>-1}}),lang:lt(function(e){return G.test(e||"")||at.error("unsupported lang: "+e),e=e.replace(rt,it).toLowerCase(),function(t){var n;do if(n=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!o.pseudos.empty(e)},header:function(e){return tt.test(e.nodeName)},input:function(e){return et.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:ht(function(){return[0]}),last:ht(function(e,t){return[t-1]}),eq:ht(function(e,t,n){return[0>n?n+t:n]}),even:ht(function(e,t){var n=0;for(;t>n;n+=2)e.push(n);return e}),odd:ht(function(e,t){var n=1;for(;t>n;n+=2)e.push(n);return e}),lt:ht(function(e,t,n){var r=0>n?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:ht(function(e,t,n){var r=0>n?n+t:n;for(;t>++r;)e.push(r);return e})}},o.pseudos.nth=o.pseudos.eq;for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})o.pseudos[n]=ft(n);for(n in{submit:!0,reset:!0})o.pseudos[n]=dt(n);function gt(){}gt.prototype=o.filters=o.pseudos,o.setFilters=new gt;function mt(e,t){var n,r,i,a,s,l,u,c=k[e+" "];if(c)return t?0:c.slice(0);s=e,l=[],u=o.preFilter;while(s){(!n||(r=X.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(i=[])),n=!1,(r=U.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace(z," ")}),s=s.slice(n.length));for(a in o.filter)!(r=Q[a].exec(s))||u[a]&&!(r=u[a](r))||(n=r.shift(),i.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?at.error(e):k(e,l).slice(0)}function yt(e){var t=0,n=e.length,r="";for(;n>t;t++)r+=e[t].value;return r}function vt(e,t,n){var r=t.dir,o=n&&"parentNode"===r,a=C++;return t.first?function(t,n,i){while(t=t[r])if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,s){var l,u,c,p=T+" "+a;if(s){while(t=t[r])if((1===t.nodeType||o)&&e(t,n,s))return!0}else while(t=t[r])if(1===t.nodeType||o)if(c=t[b]||(t[b]={}),(u=c[r])&&u[0]===p){if((l=u[1])===!0||l===i)return l===!0}else if(u=c[r]=[p],u[1]=e(t,n,s)||i,u[1]===!0)return!0}}function bt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function xt(e,t,n,r,i){var o,a=[],s=0,l=e.length,u=null!=t;for(;l>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),u&&t.push(s));return a}function wt(e,t,n,r,i,o){return r&&!r[b]&&(r=wt(r)),i&&!i[b]&&(i=wt(i,o)),lt(function(o,a,s,l){var u,c,p,f=[],d=[],h=a.length,g=o||Nt(t||"*",s.nodeType?[s]:s,[]),m=!e||!o&&t?g:xt(g,f,e,s,l),y=n?i||(o?e:h||r)?[]:a:m;if(n&&n(m,y,s,l),r){u=xt(y,d),r(u,[],s,l),c=u.length;while(c--)(p=u[c])&&(y[d[c]]=!(m[d[c]]=p))}if(o){if(i||e){if(i){u=[],c=y.length;while(c--)(p=y[c])&&u.push(m[c]=p);i(null,y=[],u,l)}c=y.length;while(c--)(p=y[c])&&(u=i?F.call(o,p):f[c])>-1&&(o[u]=!(a[u]=p))}}else y=xt(y===a?y.splice(h,y.length):y),i?i(null,a,y,l):M.apply(a,y)})}function Tt(e){var t,n,r,i=e.length,a=o.relative[e[0].type],s=a||o.relative[" "],l=a?1:0,c=vt(function(e){return e===t},s,!0),p=vt(function(e){return F.call(t,e)>-1},s,!0),f=[function(e,n,r){return!a&&(r||n!==u)||((t=n).nodeType?c(e,n,r):p(e,n,r))}];for(;i>l;l++)if(n=o.relative[e[l].type])f=[vt(bt(f),n)];else{if(n=o.filter[e[l].type].apply(null,e[l].matches),n[b]){for(r=++l;i>r;r++)if(o.relative[e[r].type])break;return wt(l>1&&bt(f),l>1&&yt(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(z,"$1"),n,r>l&&Tt(e.slice(l,r)),i>r&&Tt(e=e.slice(r)),i>r&&yt(e))}f.push(n)}return bt(f)}function Ct(e,t){var n=0,r=t.length>0,a=e.length>0,s=function(s,l,c,p,d){var h,g,m,y=[],v=0,b="0",x=s&&[],w=null!=d,C=u,N=s||a&&o.find.TAG("*",d&&l.parentNode||l),k=T+=null==C?1:Math.random()||.1;for(w&&(u=l!==f&&l,i=n);null!=(h=N[b]);b++){if(a&&h){g=0;while(m=e[g++])if(m(h,l,c)){p.push(h);break}w&&(T=k,i=++n)}r&&((h=!m&&h)&&v--,s&&x.push(h))}if(v+=b,r&&b!==v){g=0;while(m=t[g++])m(x,y,l,c);if(s){if(v>0)while(b--)x[b]||y[b]||(y[b]=q.call(p));y=xt(y)}M.apply(p,y),w&&!s&&y.length>0&&v+t.length>1&&at.uniqueSort(p)}return w&&(T=k,u=C),x};return r?lt(s):s}l=at.compile=function(e,t){var n,r=[],i=[],o=E[e+" "];if(!o){t||(t=mt(e)),n=t.length;while(n--)o=Tt(t[n]),o[b]?r.push(o):i.push(o);o=E(e,Ct(i,r))}return o};function Nt(e,t,n){var r=0,i=t.length;for(;i>r;r++)at(e,t[r],n);return n}function kt(e,t,n,i){var a,s,u,c,p,f=mt(e);if(!i&&1===f.length){if(s=f[0]=f[0].slice(0),s.length>2&&"ID"===(u=s[0]).type&&r.getById&&9===t.nodeType&&h&&o.relative[s[1].type]){if(t=(o.find.ID(u.matches[0].replace(rt,it),t)||[])[0],!t)return n;e=e.slice(s.shift().value.length)}a=Q.needsContext.test(e)?0:s.length;while(a--){if(u=s[a],o.relative[c=u.type])break;if((p=o.find[c])&&(i=p(u.matches[0].replace(rt,it),V.test(s[0].type)&&t.parentNode||t))){if(s.splice(a,1),e=i.length&&yt(s),!e)return M.apply(n,i),n;break}}}return l(e,f)(i,t,!h,n,V.test(e)),n}r.sortStable=b.split("").sort(A).join("")===b,r.detectDuplicates=S,p(),r.sortDetached=ut(function(e){return 1&e.compareDocumentPosition(f.createElement("div"))}),ut(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ct("type|href|height|width",function(e,n,r){return r?t:e.getAttribute(n,"type"===n.toLowerCase()?1:2)}),r.attributes&&ut(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ct("value",function(e,n,r){return r||"input"!==e.nodeName.toLowerCase()?t:e.defaultValue}),ut(function(e){return null==e.getAttribute("disabled")})||ct(B,function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&i.specified?i.value:e[n]===!0?n.toLowerCase():null}),x.find=at,x.expr=at.selectors,x.expr[":"]=x.expr.pseudos,x.unique=at.uniqueSort,x.text=at.getText,x.isXMLDoc=at.isXML,x.contains=at.contains}(e);var O={};function F(e){var t=O[e]={};return x.each(e.match(T)||[],function(e,n){t[n]=!0}),t}x.Callbacks=function(e){e="string"==typeof e?O[e]||F(e):x.extend({},e);var n,r,i,o,a,s,l=[],u=!e.once&&[],c=function(t){for(r=e.memory&&t,i=!0,a=s||0,s=0,o=l.length,n=!0;l&&o>a;a++)if(l[a].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}n=!1,l&&(u?u.length&&c(u.shift()):r?l=[]:p.disable())},p={add:function(){if(l){var t=l.length;(function i(t){x.each(t,function(t,n){var r=x.type(n);"function"===r?e.unique&&p.has(n)||l.push(n):n&&n.length&&"string"!==r&&i(n)})})(arguments),n?o=l.length:r&&(s=t,c(r))}return this},remove:function(){return l&&x.each(arguments,function(e,t){var r;while((r=x.inArray(t,l,r))>-1)l.splice(r,1),n&&(o>=r&&o--,a>=r&&a--)}),this},has:function(e){return e?x.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],o=0,this},disable:function(){return l=u=r=t,this},disabled:function(){return!l},lock:function(){return u=t,r||p.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!l||i&&!u||(t=t||[],t=[e,t.slice?t.slice():t],n?u.push(t):c(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p},x.extend({Deferred:function(e){var t=[["resolve","done",x.Callbacks("once memory"),"resolved"],["reject","fail",x.Callbacks("once memory"),"rejected"],["notify","progress",x.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return x.Deferred(function(n){x.each(t,function(t,o){var a=o[0],s=x.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&x.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?x.extend(e,r):r}},i={};return r.pipe=r.then,x.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=g.call(arguments),r=n.length,i=1!==r||e&&x.isFunction(e.promise)?r:0,o=1===i?e:x.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?g.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},s,l,u;if(r>1)for(s=Array(r),l=Array(r),u=Array(r);r>t;t++)n[t]&&x.isFunction(n[t].promise)?n[t].promise().done(a(t,u,n)).fail(o.reject).progress(a(t,l,s)):--i;return i||o.resolveWith(u,n),o.promise()}}),x.support=function(t){var n,r,o,s,l,u,c,p,f,d=a.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*")||[],r=d.getElementsByTagName("a")[0],!r||!r.style||!n.length)return t;s=a.createElement("select"),u=s.appendChild(a.createElement("option")),o=d.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==d.className,t.leadingWhitespace=3===d.firstChild.nodeType,t.tbody=!d.getElementsByTagName("tbody").length,t.htmlSerialize=!!d.getElementsByTagName("link").length,t.style=/top/.test(r.getAttribute("style")),t.hrefNormalized="/a"===r.getAttribute("href"),t.opacity=/^0.5/.test(r.style.opacity),t.cssFloat=!!r.style.cssFloat,t.checkOn=!!o.value,t.optSelected=u.selected,t.enctype=!!a.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==a.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!u.disabled;try{delete d.test}catch(h){t.deleteExpando=!1}o=a.createElement("input"),o.setAttribute("value",""),t.input=""===o.getAttribute("value"),o.value="t",o.setAttribute("type","radio"),t.radioValue="t"===o.value,o.setAttribute("checked","t"),o.setAttribute("name","t"),l=a.createDocumentFragment(),l.appendChild(o),t.appendChecked=o.checked,t.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(f in{submit:!0,change:!0,focusin:!0})d.setAttribute(c="on"+f,"t"),t[f+"Bubbles"]=c in e||d.attributes[c].expando===!1;d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip;for(f in x(t))break;return t.ownLast="0"!==f,x(function(){var n,r,o,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",l=a.getElementsByTagName("body")[0];l&&(n=a.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",l.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=d.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",p=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",t.reliableHiddenOffsets=p&&0===o[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",x.swap(l,null!=l.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===d.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,r=d.appendChild(a.createElement("div")),r.style.cssText=d.style.cssText=s,r.style.marginRight=r.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof d.style.zoom!==i&&(d.innerHTML="",d.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(l.style.zoom=1)),l.removeChild(n),n=d=o=r=null)}),n=s=l=u=r=o=null,t
}({});var B=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,P=/([A-Z])/g;function R(e,n,r,i){if(x.acceptData(e)){var o,a,s=x.expando,l=e.nodeType,u=l?x.cache:e,c=l?e[s]:e[s]&&s;if(c&&u[c]&&(i||u[c].data)||r!==t||"string"!=typeof n)return c||(c=l?e[s]=p.pop()||x.guid++:s),u[c]||(u[c]=l?{}:{toJSON:x.noop}),("object"==typeof n||"function"==typeof n)&&(i?u[c]=x.extend(u[c],n):u[c].data=x.extend(u[c].data,n)),a=u[c],i||(a.data||(a.data={}),a=a.data),r!==t&&(a[x.camelCase(n)]=r),"string"==typeof n?(o=a[n],null==o&&(o=a[x.camelCase(n)])):o=a,o}}function W(e,t,n){if(x.acceptData(e)){var r,i,o=e.nodeType,a=o?x.cache:e,s=o?e[x.expando]:x.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){x.isArray(t)?t=t.concat(x.map(t,x.camelCase)):t in r?t=[t]:(t=x.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;while(i--)delete r[t[i]];if(n?!I(r):!x.isEmptyObject(r))return}(n||(delete a[s].data,I(a[s])))&&(o?x.cleanData([e],!0):x.support.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}x.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?x.cache[e[x.expando]]:e[x.expando],!!e&&!I(e)},data:function(e,t,n){return R(e,t,n)},removeData:function(e,t){return W(e,t)},_data:function(e,t,n){return R(e,t,n,!0)},_removeData:function(e,t){return W(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&x.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),x.fn.extend({data:function(e,n){var r,i,o=null,a=0,s=this[0];if(e===t){if(this.length&&(o=x.data(s),1===s.nodeType&&!x._data(s,"parsedAttrs"))){for(r=s.attributes;r.length>a;a++)i=r[a].name,0===i.indexOf("data-")&&(i=x.camelCase(i.slice(5)),$(s,i,o[i]));x._data(s,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each(function(){x.data(this,e)}):arguments.length>1?this.each(function(){x.data(this,e,n)}):s?$(s,e,x.data(s,e)):null},removeData:function(e){return this.each(function(){x.removeData(this,e)})}});function $(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(P,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:B.test(r)?x.parseJSON(r):r}catch(o){}x.data(e,n,r)}else r=t}return r}function I(e){var t;for(t in e)if(("data"!==t||!x.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}x.extend({queue:function(e,n,r){var i;return e?(n=(n||"fx")+"queue",i=x._data(e,n),r&&(!i||x.isArray(r)?i=x._data(e,n,x.makeArray(r)):i.push(r)),i||[]):t},dequeue:function(e,t){t=t||"fx";var n=x.queue(e,t),r=n.length,i=n.shift(),o=x._queueHooks(e,t),a=function(){x.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return x._data(e,n)||x._data(e,n,{empty:x.Callbacks("once memory").add(function(){x._removeData(e,t+"queue"),x._removeData(e,n)})})}}),x.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),r>arguments.length?x.queue(this[0],e):n===t?this:this.each(function(){var t=x.queue(this,e,n);x._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&x.dequeue(this,e)})},dequeue:function(e){return this.each(function(){x.dequeue(this,e)})},delay:function(e,t){return e=x.fx?x.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=x.Deferred(),a=this,s=this.length,l=function(){--i||o.resolveWith(a,[a])};"string"!=typeof e&&(n=e,e=t),e=e||"fx";while(s--)r=x._data(a[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(l));return l(),o.promise(n)}});var z,X,U=/[\t\r\n\f]/g,V=/\r/g,Y=/^(?:input|select|textarea|button|object)$/i,J=/^(?:a|area)$/i,G=/^(?:checked|selected)$/i,Q=x.support.getSetAttribute,K=x.support.input;x.fn.extend({attr:function(e,t){return x.access(this,x.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){x.removeAttr(this,e)})},prop:function(e,t){return x.access(this,x.prop,e,t,arguments.length>1)},removeProp:function(e){return e=x.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,l="string"==typeof e&&e;if(x.isFunction(e))return this.each(function(t){x(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(T)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(U," "):" ")){o=0;while(i=t[o++])0>r.indexOf(" "+i+" ")&&(r+=i+" ");n.className=x.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(x.isFunction(e))return this.each(function(t){x(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(T)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(U," "):"")){o=0;while(i=t[o++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");n.className=e?x.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):x.isFunction(e)?this.each(function(n){x(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n){var t,r=0,o=x(this),a=e.match(T)||[];while(t=a[r++])o.hasClass(t)?o.removeClass(t):o.addClass(t)}else(n===i||"boolean"===n)&&(this.className&&x._data(this,"__className__",this.className),this.className=this.className||e===!1?"":x._data(this,"__className__")||"")})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(U," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,o=this[0];{if(arguments.length)return i=x.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=i?e.call(this,n,x(this).val()):e,null==o?o="":"number"==typeof o?o+="":x.isArray(o)&&(o=x.map(o,function(e){return null==e?"":e+""})),r=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,o,"value")!==t||(this.value=o))});if(o)return r=x.valHooks[o.type]||x.valHooks[o.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(o,"value"))!==t?n:(n=o.value,"string"==typeof n?n.replace(V,""):null==n?"":n)}}}),x.extend({valHooks:{option:{get:function(e){var t=x.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;for(;s>l;l++)if(n=r[l],!(!n.selected&&l!==i||(x.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&x.nodeName(n.parentNode,"optgroup"))){if(t=x(n).val(),o)return t;a.push(t)}return a},set:function(e,t){var n,r,i=e.options,o=x.makeArray(t),a=i.length;while(a--)r=i[a],(r.selected=x.inArray(x(r).val(),o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}},attr:function(e,n,r){var o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===i?x.prop(e,n,r):(1===s&&x.isXMLDoc(e)||(n=n.toLowerCase(),o=x.attrHooks[n]||(x.expr.match.bool.test(n)?X:z)),r===t?o&&"get"in o&&null!==(a=o.get(e,n))?a:(a=x.find.attr(e,n),null==a?t:a):null!==r?o&&"set"in o&&(a=o.set(e,r,n))!==t?a:(e.setAttribute(n,r+""),r):(x.removeAttr(e,n),t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(T);if(o&&1===e.nodeType)while(n=o[i++])r=x.propFix[n]||n,x.expr.match.bool.test(n)?K&&Q||!G.test(n)?e[r]=!1:e[x.camelCase("default-"+n)]=e[r]=!1:x.attr(e,n,""),e.removeAttribute(Q?n:r)},attrHooks:{type:{set:function(e,t){if(!x.support.radioValue&&"radio"===t&&x.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!x.isXMLDoc(e),a&&(n=x.propFix[n]||n,o=x.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var t=x.find.attr(e,"tabindex");return t?parseInt(t,10):Y.test(e.nodeName)||J.test(e.nodeName)&&e.href?0:-1}}}}),X={set:function(e,t,n){return t===!1?x.removeAttr(e,n):K&&Q||!G.test(n)?e.setAttribute(!Q&&x.propFix[n]||n,n):e[x.camelCase("default-"+n)]=e[n]=!0,n}},x.each(x.expr.match.bool.source.match(/\w+/g),function(e,n){var r=x.expr.attrHandle[n]||x.find.attr;x.expr.attrHandle[n]=K&&Q||!G.test(n)?function(e,n,i){var o=x.expr.attrHandle[n],a=i?t:(x.expr.attrHandle[n]=t)!=r(e,n,i)?n.toLowerCase():null;return x.expr.attrHandle[n]=o,a}:function(e,n,r){return r?t:e[x.camelCase("default-"+n)]?n.toLowerCase():null}}),K&&Q||(x.attrHooks.value={set:function(e,n,r){return x.nodeName(e,"input")?(e.defaultValue=n,t):z&&z.set(e,n,r)}}),Q||(z={set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===e.getAttribute(r)?n:t}},x.expr.attrHandle.id=x.expr.attrHandle.name=x.expr.attrHandle.coords=function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&""!==i.value?i.value:null},x.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&r.specified?r.value:t},set:z.set},x.attrHooks.contenteditable={set:function(e,t,n){z.set(e,""===t?!1:t,n)}},x.each(["width","height"],function(e,n){x.attrHooks[n]={set:function(e,r){return""===r?(e.setAttribute(n,"auto"),r):t}}})),x.support.hrefNormalized||x.each(["href","src"],function(e,t){x.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),x.support.style||(x.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),x.support.optSelected||(x.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this}),x.support.enctype||(x.propFix.enctype="encoding"),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(e,n){return x.isArray(n)?e.checked=x.inArray(x(e).val(),n)>=0:t}},x.support.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Z=/^(?:input|select|textarea)$/i,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^([^.]*)(?:\.(.+)|)$/;function it(){return!0}function ot(){return!1}function at(){try{return a.activeElement}catch(e){}}x.event={global:{},add:function(e,n,r,o,a){var s,l,u,c,p,f,d,h,g,m,y,v=x._data(e);if(v){r.handler&&(c=r,r=c.handler,a=c.selector),r.guid||(r.guid=x.guid++),(l=v.events)||(l=v.events={}),(f=v.handle)||(f=v.handle=function(e){return typeof x===i||e&&x.event.triggered===e.type?t:x.event.dispatch.apply(f.elem,arguments)},f.elem=e),n=(n||"").match(T)||[""],u=n.length;while(u--)s=rt.exec(n[u])||[],g=y=s[1],m=(s[2]||"").split(".").sort(),g&&(p=x.event.special[g]||{},g=(a?p.delegateType:p.bindType)||g,p=x.event.special[g]||{},d=x.extend({type:g,origType:y,data:o,handler:r,guid:r.guid,selector:a,needsContext:a&&x.expr.match.needsContext.test(a),namespace:m.join(".")},c),(h=l[g])||(h=l[g]=[],h.delegateCount=0,p.setup&&p.setup.call(e,o,m,f)!==!1||(e.addEventListener?e.addEventListener(g,f,!1):e.attachEvent&&e.attachEvent("on"+g,f))),p.add&&(p.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),a?h.splice(h.delegateCount++,0,d):h.push(d),x.event.global[g]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,l,u,c,p,f,d,h,g,m=x.hasData(e)&&x._data(e);if(m&&(c=m.events)){t=(t||"").match(T)||[""],u=t.length;while(u--)if(s=rt.exec(t[u])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){p=x.event.special[d]||{},d=(r?p.delegateType:p.bindType)||d,f=c[d]||[],s=s[2]&&RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=f.length;while(o--)a=f[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,p.remove&&p.remove.call(e,a));l&&!f.length&&(p.teardown&&p.teardown.call(e,h,m.handle)!==!1||x.removeEvent(e,d,m.handle),delete c[d])}else for(d in c)x.event.remove(e,d+t[u],n,r,!0);x.isEmptyObject(c)&&(delete m.handle,x._removeData(e,"events"))}},trigger:function(n,r,i,o){var s,l,u,c,p,f,d,h=[i||a],g=v.call(n,"type")?n.type:n,m=v.call(n,"namespace")?n.namespace.split("."):[];if(u=f=i=i||a,3!==i.nodeType&&8!==i.nodeType&&!nt.test(g+x.event.triggered)&&(g.indexOf(".")>=0&&(m=g.split("."),g=m.shift(),m.sort()),l=0>g.indexOf(":")&&"on"+g,n=n[x.expando]?n:new x.Event(g,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:x.makeArray(r,[n]),p=x.event.special[g]||{},o||!p.trigger||p.trigger.apply(i,r)!==!1)){if(!o&&!p.noBubble&&!x.isWindow(i)){for(c=p.delegateType||g,nt.test(c+g)||(u=u.parentNode);u;u=u.parentNode)h.push(u),f=u;f===(i.ownerDocument||a)&&h.push(f.defaultView||f.parentWindow||e)}d=0;while((u=h[d++])&&!n.isPropagationStopped())n.type=d>1?c:p.bindType||g,s=(x._data(u,"events")||{})[n.type]&&x._data(u,"handle"),s&&s.apply(u,r),s=l&&u[l],s&&x.acceptData(u)&&s.apply&&s.apply(u,r)===!1&&n.preventDefault();if(n.type=g,!o&&!n.isDefaultPrevented()&&(!p._default||p._default.apply(h.pop(),r)===!1)&&x.acceptData(i)&&l&&i[g]&&!x.isWindow(i)){f=i[l],f&&(i[l]=null),x.event.triggered=g;try{i[g]()}catch(y){}x.event.triggered=t,f&&(i[l]=f)}return n.result}},dispatch:function(e){e=x.event.fix(e);var n,r,i,o,a,s=[],l=g.call(arguments),u=(x._data(this,"events")||{})[e.type]||[],c=x.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){s=x.event.handlers.call(this,e,u),n=0;while((o=s[n++])&&!e.isPropagationStopped()){e.currentTarget=o.elem,a=0;while((i=o.handlers[a++])&&!e.isImmediatePropagationStopped())(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((x.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,l),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,a,s=[],l=n.delegateCount,u=e.target;if(l&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(o=[],a=0;l>a;a++)i=n[a],r=i.selector+" ",o[r]===t&&(o[r]=i.needsContext?x(r,this).index(u)>=0:x.find(r,this,null,[u]).length),o[r]&&o.push(i);o.length&&s.push({elem:u,handlers:o})}return n.length>l&&s.push({elem:this,handlers:n.slice(l)}),s},fix:function(e){if(e[x.expando])return e;var t,n,r,i=e.type,o=e,s=this.fixHooks[i];s||(this.fixHooks[i]=s=tt.test(i)?this.mouseHooks:et.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new x.Event(o),t=r.length;while(t--)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||a),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,s=n.button,l=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||a,o=i.documentElement,r=i.body,e.pageX=n.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&l&&(e.relatedTarget=l===e.target?n.toElement:l),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==at()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===at()&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},click:{trigger:function(){return x.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t},_default:function(e){return x.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=x.extend(new x.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?x.event.trigger(i,null,t):x.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},x.removeEvent=a.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===i&&(e[r]=null),e.detachEvent(r,n))},x.Event=function(e,n){return this instanceof x.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?it:ot):this.type=e,n&&x.extend(this,n),this.timeStamp=e&&e.timeStamp||x.now(),this[x.expando]=!0,t):new x.Event(e,n)},x.Event.prototype={isDefaultPrevented:ot,isPropagationStopped:ot,isImmediatePropagationStopped:ot,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=it,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=it,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it,this.stopPropagation()}},x.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!x.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),x.support.submitBubbles||(x.event.special.submit={setup:function(){return x.nodeName(this,"form")?!1:(x.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=x.nodeName(n,"input")||x.nodeName(n,"button")?n.form:t;r&&!x._data(r,"submitBubbles")&&(x.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),x._data(r,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&x.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return x.nodeName(this,"form")?!1:(x.event.remove(this,"._submit"),t)}}),x.support.changeBubbles||(x.event.special.change={setup:function(){return Z.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(x.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),x.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),x.event.simulate("change",this,e,!0)})),!1):(x.event.add(this,"beforeactivate._change",function(e){var t=e.target;Z.test(t.nodeName)&&!x._data(t,"changeBubbles")&&(x.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||x.event.simulate("change",this.parentNode,e,!0)}),x._data(t,"changeBubbles",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return x.event.remove(this,"._change"),!Z.test(this.nodeName)}}),x.support.focusinBubbles||x.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){x.event.simulate(t,e.target,x.event.fix(e),!0)};x.event.special[t]={setup:function(){0===n++&&a.addEventListener(e,r,!0)},teardown:function(){0===--n&&a.removeEventListener(e,r,!0)}}}),x.fn.extend({on:function(e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(a in e)this.on(a,n,r,e[a],o);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=ot;else if(!i)return this;return 1===o&&(s=i,i=function(e){return x().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=x.guid++)),this.each(function(){x.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,x(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=ot),this.each(function(){x.event.remove(this,e,r,n)})},trigger:function(e,t){return this.each(function(){x.event.trigger(e,t,this)})},triggerHandler:function(e,n){var r=this[0];return r?x.event.trigger(e,n,r,!0):t}});var st=/^.[^:#\[\.,]*$/,lt=/^(?:parents|prev(?:Until|All))/,ut=x.expr.match.needsContext,ct={children:!0,contents:!0,next:!0,prev:!0};x.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(x(e).filter(function(){for(t=0;i>t;t++)if(x.contains(r[t],this))return!0}));for(t=0;i>t;t++)x.find(e,r[t],n);return n=this.pushStack(i>1?x.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=x(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(x.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ft(this,e||[],!0))},filter:function(e){return this.pushStack(ft(this,e||[],!1))},is:function(e){return!!ft(this,"string"==typeof e&&ut.test(e)?x(e):e||[],!1).length},closest:function(e,t){var n,r=0,i=this.length,o=[],a=ut.test(e)||"string"!=typeof e?x(e,t||this.context):0;for(;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(11>n.nodeType&&(a?a.index(n)>-1:1===n.nodeType&&x.find.matchesSelector(n,e))){n=o.push(n);break}return this.pushStack(o.length>1?x.unique(o):o)},index:function(e){return e?"string"==typeof e?x.inArray(this[0],x(e)):x.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?x(e,t):x.makeArray(e&&e.nodeType?[e]:e),r=x.merge(this.get(),n);return this.pushStack(x.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});function pt(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}x.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return x.dir(e,"parentNode")},parentsUntil:function(e,t,n){return x.dir(e,"parentNode",n)},next:function(e){return pt(e,"nextSibling")},prev:function(e){return pt(e,"previousSibling")},nextAll:function(e){return x.dir(e,"nextSibling")},prevAll:function(e){return x.dir(e,"previousSibling")},nextUntil:function(e,t,n){return x.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return x.dir(e,"previousSibling",n)},siblings:function(e){return x.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return x.sibling(e.firstChild)},contents:function(e){return x.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:x.merge([],e.childNodes)}},function(e,t){x.fn[e]=function(n,r){var i=x.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=x.filter(r,i)),this.length>1&&(ct[e]||(i=x.unique(i)),lt.test(e)&&(i=i.reverse())),this.pushStack(i)}}),x.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?x.find.matchesSelector(r,e)?[r]:[]:x.find.matches(e,x.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,r){var i=[],o=e[n];while(o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!x(o).is(r)))1===o.nodeType&&i.push(o),o=o[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});function ft(e,t,n){if(x.isFunction(t))return x.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return x.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(st.test(t))return x.filter(t,e,n);t=x.filter(t,e)}return x.grep(e,function(e){return x.inArray(e,t)>=0!==n})}function dt(e){var t=ht.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}var ht="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gt=/ jQuery\d+="(?:null|\d+)"/g,mt=RegExp("<(?:"+ht+")[\\s/>]","i"),yt=/^\s+/,vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,xt=/<tbody/i,wt=/<|&#?\w+;/,Tt=/<(?:script|style|link)/i,Ct=/^(?:checkbox|radio)$/i,Nt=/checked\s*(?:[^=]|=\s*.checked.)/i,kt=/^$|\/(?:java|ecma)script/i,Et=/^true\/(.*)/,St=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,At={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:x.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},jt=dt(a),Dt=jt.appendChild(a.createElement("div"));At.optgroup=At.option,At.tbody=At.tfoot=At.colgroup=At.caption=At.thead,At.th=At.td,x.fn.extend({text:function(e){return x.access(this,function(e){return e===t?x.text(this):this.empty().append((this[0]&&this[0].ownerDocument||a).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Lt(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Lt(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=e?x.filter(e,this):this,i=0;for(;null!=(n=r[i]);i++)t||1!==n.nodeType||x.cleanData(Ft(n)),n.parentNode&&(t&&x.contains(n.ownerDocument,n)&&_t(Ft(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;null!=(e=this[t]);t++){1===e.nodeType&&x.cleanData(Ft(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&x.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return x.clone(this,e,t)})},html:function(e){return x.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(gt,""):t;if(!("string"!=typeof e||Tt.test(e)||!x.support.htmlSerialize&&mt.test(e)||!x.support.leadingWhitespace&&yt.test(e)||At[(bt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(vt,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(x.cleanData(Ft(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=x.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),x(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=d.apply([],e);var r,i,o,a,s,l,u=0,c=this.length,p=this,f=c-1,h=e[0],g=x.isFunction(h);if(g||!(1>=c||"string"!=typeof h||x.support.checkClone)&&Nt.test(h))return this.each(function(r){var i=p.eq(r);g&&(e[0]=h.call(this,r,i.html())),i.domManip(e,t,n)});if(c&&(l=x.buildFragment(e,this[0].ownerDocument,!1,!n&&this),r=l.firstChild,1===l.childNodes.length&&(l=r),r)){for(a=x.map(Ft(l,"script"),Ht),o=a.length;c>u;u++)i=l,u!==f&&(i=x.clone(i,!0,!0),o&&x.merge(a,Ft(i,"script"))),t.call(this[u],i,u);if(o)for(s=a[a.length-1].ownerDocument,x.map(a,qt),u=0;o>u;u++)i=a[u],kt.test(i.type||"")&&!x._data(i,"globalEval")&&x.contains(s,i)&&(i.src?x._evalUrl(i.src):x.globalEval((i.text||i.textContent||i.innerHTML||"").replace(St,"")));l=r=null}return this}});function Lt(e,t){return x.nodeName(e,"table")&&x.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function Ht(e){return e.type=(null!==x.find.attr(e,"type"))+"/"+e.type,e}function qt(e){var t=Et.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function _t(e,t){var n,r=0;for(;null!=(n=e[r]);r++)x._data(n,"globalEval",!t||x._data(t[r],"globalEval"))}function Mt(e,t){if(1===t.nodeType&&x.hasData(e)){var n,r,i,o=x._data(e),a=x._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)x.event.add(t,n,s[n][r])}a.data&&(a.data=x.extend({},a.data))}}function Ot(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!x.support.noCloneEvent&&t[x.expando]){i=x._data(t);for(r in i.events)x.removeEvent(t,r,i.handle);t.removeAttribute(x.expando)}"script"===n&&t.text!==e.text?(Ht(t).text=e.text,qt(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),x.support.html5Clone&&e.innerHTML&&!x.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ct.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){x.fn[e]=function(e){var n,r=0,i=[],o=x(e),a=o.length-1;for(;a>=r;r++)n=r===a?this:this.clone(!0),x(o[r])[t](n),h.apply(i,n.get());return this.pushStack(i)}});function Ft(e,n){var r,o,a=0,s=typeof e.getElementsByTagName!==i?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==i?e.querySelectorAll(n||"*"):t;if(!s)for(s=[],r=e.childNodes||e;null!=(o=r[a]);a++)!n||x.nodeName(o,n)?s.push(o):x.merge(s,Ft(o,n));return n===t||n&&x.nodeName(e,n)?x.merge([e],s):s}function Bt(e){Ct.test(e.type)&&(e.defaultChecked=e.checked)}x.extend({clone:function(e,t,n){var r,i,o,a,s,l=x.contains(e.ownerDocument,e);if(x.support.html5Clone||x.isXMLDoc(e)||!mt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Dt.innerHTML=e.outerHTML,Dt.removeChild(o=Dt.firstChild)),!(x.support.noCloneEvent&&x.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e)))for(r=Ft(o),s=Ft(e),a=0;null!=(i=s[a]);++a)r[a]&&Ot(i,r[a]);if(t)if(n)for(s=s||Ft(e),r=r||Ft(o),a=0;null!=(i=s[a]);a++)Mt(i,r[a]);else Mt(e,o);return r=Ft(o,"script"),r.length>0&&_t(r,!l&&Ft(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){var i,o,a,s,l,u,c,p=e.length,f=dt(t),d=[],h=0;for(;p>h;h++)if(o=e[h],o||0===o)if("object"===x.type(o))x.merge(d,o.nodeType?[o]:o);else if(wt.test(o)){s=s||f.appendChild(t.createElement("div")),l=(bt.exec(o)||["",""])[1].toLowerCase(),c=At[l]||At._default,s.innerHTML=c[1]+o.replace(vt,"<$1></$2>")+c[2],i=c[0];while(i--)s=s.lastChild;if(!x.support.leadingWhitespace&&yt.test(o)&&d.push(t.createTextNode(yt.exec(o)[0])),!x.support.tbody){o="table"!==l||xt.test(o)?"<table>"!==c[1]||xt.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;while(i--)x.nodeName(u=o.childNodes[i],"tbody")&&!u.childNodes.length&&o.removeChild(u)}x.merge(d,s.childNodes),s.textContent="";while(s.firstChild)s.removeChild(s.firstChild);s=f.lastChild}else d.push(t.createTextNode(o));s&&f.removeChild(s),x.support.appendChecked||x.grep(Ft(d,"input"),Bt),h=0;while(o=d[h++])if((!r||-1===x.inArray(o,r))&&(a=x.contains(o.ownerDocument,o),s=Ft(f.appendChild(o),"script"),a&&_t(s),n)){i=0;while(o=s[i++])kt.test(o.type||"")&&n.push(o)}return s=null,f},cleanData:function(e,t){var n,r,o,a,s=0,l=x.expando,u=x.cache,c=x.support.deleteExpando,f=x.event.special;for(;null!=(n=e[s]);s++)if((t||x.acceptData(n))&&(o=n[l],a=o&&u[o])){if(a.events)for(r in a.events)f[r]?x.event.remove(n,r):x.removeEvent(n,r,a.handle);
u[o]&&(delete u[o],c?delete n[l]:typeof n.removeAttribute!==i?n.removeAttribute(l):n[l]=null,p.push(o))}},_evalUrl:function(e){return x.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),x.fn.extend({wrapAll:function(e){if(x.isFunction(e))return this.each(function(t){x(this).wrapAll(e.call(this,t))});if(this[0]){var t=x(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&1===e.firstChild.nodeType)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return x.isFunction(e)?this.each(function(t){x(this).wrapInner(e.call(this,t))}):this.each(function(){var t=x(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=x.isFunction(e);return this.each(function(n){x(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){x.nodeName(this,"body")||x(this).replaceWith(this.childNodes)}).end()}});var Pt,Rt,Wt,$t=/alpha\([^)]*\)/i,It=/opacity\s*=\s*([^)]*)/,zt=/^(top|right|bottom|left)$/,Xt=/^(none|table(?!-c[ea]).+)/,Ut=/^margin/,Vt=RegExp("^("+w+")(.*)$","i"),Yt=RegExp("^("+w+")(?!px)[a-z%]+$","i"),Jt=RegExp("^([+-])=("+w+")","i"),Gt={BODY:"block"},Qt={position:"absolute",visibility:"hidden",display:"block"},Kt={letterSpacing:0,fontWeight:400},Zt=["Top","Right","Bottom","Left"],en=["Webkit","O","Moz","ms"];function tn(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=en.length;while(i--)if(t=en[i]+n,t in e)return t;return r}function nn(e,t){return e=t||e,"none"===x.css(e,"display")||!x.contains(e.ownerDocument,e)}function rn(e,t){var n,r,i,o=[],a=0,s=e.length;for(;s>a;a++)r=e[a],r.style&&(o[a]=x._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&nn(r)&&(o[a]=x._data(r,"olddisplay",ln(r.nodeName)))):o[a]||(i=nn(r),(n&&"none"!==n||!i)&&x._data(r,"olddisplay",i?n:x.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}x.fn.extend({css:function(e,n){return x.access(this,function(e,n,r){var i,o,a={},s=0;if(x.isArray(n)){for(o=Rt(e),i=n.length;i>s;s++)a[n[s]]=x.css(e,n[s],!1,o);return a}return r!==t?x.style(e,n,r):x.css(e,n)},e,n,arguments.length>1)},show:function(){return rn(this,!0)},hide:function(){return rn(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){nn(this)?x(this).show():x(this).hide()})}}),x.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Wt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":x.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,l=x.camelCase(n),u=e.style;if(n=x.cssProps[l]||(x.cssProps[l]=tn(u,l)),s=x.cssHooks[n]||x.cssHooks[l],r===t)return s&&"get"in s&&(o=s.get(e,!1,i))!==t?o:u[n];if(a=typeof r,"string"===a&&(o=Jt.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(x.css(e,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||x.cssNumber[l]||(r+="px"),x.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(u[n]="inherit"),s&&"set"in s&&(r=s.set(e,r,i))===t)))try{u[n]=r}catch(c){}}},css:function(e,n,r,i){var o,a,s,l=x.camelCase(n);return n=x.cssProps[l]||(x.cssProps[l]=tn(e.style,l)),s=x.cssHooks[n]||x.cssHooks[l],s&&"get"in s&&(a=s.get(e,!0,r)),a===t&&(a=Wt(e,n,i)),"normal"===a&&n in Kt&&(a=Kt[n]),""===r||r?(o=parseFloat(a),r===!0||x.isNumeric(o)?o||0:a):a}}),e.getComputedStyle?(Rt=function(t){return e.getComputedStyle(t,null)},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),l=s?s.getPropertyValue(n)||s[n]:t,u=e.style;return s&&(""!==l||x.contains(e.ownerDocument,e)||(l=x.style(e,n)),Yt.test(l)&&Ut.test(n)&&(i=u.width,o=u.minWidth,a=u.maxWidth,u.minWidth=u.maxWidth=u.width=l,l=s.width,u.width=i,u.minWidth=o,u.maxWidth=a)),l}):a.documentElement.currentStyle&&(Rt=function(e){return e.currentStyle},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),l=s?s[n]:t,u=e.style;return null==l&&u&&u[n]&&(l=u[n]),Yt.test(l)&&!zt.test(n)&&(i=u.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),u.left="fontSize"===n?"1em":l,l=u.pixelLeft+"px",u.left=i,a&&(o.left=a)),""===l?"auto":l});function on(e,t,n){var r=Vt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function an(e,t,n,r,i){var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;for(;4>o;o+=2)"margin"===n&&(a+=x.css(e,n+Zt[o],!0,i)),r?("content"===n&&(a-=x.css(e,"padding"+Zt[o],!0,i)),"margin"!==n&&(a-=x.css(e,"border"+Zt[o]+"Width",!0,i))):(a+=x.css(e,"padding"+Zt[o],!0,i),"padding"!==n&&(a+=x.css(e,"border"+Zt[o]+"Width",!0,i)));return a}function sn(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Rt(e),a=x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=Wt(e,t,o),(0>i||null==i)&&(i=e.style[t]),Yt.test(i))return i;r=a&&(x.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+an(e,t,n||(a?"border":"content"),r,o)+"px"}function ln(e){var t=a,n=Gt[e];return n||(n=un(e,t),"none"!==n&&n||(Pt=(Pt||x("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(Pt[0].contentWindow||Pt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=un(e,t),Pt.detach()),Gt[e]=n),n}function un(e,t){var n=x(t.createElement(e)).appendTo(t.body),r=x.css(n[0],"display");return n.remove(),r}x.each(["height","width"],function(e,n){x.cssHooks[n]={get:function(e,r,i){return r?0===e.offsetWidth&&Xt.test(x.css(e,"display"))?x.swap(e,Qt,function(){return sn(e,n,i)}):sn(e,n,i):t},set:function(e,t,r){var i=r&&Rt(e);return on(e,t,r?an(e,n,r,x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,i),i):0)}}}),x.support.opacity||(x.cssHooks.opacity={get:function(e,t){return It.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=x.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===x.trim(o.replace($t,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=$t.test(o)?o.replace($t,i):o+" "+i)}}),x(function(){x.support.reliableMarginRight||(x.cssHooks.marginRight={get:function(e,n){return n?x.swap(e,{display:"inline-block"},Wt,[e,"marginRight"]):t}}),!x.support.pixelPosition&&x.fn.position&&x.each(["top","left"],function(e,n){x.cssHooks[n]={get:function(e,r){return r?(r=Wt(e,n),Yt.test(r)?x(e).position()[n]+"px":r):t}}})}),x.expr&&x.expr.filters&&(x.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!x.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||x.css(e,"display"))},x.expr.filters.visible=function(e){return!x.expr.filters.hidden(e)}),x.each({margin:"",padding:"",border:"Width"},function(e,t){x.cssHooks[e+t]={expand:function(n){var r=0,i={},o="string"==typeof n?n.split(" "):[n];for(;4>r;r++)i[e+Zt[r]+t]=o[r]||o[r-2]||o[0];return i}},Ut.test(e)||(x.cssHooks[e+t].set=on)});var cn=/%20/g,pn=/\[\]$/,fn=/\r?\n/g,dn=/^(?:submit|button|image|reset|file)$/i,hn=/^(?:input|select|textarea|keygen)/i;x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=x.prop(this,"elements");return e?x.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!x(this).is(":disabled")&&hn.test(this.nodeName)&&!dn.test(e)&&(this.checked||!Ct.test(e))}).map(function(e,t){var n=x(this).val();return null==n?null:x.isArray(n)?x.map(n,function(e){return{name:t.name,value:e.replace(fn,"\r\n")}}):{name:t.name,value:n.replace(fn,"\r\n")}}).get()}}),x.param=function(e,n){var r,i=[],o=function(e,t){t=x.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=x.ajaxSettings&&x.ajaxSettings.traditional),x.isArray(e)||e.jquery&&!x.isPlainObject(e))x.each(e,function(){o(this.name,this.value)});else for(r in e)gn(r,e[r],n,o);return i.join("&").replace(cn,"+")};function gn(e,t,n,r){var i;if(x.isArray(t))x.each(t,function(t,i){n||pn.test(e)?r(e,i):gn(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==x.type(t))r(e,t);else for(i in t)gn(e+"["+i+"]",t[i],n,r)}x.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){x.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),x.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var mn,yn,vn=x.now(),bn=/\?/,xn=/#.*$/,wn=/([?&])_=[^&]*/,Tn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Cn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Nn=/^(?:GET|HEAD)$/,kn=/^\/\//,En=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Sn=x.fn.load,An={},jn={},Dn="*/".concat("*");try{yn=o.href}catch(Ln){yn=a.createElement("a"),yn.href="",yn=yn.href}mn=En.exec(yn.toLowerCase())||[];function Hn(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(T)||[];if(x.isFunction(n))while(r=o[i++])"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function qn(e,n,r,i){var o={},a=e===jn;function s(l){var u;return o[l]=!0,x.each(e[l]||[],function(e,l){var c=l(n,r,i);return"string"!=typeof c||a||o[c]?a?!(u=c):t:(n.dataTypes.unshift(c),s(c),!1)}),u}return s(n.dataTypes[0])||!o["*"]&&s("*")}function _n(e,n){var r,i,o=x.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);return r&&x.extend(!0,e,r),e}x.fn.load=function(e,n,r){if("string"!=typeof e&&Sn)return Sn.apply(this,arguments);var i,o,a,s=this,l=e.indexOf(" ");return l>=0&&(i=e.slice(l,e.length),e=e.slice(0,l)),x.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(a="POST"),s.length>0&&x.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){o=arguments,s.html(i?x("<div>").append(x.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){s.each(r,o||[e.responseText,t,e])}),this},x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){x.fn[t]=function(e){return this.on(t,e)}}),x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yn,type:"GET",isLocal:Cn.test(mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":x.parseJSON,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?_n(_n(e,x.ajaxSettings),t):_n(x.ajaxSettings,e)},ajaxPrefilter:Hn(An),ajaxTransport:Hn(jn),ajax:function(e,n){"object"==typeof e&&(n=e,e=t),n=n||{};var r,i,o,a,s,l,u,c,p=x.ajaxSetup({},n),f=p.context||p,d=p.context&&(f.nodeType||f.jquery)?x(f):x.event,h=x.Deferred(),g=x.Callbacks("once memory"),m=p.statusCode||{},y={},v={},b=0,w="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c){c={};while(t=Tn.exec(a))c[t[1].toLowerCase()]=t[2]}t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=v[n]=v[n]||e,y[e]=t),this},overrideMimeType:function(e){return b||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else C.always(e[C.status]);return this},abort:function(e){var t=e||w;return u&&u.abort(t),k(0,t),this}};if(h.promise(C).complete=g.add,C.success=C.done,C.error=C.fail,p.url=((e||p.url||yn)+"").replace(xn,"").replace(kn,mn[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=x.trim(p.dataType||"*").toLowerCase().match(T)||[""],null==p.crossDomain&&(r=En.exec(p.url.toLowerCase()),p.crossDomain=!(!r||r[1]===mn[1]&&r[2]===mn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(mn[3]||("http:"===mn[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=x.param(p.data,p.traditional)),qn(An,p,n,C),2===b)return C;l=p.global,l&&0===x.active++&&x.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Nn.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(bn.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=wn.test(o)?o.replace(wn,"$1_="+vn++):o+(bn.test(o)?"&":"?")+"_="+vn++)),p.ifModified&&(x.lastModified[o]&&C.setRequestHeader("If-Modified-Since",x.lastModified[o]),x.etag[o]&&C.setRequestHeader("If-None-Match",x.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&C.setRequestHeader("Content-Type",p.contentType),C.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Dn+"; q=0.01":""):p.accepts["*"]);for(i in p.headers)C.setRequestHeader(i,p.headers[i]);if(p.beforeSend&&(p.beforeSend.call(f,C,p)===!1||2===b))return C.abort();w="abort";for(i in{success:1,error:1,complete:1})C[i](p[i]);if(u=qn(jn,p,n,C)){C.readyState=1,l&&d.trigger("ajaxSend",[C,p]),p.async&&p.timeout>0&&(s=setTimeout(function(){C.abort("timeout")},p.timeout));try{b=1,u.send(y,k)}catch(N){if(!(2>b))throw N;k(-1,N)}}else k(-1,"No Transport");function k(e,n,r,i){var c,y,v,w,T,N=n;2!==b&&(b=2,s&&clearTimeout(s),u=t,a=i||"",C.readyState=e>0?4:0,c=e>=200&&300>e||304===e,r&&(w=Mn(p,C,r)),w=On(p,w,C,c),c?(p.ifModified&&(T=C.getResponseHeader("Last-Modified"),T&&(x.lastModified[o]=T),T=C.getResponseHeader("etag"),T&&(x.etag[o]=T)),204===e||"HEAD"===p.type?N="nocontent":304===e?N="notmodified":(N=w.state,y=w.data,v=w.error,c=!v)):(v=N,(e||!N)&&(N="error",0>e&&(e=0))),C.status=e,C.statusText=(n||N)+"",c?h.resolveWith(f,[y,N,C]):h.rejectWith(f,[C,N,v]),C.statusCode(m),m=t,l&&d.trigger(c?"ajaxSuccess":"ajaxError",[C,p,c?y:v]),g.fireWith(f,[C,N]),l&&(d.trigger("ajaxComplete",[C,p]),--x.active||x.event.trigger("ajaxStop")))}return C},getJSON:function(e,t,n){return x.get(e,t,n,"json")},getScript:function(e,n){return x.get(e,t,n,"script")}}),x.each(["get","post"],function(e,n){x[n]=function(e,r,i,o){return x.isFunction(r)&&(o=o||i,i=r,r=t),x.ajax({url:e,type:n,dataType:o,data:r,success:i})}});function Mn(e,n,r){var i,o,a,s,l=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("Content-Type"));if(o)for(s in l)if(l[s]&&l[s].test(o)){u.unshift(s);break}if(u[0]in r)a=u[0];else{for(s in r){if(!u[0]||e.converters[s+" "+u[0]]){a=s;break}i||(i=s)}a=a||i}return a?(a!==u[0]&&u.unshift(a),r[a]):t}function On(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(i in u)if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[i]:u[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(p){return{state:"parsererror",error:a?p:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return x.globalEval(e),e}}}),x.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),x.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=a.head||x("head")[0]||a.documentElement;return{send:function(t,i){n=a.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Fn=[],Bn=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Fn.pop()||x.expando+"_"+vn++;return this[e]=!0,e}}),x.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,l=n.jsonp!==!1&&(Bn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=x.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Bn,"$1"+o):n.jsonp!==!1&&(n.url+=(bn.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||x.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,Fn.push(o)),s&&x.isFunction(a)&&a(s[0]),s=a=t}),"script"):t});var Pn,Rn,Wn=0,$n=e.ActiveXObject&&function(){var e;for(e in Pn)Pn[e](t,!0)};function In(){try{return new e.XMLHttpRequest}catch(t){}}function zn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}x.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&In()||zn()}:In,Rn=x.ajaxSettings.xhr(),x.support.cors=!!Rn&&"withCredentials"in Rn,Rn=x.support.ajax=!!Rn,Rn&&x.ajaxTransport(function(n){if(!n.crossDomain||x.support.cors){var r;return{send:function(i,o){var a,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)l.setRequestHeader(s,i[s])}catch(u){}l.send(n.hasContent&&n.data||null),r=function(e,i){var s,u,c,p;try{if(r&&(i||4===l.readyState))if(r=t,a&&(l.onreadystatechange=x.noop,$n&&delete Pn[a]),i)4!==l.readyState&&l.abort();else{p={},s=l.status,u=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(p.text=l.responseText);try{c=l.statusText}catch(f){c=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=p.text?200:404}}catch(d){i||o(-1,d)}p&&o(s,c,p,u)},n.async?4===l.readyState?setTimeout(r):(a=++Wn,$n&&(Pn||(Pn={},x(e).unload($n)),Pn[a]=r),l.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Xn,Un,Vn=/^(?:toggle|show|hide)$/,Yn=RegExp("^(?:([+-])=|)("+w+")([a-z%]*)$","i"),Jn=/queueHooks$/,Gn=[nr],Qn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Yn.exec(t),o=i&&i[3]||(x.cssNumber[e]?"":"px"),a=(x.cssNumber[e]||"px"!==o&&+r)&&Yn.exec(x.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,x.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--l)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};function Kn(){return setTimeout(function(){Xn=t}),Xn=x.now()}function Zn(e,t,n){var r,i=(Qn[t]||[]).concat(Qn["*"]),o=0,a=i.length;for(;a>o;o++)if(r=i[o].call(n,t,e))return r}function er(e,t,n){var r,i,o=0,a=Gn.length,s=x.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;var t=Xn||Kn(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;for(;l>a;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),1>o&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||Kn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=x.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(tr(c,u.opts.specialEasing);a>o;o++)if(r=Gn[o].call(u,e,c,u.opts))return r;return x.map(c,Zn,u),x.isFunction(u.opts.start)&&u.opts.start.call(e,u),x.fx.timer(x.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function tr(e,t){var n,r,i,o,a;for(n in e)if(r=x.camelCase(n),i=t[r],o=e[n],x.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=x.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}x.Animation=x.extend(er,{tweener:function(e,t){x.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;i>r;r++)n=e[r],Qn[n]=Qn[n]||[],Qn[n].unshift(t)},prefilter:function(e,t){t?Gn.unshift(e):Gn.push(e)}});function nr(e,t,n){var r,i,o,a,s,l,u=this,c={},p=e.style,f=e.nodeType&&nn(e),d=x._data(e,"fxshow");n.queue||(s=x._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,x.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===x.css(e,"display")&&"none"===x.css(e,"float")&&(x.support.inlineBlockNeedsLayout&&"inline"!==ln(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",x.support.shrinkWrapBlocks||u.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Vn.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(f?"hide":"show"))continue;c[r]=d&&d[r]||x.style(e,r)}if(!x.isEmptyObject(c)){d?"hidden"in d&&(f=d.hidden):d=x._data(e,"fxshow",{}),o&&(d.hidden=!f),f?x(e).show():u.done(function(){x(e).hide()}),u.done(function(){var t;x._removeData(e,"fxshow");for(t in c)x.style(e,t,c[t])});for(r in c)a=Zn(f?d[r]:0,r,u),r in d||(d[r]=a.start,f&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function rr(e,t,n,r,i){return new rr.prototype.init(e,t,n,r,i)}x.Tween=rr,rr.prototype={constructor:rr,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(x.cssNumber[n]?"":"px")},cur:function(){var e=rr.propHooks[this.prop];return e&&e.get?e.get(this):rr.propHooks._default.get(this)},run:function(e){var t,n=rr.propHooks[this.prop];return this.pos=t=this.options.duration?x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rr.propHooks._default.set(this),this}},rr.prototype.init.prototype=rr.prototype,rr.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=x.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[x.cssProps[e.prop]]||x.cssHooks[e.prop])?x.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},rr.propHooks.scrollTop=rr.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},x.each(["toggle","show","hide"],function(e,t){var n=x.fn[t];x.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ir(t,!0),e,r,i)}}),x.fn.extend({fadeTo:function(e,t,n,r){return this.filter(nn).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=x.isEmptyObject(e),o=x.speed(t,n,r),a=function(){var t=er(this,x.extend({},e),o);(i||x._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=x.timers,a=x._data(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&Jn.test(n)&&i(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));(t||!r)&&x.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=x._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=x.timers,a=r?r.length:0;for(n.finish=!0,x.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}});function ir(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Zt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}x.each({slideDown:ir("show"),slideUp:ir("hide"),slideToggle:ir("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){x.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),x.speed=function(e,t,n){var r=e&&"object"==typeof e?x.extend({},e):{complete:n||!n&&t||x.isFunction(e)&&e,duration:e,easing:n&&t||t&&!x.isFunction(t)&&t};return r.duration=x.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in x.fx.speeds?x.fx.speeds[r.duration]:x.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){x.isFunction(r.old)&&r.old.call(this),r.queue&&x.dequeue(this,r.queue)},r},x.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},x.timers=[],x.fx=rr.prototype.init,x.fx.tick=function(){var e,n=x.timers,r=0;for(Xn=x.now();n.length>r;r++)e=n[r],e()||n[r]!==e||n.splice(r--,1);n.length||x.fx.stop(),Xn=t},x.fx.timer=function(e){e()&&x.timers.push(e)&&x.fx.start()},x.fx.interval=13,x.fx.start=function(){Un||(Un=setInterval(x.fx.tick,x.fx.interval))},x.fx.stop=function(){clearInterval(Un),Un=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fx.step={},x.expr&&x.expr.filters&&(x.expr.filters.animated=function(e){return x.grep(x.timers,function(t){return e===t.elem}).length}),x.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){x.offset.setOffset(this,e,t)});var n,r,o={top:0,left:0},a=this[0],s=a&&a.ownerDocument;if(s)return n=s.documentElement,x.contains(n,a)?(typeof a.getBoundingClientRect!==i&&(o=a.getBoundingClientRect()),r=or(s),{top:o.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):o},x.offset={setOffset:function(e,t,n){var r=x.css(e,"position");"static"===r&&(e.style.position="relative");var i=x(e),o=i.offset(),a=x.css(e,"top"),s=x.css(e,"left"),l=("absolute"===r||"fixed"===r)&&x.inArray("auto",[a,s])>-1,u={},c={},p,f;l?(c=i.position(),p=c.top,f=c.left):(p=parseFloat(a)||0,f=parseFloat(s)||0),x.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(u.top=t.top-o.top+p),null!=t.left&&(u.left=t.left-o.left+f),"using"in t?t.using.call(e,u):i.css(u)}},x.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===x.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),x.nodeName(e[0],"html")||(n=e.offset()),n.top+=x.css(e[0],"borderTopWidth",!0),n.left+=x.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-x.css(r,"marginTop",!0),left:t.left-n.left-x.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||s;while(e&&!x.nodeName(e,"html")&&"static"===x.css(e,"position"))e=e.offsetParent;return e||s})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);x.fn[e]=function(i){return x.access(this,function(e,i,o){var a=or(e);return o===t?a?n in a?a[n]:a.document.documentElement[i]:e[i]:(a?a.scrollTo(r?x(a).scrollLeft():o,r?o:x(a).scrollTop()):e[i]=o,t)},e,i,arguments.length,null)}});function or(e){return x.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}x.each({Height:"height",Width:"width"},function(e,n){x.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){x.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");return x.access(this,function(n,r,i){var o;return x.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?x.css(n,r,s):x.style(n,r,i,s)},n,a?i:t,a,null)}})}),x.fn.size=function(){return this.length},x.fn.andSelf=x.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=x:(e.jQuery=e.$=x,"function"==typeof define&&define.amd&&define("jquery",[],function(){return x}))})(window);

// FILE: raphael-min.js (49133945) 3/7/2014 11:24:12 AM

// â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” \\
// â”‚ RaphaÃ«l 2.1.0 - JavaScript Vector Library                          â”‚ \\
// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ \\
// â”‚ Copyright Â© 2008-2012 Dmitry Baranovskiy (http://raphaeljs.com)    â”‚ \\
// â”‚ Copyright Â© 2008-2012 Sencha Labs (http://sencha.com)              â”‚ \\
// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ \\
// â”‚ Licensed under the MIT (http://raphaeljs.com/license.html) license.â”‚ \\
// â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ \\
(function(n){var e,t,r="0.4.2",f="hasOwnProperty",i=/[\.\/]/,o="*",u=function(){},l=function(n,e){return n-e},s={n:{}},p=function(n,r){n+="";var f,i=t,o=Array.prototype.slice.call(arguments,2),u=p.listeners(n),s=0,a=[],c={},h=[],d=e;e=n,t=0;for(var g=0,v=u.length;v>g;g++)"zIndex"in u[g]&&(a.push(u[g].zIndex),0>u[g].zIndex&&(c[u[g].zIndex]=u[g]));for(a.sort(l);0>a[s];)if(f=c[a[s++]],h.push(f.apply(r,o)),t)return t=i,h;for(g=0;v>g;g++)if(f=u[g],"zIndex"in f)if(f.zIndex==a[s]){if(h.push(f.apply(r,o)),t)break;do if(s++,f=c[a[s]],f&&h.push(f.apply(r,o)),t)break;while(f)}else c[f.zIndex]=f;else if(h.push(f.apply(r,o)),t)break;return t=i,e=d,h.length?h:null};p._events=s,p.listeners=function(n){var e,t,r,f,u,l,p,a,c=n.split(i),h=s,d=[h],g=[];for(f=0,u=c.length;u>f;f++){for(a=[],l=0,p=d.length;p>l;l++)for(h=d[l].n,t=[h[c[f]],h[o]],r=2;r--;)e=t[r],e&&(a.push(e),g=g.concat(e.f||[]));d=a}return g},p.on=function(n,e){if(n+="","function"!=typeof e)return function(){};for(var t=n.split(i),r=s,f=0,o=t.length;o>f;f++)r=r.n,r=r.hasOwnProperty(t[f])&&r[t[f]]||(r[t[f]]={n:{}});for(r.f=r.f||[],f=0,o=r.f.length;o>f;f++)if(r.f[f]==e)return u;return r.f.push(e),function(n){+n==+n&&(e.zIndex=+n)}},p.f=function(n){var e=[].slice.call(arguments,1);return function(){p.apply(null,[n,null].concat(e).concat([].slice.call(arguments,0)))}},p.stop=function(){t=1},p.nt=function(n){return n?RegExp("(?:\\.|\\/|^)"+n+"(?:\\.|\\/|$)").test(e):e},p.nts=function(){return e.split(i)},p.off=p.unbind=function(n,e){if(!n)return p._events=s={n:{}},void 0;var t,r,u,l,a,c,h,d=n.split(i),g=[s];for(l=0,a=d.length;a>l;l++)for(c=0;g.length>c;c+=u.length-2){if(u=[c,1],t=g[c].n,d[l]!=o)t[d[l]]&&u.push(t[d[l]]);else for(r in t)t[f](r)&&u.push(t[r]);g.splice.apply(g,u)}for(l=0,a=g.length;a>l;l++)for(t=g[l];t.n;){if(e){if(t.f){for(c=0,h=t.f.length;h>c;c++)if(t.f[c]==e){t.f.splice(c,1);break}!t.f.length&&delete t.f}for(r in t.n)if(t.n[f](r)&&t.n[r].f){var v=t.n[r].f;for(c=0,h=v.length;h>c;c++)if(v[c]==e){v.splice(c,1);break}!v.length&&delete t.n[r].f}}else{delete t.f;for(r in t.n)t.n[f](r)&&t.n[r].f&&delete t.n[r].f}t=t.n}},p.once=function(n,e){var t=function(){return p.unbind(n,t),e.apply(this,arguments)};return p.on(n,t)},p.version=r,p.toString=function(){return"You are running Eve "+r},"undefined"!=typeof module&&module.exports?module.exports=p:"undefined"!=typeof define?define("eve",[],function(){return p}):n.eve=p})(this);(function(){function t(e){if(t.is(e,"function"))return m?e():eve.on("raphael.DOMload",e);if(t.is(e,N))return t._engine.create[F](t,e.splice(0,3+t.is(e[0],Y))).add(e);var n=Array.prototype.slice.call(arguments,0);if(t.is(n[n.length-1],"function")){var r=n.pop();return m?r.call(t._engine.create[F](t,n)):eve.on("raphael.DOMload",function(){r.call(t._engine.create[F](t,n))})}return t._engine.create[F](t,arguments)}function e(t){if(Object(t)!==t)return t;var n=new t.constructor;for(var r in t)t[k](r)&&(n[r]=e(t[r]));return n}function n(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return t.push(t.splice(n,1)[0])}function r(t,e,r){function i(){var a=Array.prototype.slice.call(arguments,0),s=a.join("â€"),o=i.cache=i.cache||{},u=i.count=i.count||[];return o[k](s)?(n(u,s),r?r(o[s]):o[s]):(u.length>=1e3&&delete o[u.shift()],u.push(s),o[s]=t[F](e,a),r?r(o[s]):o[s])}return i}function i(){return this.hex}function a(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var a=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4==r?a[3]={x:+t[0],y:+t[1]}:i-2==r&&(a[2]={x:+t[0],y:+t[1]},a[3]={x:+t[2],y:+t[3]}):a[0]={x:+t[i-2],y:+t[i-1]}:i-4==r?a[3]=a[2]:r||(a[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y])}return n}function s(t,e,n,r,i){var a=-3*e+9*n-9*r+3*i,s=t*a+6*e-12*n+6*r;return t*s-3*e+3*n}function o(t,e,n,r,i,a,o,u,l){null==l&&(l=1),l=l>1?1:0>l?0:l;for(var h=l/2,c=12,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,g=0;c>g;g++){var x=h*f[g]+h,v=s(x,t,n,i,o),m=s(x,e,r,a,u),y=v*v+m*m;d+=p[g]*j.sqrt(y)}return h*d}function u(t,e,n,r,i,a,s,u,l){if(!(0>l||l>o(t,e,n,r,i,a,s,u))){var h,c=1,f=c/2,p=c-f,d=.01;for(h=o(t,e,n,r,i,a,s,u,p);O(h-l)>d;)f/=2,p+=(l>h?1:-1)*f,h=o(t,e,n,r,i,a,s,u,p);return p}}function l(t,e,n,r,i,a,s,o){if(!(D(t,n)<z(i,s)||z(t,n)>D(i,s)||D(e,r)<z(a,o)||z(e,r)>D(a,o))){var u=(t*r-e*n)*(i-s)-(t-n)*(i*o-a*s),l=(t*r-e*n)*(a-o)-(e-r)*(i*o-a*s),h=(t-n)*(a-o)-(e-r)*(i-s);if(h){var c=u/h,f=l/h,p=+c.toFixed(2),d=+f.toFixed(2);if(!(+z(t,n).toFixed(2)>p||p>+D(t,n).toFixed(2)||+z(i,s).toFixed(2)>p||p>+D(i,s).toFixed(2)||+z(e,r).toFixed(2)>d||d>+D(e,r).toFixed(2)||+z(a,o).toFixed(2)>d||d>+D(a,o).toFixed(2)))return{x:c,y:f}}}}function h(e,n,r){var i=t.bezierBBox(e),a=t.bezierBBox(n);if(!t.isBBoxIntersect(i,a))return r?0:[];for(var s=o.apply(0,e),u=o.apply(0,n),h=~~(s/5),c=~~(u/5),f=[],p=[],d={},g=r?0:[],x=0;h+1>x;x++){var v=t.findDotsAtSegment.apply(t,e.concat(x/h));f.push({x:v.x,y:v.y,t:x/h})}for(x=0;c+1>x;x++)v=t.findDotsAtSegment.apply(t,n.concat(x/c)),p.push({x:v.x,y:v.y,t:x/c});for(x=0;h>x;x++)for(var m=0;c>m;m++){var y=f[x],b=f[x+1],_=p[m],w=p[m+1],k=.001>O(b.x-y.x)?"y":"x",S=.001>O(w.x-_.x)?"y":"x",B=l(y.x,y.y,b.x,b.y,_.x,_.y,w.x,w.y);if(B){if(d[B.x.toFixed(4)]==B.y.toFixed(4))continue;d[B.x.toFixed(4)]=B.y.toFixed(4);var C=y.t+O((B[k]-y[k])/(b[k]-y[k]))*(b.t-y.t),F=_.t+O((B[S]-_[S])/(w[S]-_[S]))*(w.t-_.t);C>=0&&1>=C&&F>=0&&1>=F&&(r?g++:g.push({x:B.x,y:B.y,t1:C,t2:F}))}}return g}function c(e,n,r){e=t._path2curve(e),n=t._path2curve(n);for(var i,a,s,o,u,l,c,f,p,d,g=r?0:[],x=0,v=e.length;v>x;x++){var m=e[x];if("M"==m[0])i=u=m[1],a=l=m[2];else{"C"==m[0]?(p=[i,a].concat(m.slice(1)),i=p[6],a=p[7]):(p=[i,a,i,a,u,l,u,l],i=u,a=l);for(var y=0,b=n.length;b>y;y++){var _=n[y];if("M"==_[0])s=c=_[1],o=f=_[2];else{"C"==_[0]?(d=[s,o].concat(_.slice(1)),s=d[6],o=d[7]):(d=[s,o,s,o,c,f,c,f],s=c,o=f);var w=h(p,d,r);if(r)g+=w;else{for(var k=0,S=w.length;S>k;k++)w[k].segment1=x,w[k].segment2=y,w[k].bez1=p,w[k].bez2=d;g=g.concat(w)}}}}}return g}function f(t,e,n,r,i,a){null!=t?(this.a=+t,this.b=+e,this.c=+n,this.d=+r,this.e=+i,this.f=+a):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function p(){return this.x+P+this.y+P+this.width+" Ã— "+this.height}function d(t,e,n,r,i,a){function s(t){return((c*t+h)*t+l)*t}function o(t,e){var n=u(t,e);return((d*n+p)*n+f)*n}function u(t,e){var n,r,i,a,o,u;for(i=t,u=0;8>u;u++){if(a=s(i)-t,e>O(a))return i;if(o=(3*c*i+2*h)*i+l,1e-6>O(o))break;i-=a/o}if(n=0,r=1,i=t,n>i)return n;if(i>r)return r;for(;r>n;){if(a=s(i),e>O(a-t))return i;t>a?n=i:r=i,i=(r-n)/2+n}return i}var l=3*e,h=3*(r-e)-l,c=1-l-h,f=3*n,p=3*(i-n)-f,d=1-f-p;return o(t,1/(200*a))}function g(t,e){var n=[],r={};if(this.ms=e,this.times=1,t){for(var i in t)t[k](i)&&(r[Q(i)]=t[i],n.push(Q(i)));n.sort(le)}this.anim=r,this.top=n[n.length-1],this.percents=n}function x(e,n,r,i,a,s){r=Q(r);var o,u,l,h,c,p,g=e.ms,x={},v={},m={};if(i)for(_=0,w=sn.length;w>_;_++){var y=sn[_];if(y.el.id==n.id&&y.anim==e){y.percent!=r?(sn.splice(_,1),l=1):u=y,n.attr(y.totalOrigin);break}}else i=+v;for(var _=0,w=e.percents.length;w>_;_++){if(e.percents[_]==r||e.percents[_]>i*e.top){r=e.percents[_],c=e.percents[_-1]||0,g=g/e.top*(r-c),h=e.percents[_+1],o=e.anim[r];break}i&&n.attr(e.anim[e.percents[_]])}if(o){if(u)u.initstatus=i,u.start=new Date-u.ms*i;else{for(var S in o)if(o[k](S)&&(ee[k](S)||n.paper.customAttributes[k](S)))switch(x[S]=n.attr(S),null==x[S]&&(x[S]=te[S]),v[S]=o[S],ee[S]){case Y:m[S]=(v[S]-x[S])/g;break;case"colour":x[S]=t.getRGB(x[S]);var B=t.getRGB(v[S]);m[S]={r:(B.r-x[S].r)/g,g:(B.g-x[S].g)/g,b:(B.b-x[S].b)/g};break;case"path":var C=Ie(x[S],v[S]),F=C[1];for(x[S]=C[0],m[S]=[],_=0,w=x[S].length;w>_;_++){m[S][_]=[0];for(var L=1,A=x[S][_].length;A>L;L++)m[S][_][L]=(F[_][L]-x[S][_][L])/g}break;case"transform":var P=n._,I=ze(P[S],v[S]);if(I)for(x[S]=I.from,v[S]=I.to,m[S]=[],m[S].real=!0,_=0,w=x[S].length;w>_;_++)for(m[S][_]=[x[S][_][0]],L=1,A=x[S][_].length;A>L;L++)m[S][_][L]=(v[S][_][L]-x[S][_][L])/g;else{var R=n.matrix||new f,q={_:{transform:P.transform},getBBox:function(){return n.getBBox(1)}};x[S]=[R.a,R.b,R.c,R.d,R.e,R.f],je(q,v[S]),v[S]=q._.transform,m[S]=[(q.matrix.a-R.a)/g,(q.matrix.b-R.b)/g,(q.matrix.c-R.c)/g,(q.matrix.d-R.d)/g,(q.matrix.e-R.e)/g,(q.matrix.f-R.f)/g]}break;case"csv":var j=M(o[S])[E](b),D=M(x[S])[E](b);if("clip-rect"==S)for(x[S]=D,m[S]=[],_=D.length;_--;)m[S][_]=(j[_]-x[S][_])/g;v[S]=j;break;default:for(j=[][T](o[S]),D=[][T](x[S]),m[S]=[],_=n.paper.customAttributes[S].length;_--;)m[S][_]=((j[_]||0)-(D[_]||0))/g}var z=o.easing,O=t.easing_formulas[z];if(!O)if(O=M(z).match(U),O&&5==O.length){var V=O;O=function(t){return d(t,+V[1],+V[2],+V[3],+V[4],g)}}else O=ce;if(p=o.start||e.start||+new Date,y={anim:e,percent:r,timestamp:p,start:p+(e.del||0),status:0,initstatus:i||0,stop:!1,ms:g,easing:O,from:x,diff:m,to:v,el:n,callback:o.callback,prev:c,next:h,repeat:s||e.times,origin:n.attr(),totalOrigin:a},sn.push(y),i&&!u&&!l&&(y.stop=!0,y.start=new Date-g*i,1==sn.length))return un();l&&(y.start=new Date-y.ms*i),1==sn.length&&on(un)}eve("raphael.anim.start."+n.id,n,e)}}function v(t){for(var e=0;sn.length>e;e++)sn[e].el.paper==t&&sn.splice(e--,1)}t.version="2.1.0",t.eve=eve;var m,y,b=/[, ]+/,_={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},w=/\{(\d+)\}/g,k="hasOwnProperty",S={doc:document,win:window},B={was:Object.prototype[k].call(S.win,"Raphael"),is:S.win.Raphael},C=function(){this.ca=this.customAttributes={}},F="apply",T="concat",L="createTouch"in S.doc,A="",P=" ",M=String,E="split",I="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[E](P),R={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},q=M.prototype.toLowerCase,j=Math,D=j.max,z=j.min,O=j.abs,V=j.pow,X=j.PI,Y="number",G="string",N="array",W=Object.prototype.toString,$=(t._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),H={NaN:1,Infinity:1,"-Infinity":1},U=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,Z=j.round,Q=parseFloat,J=parseInt,K=M.prototype.toUpperCase,te=t._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},ee=t._availableAnimAttrs={blur:Y,"clip-rect":"csv",cx:Y,cy:Y,fill:"colour","fill-opacity":Y,"font-size":Y,height:Y,opacity:Y,path:"path",r:Y,rx:Y,ry:Y,stroke:"colour","stroke-opacity":Y,"stroke-width":Y,transform:"transform",width:Y,x:Y,y:Y},ne=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,re={hs:1,rg:1},ie=/,?([achlmqrstvxz]),?/gi,ae=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,se=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,oe=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,ue=(t._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),le=function(t,e){return Q(t)-Q(e)},he=function(){},ce=function(t){return t},fe=t._rectPath=function(t,e,n,r,i){return i?[["M",t+i,e],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]]:[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]]},pe=function(t,e,n,r){return null==r&&(r=n),[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]]},de=t._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return pe(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return pe(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return fe(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return fe(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return fe(e.x,e.y,e.width,e.height)},set:function(t){var e=t._getBBox();return fe(e.x,e.y,e.width,e.height)}},ge=t.mapPath=function(t,e){if(!e)return t;var n,r,i,a,s,o,u;for(t=Ie(t),i=0,s=t.length;s>i;i++)for(u=t[i],a=1,o=u.length;o>a;a+=2)n=e.x(u[a],u[a+1]),r=e.y(u[a],u[a+1]),u[a]=n,u[a+1]=r;return t};if(t._g=S,t.type=S.win.SVGAngle||S.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==t.type){var xe,ve=S.doc.createElement("div");if(ve.innerHTML='<v:shape adj="1"/>',xe=ve.firstChild,xe.style.behavior="url(#default#VML)",!xe||"object"!=typeof xe.adj)return t.type=A;ve=null}t.svg=!(t.vml="VML"==t.type),t._Paper=C,t.fn=y=C.prototype=t.prototype,t._id=0,t._oid=0,t.is=function(t,e){return e=q.call(e),"finite"==e?!H[k](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||W.call(t).slice(8,-1).toLowerCase()==e},t.angle=function(e,n,r,i,a,s){if(null==a){var o=e-r,u=n-i;return o||u?(180+180*j.atan2(-u,-o)/X+360)%360:0}return t.angle(e,n,a,s)-t.angle(r,i,a,s)},t.rad=function(t){return t%360*X/180},t.deg=function(t){return 180*t/X%360},t.snapTo=function(e,n,r){if(r=t.is(r,"finite")?r:10,t.is(e,N)){for(var i=e.length;i--;)if(r>=O(e[i]-n))return e[i]}else{e=+e;var a=n%e;if(r>a)return n-a;if(a>e-r)return n-a+e}return n},t.createUUID=function(t,e){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(t,e).toUpperCase()}}(/[xy]/g,function(t){var e=0|16*j.random(),n="x"==t?e:8|3&e;return n.toString(16)}),t.setWindow=function(e){eve("raphael.setWindow",t,S.win,e),S.win=e,S.doc=S.win.document,t._engine.initWin&&t._engine.initWin(S.win)};var me=function(e){if(t.vml){var n,i=/^\s+|\s+$/g;try{var a=new ActiveXObject("htmlfile");a.write("<body>"),a.close(),n=a.body}catch(s){n=createPopup().document.body}var o=n.createTextRange();me=r(function(t){try{n.style.color=M(t).replace(i,A);var e=o.queryCommandValue("ForeColor");return e=(255&e)<<16|65280&e|(16711680&e)>>>16,"#"+("000000"+e.toString(16)).slice(-6)}catch(r){return"none"}})}else{var u=S.doc.createElement("i");u.title="RaphaÃ«l Colour Picker",u.style.display="none",S.doc.body.appendChild(u),me=r(function(t){return u.style.color=t,S.doc.defaultView.getComputedStyle(u,A).getPropertyValue("color")})}return me(e)},ye=function(){return"hsb("+[this.h,this.s,this.b]+")"},be=function(){return"hsl("+[this.h,this.s,this.l]+")"},_e=function(){return this.hex},we=function(e,n,r){if(null==n&&t.is(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(r=e.b,n=e.g,e=e.r),null==n&&t.is(e,G)){var i=t.getRGB(e);e=i.r,n=i.g,r=i.b}return(e>1||n>1||r>1)&&(e/=255,n/=255,r/=255),[e,n,r]},ke=function(e,n,r,i){e*=255,n*=255,r*=255;var a={r:e,g:n,b:r,hex:t.rgb(e,n,r),toString:_e};return t.is(i,"finite")&&(a.opacity=i),a};t.color=function(e){var n;return t.is(e,"object")&&"h"in e&&"s"in e&&"b"in e?(n=t.hsb2rgb(e),e.r=n.r,e.g=n.g,e.b=n.b,e.hex=n.hex):t.is(e,"object")&&"h"in e&&"s"in e&&"l"in e?(n=t.hsl2rgb(e),e.r=n.r,e.g=n.g,e.b=n.b,e.hex=n.hex):(t.is(e,"string")&&(e=t.getRGB(e)),t.is(e,"object")&&"r"in e&&"g"in e&&"b"in e?(n=t.rgb2hsl(e),e.h=n.h,e.s=n.s,e.l=n.l,n=t.rgb2hsb(e),e.v=n.b):(e={hex:"none"},e.r=e.g=e.b=e.h=e.s=e.v=e.l=-1)),e.toString=_e,e},t.hsb2rgb=function(t,e,n,r){this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(n=t.b,e=t.s,t=t.h,r=t.o),t*=360;var i,a,s,o,u;return t=t%360/60,u=n*e,o=u*(1-O(t%2-1)),i=a=s=n-u,t=~~t,i+=[u,o,0,0,o,u][t],a+=[o,u,u,o,0,0][t],s+=[0,0,o,u,u,o][t],ke(i,a,s,r)},t.hsl2rgb=function(t,e,n,r){this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(n=t.l,e=t.s,t=t.h),(t>1||e>1||n>1)&&(t/=360,e/=100,n/=100),t*=360;var i,a,s,o,u;return t=t%360/60,u=2*e*(.5>n?n:1-n),o=u*(1-O(t%2-1)),i=a=s=n-u/2,t=~~t,i+=[u,o,0,0,o,u][t],a+=[o,u,u,o,0,0][t],s+=[0,0,o,u,u,o][t],ke(i,a,s,r)},t.rgb2hsb=function(t,e,n){n=we(t,e,n),t=n[0],e=n[1],n=n[2];var r,i,a,s;return a=D(t,e,n),s=a-z(t,e,n),r=0==s?null:a==t?(e-n)/s:a==e?(n-t)/s+2:(t-e)/s+4,r=60*((r+360)%6)/360,i=0==s?0:s/a,{h:r,s:i,b:a,toString:ye}},t.rgb2hsl=function(t,e,n){n=we(t,e,n),t=n[0],e=n[1],n=n[2];var r,i,a,s,o,u;return s=D(t,e,n),o=z(t,e,n),u=s-o,r=0==u?null:s==t?(e-n)/u:s==e?(n-t)/u+2:(t-e)/u+4,r=60*((r+360)%6)/360,a=(s+o)/2,i=0==u?0:.5>a?u/(2*a):u/(2-2*a),{h:r,s:i,l:a,toString:be}},t._path2string=function(){return this.join(",").replace(ie,"$1")},t._preload=function(t,e){var n=S.doc.createElement("img");n.style.cssText="position:absolute;left:-9999em;top:-9999em",n.onload=function(){e.call(this),this.onload=null,S.doc.body.removeChild(this)},n.onerror=function(){S.doc.body.removeChild(this)},S.doc.body.appendChild(n),n.src=t},t.getRGB=r(function(e){if(!e||(e=M(e)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:i};if("none"==e)return{r:-1,g:-1,b:-1,hex:"none",toString:i};!(re[k](e.toLowerCase().substring(0,2))||"#"==e.charAt())&&(e=me(e));var n,r,a,s,o,u,l=e.match($);return l?(l[2]&&(a=J(l[2].substring(5),16),r=J(l[2].substring(3,5),16),n=J(l[2].substring(1,3),16)),l[3]&&(a=J((o=l[3].charAt(3))+o,16),r=J((o=l[3].charAt(2))+o,16),n=J((o=l[3].charAt(1))+o,16)),l[4]&&(u=l[4][E](ne),n=Q(u[0]),"%"==u[0].slice(-1)&&(n*=2.55),r=Q(u[1]),"%"==u[1].slice(-1)&&(r*=2.55),a=Q(u[2]),"%"==u[2].slice(-1)&&(a*=2.55),"rgba"==l[1].toLowerCase().slice(0,4)&&(s=Q(u[3])),u[3]&&"%"==u[3].slice(-1)&&(s/=100)),l[5]?(u=l[5][E](ne),n=Q(u[0]),"%"==u[0].slice(-1)&&(n*=2.55),r=Q(u[1]),"%"==u[1].slice(-1)&&(r*=2.55),a=Q(u[2]),"%"==u[2].slice(-1)&&(a*=2.55),("deg"==u[0].slice(-3)||"Â°"==u[0].slice(-1))&&(n/=360),"hsba"==l[1].toLowerCase().slice(0,4)&&(s=Q(u[3])),u[3]&&"%"==u[3].slice(-1)&&(s/=100),t.hsb2rgb(n,r,a,s)):l[6]?(u=l[6][E](ne),n=Q(u[0]),"%"==u[0].slice(-1)&&(n*=2.55),r=Q(u[1]),"%"==u[1].slice(-1)&&(r*=2.55),a=Q(u[2]),"%"==u[2].slice(-1)&&(a*=2.55),("deg"==u[0].slice(-3)||"Â°"==u[0].slice(-1))&&(n/=360),"hsla"==l[1].toLowerCase().slice(0,4)&&(s=Q(u[3])),u[3]&&"%"==u[3].slice(-1)&&(s/=100),t.hsl2rgb(n,r,a,s)):(l={r:n,g:r,b:a,toString:i},l.hex="#"+(16777216|a|r<<8|n<<16).toString(16).slice(1),t.is(s,"finite")&&(l.opacity=s),l)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:i}},t),t.hsb=r(function(e,n,r){return t.hsb2rgb(e,n,r).hex}),t.hsl=r(function(e,n,r){return t.hsl2rgb(e,n,r).hex}),t.rgb=r(function(t,e,n){return"#"+(16777216|n|e<<8|t<<16).toString(16).slice(1)}),t.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},n=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,0>=e.s&&(this.getColor.start={h:0,s:1,b:e.b})),n.hex},t.getColor.reset=function(){delete this.start},t.parsePathString=function(e){if(!e)return null;var n=Se(e);if(n.arr)return Ce(n.arr);var r={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},i=[];return t.is(e,N)&&t.is(e[0],N)&&(i=Ce(e)),i.length||M(e).replace(ae,function(t,e,n){var a=[],s=e.toLowerCase();if(n.replace(oe,function(t,e){e&&a.push(+e)}),"m"==s&&a.length>2&&(i.push([e][T](a.splice(0,2))),s="l",e="m"==e?"l":"L"),"r"==s)i.push([e][T](a));else for(;a.length>=r[s]&&(i.push([e][T](a.splice(0,r[s]))),r[s]););}),i.toString=t._path2string,n.arr=Ce(i),i},t.parseTransformString=r(function(e){if(!e)return null;var n=[];return t.is(e,N)&&t.is(e[0],N)&&(n=Ce(e)),n.length||M(e).replace(se,function(t,e,r){var i=[];q.call(e),r.replace(oe,function(t,e){e&&i.push(+e)}),n.push([e][T](i))}),n.toString=t._path2string,n});var Se=function(t){var e=Se.ps=Se.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var n in e)e[k](n)&&n!=t&&(e[n].sleep--,!e[n].sleep&&delete e[n])}),e[t]};t.findDotsAtSegment=function(t,e,n,r,i,a,s,o,u){var l=1-u,h=V(l,3),c=V(l,2),f=u*u,p=f*u,d=h*t+3*c*u*n+3*l*u*u*i+p*s,g=h*e+3*c*u*r+3*l*u*u*a+p*o,x=t+2*u*(n-t)+f*(i-2*n+t),v=e+2*u*(r-e)+f*(a-2*r+e),m=n+2*u*(i-n)+f*(s-2*i+n),y=r+2*u*(a-r)+f*(o-2*a+r),b=l*t+u*n,_=l*e+u*r,w=l*i+u*s,k=l*a+u*o,S=90-180*j.atan2(x-m,v-y)/X;return(x>m||y>v)&&(S+=180),{x:d,y:g,m:{x:x,y:v},n:{x:m,y:y},start:{x:b,y:_},end:{x:w,y:k},alpha:S}},t.bezierBBox=function(e,n,r,i,a,s,o,u){t.is(e,"array")||(e=[e,n,r,i,a,s,o,u]);var l=Ee.apply(null,e);return{x:l.min.x,y:l.min.y,x2:l.max.x,y2:l.max.y,width:l.max.x-l.min.x,height:l.max.y-l.min.y}},t.isPointInsideBBox=function(t,e,n){return e>=t.x&&t.x2>=e&&n>=t.y&&t.y2>=n},t.isBBoxIntersect=function(e,n){var r=t.isPointInsideBBox;return r(n,e.x,e.y)||r(n,e.x2,e.y)||r(n,e.x,e.y2)||r(n,e.x2,e.y2)||r(e,n.x,n.y)||r(e,n.x2,n.y)||r(e,n.x,n.y2)||r(e,n.x2,n.y2)||(e.x<n.x2&&e.x>n.x||n.x<e.x2&&n.x>e.x)&&(e.y<n.y2&&e.y>n.y||n.y<e.y2&&n.y>e.y)},t.pathIntersection=function(t,e){return c(t,e)},t.pathIntersectionNumber=function(t,e){return c(t,e,1)},t.isPointInsidePath=function(e,n,r){var i=t.pathBBox(e);return t.isPointInsideBBox(i,n,r)&&1==c(e,[["M",n,r],["H",i.x2+10]],1)%2},t._removedFactory=function(t){return function(){eve("raphael.log",null,"RaphaÃ«l: you are calling to method â€œ"+t+"â€ of removed object",t)}};var Be=t.pathBBox=function(t){var n=Se(t);if(n.bbox)return e(n.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};t=Ie(t);for(var r,i=0,a=0,s=[],o=[],u=0,l=t.length;l>u;u++)if(r=t[u],"M"==r[0])i=r[1],a=r[2],s.push(i),o.push(a);else{var h=Ee(i,a,r[1],r[2],r[3],r[4],r[5],r[6]);s=s[T](h.min.x,h.max.x),o=o[T](h.min.y,h.max.y),i=r[5],a=r[6]}var c=z[F](0,s),f=z[F](0,o),p=D[F](0,s),d=D[F](0,o),g={x:c,y:f,x2:p,y2:d,width:p-c,height:d-f};return n.bbox=e(g),g},Ce=function(n){var r=e(n);return r.toString=t._path2string,r},Fe=t._pathToRelative=function(e){var n=Se(e);if(n.rel)return Ce(n.rel);t.is(e,N)&&t.is(e&&e[0],N)||(e=t.parsePathString(e));var r=[],i=0,a=0,s=0,o=0,u=0;"M"==e[0][0]&&(i=e[0][1],a=e[0][2],s=i,o=a,u++,r.push(["M",i,a]));for(var l=u,h=e.length;h>l;l++){var c=r[l]=[],f=e[l];if(f[0]!=q.call(f[0]))switch(c[0]=q.call(f[0]),c[0]){case"a":c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4],c[5]=f[5],c[6]=+(f[6]-i).toFixed(3),c[7]=+(f[7]-a).toFixed(3);break;case"v":c[1]=+(f[1]-a).toFixed(3);break;case"m":s=f[1],o=f[2];default:for(var p=1,d=f.length;d>p;p++)c[p]=+(f[p]-(p%2?i:a)).toFixed(3)}else{c=r[l]=[],"m"==f[0]&&(s=f[1]+i,o=f[2]+a);for(var g=0,x=f.length;x>g;g++)r[l][g]=f[g]}var v=r[l].length;switch(r[l][0]){case"z":i=s,a=o;break;case"h":i+=+r[l][v-1];break;case"v":a+=+r[l][v-1];break;default:i+=+r[l][v-2],a+=+r[l][v-1]}}return r.toString=t._path2string,n.rel=Ce(r),r},Te=t._pathToAbsolute=function(e){var n=Se(e);if(n.abs)return Ce(n.abs);if(t.is(e,N)&&t.is(e&&e[0],N)||(e=t.parsePathString(e)),!e||!e.length)return[["M",0,0]];var r=[],i=0,s=0,o=0,u=0,l=0;"M"==e[0][0]&&(i=+e[0][1],s=+e[0][2],o=i,u=s,l++,r[0]=["M",i,s]);for(var h,c,f=3==e.length&&"M"==e[0][0]&&"R"==e[1][0].toUpperCase()&&"Z"==e[2][0].toUpperCase(),p=l,d=e.length;d>p;p++){if(r.push(h=[]),c=e[p],c[0]!=K.call(c[0]))switch(h[0]=K.call(c[0]),h[0]){case"A":h[1]=c[1],h[2]=c[2],h[3]=c[3],h[4]=c[4],h[5]=c[5],h[6]=+(c[6]+i),h[7]=+(c[7]+s);break;case"V":h[1]=+c[1]+s;break;case"H":h[1]=+c[1]+i;break;case"R":for(var g=[i,s][T](c.slice(1)),x=2,v=g.length;v>x;x++)g[x]=+g[x]+i,g[++x]=+g[x]+s;r.pop(),r=r[T](a(g,f));break;case"M":o=+c[1]+i,u=+c[2]+s;default:for(x=1,v=c.length;v>x;x++)h[x]=+c[x]+(x%2?i:s)}else if("R"==c[0])g=[i,s][T](c.slice(1)),r.pop(),r=r[T](a(g,f)),h=["R"][T](c.slice(-2));else for(var m=0,y=c.length;y>m;m++)h[m]=c[m];switch(h[0]){case"Z":i=o,s=u;break;case"H":i=h[1];break;case"V":s=h[1];break;case"M":o=h[h.length-2],u=h[h.length-1];default:i=h[h.length-2],s=h[h.length-1]}}return r.toString=t._path2string,n.abs=Ce(r),r},Le=function(t,e,n,r){return[t,e,n,r,n,r]},Ae=function(t,e,n,r,i,a){var s=1/3,o=2/3;return[s*t+o*n,s*e+o*r,s*i+o*n,s*a+o*r,i,a]},Pe=function(t,e,n,i,a,s,o,u,l,h){var c,f=120*X/180,p=X/180*(+a||0),d=[],g=r(function(t,e,n){var r=t*j.cos(n)-e*j.sin(n),i=t*j.sin(n)+e*j.cos(n);return{x:r,y:i}});if(h)S=h[0],B=h[1],w=h[2],k=h[3];else{c=g(t,e,-p),t=c.x,e=c.y,c=g(u,l,-p),u=c.x,l=c.y;var x=(j.cos(X/180*a),j.sin(X/180*a),(t-u)/2),v=(e-l)/2,m=x*x/(n*n)+v*v/(i*i);m>1&&(m=j.sqrt(m),n=m*n,i=m*i);var y=n*n,b=i*i,_=(s==o?-1:1)*j.sqrt(O((y*b-y*v*v-b*x*x)/(y*v*v+b*x*x))),w=_*n*v/i+(t+u)/2,k=_*-i*x/n+(e+l)/2,S=j.asin(((e-k)/i).toFixed(9)),B=j.asin(((l-k)/i).toFixed(9));S=w>t?X-S:S,B=w>u?X-B:B,0>S&&(S=2*X+S),0>B&&(B=2*X+B),o&&S>B&&(S-=2*X),!o&&B>S&&(B-=2*X)}var C=B-S;if(O(C)>f){var F=B,L=u,A=l;B=S+f*(o&&B>S?1:-1),u=w+n*j.cos(B),l=k+i*j.sin(B),d=Pe(u,l,n,i,a,0,o,L,A,[B,F,w,k])}C=B-S;var P=j.cos(S),M=j.sin(S),I=j.cos(B),R=j.sin(B),q=j.tan(C/4),D=4/3*n*q,z=4/3*i*q,V=[t,e],Y=[t+D*M,e-z*P],G=[u+D*R,l-z*I],N=[u,l];if(Y[0]=2*V[0]-Y[0],Y[1]=2*V[1]-Y[1],h)return[Y,G,N][T](d);d=[Y,G,N][T](d).join()[E](",");for(var W=[],$=0,H=d.length;H>$;$++)W[$]=$%2?g(d[$-1],d[$],p).y:g(d[$],d[$+1],p).x;return W},Me=function(t,e,n,r,i,a,s,o,u){var l=1-u;return{x:V(l,3)*t+3*V(l,2)*u*n+3*l*u*u*i+V(u,3)*s,y:V(l,3)*e+3*V(l,2)*u*r+3*l*u*u*a+V(u,3)*o}},Ee=r(function(t,e,n,r,i,a,s,o){var u,l=i-2*n+t-(s-2*i+n),h=2*(n-t)-2*(i-n),c=t-n,f=(-h+j.sqrt(h*h-4*l*c))/2/l,p=(-h-j.sqrt(h*h-4*l*c))/2/l,d=[e,o],g=[t,s];return O(f)>"1e12"&&(f=.5),O(p)>"1e12"&&(p=.5),f>0&&1>f&&(u=Me(t,e,n,r,i,a,s,o,f),g.push(u.x),d.push(u.y)),p>0&&1>p&&(u=Me(t,e,n,r,i,a,s,o,p),g.push(u.x),d.push(u.y)),l=a-2*r+e-(o-2*a+r),h=2*(r-e)-2*(a-r),c=e-r,f=(-h+j.sqrt(h*h-4*l*c))/2/l,p=(-h-j.sqrt(h*h-4*l*c))/2/l,O(f)>"1e12"&&(f=.5),O(p)>"1e12"&&(p=.5),f>0&&1>f&&(u=Me(t,e,n,r,i,a,s,o,f),g.push(u.x),d.push(u.y)),p>0&&1>p&&(u=Me(t,e,n,r,i,a,s,o,p),g.push(u.x),d.push(u.y)),{min:{x:z[F](0,g),y:z[F](0,d)},max:{x:D[F](0,g),y:D[F](0,d)}}}),Ie=t._path2curve=r(function(t,e){var n=!e&&Se(t);if(!e&&n.curve)return Ce(n.curve);for(var r=Te(t),i=e&&Te(e),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=(function(t,e){var n,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][T](Pe[F](0,[e.x,e.y][T](t.slice(1))));break;case"S":n=e.x+(e.x-(e.bx||e.x)),r=e.y+(e.y-(e.by||e.y)),t=["C",n,r][T](t.slice(1));break;case"T":e.qx=e.x+(e.x-(e.qx||e.x)),e.qy=e.y+(e.y-(e.qy||e.y)),t=["C"][T](Ae(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][T](Ae(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][T](Le(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][T](Le(e.x,e.y,t[1],e.y));break;case"V":t=["C"][T](Le(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][T](Le(e.x,e.y,e.X,e.Y))}return t}),u=function(t,e){if(t[e].length>7){t[e].shift();for(var n=t[e];n.length;)t.splice(e++,0,["C"][T](n.splice(0,6)));t.splice(e,1),c=D(r.length,i&&i.length||0)}},l=function(t,e,n,a,s){t&&e&&"M"==t[s][0]&&"M"!=e[s][0]&&(e.splice(s,0,["M",a.x,a.y]),n.bx=0,n.by=0,n.x=t[s][1],n.y=t[s][2],c=D(r.length,i&&i.length||0))},h=0,c=D(r.length,i&&i.length||0);c>h;h++){r[h]=o(r[h],a),u(r,h),i&&(i[h]=o(i[h],s)),i&&u(i,h),l(r,i,a,s,h),l(i,r,s,a,h);var f=r[h],p=i&&i[h],d=f.length,g=i&&p.length;a.x=f[d-2],a.y=f[d-1],a.bx=Q(f[d-4])||a.x,a.by=Q(f[d-3])||a.y,s.bx=i&&(Q(p[g-4])||s.x),s.by=i&&(Q(p[g-3])||s.y),s.x=i&&p[g-2],s.y=i&&p[g-1]}return i||(n.curve=Ce(r)),i?[r,i]:r},null,Ce),Re=(t._parseDots=r(function(e){for(var n=[],r=0,i=e.length;i>r;r++){var a={},s=e[r].match(/^([^:]*):?([\d\.]*)/);if(a.color=t.getRGB(s[1]),a.color.error)return null;a.color=a.color.hex,s[2]&&(a.offset=s[2]+"%"),n.push(a)}for(r=1,i=n.length-1;i>r;r++)if(!n[r].offset){for(var o=Q(n[r-1].offset||0),u=0,l=r+1;i>l;l++)if(n[l].offset){u=n[l].offset;break}u||(u=100,l=i),u=Q(u);for(var h=(u-o)/(l-r+1);l>r;r++)o+=h,n[r].offset=o+"%"}return n}),t._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),qe=(t._tofront=function(t,e){e.top!==t&&(Re(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},t._toback=function(t,e){e.bottom!==t&&(Re(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},t._insertafter=function(t,e,n){Re(t,n),e==n.top&&(n.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},t._insertbefore=function(t,e,n){Re(t,n),e==n.bottom&&(n.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},t.toMatrix=function(t,e){var n=Be(t),r={_:{transform:A},getBBox:function(){return n}};return je(r,e),r.matrix}),je=(t.transformPath=function(t,e){return ge(t,qe(t,e))},t._extractTransform=function(e,n){if(null==n)return e._.transform;n=M(n).replace(/\.{3}|\u2026/g,e._.transform||A);var r=t.parseTransformString(n),i=0,a=0,s=0,o=1,u=1,l=e._,h=new f;if(l.transform=r||[],r)for(var c=0,p=r.length;p>c;c++){var d,g,x,v,m,y=r[c],b=y.length,_=M(y[0]).toLowerCase(),w=y[0]!=_,k=w?h.invert():0;"t"==_&&3==b?w?(d=k.x(0,0),g=k.y(0,0),x=k.x(y[1],y[2]),v=k.y(y[1],y[2]),h.translate(x-d,v-g)):h.translate(y[1],y[2]):"r"==_?2==b?(m=m||e.getBBox(1),h.rotate(y[1],m.x+m.width/2,m.y+m.height/2),i+=y[1]):4==b&&(w?(x=k.x(y[2],y[3]),v=k.y(y[2],y[3]),h.rotate(y[1],x,v)):h.rotate(y[1],y[2],y[3]),i+=y[1]):"s"==_?2==b||3==b?(m=m||e.getBBox(1),h.scale(y[1],y[b-1],m.x+m.width/2,m.y+m.height/2),o*=y[1],u*=y[b-1]):5==b&&(w?(x=k.x(y[3],y[4]),v=k.y(y[3],y[4]),h.scale(y[1],y[2],x,v)):h.scale(y[1],y[2],y[3],y[4]),o*=y[1],u*=y[2]):"m"==_&&7==b&&h.add(y[1],y[2],y[3],y[4],y[5],y[6]),l.dirtyT=1,e.matrix=h}e.matrix=h,l.sx=o,l.sy=u,l.deg=i,l.dx=a=h.e,l.dy=s=h.f,1==o&&1==u&&!i&&l.bbox?(l.bbox.x+=+a,l.bbox.y+=+s):l.dirtyT=1}),De=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}},ze=t._equaliseTransform=function(e,n){n=M(n).replace(/\.{3}|\u2026/g,e),e=t.parseTransformString(e)||[],n=t.parseTransformString(n)||[];for(var r,i,a,s,o=D(e.length,n.length),u=[],l=[],h=0;o>h;h++){if(a=e[h]||De(n[h]),s=n[h]||De(a),a[0]!=s[0]||"r"==a[0].toLowerCase()&&(a[2]!=s[2]||a[3]!=s[3])||"s"==a[0].toLowerCase()&&(a[3]!=s[3]||a[4]!=s[4]))return;for(u[h]=[],l[h]=[],r=0,i=D(a.length,s.length);i>r;r++)r in a&&(u[h][r]=a[r]),r in s&&(l[h][r]=s[r])}return{from:u,to:l}};t._getContainer=function(e,n,r,i){var a;return a=null!=i||t.is(e,"object")?e:S.doc.getElementById(e),null!=a?a.tagName?null==n?{container:a,width:a.style.pixelWidth||a.offsetWidth,height:a.style.pixelHeight||a.offsetHeight}:{container:a,width:n,height:r}:{container:1,x:e,y:n,width:r,height:i}:void 0},t.pathToRelative=Fe,t._engine={},t.path2curve=Ie,t.matrix=function(t,e,n,r,i,a){return new f(t,e,n,r,i,a)},function(e){function n(t){return t[0]*t[0]+t[1]*t[1]}function r(t){var e=j.sqrt(n(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}e.add=function(t,e,n,r,i,a){var s,o,u,l,h=[[],[],[]],c=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],p=[[t,n,i],[e,r,a],[0,0,1]];for(t&&t instanceof f&&(p=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),s=0;3>s;s++)for(o=0;3>o;o++){for(l=0,u=0;3>u;u++)l+=c[s][u]*p[u][o];h[s][o]=l}this.a=h[0][0],this.b=h[1][0],this.c=h[0][1],this.d=h[1][1],this.e=h[0][2],this.f=h[1][2]},e.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new f(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},e.clone=function(){return new f(this.a,this.b,this.c,this.d,this.e,this.f)},e.translate=function(t,e){this.add(1,0,0,1,t,e)},e.scale=function(t,e,n,r){null==e&&(e=t),(n||r)&&this.add(1,0,0,1,n,r),this.add(t,0,0,e,0,0),(n||r)&&this.add(1,0,0,1,-n,-r)},e.rotate=function(e,n,r){e=t.rad(e),n=n||0,r=r||0;var i=+j.cos(e).toFixed(9),a=+j.sin(e).toFixed(9);this.add(i,a,-a,i,n,r),this.add(1,0,0,1,-n,-r)},e.x=function(t,e){return t*this.a+e*this.c+this.e},e.y=function(t,e){return t*this.b+e*this.d+this.f},e.get=function(t){return+this[M.fromCharCode(97+t)].toFixed(4)},e.toString=function(){return t.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},e.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},e.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},e.split=function(){var e={};e.dx=this.e,e.dy=this.f;var i=[[this.a,this.c],[this.b,this.d]];e.scalex=j.sqrt(n(i[0])),r(i[0]),e.shear=i[0][0]*i[1][0]+i[0][1]*i[1][1],i[1]=[i[1][0]-i[0][0]*e.shear,i[1][1]-i[0][1]*e.shear],e.scaley=j.sqrt(n(i[1])),r(i[1]),e.shear/=e.scaley;var a=-i[0][1],s=i[1][1];return 0>s?(e.rotate=t.deg(j.acos(s)),0>a&&(e.rotate=360-e.rotate)):e.rotate=t.deg(j.asin(a)),e.isSimple=!(+e.shear.toFixed(9)||e.scalex.toFixed(9)!=e.scaley.toFixed(9)&&e.rotate),e.isSuperSimple=!+e.shear.toFixed(9)&&e.scalex.toFixed(9)==e.scaley.toFixed(9)&&!e.rotate,e.noRotation=!+e.shear.toFixed(9)&&!e.rotate,e
},e.toTransformString=function(t){var e=t||this[E]();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:A)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:A)+(e.rotate?"r"+[e.rotate,0,0]:A)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(f.prototype);var Oe=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);y.safari="Apple Computer, Inc."==navigator.vendor&&(Oe&&4>Oe[1]||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&Oe&&8>Oe[1]?function(){var t=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){t.remove()})}:he;for(var Ve=function(){this.returnValue=!1},Xe=function(){return this.originalEvent.preventDefault()},Ye=function(){this.cancelBubble=!0},Ge=function(){return this.originalEvent.stopPropagation()},Ne=function(){return S.doc.addEventListener?function(t,e,n,r){var i=L&&R[e]?R[e]:e,a=function(i){var a=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,s=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft,o=i.clientX+s,u=i.clientY+a;if(L&&R[k](e))for(var l=0,h=i.targetTouches&&i.targetTouches.length;h>l;l++)if(i.targetTouches[l].target==t){var c=i;i=i.targetTouches[l],i.originalEvent=c,i.preventDefault=Xe,i.stopPropagation=Ge;break}return n.call(r,i,o,u)};return t.addEventListener(i,a,!1),function(){return t.removeEventListener(i,a,!1),!0}}:S.doc.attachEvent?function(t,e,n,r){var i=function(t){t=t||S.win.event;var e=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,i=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft,a=t.clientX+i,s=t.clientY+e;return t.preventDefault=t.preventDefault||Ve,t.stopPropagation=t.stopPropagation||Ye,n.call(r,t,a,s)};t.attachEvent("on"+e,i);var a=function(){return t.detachEvent("on"+e,i),!0};return a}:void 0}(),We=[],$e=function(t){for(var e,n=t.clientX,r=t.clientY,i=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,a=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft,s=We.length;s--;){if(e=We[s],L){for(var o,u=t.touches.length;u--;)if(o=t.touches[u],o.identifier==e.el._drag.id){n=o.clientX,r=o.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var l,h=e.el.node,c=h.nextSibling,f=h.parentNode,p=h.style.display;S.win.opera&&f.removeChild(h),h.style.display="none",l=e.el.paper.getElementByPoint(n,r),h.style.display=p,S.win.opera&&(c?f.insertBefore(h,c):f.appendChild(h)),l&&eve("raphael.drag.over."+e.el.id,e.el,l),n+=a,r+=i,eve("raphael.drag.move."+e.el.id,e.move_scope||e.el,n-e.el._drag.x,r-e.el._drag.y,n,r,t)}},He=function(e){t.unmousemove($e).unmouseup(He);for(var n,r=We.length;r--;)n=We[r],n.el._drag={},eve("raphael.drag.end."+n.el.id,n.end_scope||n.start_scope||n.move_scope||n.el,e);We=[]},Ue=t.el={},Ze=I.length;Ze--;)(function(e){t[e]=Ue[e]=function(n,r){return t.is(n,"function")&&(this.events=this.events||[],this.events.push({name:e,f:n,unbind:Ne(this.shape||this.node||S.doc,e,n,r||this)})),this},t["un"+e]=Ue["un"+e]=function(t){for(var n=this.events||[],r=n.length;r--;)if(n[r].name==e&&n[r].f==t)return n[r].unbind(),n.splice(r,1),!n.length&&delete this.events,this;return this}})(I[Ze]);Ue.data=function(e,n){var r=ue[this.id]=ue[this.id]||{};if(1==arguments.length){if(t.is(e,"object")){for(var i in e)e[k](i)&&this.data(i,e[i]);return this}return eve("raphael.data.get."+this.id,this,r[e],e),r[e]}return r[e]=n,eve("raphael.data.set."+this.id,this,n,e),this},Ue.removeData=function(t){return null==t?ue[this.id]={}:ue[this.id]&&delete ue[this.id][t],this},Ue.hover=function(t,e,n,r){return this.mouseover(t,n).mouseout(e,r||n)},Ue.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var Qe=[];Ue.drag=function(e,n,r,i,a,s){function o(o){(o.originalEvent||o).preventDefault();var u=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,l=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft;this._drag.x=o.clientX+l,this._drag.y=o.clientY+u,this._drag.id=o.identifier,!We.length&&t.mousemove($e).mouseup(He),We.push({el:this,move_scope:i,start_scope:a,end_scope:s}),n&&eve.on("raphael.drag.start."+this.id,n),e&&eve.on("raphael.drag.move."+this.id,e),r&&eve.on("raphael.drag.end."+this.id,r),eve("raphael.drag.start."+this.id,a||i||this,o.clientX+l,o.clientY+u,o)}return this._drag={},Qe.push({el:this,start:o}),this.mousedown(o),this},Ue.onDragOver=function(t){t?eve.on("raphael.drag.over."+this.id,t):eve.unbind("raphael.drag.over."+this.id)},Ue.undrag=function(){for(var e=Qe.length;e--;)Qe[e].el==this&&(this.unmousedown(Qe[e].start),Qe.splice(e,1),eve.unbind("raphael.drag.*."+this.id));!Qe.length&&t.unmousemove($e).unmouseup(He)},y.circle=function(e,n,r){var i=t._engine.circle(this,e||0,n||0,r||0);return this.__set__&&this.__set__.push(i),i},y.rect=function(e,n,r,i,a){var s=t._engine.rect(this,e||0,n||0,r||0,i||0,a||0);return this.__set__&&this.__set__.push(s),s},y.ellipse=function(e,n,r,i){var a=t._engine.ellipse(this,e||0,n||0,r||0,i||0);return this.__set__&&this.__set__.push(a),a},y.path=function(e){e&&!t.is(e,G)&&!t.is(e[0],N)&&(e+=A);var n=t._engine.path(t.format[F](t,arguments),this);return this.__set__&&this.__set__.push(n),n},y.image=function(e,n,r,i,a){var s=t._engine.image(this,e||"about:blank",n||0,r||0,i||0,a||0);return this.__set__&&this.__set__.push(s),s},y.text=function(e,n,r){var i=t._engine.text(this,e||0,n||0,M(r));return this.__set__&&this.__set__.push(i),i},y.set=function(e){!t.is(e,"array")&&(e=Array.prototype.splice.call(arguments,0,arguments.length));var n=new hn(e);return this.__set__&&this.__set__.push(n),n.paper=this,n.type="set",n},y.setStart=function(t){this.__set__=t||this.set()},y.setFinish=function(){var t=this.__set__;return delete this.__set__,t},y.setSize=function(e,n){return t._engine.setSize.call(this,e,n)},y.setViewBox=function(e,n,r,i,a){return t._engine.setViewBox.call(this,e,n,r,i,a)},y.top=y.bottom=null,y.raphael=t;var Je=function(t){var e=t.getBoundingClientRect(),n=t.ownerDocument,r=n.body,i=n.documentElement,a=i.clientTop||r.clientTop||0,s=i.clientLeft||r.clientLeft||0,o=e.top+(S.win.pageYOffset||i.scrollTop||r.scrollTop)-a,u=e.left+(S.win.pageXOffset||i.scrollLeft||r.scrollLeft)-s;return{y:o,x:u}};y.getElementByPoint=function(t,e){var n=this,r=n.canvas,i=S.doc.elementFromPoint(t,e);if(S.win.opera&&"svg"==i.tagName){var a=Je(r),s=r.createSVGRect();s.x=t-a.x,s.y=e-a.y,s.width=s.height=1;var o=r.getIntersectionList(s,null);o.length&&(i=o[o.length-1])}if(!i)return null;for(;i.parentNode&&i!=r.parentNode&&!i.raphael;)i=i.parentNode;return i==n.canvas.parentNode&&(i=r),i=i&&i.raphael?n.getById(i.raphaelid):null},y.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},y.forEach=function(t,e){for(var n=this.bottom;n;){if(t.call(e,n)===!1)return this;n=n.next}return this},y.getElementsByPoint=function(t,e){var n=this.set();return this.forEach(function(r){r.isPointInside(t,e)&&n.push(r)}),n},Ue.isPointInside=function(e,n){var r=this.realPath=this.realPath||de[this.type](this);return t.isPointInsidePath(r,e,n)},Ue.getBBox=function(t){if(this.removed)return{};var e=this._;return t?((e.dirty||!e.bboxwt)&&(this.realPath=de[this.type](this),e.bboxwt=Be(this.realPath),e.bboxwt.toString=p,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&((e.dirty||!this.realPath)&&(e.bboxwt=0,this.realPath=de[this.type](this)),e.bbox=Be(ge(this.realPath,this.matrix)),e.bbox.toString=p,e.dirty=e.dirtyT=0),e.bbox)},Ue.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},Ue.glow=function(t){if("text"==this.type)return null;t=t||{};var e={width:(t.width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:t.opacity||.5,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},n=e.width/2,r=this.paper,i=r.set(),a=this.realPath||de[this.type](this);a=this.matrix?ge(a,this.matrix):a;for(var s=1;n+1>s;s++)i.push(r.path(a).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/n*s).toFixed(3),opacity:+(e.opacity/n).toFixed(3)}));return i.insertBefore(this).translate(e.offsetx,e.offsety)};var Ke=function(e,n,r,i,a,s,l,h,c){return null==c?o(e,n,r,i,a,s,l,h):t.findDotsAtSegment(e,n,r,i,a,s,l,h,u(e,n,r,i,a,s,l,h,c))},tn=function(e,n){return function(r,i,a){r=Ie(r);for(var s,o,u,l,h,c="",f={},p=0,d=0,g=r.length;g>d;d++){if(u=r[d],"M"==u[0])s=+u[1],o=+u[2];else{if(l=Ke(s,o,u[1],u[2],u[3],u[4],u[5],u[6]),p+l>i){if(n&&!f.start){if(h=Ke(s,o,u[1],u[2],u[3],u[4],u[5],u[6],i-p),c+=["C"+h.start.x,h.start.y,h.m.x,h.m.y,h.x,h.y],a)return c;f.start=c,c=["M"+h.x,h.y+"C"+h.n.x,h.n.y,h.end.x,h.end.y,u[5],u[6]].join(),p+=l,s=+u[5],o=+u[6];continue}if(!e&&!n)return h=Ke(s,o,u[1],u[2],u[3],u[4],u[5],u[6],i-p),{x:h.x,y:h.y,alpha:h.alpha}}p+=l,s=+u[5],o=+u[6]}c+=u.shift()+u}return f.end=c,h=e?p:n?f:t.findDotsAtSegment(s,o,u[0],u[1],u[2],u[3],u[4],u[5],1),h.alpha&&(h={x:h.x,y:h.y,alpha:h.alpha}),h}},en=tn(1),nn=tn(),rn=tn(0,1);t.getTotalLength=en,t.getPointAtLength=nn,t.getSubpath=function(t,e,n){if(1e-6>this.getTotalLength(t)-n)return rn(t,e).end;var r=rn(t,n,1);return e?rn(r,e).end:r},Ue.getTotalLength=function(){return"path"==this.type?this.node.getTotalLength?this.node.getTotalLength():en(this.attrs.path):void 0},Ue.getPointAtLength=function(t){return"path"==this.type?nn(this.attrs.path,t):void 0},Ue.getSubpath=function(e,n){return"path"==this.type?t.getSubpath(this.attrs.path,e,n):void 0};var an=t.easing_formulas={linear:function(t){return t},"<":function(t){return V(t,1.7)},">":function(t){return V(t,.48)},"<>":function(t){var e=.48-t/1.04,n=j.sqrt(.1734+e*e),r=n-e,i=V(O(r),1/3)*(0>r?-1:1),a=-n-e,s=V(O(a),1/3)*(0>a?-1:1),o=i+s+.5;return 3*(1-o)*o*o+o*o*o},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){t-=1;var e=1.70158;return t*t*((e+1)*t+e)+1},elastic:function(t){return t==!!t?t:V(2,-10*t)*j.sin((t-.075)*2*X/.3)+1},bounce:function(t){var e,n=7.5625,r=2.75;return 1/r>t?e=n*t*t:2/r>t?(t-=1.5/r,e=n*t*t+.75):2.5/r>t?(t-=2.25/r,e=n*t*t+.9375):(t-=2.625/r,e=n*t*t+.984375),e}};an.easeIn=an["ease-in"]=an["<"],an.easeOut=an["ease-out"]=an[">"],an.easeInOut=an["ease-in-out"]=an["<>"],an["back-in"]=an.backIn,an["back-out"]=an.backOut;var sn=[],on=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,16)},un=function(){for(var e=+new Date,n=0;sn.length>n;n++){var r=sn[n];if(!r.el.removed&&!r.paused){var i,a,s=e-r.start,o=r.ms,u=r.easing,l=r.from,h=r.diff,c=r.to,f=(r.t,r.el),p={},d={};if(r.initstatus?(s=(r.initstatus*r.anim.top-r.prev)/(r.percent-r.prev)*o,r.status=r.initstatus,delete r.initstatus,r.stop&&sn.splice(n--,1)):r.status=(r.prev+(r.percent-r.prev)*(s/o))/r.anim.top,!(0>s))if(o>s){var g=u(s/o);for(var v in l)if(l[k](v)){switch(ee[v]){case Y:i=+l[v]+g*o*h[v];break;case"colour":i="rgb("+[ln(Z(l[v].r+g*o*h[v].r)),ln(Z(l[v].g+g*o*h[v].g)),ln(Z(l[v].b+g*o*h[v].b))].join(",")+")";break;case"path":i=[];for(var m=0,y=l[v].length;y>m;m++){i[m]=[l[v][m][0]];for(var b=1,_=l[v][m].length;_>b;b++)i[m][b]=+l[v][m][b]+g*o*h[v][m][b];i[m]=i[m].join(P)}i=i.join(P);break;case"transform":if(h[v].real)for(i=[],m=0,y=l[v].length;y>m;m++)for(i[m]=[l[v][m][0]],b=1,_=l[v][m].length;_>b;b++)i[m][b]=l[v][m][b]+g*o*h[v][m][b];else{var w=function(t){return+l[v][t]+g*o*h[v][t]};i=[["m",w(0),w(1),w(2),w(3),w(4),w(5)]]}break;case"csv":if("clip-rect"==v)for(i=[],m=4;m--;)i[m]=+l[v][m]+g*o*h[v][m];break;default:var S=[][T](l[v]);for(i=[],m=f.paper.customAttributes[v].length;m--;)i[m]=+S[m]+g*o*h[v][m]}p[v]=i}f.attr(p),function(t,e,n){setTimeout(function(){eve("raphael.anim.frame."+t,e,n)})}(f.id,f,r.anim)}else{if(function(e,n,r){setTimeout(function(){eve("raphael.anim.frame."+n.id,n,r),eve("raphael.anim.finish."+n.id,n,r),t.is(e,"function")&&e.call(n)})}(r.callback,f,r.anim),f.attr(c),sn.splice(n--,1),r.repeat>1&&!r.next){for(a in c)c[k](a)&&(d[a]=r.totalOrigin[a]);r.el.attr(d),x(r.anim,r.el,r.anim.percents[0],null,r.totalOrigin,r.repeat-1)}r.next&&!r.stop&&x(r.anim,r.el,r.next,null,r.totalOrigin,r.repeat)}}}t.svg&&f&&f.paper&&f.paper.safari(),sn.length&&on(un)},ln=function(t){return t>255?255:0>t?0:t};Ue.animateWith=function(e,n,r,i,a,s){var o=this;if(o.removed)return s&&s.call(o),o;var u=r instanceof g?r:t.animation(r,i,a,s);x(u,o,u.percents[0],null,o.attr());for(var l=0,h=sn.length;h>l;l++)if(sn[l].anim==n&&sn[l].el==e){sn[h-1].start=sn[l].start;break}return o},Ue.onAnimation=function(t){return t?eve.on("raphael.anim.frame."+this.id,t):eve.unbind("raphael.anim.frame."+this.id),this},g.prototype.delay=function(t){var e=new g(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},g.prototype.repeat=function(t){var e=new g(this.anim,this.ms);return e.del=this.del,e.times=j.floor(D(t,0))||1,e},t.animation=function(e,n,r,i){if(e instanceof g)return e;(t.is(r,"function")||!r)&&(i=i||r||null,r=null),e=Object(e),n=+n||0;var a,s,o={};for(s in e)e[k](s)&&Q(s)!=s&&Q(s)+"%"!=s&&(a=!0,o[s]=e[s]);return a?(r&&(o.easing=r),i&&(o.callback=i),new g({100:o},n)):new g(e,n)},Ue.animate=function(e,n,r,i){var a=this;if(a.removed)return i&&i.call(a),a;var s=e instanceof g?e:t.animation(e,n,r,i);return x(s,a,s.percents[0],null,a.attr()),a},Ue.setTime=function(t,e){return t&&null!=e&&this.status(t,z(e,t.ms)/t.ms),this},Ue.status=function(t,e){var n,r,i=[],a=0;if(null!=e)return x(t,this,-1,z(e,1)),this;for(n=sn.length;n>a;a++)if(r=sn[a],r.el.id==this.id&&(!t||r.anim==t)){if(t)return r.status;i.push({anim:r.anim,status:r.status})}return t?0:i},Ue.pause=function(t){for(var e=0;sn.length>e;e++)sn[e].el.id!=this.id||t&&sn[e].anim!=t||eve("raphael.anim.pause."+this.id,this,sn[e].anim)!==!1&&(sn[e].paused=!0);return this},Ue.resume=function(t){for(var e=0;sn.length>e;e++)if(sn[e].el.id==this.id&&(!t||sn[e].anim==t)){var n=sn[e];eve("raphael.anim.resume."+this.id,this,n.anim)!==!1&&(delete n.paused,this.status(n.anim,n.status))}return this},Ue.stop=function(t){for(var e=0;sn.length>e;e++)sn[e].el.id!=this.id||t&&sn[e].anim!=t||eve("raphael.anim.stop."+this.id,this,sn[e].anim)!==!1&&sn.splice(e--,1);return this},eve.on("raphael.remove",v),eve.on("raphael.clear",v),Ue.toString=function(){return"RaphaÃ«lâ€™s object"};var hn=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,n=t.length;n>e;e++)!t[e]||t[e].constructor!=Ue.constructor&&t[e].constructor!=hn||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},cn=hn.prototype;cn.push=function(){for(var t,e,n=0,r=arguments.length;r>n;n++)t=arguments[n],!t||t.constructor!=Ue.constructor&&t.constructor!=hn||(e=this.items.length,this[e]=this.items[e]=t,this.length++);return this},cn.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},cn.forEach=function(t,e){for(var n=0,r=this.items.length;r>n;n++)if(t.call(e,this.items[n],n)===!1)return this;return this};for(var fn in Ue)Ue[k](fn)&&(cn[fn]=function(t){return function(){var e=arguments;return this.forEach(function(n){n[t][F](n,e)})}}(fn));cn.attr=function(e,n){if(e&&t.is(e,N)&&t.is(e[0],"object"))for(var r=0,i=e.length;i>r;r++)this.items[r].attr(e[r]);else for(var a=0,s=this.items.length;s>a;a++)this.items[a].attr(e,n);return this},cn.clear=function(){for(;this.length;)this.pop()},cn.splice=function(t,e){t=0>t?D(this.length+t,0):t,e=D(0,z(this.length-t,e));var n,r=[],i=[],a=[];for(n=2;arguments.length>n;n++)a.push(arguments[n]);for(n=0;e>n;n++)i.push(this[t+n]);for(;this.length-t>n;n++)r.push(this[t+n]);var s=a.length;for(n=0;s+r.length>n;n++)this.items[t+n]=this[t+n]=s>n?a[n]:r[n-s];for(n=this.items.length=this.length-=e-s;this[n];)delete this[n++];return new hn(i)},cn.exclude=function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]==t)return this.splice(e,1),!0},cn.animate=function(e,n,r,i){(t.is(r,"function")||!r)&&(i=r||null);var a,s,o=this.items.length,u=o,l=this;if(!o)return this;i&&(s=function(){!--o&&i.call(l)}),r=t.is(r,G)?r:s;var h=t.animation(e,n,r,s);for(a=this.items[--u].animate(h);u--;)this.items[u]&&!this.items[u].removed&&this.items[u].animateWith(a,h,h);return this},cn.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},cn.getBBox=function(){for(var t=[],e=[],n=[],r=[],i=this.items.length;i--;)if(!this.items[i].removed){var a=this.items[i].getBBox();t.push(a.x),e.push(a.y),n.push(a.x+a.width),r.push(a.y+a.height)}return t=z[F](0,t),e=z[F](0,e),n=D[F](0,n),r=D[F](0,r),{x:t,y:e,x2:n,y2:r,width:n-t,height:r-e}},cn.clone=function(t){t=this.paper.set();for(var e=0,n=this.items.length;n>e;e++)t.push(this.items[e].clone());return t},cn.toString=function(){return"RaphaÃ«lâ€˜s set"},t.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},n=t.face["font-family"];for(var r in t.face)t.face[k](r)&&(e.face[r]=t.face[r]);if(this.fonts[n]?this.fonts[n].push(e):this.fonts[n]=[e],!t.svg){e.face["units-per-em"]=J(t.face["units-per-em"],10);for(var i in t.glyphs)if(t.glyphs[k](i)){var a=t.glyphs[i];if(e.glyphs[i]={w:a.w,k:{},d:a.d&&"M"+a.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},a.k)for(var s in a.k)a[k](s)&&(e.glyphs[i].k[s]=a.k[s])}}return t},y.getFont=function(e,n,r,i){if(i=i||"normal",r=r||"normal",n=+n||{normal:400,bold:700,lighter:300,bolder:800}[n]||400,t.fonts){var a=t.fonts[e];if(!a){var s=RegExp("(^|\\s)"+e.replace(/[^\w\d\s+!~.:_-]/g,A)+"(\\s|$)","i");for(var o in t.fonts)if(t.fonts[k](o)&&s.test(o)){a=t.fonts[o];break}}var u;if(a)for(var l=0,h=a.length;h>l&&(u=a[l],u.face["font-weight"]!=n||u.face["font-style"]!=r&&u.face["font-style"]||u.face["font-stretch"]!=i);l++);return u}},y.print=function(e,n,r,i,a,s,o){s=s||"middle",o=D(z(o||0,1),-1);var u,l=M(r)[E](A),h=0,c=0,f=A;if(t.is(i,r)&&(i=this.getFont(i)),i){u=(a||16)/i.face["units-per-em"];for(var p=i.face.bbox[E](b),d=+p[0],g=p[3]-p[1],x=0,v=+p[1]+("baseline"==s?g+ +i.face.descent:g/2),m=0,y=l.length;y>m;m++){if("\n"==l[m])h=0,w=0,c=0,x+=g;else{var _=c&&i.glyphs[l[m-1]]||{},w=i.glyphs[l[m]];h+=c?(_.w||i.w)+(_.k&&_.k[l[m]]||0)+i.w*o:0,c=1}w&&w.d&&(f+=t.transformPath(w.d,["t",h*u,x*u,"s",u,u,d,v,"t",(e-d)/u,(n-v)/u]))}}return this.path(f).attr({fill:"#000",stroke:"none"})},y.add=function(e){if(t.is(e,"array"))for(var n,r=this.set(),i=0,a=e.length;a>i;i++)n=e[i]||{},_[k](n.type)&&r.push(this[n.type]().attr(n));return r},t.format=function(e,n){var r=t.is(n,N)?[0][T](n):arguments;return e&&t.is(e,G)&&r.length-1&&(e=e.replace(w,function(t,e){return null==r[++e]?A:r[e]})),e||A},t.fullfill=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,n=function(t,n,r){var i=r;return n.replace(e,function(t,e,n,r,a){e=e||r,i&&(e in i&&(i=i[e]),"function"==typeof i&&a&&(i=i()))}),i=(null==i||i==r?t:i)+""};return function(e,r){return(e+"").replace(t,function(t,e){return n(t,e,r)})}}(),t.ninja=function(){return B.was?S.win.Raphael=B.is:delete Raphael,t},t.st=cn,function(e,n,r){function i(){/in/.test(e.readyState)?setTimeout(i,9):t.eve("raphael.DOMload")}null==e.readyState&&e.addEventListener&&(e.addEventListener(n,r=function(){e.removeEventListener(n,r,!1),e.readyState="complete"},!1),e.readyState="loading"),i()}(document,"DOMContentLoaded"),B.was?S.win.Raphael=t:Raphael=t,eve.on("raphael.DOMload",function(){m=!0})})();window.Raphael.svg&&function(t){var e="hasOwnProperty",r=String,n=parseFloat,i=parseInt,a=Math,s=a.max,o=a.abs,u=a.pow,h=/[, ]+/,l=t.eve,c="",f=" ",d="http://www.w3.org/1999/xlink",p={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},g={};t.toString=function(){return"Your browser supports SVG.\nYou are running RaphaÃ«l "+this.version};var v=function(n,i){if(i){"string"==typeof n&&(n=v(n));for(var a in i)i[e](a)&&("xlink:"==a.substring(0,6)?n.setAttributeNS(d,a.substring(6),r(i[a])):n.setAttribute(a,r(i[a])))}else n=t._g.doc.createElementNS("http://www.w3.org/2000/svg",n),n.style&&(n.style.webkitTapHighlightColor="rgba(0,0,0,0)");return n},x=function(e,i){var h="linear",l=e.id+i,f=.5,d=.5,p=e.node,g=e.paper,x=p.style,y=t._g.doc.getElementById(l);if(!y){if(i=r(i).replace(t._radial_gradient,function(t,e,r){if(h="radial",e&&r){f=n(e),d=n(r);var i=2*(d>.5)-1;u(f-.5,2)+u(d-.5,2)>.25&&(d=a.sqrt(.25-u(f-.5,2))*i+.5)&&.5!=d&&(d=d.toFixed(5)-1e-5*i)}return c}),i=i.split(/\s*\-\s*/),"linear"==h){var m=i.shift();if(m=-n(m),isNaN(m))return null;var b=[0,0,a.cos(t.rad(m)),a.sin(t.rad(m))],_=1/(s(o(b[2]),o(b[3]))||1);b[2]*=_,b[3]*=_,0>b[2]&&(b[0]=-b[2],b[2]=0),0>b[3]&&(b[1]=-b[3],b[3]=0)}var w=t._parseDots(i);if(!w)return null;if(l=l.replace(/[\(\)\s,\xb0#]/g,"_"),e.gradient&&l!=e.gradient.id&&(g.defs.removeChild(e.gradient),delete e.gradient),!e.gradient){y=v(h+"Gradient",{id:l}),e.gradient=y,v(y,"radial"==h?{fx:f,fy:d}:{x1:b[0],y1:b[1],x2:b[2],y2:b[3],gradientTransform:e.matrix.invert()}),g.defs.appendChild(y);for(var k=0,C=w.length;C>k;k++)y.appendChild(v("stop",{offset:w[k].offset?w[k].offset:k?"100%":"0%","stop-color":w[k].color||"#fff"}))}}return v(p,{fill:"url(#"+l+")",opacity:1,"fill-opacity":1}),x.fill=c,x.opacity=1,x.fillOpacity=1,1},y=function(t){var e=t.getBBox(1);v(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},m=function(n,i,a){if("path"==n.type){for(var s,o,u,h,l,f=r(i).toLowerCase().split("-"),d=n.paper,x=a?"end":"start",y=n.node,m=n.attrs,b=m["stroke-width"],_=f.length,w="classic",k=3,C=3,S=5;_--;)switch(f[_]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":w=f[_];break;case"wide":C=5;break;case"narrow":C=2;break;case"long":k=5;break;case"short":k=2}if("open"==w?(k+=2,C+=2,S+=2,u=1,h=a?4:1,l={fill:"none",stroke:m.stroke}):(h=u=k/2,l={fill:m.stroke,stroke:"none"}),n._.arrows?a?(n._.arrows.endPath&&g[n._.arrows.endPath]--,n._.arrows.endMarker&&g[n._.arrows.endMarker]--):(n._.arrows.startPath&&g[n._.arrows.startPath]--,n._.arrows.startMarker&&g[n._.arrows.startMarker]--):n._.arrows={},"none"!=w){var B="raphael-marker-"+w,A="raphael-marker-"+x+w+k+C;t._g.doc.getElementById(B)?g[B]++:(d.defs.appendChild(v(v("path"),{"stroke-linecap":"round",d:p[w],id:B})),g[B]=1);var T,M=t._g.doc.getElementById(A);M?(g[A]++,T=M.getElementsByTagName("use")[0]):(M=v(v("marker"),{id:A,markerHeight:C,markerWidth:k,orient:"auto",refX:h,refY:C/2}),T=v(v("use"),{"xlink:href":"#"+B,transform:(a?"rotate(180 "+k/2+" "+C/2+") ":c)+"scale("+k/S+","+C/S+")","stroke-width":(1/((k/S+C/S)/2)).toFixed(4)}),M.appendChild(T),d.defs.appendChild(M),g[A]=1),v(T,l);var F=u*("diamond"!=w&&"oval"!=w);a?(s=n._.arrows.startdx*b||0,o=t.getTotalLength(m.path)-F*b):(s=F*b,o=t.getTotalLength(m.path)-(n._.arrows.enddx*b||0)),l={},l["marker-"+x]="url(#"+A+")",(o||s)&&(l.d=Raphael.getSubpath(m.path,s,o)),v(y,l),n._.arrows[x+"Path"]=B,n._.arrows[x+"Marker"]=A,n._.arrows[x+"dx"]=F,n._.arrows[x+"Type"]=w,n._.arrows[x+"String"]=i}else a?(s=n._.arrows.startdx*b||0,o=t.getTotalLength(m.path)-s):(s=0,o=t.getTotalLength(m.path)-(n._.arrows.enddx*b||0)),n._.arrows[x+"Path"]&&v(y,{d:Raphael.getSubpath(m.path,s,o)}),delete n._.arrows[x+"Path"],delete n._.arrows[x+"Marker"],delete n._.arrows[x+"dx"],delete n._.arrows[x+"Type"],delete n._.arrows[x+"String"];for(l in g)if(g[e](l)&&!g[l]){var L=t._g.doc.getElementById(l);L&&L.parentNode.removeChild(L)}}},b={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},_=function(t,e,n){if(e=b[r(e).toLowerCase()]){for(var i=t.attrs["stroke-width"]||"1",a={round:i,square:i,butt:0}[t.attrs["stroke-linecap"]||n["stroke-linecap"]]||0,s=[],o=e.length;o--;)s[o]=e[o]*i+(o%2?1:-1)*a;v(t.node,{"stroke-dasharray":s.join(",")})}},w=function(n,a){var u=n.node,l=n.attrs,f=u.style.visibility;u.style.visibility="hidden";for(var p in a)if(a[e](p)){if(!t._availableAttrs[e](p))continue;var g=a[p];switch(l[p]=g,p){case"blur":n.blur(g);break;case"href":case"title":case"target":var b=u.parentNode;if("a"!=b.tagName.toLowerCase()){var w=v("a");b.insertBefore(w,u),w.appendChild(u),b=w}"target"==p?b.setAttributeNS(d,"show","blank"==g?"new":g):b.setAttributeNS(d,p,g);break;case"cursor":u.style.cursor=g;break;case"transform":n.transform(g);break;case"arrow-start":m(n,g);break;case"arrow-end":m(n,g,1);break;case"clip-rect":var k=r(g).split(h);if(4==k.length){n.clip&&n.clip.parentNode.parentNode.removeChild(n.clip.parentNode);var S=v("clipPath"),B=v("rect");S.id=t.createUUID(),v(B,{x:k[0],y:k[1],width:k[2],height:k[3]}),S.appendChild(B),n.paper.defs.appendChild(S),v(u,{"clip-path":"url(#"+S.id+")"}),n.clip=B}if(!g){var A=u.getAttribute("clip-path");if(A){var T=t._g.doc.getElementById(A.replace(/(^url\(#|\)$)/g,c));T&&T.parentNode.removeChild(T),v(u,{"clip-path":c}),delete n.clip}}break;case"path":"path"==n.type&&(v(u,{d:g?l.path=t._pathToAbsolute(g):"M0,0"}),n._.dirty=1,n._.arrows&&("startString"in n._.arrows&&m(n,n._.arrows.startString),"endString"in n._.arrows&&m(n,n._.arrows.endString,1)));break;case"width":if(u.setAttribute(p,g),n._.dirty=1,!l.fx)break;p="x",g=l.x;case"x":l.fx&&(g=-l.x-(l.width||0));case"rx":if("rx"==p&&"rect"==n.type)break;case"cx":u.setAttribute(p,g),n.pattern&&y(n),n._.dirty=1;break;case"height":if(u.setAttribute(p,g),n._.dirty=1,!l.fy)break;p="y",g=l.y;case"y":l.fy&&(g=-l.y-(l.height||0));case"ry":if("ry"==p&&"rect"==n.type)break;case"cy":u.setAttribute(p,g),n.pattern&&y(n),n._.dirty=1;break;case"r":"rect"==n.type?v(u,{rx:g,ry:g}):u.setAttribute(p,g),n._.dirty=1;break;case"src":"image"==n.type&&u.setAttributeNS(d,"href",g);break;case"stroke-width":(1!=n._.sx||1!=n._.sy)&&(g/=s(o(n._.sx),o(n._.sy))||1),n.paper._vbSize&&(g*=n.paper._vbSize),u.setAttribute(p,g),l["stroke-dasharray"]&&_(n,l["stroke-dasharray"],a),n._.arrows&&("startString"in n._.arrows&&m(n,n._.arrows.startString),"endString"in n._.arrows&&m(n,n._.arrows.endString,1));break;case"stroke-dasharray":_(n,g,a);break;case"fill":var M=r(g).match(t._ISURL);if(M){S=v("pattern");var F=v("image");S.id=t.createUUID(),v(S,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),v(F,{x:0,y:0,"xlink:href":M[1]}),S.appendChild(F),function(e){t._preload(M[1],function(){var t=this.offsetWidth,r=this.offsetHeight;v(e,{width:t,height:r}),v(F,{width:t,height:r}),n.paper.safari()})}(S),n.paper.defs.appendChild(S),v(u,{fill:"url(#"+S.id+")"}),n.pattern=S,n.pattern&&y(n);break}var L=t.getRGB(g);if(L.error){if(("circle"==n.type||"ellipse"==n.type||"r"!=r(g).charAt())&&x(n,g)){if("opacity"in l||"fill-opacity"in l){var N=t._g.doc.getElementById(u.getAttribute("fill").replace(/^url\(#|\)$/g,c));if(N){var P=N.getElementsByTagName("stop");v(P[P.length-1],{"stop-opacity":("opacity"in l?l.opacity:1)*("fill-opacity"in l?l["fill-opacity"]:1)})}}l.gradient=g,l.fill="none";break}}else delete a.gradient,delete l.gradient,!t.is(l.opacity,"undefined")&&t.is(a.opacity,"undefined")&&v(u,{opacity:l.opacity}),!t.is(l["fill-opacity"],"undefined")&&t.is(a["fill-opacity"],"undefined")&&v(u,{"fill-opacity":l["fill-opacity"]});L[e]("opacity")&&v(u,{"fill-opacity":L.opacity>1?L.opacity/100:L.opacity});case"stroke":L=t.getRGB(g),u.setAttribute(p,L.hex),"stroke"==p&&L[e]("opacity")&&v(u,{"stroke-opacity":L.opacity>1?L.opacity/100:L.opacity}),"stroke"==p&&n._.arrows&&("startString"in n._.arrows&&m(n,n._.arrows.startString),"endString"in n._.arrows&&m(n,n._.arrows.endString,1));break;case"gradient":("circle"==n.type||"ellipse"==n.type||"r"!=r(g).charAt())&&x(n,g);break;case"opacity":l.gradient&&!l[e]("stroke-opacity")&&v(u,{"stroke-opacity":g>1?g/100:g});case"fill-opacity":if(l.gradient){N=t._g.doc.getElementById(u.getAttribute("fill").replace(/^url\(#|\)$/g,c)),N&&(P=N.getElementsByTagName("stop"),v(P[P.length-1],{"stop-opacity":g}));break}default:"font-size"==p&&(g=i(g,10)+"px");var E=p.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()});u.style[E]=g,n._.dirty=1,u.setAttribute(p,g)}}C(n,a),u.style.visibility=f},k=1.2,C=function(n,a){if("text"==n.type&&(a[e]("text")||a[e]("font")||a[e]("font-size")||a[e]("x")||a[e]("y"))){var s=n.attrs,o=n.node,u=o.firstChild?i(t._g.doc.defaultView.getComputedStyle(o.firstChild,c).getPropertyValue("font-size"),10):10;if(a[e]("text")){for(s.text=a.text;o.firstChild;)o.removeChild(o.firstChild);for(var h,l=r(a.text).split("\n"),f=[],d=0,p=l.length;p>d;d++)h=v("tspan"),d&&v(h,{dy:u*k,x:s.x}),h.appendChild(t._g.doc.createTextNode(l[d])),o.appendChild(h),f[d]=h}else for(f=o.getElementsByTagName("tspan"),d=0,p=f.length;p>d;d++)d?v(f[d],{dy:u*k,x:s.x}):v(f[0],{dy:0});v(o,{x:s.x,y:s.y}),n._.dirty=1;var g=n._getBBox(),x=s.y-(g.y+g.height/2);x&&t.is(x,"finite")&&v(f[0],{dy:x})}},S=function(e,r){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.matrix=t.matrix(),this.realPath=null,this.paper=r,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!r.bottom&&(r.bottom=this),this.prev=r.top,r.top&&(r.top.next=this),r.top=this,this.next=null},B=t.el;S.prototype=B,B.constructor=S,t._engine.path=function(t,e){var r=v("path");e.canvas&&e.canvas.appendChild(r);var n=new S(r,e);return n.type="path",w(n,{fill:"none",stroke:"#000",path:t}),n},B.rotate=function(t,e,i){if(this.removed)return this;if(t=r(t).split(h),t.length-1&&(e=n(t[1]),i=n(t[2])),t=n(t[0]),null==i&&(e=i),null==e||null==i){var a=this.getBBox(1);e=a.x+a.width/2,i=a.y+a.height/2}return this.transform(this._.transform.concat([["r",t,e,i]])),this},B.scale=function(t,e,i,a){if(this.removed)return this;if(t=r(t).split(h),t.length-1&&(e=n(t[1]),i=n(t[2]),a=n(t[3])),t=n(t[0]),null==e&&(e=t),null==a&&(i=a),null==i||null==a)var s=this.getBBox(1);return i=null==i?s.x+s.width/2:i,a=null==a?s.y+s.height/2:a,this.transform(this._.transform.concat([["s",t,e,i,a]])),this},B.translate=function(t,e){return this.removed?this:(t=r(t).split(h),t.length-1&&(e=n(t[1])),t=n(t[0])||0,e=+e||0,this.transform(this._.transform.concat([["t",t,e]])),this)},B.transform=function(r){var n=this._;if(null==r)return n.transform;if(t._extractTransform(this,r),this.clip&&v(this.clip,{transform:this.matrix.invert()}),this.pattern&&y(this),this.node&&v(this.node,{transform:this.matrix}),1!=n.sx||1!=n.sy){var i=this.attrs[e]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":i})}return this},B.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},B.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},B.remove=function(){if(!this.removed&&this.node.parentNode){var e=this.paper;e.__set__&&e.__set__.exclude(this),l.unbind("raphael.*.*."+this.id),this.gradient&&e.defs.removeChild(this.gradient),t._tear(this,e),"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(var r in this)this[r]="function"==typeof this[r]?t._removedFactory(r):null;this.removed=!0}},B._getBBox=function(){if("none"==this.node.style.display){this.show();var t=!0}var e={};try{e=this.node.getBBox()}catch(r){}finally{e=e||{}}return t&&this.hide(),e},B.attr=function(r,n){if(this.removed)return this;if(null==r){var i={};for(var a in this.attrs)this.attrs[e](a)&&(i[a]=this.attrs[a]);return i.gradient&&"none"==i.fill&&(i.fill=i.gradient)&&delete i.gradient,i.transform=this._.transform,i}if(null==n&&t.is(r,"string")){if("fill"==r&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==r)return this._.transform;for(var s=r.split(h),o={},u=0,c=s.length;c>u;u++)r=s[u],o[r]=r in this.attrs?this.attrs[r]:t.is(this.paper.customAttributes[r],"function")?this.paper.customAttributes[r].def:t._availableAttrs[r];return c-1?o:o[s[0]]}if(null==n&&t.is(r,"array")){for(o={},u=0,c=r.length;c>u;u++)o[r[u]]=this.attr(r[u]);return o}if(null!=n){var f={};f[r]=n}else null!=r&&t.is(r,"object")&&(f=r);for(var d in f)l("raphael.attr."+d+"."+this.id,this,f[d]);for(d in this.paper.customAttributes)if(this.paper.customAttributes[e](d)&&f[e](d)&&t.is(this.paper.customAttributes[d],"function")){var p=this.paper.customAttributes[d].apply(this,[].concat(f[d]));this.attrs[d]=f[d];for(var g in p)p[e](g)&&(f[g]=p[g])}return w(this,f),this},B.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var e=this.paper;return e.top!=this&&t._tofront(this,e),this},B.toBack=function(){if(this.removed)return this;var e=this.node.parentNode;return"a"==e.tagName.toLowerCase()?e.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):e.firstChild!=this.node&&e.insertBefore(this.node,this.node.parentNode.firstChild),t._toback(this,this.paper),this.paper,this},B.insertAfter=function(e){if(this.removed)return this;var r=e.node||e[e.length-1].node;return r.nextSibling?r.parentNode.insertBefore(this.node,r.nextSibling):r.parentNode.appendChild(this.node),t._insertafter(this,e,this.paper),this},B.insertBefore=function(e){if(this.removed)return this;var r=e.node||e[0].node;return r.parentNode.insertBefore(this.node,r),t._insertbefore(this,e,this.paper),this},B.blur=function(e){var r=this;if(0!==+e){var n=v("filter"),i=v("feGaussianBlur");r.attrs.blur=e,n.id=t.createUUID(),v(i,{stdDeviation:+e||1.5}),n.appendChild(i),r.paper.defs.appendChild(n),r._blur=n,v(r.node,{filter:"url(#"+n.id+")"})}else r._blur&&(r._blur.parentNode.removeChild(r._blur),delete r._blur,delete r.attrs.blur),r.node.removeAttribute("filter")},t._engine.circle=function(t,e,r,n){var i=v("circle");t.canvas&&t.canvas.appendChild(i);var a=new S(i,t);return a.attrs={cx:e,cy:r,r:n,fill:"none",stroke:"#000"},a.type="circle",v(i,a.attrs),a},t._engine.rect=function(t,e,r,n,i,a){var s=v("rect");t.canvas&&t.canvas.appendChild(s);var o=new S(s,t);return o.attrs={x:e,y:r,width:n,height:i,r:a||0,rx:a||0,ry:a||0,fill:"none",stroke:"#000"},o.type="rect",v(s,o.attrs),o},t._engine.ellipse=function(t,e,r,n,i){var a=v("ellipse");t.canvas&&t.canvas.appendChild(a);var s=new S(a,t);return s.attrs={cx:e,cy:r,rx:n,ry:i,fill:"none",stroke:"#000"},s.type="ellipse",v(a,s.attrs),s},t._engine.image=function(t,e,r,n,i,a){var s=v("image");v(s,{x:r,y:n,width:i,height:a,preserveAspectRatio:"none"}),s.setAttributeNS(d,"href",e),t.canvas&&t.canvas.appendChild(s);var o=new S(s,t);return o.attrs={x:r,y:n,width:i,height:a,src:e},o.type="image",o},t._engine.text=function(e,r,n,i){var a=v("text");e.canvas&&e.canvas.appendChild(a);var s=new S(a,e);return s.attrs={x:r,y:n,"text-anchor":"middle",text:i,font:t._availableAttrs.font,stroke:"none",fill:"#000"},s.type="text",w(s,s.attrs),s},t._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},t._engine.create=function(){var e=t._getContainer.apply(0,arguments),r=e&&e.container,n=e.x,i=e.y,a=e.width,s=e.height;if(!r)throw Error("SVG container not found.");var o,u=v("svg"),h="overflow:hidden;";return n=n||0,i=i||0,a=a||512,s=s||342,v(u,{height:s,version:1.1,width:a,xmlns:"http://www.w3.org/2000/svg"}),1==r?(u.style.cssText=h+"position:absolute;left:"+n+"px;top:"+i+"px",t._g.doc.body.appendChild(u),o=1):(u.style.cssText=h+"position:relative",r.firstChild?r.insertBefore(u,r.firstChild):r.appendChild(u)),r=new t._Paper,r.width=a,r.height=s,r.canvas=u,r.clear(),r._left=r._top=0,o&&(r.renderfix=function(){}),r.renderfix(),r},t._engine.setViewBox=function(t,e,r,n,i){l("raphael.setViewBox",this,this._viewBox,[t,e,r,n,i]);var a,o,u=s(r/this.width,n/this.height),h=this.top,c=i?"meet":"xMinYMin";for(null==t?(this._vbSize&&(u=1),delete this._vbSize,a="0 0 "+this.width+f+this.height):(this._vbSize=u,a=t+f+e+f+r+f+n),v(this.canvas,{viewBox:a,preserveAspectRatio:c});u&&h;)o="stroke-width"in h.attrs?h.attrs["stroke-width"]:1,h.attr({"stroke-width":o}),h._.dirty=1,h._.dirtyT=1,h=h.prev;return this._viewBox=[t,e,r,n,!!i],this},t.prototype.renderfix=function(){var t,e=this.canvas,r=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(n){t=e.createSVGMatrix()}var i=-t.e%1,a=-t.f%1;(i||a)&&(i&&(this._left=(this._left+i)%1,r.left=this._left+"px"),a&&(this._top=(this._top+a)%1,r.top=this._top+"px"))},t.prototype.clear=function(){t.eve("raphael.clear",this);for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=v("desc")).appendChild(t._g.doc.createTextNode("Created with RaphaÃ«l "+t.version)),e.appendChild(this.desc),e.appendChild(this.defs=v("defs"))},t.prototype.remove=function(){l("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null};var A=t.st;for(var T in B)B[e](T)&&!A[e](T)&&(A[T]=function(t){return function(){var e=arguments;return this.forEach(function(r){r[t].apply(r,e)})}}(T))}(window.Raphael);window.Raphael.vml&&function(t){var e="hasOwnProperty",r=String,i=parseFloat,n=Math,a=n.round,s=n.max,o=n.min,l=n.abs,h="fill",u=/[, ]+/,c=t.eve,f=" progid:DXImageTransform.Microsoft",p=" ",d="",g={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},v=/([clmz]),?([^clmz]*)/gi,x=/ progid:\S+Blur\([^\)]+\)/g,y=/-?[^,\s-]+/g,m="position:absolute;left:0;top:0;width:1px;height:1px",b=21600,_={path:1,rect:1,image:1},w={circle:1,ellipse:1},k=function(e){var i=/[ahqstv]/gi,n=t._pathToAbsolute;if(r(e).match(i)&&(n=t._path2curve),i=/[clmz]/g,n==t._pathToAbsolute&&!r(e).match(i)){var s=r(e).replace(v,function(t,e,r){var i=[],n="m"==e.toLowerCase(),s=g[e];return r.replace(y,function(t){n&&2==i.length&&(s+=i+g["m"==e?"l":"L"],i=[]),i.push(a(t*b))}),s+i});return s}var o,l,h=n(e);s=[];for(var u=0,c=h.length;c>u;u++){o=h[u],l=h[u][0].toLowerCase(),"z"==l&&(l="x");for(var f=1,x=o.length;x>f;f++)l+=a(o[f]*b)+(f!=x-1?",":d);s.push(l)}return s.join(p)},C=function(e,r,i){var n=t.matrix();return n.rotate(-e,.5,.5),{dx:n.x(r,i),dy:n.y(r,i)}},B=function(t,e,r,i,n,a){var s=t._,o=t.matrix,u=s.fillpos,c=t.node,f=c.style,d=1,g="",v=b/e,x=b/r;if(f.visibility="hidden",e&&r){if(c.coordsize=l(v)+p+l(x),f.rotation=a*(0>e*r?-1:1),a){var y=C(a,i,n);i=y.dx,n=y.dy}if(0>e&&(g+="x"),0>r&&(g+=" y")&&(d=-1),f.flip=g,c.coordorigin=i*-v+p+n*-x,u||s.fillsize){var m=c.getElementsByTagName(h);m=m&&m[0],c.removeChild(m),u&&(y=C(a,o.x(u[0],u[1]),o.y(u[0],u[1])),m.position=y.dx*d+p+y.dy*d),s.fillsize&&(m.size=s.fillsize[0]*l(e)+p+s.fillsize[1]*l(r)),c.appendChild(m)}f.visibility="visible"}};t.toString=function(){return"Your browser doesnâ€™t support SVG. Falling down to VML.\nYou are running RaphaÃ«l "+this.version};var S=function(t,e,i){for(var n=r(e).toLowerCase().split("-"),a=i?"end":"start",s=n.length,o="classic",l="medium",h="medium";s--;)switch(n[s]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":o=n[s];break;case"wide":case"narrow":h=n[s];break;case"long":case"short":l=n[s]}var u=t.node.getElementsByTagName("stroke")[0];u[a+"arrow"]=o,u[a+"arrowlength"]=l,u[a+"arrowwidth"]=h},A=function(n,l){n.attrs=n.attrs||{};var c=n.node,f=n.attrs,g=c.style,v=_[n.type]&&(l.x!=f.x||l.y!=f.y||l.width!=f.width||l.height!=f.height||l.cx!=f.cx||l.cy!=f.cy||l.rx!=f.rx||l.ry!=f.ry||l.r!=f.r),x=w[n.type]&&(f.cx!=l.cx||f.cy!=l.cy||f.r!=l.r||f.rx!=l.rx||f.ry!=l.ry),y=n;for(var m in l)l[e](m)&&(f[m]=l[m]);if(v&&(f.path=t._getPath[n.type](n),n._.dirty=1),l.href&&(c.href=l.href),l.title&&(c.title=l.title),l.target&&(c.target=l.target),l.cursor&&(g.cursor=l.cursor),"blur"in l&&n.blur(l.blur),(l.path&&"path"==n.type||v)&&(c.path=k(~r(f.path).toLowerCase().indexOf("r")?t._pathToAbsolute(f.path):f.path),"image"==n.type&&(n._.fillpos=[f.x,f.y],n._.fillsize=[f.width,f.height],B(n,1,1,0,0,0))),"transform"in l&&n.transform(l.transform),x){var C=+f.cx,A=+f.cy,N=+f.rx||+f.r||0,L=+f.ry||+f.r||0;c.path=t.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",a((C-N)*b),a((A-L)*b),a((C+N)*b),a((A+L)*b),a(C*b))}if("clip-rect"in l){var E=r(l["clip-rect"]).split(u);if(4==E.length){E[2]=+E[2]+ +E[0],E[3]=+E[3]+ +E[1];var z=c.clipRect||t._g.doc.createElement("div"),F=z.style;F.clip=t.format("rect({1}px {2}px {3}px {0}px)",E),c.clipRect||(F.position="absolute",F.top=0,F.left=0,F.width=n.paper.width+"px",F.height=n.paper.height+"px",c.parentNode.insertBefore(z,c),z.appendChild(c),c.clipRect=z)}l["clip-rect"]||c.clipRect&&(c.clipRect.style.clip="auto")}if(n.textpath){var P=n.textpath.style;l.font&&(P.font=l.font),l["font-family"]&&(P.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,d)+'"'),l["font-size"]&&(P.fontSize=l["font-size"]),l["font-weight"]&&(P.fontWeight=l["font-weight"]),l["font-style"]&&(P.fontStyle=l["font-style"])}if("arrow-start"in l&&S(y,l["arrow-start"]),"arrow-end"in l&&S(y,l["arrow-end"],1),null!=l.opacity||null!=l["stroke-width"]||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var R=c.getElementsByTagName(h),I=!1;if(R=R&&R[0],!R&&(I=R=M(h)),"image"==n.type&&l.src&&(R.src=l.src),l.fill&&(R.on=!0),(null==R.on||"none"==l.fill||null===l.fill)&&(R.on=!1),R.on&&l.fill){var j=r(l.fill).match(t._ISURL);if(j){R.parentNode==c&&c.removeChild(R),R.rotate=!0,R.src=j[1],R.type="tile";var q=n.getBBox(1);R.position=q.x+p+q.y,n._.fillpos=[q.x,q.y],t._preload(j[1],function(){n._.fillsize=[this.offsetWidth,this.offsetHeight]})}else R.color=t.getRGB(l.fill).hex,R.src=d,R.type="solid",t.getRGB(l.fill).error&&(y.type in{circle:1,ellipse:1}||"r"!=r(l.fill).charAt())&&T(y,l.fill,R)&&(f.fill="none",f.gradient=l.fill,R.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var D=((+f["fill-opacity"]+1||2)-1)*((+f.opacity+1||2)-1)*((+t.getRGB(l.fill).o+1||2)-1);D=o(s(D,0),1),R.opacity=D,R.src&&(R.color="none")}c.appendChild(R);var O=c.getElementsByTagName("stroke")&&c.getElementsByTagName("stroke")[0],V=!1;!O&&(V=O=M("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(O.on=!0),("none"==l.stroke||null===l.stroke||null==O.on||0==l.stroke||0==l["stroke-width"])&&(O.on=!1);var Y=t.getRGB(l.stroke);O.on&&l.stroke&&(O.color=Y.hex),D=((+f["stroke-opacity"]+1||2)-1)*((+f.opacity+1||2)-1)*((+Y.o+1||2)-1);var G=.75*(i(l["stroke-width"])||1);if(D=o(s(D,0),1),null==l["stroke-width"]&&(G=f["stroke-width"]),l["stroke-width"]&&(O.weight=G),G&&1>G&&(D*=G)&&(O.weight=1),O.opacity=D,l["stroke-linejoin"]&&(O.joinstyle=l["stroke-linejoin"]||"miter"),O.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(O.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),l["stroke-dasharray"]){var W={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};O.dashstyle=W[e](l["stroke-dasharray"])?W[l["stroke-dasharray"]]:d}V&&c.appendChild(O)}if("text"==y.type){y.paper.canvas.style.display=d;var X=y.paper.span,H=100,U=f.font&&f.font.match(/\d+(?:\.\d*)?(?=px)/);g=X.style,f.font&&(g.font=f.font),f["font-family"]&&(g.fontFamily=f["font-family"]),f["font-weight"]&&(g.fontWeight=f["font-weight"]),f["font-style"]&&(g.fontStyle=f["font-style"]),U=i(f["font-size"]||U&&U[0])||10,g.fontSize=U*H+"px",y.textpath.string&&(X.innerHTML=r(y.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var $=X.getBoundingClientRect();y.W=f.w=($.right-$.left)/H,y.H=f.h=($.bottom-$.top)/H,y.X=f.x,y.Y=f.y+y.H/2,("x"in l||"y"in l)&&(y.path.v=t.format("m{0},{1}l{2},{1}",a(f.x*b),a(f.y*b),a(f.x*b)+1));for(var Z=["x","y","text","font","font-family","font-weight","font-style","font-size"],Q=0,J=Z.length;J>Q;Q++)if(Z[Q]in l){y._.dirty=1;break}switch(f["text-anchor"]){case"start":y.textpath.style["v-text-align"]="left",y.bbx=y.W/2;break;case"end":y.textpath.style["v-text-align"]="right",y.bbx=-y.W/2;break;default:y.textpath.style["v-text-align"]="center",y.bbx=0}y.textpath.style["v-text-kern"]=!0}},T=function(e,a,s){e.attrs=e.attrs||{};var o=(e.attrs,Math.pow),l="linear",h=".5 .5";if(e.attrs.gradient=a,a=r(a).replace(t._radial_gradient,function(t,e,r){return l="radial",e&&r&&(e=i(e),r=i(r),o(e-.5,2)+o(r-.5,2)>.25&&(r=n.sqrt(.25-o(e-.5,2))*(2*(r>.5)-1)+.5),h=e+p+r),d}),a=a.split(/\s*\-\s*/),"linear"==l){var u=a.shift();if(u=-i(u),isNaN(u))return null}var c=t._parseDots(a);if(!c)return null;if(e=e.shape||e.node,c.length){e.removeChild(s),s.on=!0,s.method="none",s.color=c[0].color,s.color2=c[c.length-1].color;for(var f=[],g=0,v=c.length;v>g;g++)c[g].offset&&f.push(c[g].offset+p+c[g].color);s.colors=f.length?f.join():"0% "+s.color,"radial"==l?(s.type="gradientTitle",s.focus="100%",s.focussize="0 0",s.focusposition=h,s.angle=0):(s.type="gradient",s.angle=(270-u)%360),e.appendChild(s)}return 1},N=function(e,r){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=r,this.matrix=t.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!r.bottom&&(r.bottom=this),this.prev=r.top,r.top&&(r.top.next=this),r.top=this,this.next=null},L=t.el;N.prototype=L,L.constructor=N,L.transform=function(e){if(null==e)return this._.transform;var i,n=this.paper._viewBoxShift,a=n?"s"+[n.scale,n.scale]+"-1-1t"+[n.dx,n.dy]:d;n&&(i=e=r(e).replace(/\.{3}|\u2026/g,this._.transform||d)),t._extractTransform(this,a+e);var s,o=this.matrix.clone(),l=this.skew,h=this.node,u=~r(this.attrs.fill).indexOf("-"),c=!r(this.attrs.fill).indexOf("url(");if(o.translate(-.5,-.5),c||u||"image"==this.type)if(l.matrix="1 0 0 1",l.offset="0 0",s=o.split(),u&&s.noRotation||!s.isSimple){h.style.filter=o.toFilter();var f=this.getBBox(),g=this.getBBox(1),v=f.x-g.x,x=f.y-g.y;h.coordorigin=v*-b+p+x*-b,B(this,1,1,v,x,0)}else h.style.filter=d,B(this,s.scalex,s.scaley,s.dx,s.dy,s.rotate);else h.style.filter=d,l.matrix=r(o),l.offset=o.offset();return i&&(this._.transform=i),this},L.rotate=function(t,e,n){if(this.removed)return this;if(null!=t){if(t=r(t).split(u),t.length-1&&(e=i(t[1]),n=i(t[2])),t=i(t[0]),null==n&&(e=n),null==e||null==n){var a=this.getBBox(1);e=a.x+a.width/2,n=a.y+a.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,e,n]])),this}},L.translate=function(t,e){return this.removed?this:(t=r(t).split(u),t.length-1&&(e=i(t[1])),t=i(t[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",t,e]])),this)},L.scale=function(t,e,n,a){if(this.removed)return this;if(t=r(t).split(u),t.length-1&&(e=i(t[1]),n=i(t[2]),a=i(t[3]),isNaN(n)&&(n=null),isNaN(a)&&(a=null)),t=i(t[0]),null==e&&(e=t),null==a&&(n=a),null==n||null==a)var s=this.getBBox(1);return n=null==n?s.x+s.width/2:n,a=null==a?s.y+s.height/2:a,this.transform(this._.transform.concat([["s",t,e,n,a]])),this._.dirtyT=1,this},L.hide=function(){return!this.removed&&(this.node.style.display="none"),this},L.show=function(){return!this.removed&&(this.node.style.display=d),this},L._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},L.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),t.eve.unbind("raphael.*.*."+this.id),t._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;this.removed=!0}},L.attr=function(r,i){if(this.removed)return this;if(null==r){var n={};for(var a in this.attrs)this.attrs[e](a)&&(n[a]=this.attrs[a]);return n.gradient&&"none"==n.fill&&(n.fill=n.gradient)&&delete n.gradient,n.transform=this._.transform,n}if(null==i&&t.is(r,"string")){if(r==h&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var s=r.split(u),o={},l=0,f=s.length;f>l;l++)r=s[l],o[r]=r in this.attrs?this.attrs[r]:t.is(this.paper.customAttributes[r],"function")?this.paper.customAttributes[r].def:t._availableAttrs[r];return f-1?o:o[s[0]]}if(this.attrs&&null==i&&t.is(r,"array")){for(o={},l=0,f=r.length;f>l;l++)o[r[l]]=this.attr(r[l]);return o}var p;null!=i&&(p={},p[r]=i),null==i&&t.is(r,"object")&&(p=r);for(var d in p)c("raphael.attr."+d+"."+this.id,this,p[d]);if(p){for(d in this.paper.customAttributes)if(this.paper.customAttributes[e](d)&&p[e](d)&&t.is(this.paper.customAttributes[d],"function")){var g=this.paper.customAttributes[d].apply(this,[].concat(p[d]));this.attrs[d]=p[d];for(var v in g)g[e](v)&&(p[v]=g[v])}p.text&&"text"==this.type&&(this.textpath.string=p.text),A(this,p)}return this},L.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&t._tofront(this,this.paper),this},L.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),t._toback(this,this.paper)),this)},L.insertAfter=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[e.length-1]),e.node.nextSibling?e.node.parentNode.insertBefore(this.node,e.node.nextSibling):e.node.parentNode.appendChild(this.node),t._insertafter(this,e,this.paper),this)},L.insertBefore=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[0]),e.node.parentNode.insertBefore(this.node,e.node),t._insertbefore(this,e,this.paper),this)},L.blur=function(e){var r=this.node.runtimeStyle,i=r.filter;i=i.replace(x,d),0!==+e?(this.attrs.blur=e,r.filter=i+p+f+".Blur(pixelradius="+(+e||1.5)+")",r.margin=t.format("-{0}px 0 0 -{0}px",a(+e||1.5))):(r.filter=i,r.margin=0,delete this.attrs.blur)},t._engine.path=function(t,e){var r=M("shape");r.style.cssText=m,r.coordsize=b+p+b,r.coordorigin=e.coordorigin;var i=new N(r,e),n={fill:"none",stroke:"#000"};t&&(n.path=t),i.type="path",i.path=[],i.Path=d,A(i,n),e.canvas.appendChild(r);var a=M("skew");return a.on=!0,r.appendChild(a),i.skew=a,i.transform(d),i},t._engine.rect=function(e,r,i,n,a,s){var o=t._rectPath(r,i,n,a,s),l=e.path(o),h=l.attrs;return l.X=h.x=r,l.Y=h.y=i,l.W=h.width=n,l.H=h.height=a,h.r=s,h.path=o,l.type="rect",l},t._engine.ellipse=function(t,e,r,i,n){var a=t.path();return a.attrs,a.X=e-i,a.Y=r-n,a.W=2*i,a.H=2*n,a.type="ellipse",A(a,{cx:e,cy:r,rx:i,ry:n}),a},t._engine.circle=function(t,e,r,i){var n=t.path();return n.attrs,n.X=e-i,n.Y=r-i,n.W=n.H=2*i,n.type="circle",A(n,{cx:e,cy:r,r:i}),n},t._engine.image=function(e,r,i,n,a,s){var o=t._rectPath(i,n,a,s),l=e.path(o).attr({stroke:"none"}),u=l.attrs,c=l.node,f=c.getElementsByTagName(h)[0];return u.src=r,l.X=u.x=i,l.Y=u.y=n,l.W=u.width=a,l.H=u.height=s,u.path=o,l.type="image",f.parentNode==c&&c.removeChild(f),f.rotate=!0,f.src=r,f.type="tile",l._.fillpos=[i,n],l._.fillsize=[a,s],c.appendChild(f),B(l,1,1,0,0,0),l},t._engine.text=function(e,i,n,s){var o=M("shape"),l=M("path"),h=M("textpath");i=i||0,n=n||0,s=s||"",l.v=t.format("m{0},{1}l{2},{1}",a(i*b),a(n*b),a(i*b)+1),l.textpathok=!0,h.string=r(s),h.on=!0,o.style.cssText=m,o.coordsize=b+p+b,o.coordorigin="0 0";var u=new N(o,e),c={fill:"#000",stroke:"none",font:t._availableAttrs.font,text:s};u.shape=o,u.path=l,u.textpath=h,u.type="text",u.attrs.text=r(s),u.attrs.x=i,u.attrs.y=n,u.attrs.w=1,u.attrs.h=1,A(u,c),o.appendChild(h),o.appendChild(l),e.canvas.appendChild(o);var f=M("skew");return f.on=!0,o.appendChild(f),u.skew=f,u.transform(d),u},t._engine.setSize=function(e,r){var i=this.canvas.style;return this.width=e,this.height=r,e==+e&&(e+="px"),r==+r&&(r+="px"),i.width=e,i.height=r,i.clip="rect(0 "+e+" "+r+" 0)",this._viewBox&&t._engine.setViewBox.apply(this,this._viewBox),this},t._engine.setViewBox=function(e,r,i,n,a){t.eve("raphael.setViewBox",this,this._viewBox,[e,r,i,n,a]);var o,l,h=this.width,u=this.height,c=1/s(i/h,n/u);return a&&(o=u/n,l=h/i,h>i*o&&(e-=(h-i*o)/2/o),u>n*l&&(r-=(u-n*l)/2/l)),this._viewBox=[e,r,i,n,!!a],this._viewBoxShift={dx:-e,dy:-r,scale:c},this.forEach(function(t){t.transform("...")}),this};var M;t._engine.initWin=function(t){var e=t.document;e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),M=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(r){M=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},t._engine.initWin(t._g.win),t._engine.create=function(){var e=t._getContainer.apply(0,arguments),r=e.container,i=e.height,n=e.width,a=e.x,s=e.y;if(!r)throw Error("VML container not found.");var o=new t._Paper,l=o.canvas=t._g.doc.createElement("div"),h=l.style;return a=a||0,s=s||0,n=n||512,i=i||342,o.width=n,o.height=i,n==+n&&(n+="px"),i==+i&&(i+="px"),o.coordsize=1e3*b+p+1e3*b,o.coordorigin="0 0",o.span=t._g.doc.createElement("span"),o.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(o.span),h.cssText=t.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",n,i),1==r?(t._g.doc.body.appendChild(l),h.left=a+"px",h.top=s+"px",h.position="absolute"):r.firstChild?r.insertBefore(l,r.firstChild):r.appendChild(l),o.renderfix=function(){},o},t.prototype.clear=function(){t.eve("raphael.clear",this),this.canvas.innerHTML=d,this.span=t._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},t.prototype.remove=function(){t.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;return!0};var E=t.st;for(var z in L)L[e](z)&&!E[e](z)&&(E[z]=function(t){return function(){var e=arguments;return this.forEach(function(r){r[t].apply(r,e)})}}(z))}(window.Raphael);

// FILE: jwplayer.js (fa259275) 3/7/2014 11:24:12 AM

if(typeof jwplayer=="undefined"){var jwplayer=function(a){if(jwplayer.api){return jwplayer.api.selectPlayer(a)}};var $jw=jwplayer;jwplayer.version="5.10.2295 (Licensed version)";jwplayer.vid=document.createElement("video");jwplayer.audio=document.createElement("audio");jwplayer.source=document.createElement("source");(function(b){b.utils=function(){};b.utils.typeOf=function(d){var c=typeof d;if(c==="object"){if(d){if(d instanceof Array){c="array"}}else{c="null"}}return c};b.utils.extend=function(){var c=b.utils.extend["arguments"];if(c.length>1){for(var e=1;e<c.length;e++){for(var d in c[e]){c[0][d]=c[e][d]}}return c[0]}return null};b.utils.clone=function(f){var c;var d=b.utils.clone["arguments"];if(d.length==1){switch(b.utils.typeOf(d[0])){case"object":c={};for(var e in d[0]){c[e]=b.utils.clone(d[0][e])}break;case"array":c=[];for(var e in d[0]){c[e]=b.utils.clone(d[0][e])}break;default:return d[0];break}}return c};b.utils.extension=function(c){if(!c){return""}c=c.substring(c.lastIndexOf("/")+1,c.length);c=c.split("?")[0];if(c.lastIndexOf(".")>-1){return c.substr(c.lastIndexOf(".")+1,c.length).toLowerCase()}return};b.utils.html=function(c,d){c.innerHTML=d};b.utils.wrap=function(c,d){if(c.parentNode){c.parentNode.replaceChild(d,c)}d.appendChild(c)};b.utils.ajax=function(g,f,c){var e;if(window.XMLHttpRequest){e=new XMLHttpRequest()}else{e=new ActiveXObject("Microsoft.XMLHTTP")}e.onreadystatechange=function(){if(e.readyState===4){if(e.status===200){if(f){if(!b.utils.exists(e.responseXML)){try{if(window.DOMParser){var h=(new DOMParser()).parseFromString(e.responseText,"text/xml");if(h){e=b.utils.extend({},e,{responseXML:h})}}else{h=new ActiveXObject("Microsoft.XMLDOM");h.async="false";h.loadXML(e.responseText);e=b.utils.extend({},e,{responseXML:h})}}catch(j){if(c){c(g)}}}f(e)}}else{if(c){c(g)}}}};try{e.open("GET",g,true);e.send(null)}catch(d){if(c){c(g)}}return e};b.utils.load=function(d,e,c){d.onreadystatechange=function(){if(d.readyState===4){if(d.status===200){if(e){e()}}else{if(c){c()}}}}};b.utils.find=function(d,c){return d.getElementsByTagName(c)};b.utils.append=function(c,d){c.appendChild(d)};b.utils.isIE=function(){return((!+"\v1")||(typeof window.ActiveXObject!="undefined"))};b.utils.userAgentMatch=function(d){var c=navigator.userAgent.toLowerCase();return(c.match(d)!==null)};b.utils.isIOS=function(){return b.utils.userAgentMatch(/iP(hone|ad|od)/i)};b.utils.isIPad=function(){return b.utils.userAgentMatch(/iPad/i)};b.utils.isIPod=function(){return b.utils.userAgentMatch(/iP(hone|od)/i)};b.utils.isAndroid=function(){return b.utils.userAgentMatch(/android/i)};b.utils.isLegacyAndroid=function(){return b.utils.userAgentMatch(/android 2.[012]/i)};b.utils.isBlackberry=function(){return b.utils.userAgentMatch(/blackberry/i)};b.utils.isMobile=function(){return b.utils.userAgentMatch(/(iP(hone|ad|od))|android/i)};b.utils.getFirstPlaylistItemFromConfig=function(c){var d={};var e;if(c.playlist&&c.playlist.length){e=c.playlist[0]}else{e=c}d.file=e.file;d.levels=e.levels;d.streamer=e.streamer;d.playlistfile=e.playlistfile;d.provider=e.provider;if(!d.provider){if(d.file&&(d.file.toLowerCase().indexOf("youtube.com")>-1||d.file.toLowerCase().indexOf("youtu.be")>-1)){d.provider="youtube"}if(d.streamer&&d.streamer.toLowerCase().indexOf("rtmp://")==0){d.provider="rtmp"}if(e.type){d.provider=e.type.toLowerCase()}}if(d.provider=="audio"){d.provider="sound"}return d};b.utils.getOuterHTML=function(c){if(c.outerHTML){return c.outerHTML}else{try{return new XMLSerializer().serializeToString(c)}catch(d){return""}}};b.utils.setOuterHTML=function(f,e){if(f.outerHTML){f.outerHTML=e}else{var g=document.createElement("div");g.innerHTML=e;var c=document.createRange();c.selectNodeContents(g);var d=c.extractContents();f.parentNode.insertBefore(d,f);f.parentNode.removeChild(f)}};b.utils.hasFlash=function(){if(typeof navigator.plugins!="undefined"&&typeof navigator.plugins["Shockwave Flash"]!="undefined"){return true}if(typeof window.ActiveXObject!="undefined"){try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash");return true}catch(c){}}return false};b.utils.getPluginName=function(c){if(c.lastIndexOf("/")>=0){c=c.substring(c.lastIndexOf("/")+1,c.length)}if(c.lastIndexOf("-")>=0){c=c.substring(0,c.lastIndexOf("-"))}if(c.lastIndexOf(".swf")>=0){c=c.substring(0,c.lastIndexOf(".swf"))}if(c.lastIndexOf(".js")>=0){c=c.substring(0,c.lastIndexOf(".js"))}return c};b.utils.getPluginVersion=function(c){if(c.lastIndexOf("-")>=0){if(c.lastIndexOf(".js")>=0){return c.substring(c.lastIndexOf("-")+1,c.lastIndexOf(".js"))}else{if(c.lastIndexOf(".swf")>=0){return c.substring(c.lastIndexOf("-")+1,c.lastIndexOf(".swf"))}else{return c.substring(c.lastIndexOf("-")+1)}}}return""};b.utils.getAbsolutePath=function(j,h){if(!b.utils.exists(h)){h=document.location.href}if(!b.utils.exists(j)){return undefined}if(a(j)){return j}var k=h.substring(0,h.indexOf("://")+3);var g=h.substring(k.length,h.indexOf("/",k.length+1));var d;if(j.indexOf("/")===0){d=j.split("/")}else{var e=h.split("?")[0];e=e.substring(k.length+g.length+1,e.lastIndexOf("/"));d=e.split("/").concat(j.split("/"))}var c=[];for(var f=0;f<d.length;f++){if(!d[f]||!b.utils.exists(d[f])||d[f]=="."){continue}else{if(d[f]==".."){c.pop()}else{c.push(d[f])}}}return k+g+"/"+c.join("/")};function a(d){if(!b.utils.exists(d)){return}var e=d.indexOf("://");var c=d.indexOf("?");return(e>0&&(c<0||(c>e)))}b.utils.pluginPathType={ABSOLUTE:"ABSOLUTE",RELATIVE:"RELATIVE",CDN:"CDN"};b.utils.getPluginPathType=function(d){if(typeof d!="string"){return}d=d.split("?")[0];var e=d.indexOf("://");if(e>0){return b.utils.pluginPathType.ABSOLUTE}var c=d.indexOf("/");var f=b.utils.extension(d);if(e<0&&c<0&&(!f||!isNaN(f))){return b.utils.pluginPathType.CDN}return b.utils.pluginPathType.RELATIVE};b.utils.mapEmpty=function(c){for(var d in c){return false}return true};b.utils.mapLength=function(d){var c=0;for(var e in d){c++}return c};b.utils.log=function(d,c){if(typeof console!="undefined"&&typeof console.log!="undefined"){if(c){console.log(d,c)}else{console.log(d)}}};b.utils.css=function(d,g,c){if(b.utils.exists(d)){for(var e in g){try{if(typeof g[e]==="undefined"){continue}else{if(typeof g[e]=="number"&&!(e=="zIndex"||e=="opacity")){if(isNaN(g[e])){continue}if(e.match(/color/i)){g[e]="#"+b.utils.strings.pad(g[e].toString(16),6)}else{g[e]=Math.ceil(g[e])+"px"}}}d.style[e]=g[e]}catch(f){}}}};b.utils.isYouTube=function(c){return(c.indexOf("youtube.com")>-1||c.indexOf("youtu.be")>-1)};b.utils.transform=function(e,d,c,g,h){if(!b.utils.exists(d)){d=1}if(!b.utils.exists(c)){c=1}if(!b.utils.exists(g)){g=0}if(!b.utils.exists(h)){h=0}if(d==1&&c==1&&g==0&&h==0){e.style.webkitTransform="";e.style.MozTransform="";e.style.OTransform=""}else{var f="scale("+d+","+c+") translate("+g+"px,"+h+"px)";e.style.webkitTransform=f;e.style.MozTransform=f;e.style.OTransform=f}};b.utils.stretch=function(k,q,p,g,n,h){if(typeof p=="undefined"||typeof g=="undefined"||typeof n=="undefined"||typeof h=="undefined"){return}var d=p/n;var f=g/h;var m=0;var l=0;var e=false;var c={};if(q.parentElement){q.parentElement.style.overflow="hidden"}b.utils.transform(q);switch(k.toUpperCase()){case b.utils.stretching.NONE:c.width=n;c.height=h;c.top=(g-c.height)/2;c.left=(p-c.width)/2;break;case b.utils.stretching.UNIFORM:if(d>f){c.width=n*f;c.height=h*f;if(c.width/p>0.95){e=true;d=Math.ceil(100*p/c.width)/100;f=1;c.width=p}}else{c.width=n*d;c.height=h*d;if(c.height/g>0.95){e=true;d=1;f=Math.ceil(100*g/c.height)/100;c.height=g}}c.top=(g-c.height)/2;c.left=(p-c.width)/2;break;case b.utils.stretching.FILL:if(d>f){c.width=n*d;c.height=h*d}else{c.width=n*f;c.height=h*f}c.top=(g-c.height)/2;c.left=(p-c.width)/2;break;case b.utils.stretching.EXACTFIT:c.width=n;c.height=h;var o=Math.round((n/2)*(1-1/d));var j=Math.round((h/2)*(1-1/f));e=true;c.top=c.left=0;break;default:break}if(e){b.utils.transform(q,d,f,o,j)}b.utils.css(q,c)};b.utils.stretching={NONE:"NONE",FILL:"FILL",UNIFORM:"UNIFORM",EXACTFIT:"EXACTFIT"};b.utils.deepReplaceKeyName=function(k,e,c){switch(b.utils.typeOf(k)){case"array":for(var g=0;g<k.length;g++){k[g]=b.utils.deepReplaceKeyName(k[g],e,c)}break;case"object":for(var f in k){var j,h;if(e instanceof Array&&c instanceof Array){if(e.length!=c.length){continue}else{j=e;h=c}}else{j=[e];h=[c]}var d=f;for(var g=0;g<j.length;g++){d=d.replace(new RegExp(e[g],"g"),c[g])}k[d]=b.utils.deepReplaceKeyName(k[f],e,c);if(f!=d){delete k[f]}}break}return k};b.utils.isInArray=function(e,d){if(!(e)||!(e instanceof Array)){return false}for(var c=0;c<e.length;c++){if(d===e[c]){return true}}return false};b.utils.exists=function(c){switch(typeof(c)){case"string":return(c.length>0);break;case"object":return(c!==null);case"undefined":return false}return true};b.utils.empty=function(c){if(typeof c.hasChildNodes=="function"){while(c.hasChildNodes()){c.removeChild(c.firstChild)}}};b.utils.parseDimension=function(c){if(typeof c=="string"){if(c===""){return 0}else{if(c.lastIndexOf("%")>-1){return c}else{return parseInt(c.replace("px",""),10)}}}return c};b.utils.getDimensions=function(c){if(c&&c.style){return{x:b.utils.parseDimension(c.style.left),y:b.utils.parseDimension(c.style.top),width:b.utils.parseDimension(c.style.width),height:b.utils.parseDimension(c.style.height)}}else{return{}}};b.utils.getElementWidth=function(c){if(!c){return null}else{if(c==document.body){return b.utils.parentNode(c).clientWidth}else{if(c.clientWidth>0){return c.clientWidth}else{if(c.style){return b.utils.parseDimension(c.style.width)}else{return null}}}}};b.utils.getElementHeight=function(c){if(!c){return null}else{if(c==document.body){return b.utils.parentNode(c).clientHeight}else{if(c.clientHeight>0){return c.clientHeight}else{if(c.style){return b.utils.parseDimension(c.style.height)}else{return null}}}}};b.utils.timeFormat=function(c){str="00:00";if(c>0){str=Math.floor(c/60)<10?"0"+Math.floor(c/60)+":":Math.floor(c/60)+":";str+=Math.floor(c%60)<10?"0"+Math.floor(c%60):Math.floor(c%60)}return str};b.utils.useNativeFullscreen=function(){return(navigator&&navigator.vendor&&navigator.vendor.indexOf("Apple")==0)};b.utils.parentNode=function(c){if(!c){return document.body}else{if(c.parentNode){return c.parentNode}else{if(c.parentElement){return c.parentElement}else{return c}}}};b.utils.getBoundingClientRect=function(c){if(typeof c.getBoundingClientRect=="function"){return c.getBoundingClientRect()}else{return{left:c.offsetLeft+document.body.scrollLeft,top:c.offsetTop+document.body.scrollTop,width:c.offsetWidth,height:c.offsetHeight}}};b.utils.translateEventResponse=function(e,c){var g=b.utils.extend({},c);if(e==b.api.events.JWPLAYER_FULLSCREEN&&!g.fullscreen){g.fullscreen=g.message=="true"?true:false;delete g.message}else{if(typeof g.data=="object"){g=b.utils.extend(g,g.data);delete g.data}else{if(typeof g.metadata=="object"){b.utils.deepReplaceKeyName(g.metadata,["__dot__","__spc__","__dsh__"],["."," ","-"])}}}var d=["position","duration","offset"];for(var f in d){if(g[d[f]]){g[d[f]]=Math.round(g[d[f]]*1000)/1000}}return g};b.utils.saveCookie=function(c,d){document.cookie="jwplayer."+c+"="+d+"; path=/"};b.utils.getCookies=function(){var f={};var e=document.cookie.split("; ");for(var d=0;d<e.length;d++){var c=e[d].split("=");if(c[0].indexOf("jwplayer.")==0){f[c[0].substring(9,c[0].length)]=c[1]}}return f};b.utils.readCookie=function(c){return b.utils.getCookies()[c]}})(jwplayer);(function(a){a.events=function(){};a.events.COMPLETE="COMPLETE";a.events.ERROR="ERROR"})(jwplayer);(function(jwplayer){jwplayer.events.eventdispatcher=function(debug){var _debug=debug;var _listeners;var _globallisteners;this.resetEventListeners=function(){_listeners={};_globallisteners=[]};this.resetEventListeners();this.addEventListener=function(type,listener,count){try{if(!jwplayer.utils.exists(_listeners[type])){_listeners[type]=[]}if(typeof(listener)=="string"){eval("listener = "+listener)}_listeners[type].push({listener:listener,count:count})}catch(err){jwplayer.utils.log("error",err)}return false};this.removeEventListener=function(type,listener){if(!_listeners[type]){return}try{for(var listenerIndex=0;listenerIndex<_listeners[type].length;listenerIndex++){if(_listeners[type][listenerIndex].listener.toString()==listener.toString()){_listeners[type].splice(listenerIndex,1);break}}}catch(err){jwplayer.utils.log("error",err)}return false};this.addGlobalListener=function(listener,count){try{if(typeof(listener)=="string"){eval("listener = "+listener)}_globallisteners.push({listener:listener,count:count})}catch(err){jwplayer.utils.log("error",err)}return false};this.removeGlobalListener=function(listener){if(!listener){return}try{for(var globalListenerIndex=0;globalListenerIndex<_globallisteners.length;globalListenerIndex++){if(_globallisteners[globalListenerIndex].listener.toString()==listener.toString()){_globallisteners.splice(globalListenerIndex,1);break}}}catch(err){jwplayer.utils.log("error",err)}return false};this.sendEvent=function(type,data){if(!jwplayer.utils.exists(data)){data={}}if(_debug){jwplayer.utils.log(type,data)}if(typeof _listeners[type]!="undefined"){for(var listenerIndex=0;listenerIndex<_listeners[type].length;listenerIndex++){try{_listeners[type][listenerIndex].listener(data)}catch(err){jwplayer.utils.log("There was an error while handling a listener: "+err.toString(),_listeners[type][listenerIndex].listener)}if(_listeners[type][listenerIndex]){if(_listeners[type][listenerIndex].count===1){delete _listeners[type][listenerIndex]}else{if(_listeners[type][listenerIndex].count>0){_listeners[type][listenerIndex].count=_listeners[type][listenerIndex].count-1}}}}}for(var globalListenerIndex=0;globalListenerIndex<_globallisteners.length;globalListenerIndex++){try{_globallisteners[globalListenerIndex].listener(data)}catch(err){jwplayer.utils.log("There was an error while handling a listener: "+err.toString(),_globallisteners[globalListenerIndex].listener)}if(_globallisteners[globalListenerIndex]){if(_globallisteners[globalListenerIndex].count===1){delete _globallisteners[globalListenerIndex]}else{if(_globallisteners[globalListenerIndex].count>0){_globallisteners[globalListenerIndex].count=_globallisteners[globalListenerIndex].count-1}}}}}}})(jwplayer);(function(a){var b={};a.utils.animations=function(){};a.utils.animations.transform=function(c,d){c.style.webkitTransform=d;c.style.MozTransform=d;c.style.OTransform=d;c.style.msTransform=d};a.utils.animations.transformOrigin=function(c,d){c.style.webkitTransformOrigin=d;c.style.MozTransformOrigin=d;c.style.OTransformOrigin=d;c.style.msTransformOrigin=d};a.utils.animations.rotate=function(c,d){a.utils.animations.transform(c,["rotate(",d,"deg)"].join(""))};a.utils.cancelAnimation=function(c){delete b[c.id]};a.utils.fadeTo=function(m,f,e,j,h,d){if(b[m.id]!=d&&a.utils.exists(d)){return}if(m.style.opacity==f){return}var c=new Date().getTime();if(d>c){setTimeout(function(){a.utils.fadeTo(m,f,e,j,0,d)},d-c)}if(m.style.display=="none"){m.style.display="block"}if(!a.utils.exists(j)){j=m.style.opacity===""?1:m.style.opacity}if(m.style.opacity==f&&m.style.opacity!==""&&a.utils.exists(d)){if(f===0){m.style.display="none"}return}if(!a.utils.exists(d)){d=c;b[m.id]=d}if(!a.utils.exists(h)){h=0}var k=(e>0)?((c-d)/(e*1000)):0;k=k>1?1:k;var l=f-j;var g=j+(k*l);if(g>1){g=1}else{if(g<0){g=0}}m.style.opacity=g;if(h>0){b[m.id]=d+h*1000;a.utils.fadeTo(m,f,e,j,0,b[m.id]);return}setTimeout(function(){a.utils.fadeTo(m,f,e,j,0,d)},10)}})(jwplayer);(function(a){a.utils.arrays=function(){};a.utils.arrays.indexOf=function(c,d){for(var b=0;b<c.length;b++){if(c[b]==d){return b}}return -1};a.utils.arrays.remove=function(c,d){var b=a.utils.arrays.indexOf(c,d);if(b>-1){c.splice(b,1)}}})(jwplayer);(function(a){a.utils.extensionmap={"3gp":{html5:"video/3gpp",flash:"video"},"3gpp":{html5:"video/3gpp"},"3g2":{html5:"video/3gpp2",flash:"video"},"3gpp2":{html5:"video/3gpp2"},flv:{flash:"video"},f4a:{html5:"audio/mp4"},f4b:{html5:"audio/mp4",flash:"video"},f4v:{html5:"video/mp4",flash:"video"},mov:{html5:"video/quicktime",flash:"video"},m4a:{html5:"audio/mp4",flash:"video"},m4b:{html5:"audio/mp4"},m4p:{html5:"audio/mp4"},m4v:{html5:"video/mp4",flash:"video"},mp4:{html5:"video/mp4",flash:"video"},rbs:{flash:"sound"},aac:{html5:"audio/aac",flash:"video"},mp3:{html5:"audio/mp3",flash:"sound"},ogg:{html5:"audio/ogg"},oga:{html5:"audio/ogg"},ogv:{html5:"video/ogg"},webm:{html5:"video/webm"},m3u8:{html5:"audio/x-mpegurl"},gif:{flash:"image"},jpeg:{flash:"image"},jpg:{flash:"image"},swf:{flash:"image"},png:{flash:"image"},wav:{html5:"audio/x-wav"}}})(jwplayer);(function(e){e.utils.mediaparser=function(){};var g={element:{width:"width",height:"height",id:"id","class":"className",name:"name"},media:{src:"file",preload:"preload",autoplay:"autostart",loop:"repeat",controls:"controls"},source:{src:"file",type:"type",media:"media","data-jw-width":"width","data-jw-bitrate":"bitrate"},video:{poster:"image"}};var f={};e.utils.mediaparser.parseMedia=function(j){return d(j)};function c(k,j){if(!e.utils.exists(j)){j=g[k]}else{e.utils.extend(j,g[k])}return j}function d(n,j){if(f[n.tagName.toLowerCase()]&&!e.utils.exists(j)){return f[n.tagName.toLowerCase()](n)}else{j=c("element",j);var o={};for(var k in j){if(k!="length"){var m=n.getAttribute(k);if(e.utils.exists(m)){o[j[k]]=m}}}var l=n.style["#background-color"];if(l&&!(l=="transparent"||l=="rgba(0, 0, 0, 0)")){o.screencolor=l}return o}}function h(n,k){k=c("media",k);var l=[];var j=e.utils.selectors("source",n);for(var m in j){if(!isNaN(m)){l.push(a(j[m]))}}var o=d(n,k);if(e.utils.exists(o.file)){l[0]={file:o.file}}o.levels=l;return o}function a(l,k){k=c("source",k);var j=d(l,k);j.width=j.width?j.width:0;j.bitrate=j.bitrate?j.bitrate:0;return j}function b(l,k){k=c("video",k);var j=h(l,k);return j}f.media=h;f.audio=h;f.source=a;f.video=b})(jwplayer);(function(a){a.utils.loaderstatus={NEW:"NEW",LOADING:"LOADING",ERROR:"ERROR",COMPLETE:"COMPLETE"};a.utils.scriptloader=function(c){var d=a.utils.loaderstatus.NEW;var b=new a.events.eventdispatcher();a.utils.extend(this,b);this.load=function(){if(d==a.utils.loaderstatus.NEW){d=a.utils.loaderstatus.LOADING;var e=document.createElement("script");e.onload=function(f){d=a.utils.loaderstatus.COMPLETE;b.sendEvent(a.events.COMPLETE)};e.onerror=function(f){d=a.utils.loaderstatus.ERROR;b.sendEvent(a.events.ERROR)};e.onreadystatechange=function(){if(e.readyState=="loaded"||e.readyState=="complete"){d=a.utils.loaderstatus.COMPLETE;b.sendEvent(a.events.COMPLETE)}};document.getElementsByTagName("head")[0].appendChild(e);e.src=c}};this.getStatus=function(){return d}}})(jwplayer);(function(a){a.utils.selectors=function(b,e){if(!a.utils.exists(e)){e=document}b=a.utils.strings.trim(b);var c=b.charAt(0);if(c=="#"){return e.getElementById(b.substr(1))}else{if(c=="."){if(e.getElementsByClassName){return e.getElementsByClassName(b.substr(1))}else{return a.utils.selectors.getElementsByTagAndClass("*",b.substr(1))}}else{if(b.indexOf(".")>0){var d=b.split(".");return a.utils.selectors.getElementsByTagAndClass(d[0],d[1])}else{return e.getElementsByTagName(b)}}}return null};a.utils.selectors.getElementsByTagAndClass=function(e,h,g){var j=[];if(!a.utils.exists(g)){g=document}var f=g.getElementsByTagName(e);for(var d=0;d<f.length;d++){if(a.utils.exists(f[d].className)){var c=f[d].className.split(" ");for(var b=0;b<c.length;b++){if(c[b]==h){j.push(f[d])}}}}return j}})(jwplayer);(function(a){a.utils.strings=function(){};a.utils.strings.trim=function(b){return b.replace(/^\s*/,"").replace(/\s*$/,"")};a.utils.strings.pad=function(c,d,b){if(!b){b="0"}while(c.length<d){c=b+c}return c};a.utils.strings.serialize=function(b){if(b==null){return null}else{if(b=="true"){return true}else{if(b=="false"){return false}else{if(isNaN(Number(b))||b.length>5||b.length==0){return b}else{return Number(b)}}}}};a.utils.strings.seconds=function(d){d=d.replace(",",".");var b=d.split(":");var c=0;if(d.substr(-1)=="s"){c=Number(d.substr(0,d.length-1))}else{if(d.substr(-1)=="m"){c=Number(d.substr(0,d.length-1))*60}else{if(d.substr(-1)=="h"){c=Number(d.substr(0,d.length-1))*3600}else{if(b.length>1){c=Number(b[b.length-1]);c+=Number(b[b.length-2])*60;if(b.length==3){c+=Number(b[b.length-3])*3600}}else{c=Number(d)}}}}return c};a.utils.strings.xmlAttribute=function(b,c){for(var d=0;d<b.attributes.length;d++){if(b.attributes[d].name&&b.attributes[d].name.toLowerCase()==c.toLowerCase()){return b.attributes[d].value.toString()}}return""};a.utils.strings.jsonToString=function(f){var h=h||{};if(h&&h.stringify){return h.stringify(f)}var c=typeof(f);if(c!="object"||f===null){if(c=="string"){f='"'+f.replace(/"/g,'\\"')+'"'}else{return String(f)}}else{var g=[],b=(f&&f.constructor==Array);for(var d in f){var e=f[d];switch(typeof(e)){case"string":e='"'+e.replace(/"/g,'\\"')+'"';break;case"object":if(a.utils.exists(e)){e=a.utils.strings.jsonToString(e)}break}if(b){if(typeof(e)!="function"){g.push(String(e))}}else{if(typeof(e)!="function"){g.push('"'+d+'":'+String(e))}}}if(b){return"["+String(g)+"]"}else{return"{"+String(g)+"}"}}}})(jwplayer);(function(c){var d=new RegExp(/^(#|0x)[0-9a-fA-F]{3,6}/);c.utils.typechecker=function(g,f){f=!c.utils.exists(f)?b(g):f;return e(g,f)};function b(f){var g=["true","false","t","f"];if(g.toString().indexOf(f.toLowerCase().replace(" ",""))>=0){return"boolean"}else{if(d.test(f)){return"color"}else{if(!isNaN(parseInt(f,10))&&parseInt(f,10).toString().length==f.length){return"integer"}else{if(!isNaN(parseFloat(f))&&parseFloat(f).toString().length==f.length){return"float"}}}}return"string"}function e(g,f){if(!c.utils.exists(f)){return g}switch(f){case"color":if(g.length>0){return a(g)}return null;case"integer":return parseInt(g,10);case"float":return parseFloat(g);case"boolean":if(g.toLowerCase()=="true"){return true}else{if(g=="1"){return true}}return false}return g}function a(f){switch(f.toLowerCase()){case"blue":return parseInt("0000FF",16);case"green":return parseInt("00FF00",16);case"red":return parseInt("FF0000",16);case"cyan":return parseInt("00FFFF",16);case"magenta":return parseInt("FF00FF",16);case"yellow":return parseInt("FFFF00",16);case"black":return parseInt("000000",16);case"white":return parseInt("FFFFFF",16);default:f=f.replace(/(#|0x)?([0-9A-F]{3,6})$/gi,"$2");if(f.length==3){f=f.charAt(0)+f.charAt(0)+f.charAt(1)+f.charAt(1)+f.charAt(2)+f.charAt(2)}return parseInt(f,16)}return parseInt("000000",16)}})(jwplayer);(function(a){a.utils.parsers=function(){};a.utils.parsers.localName=function(b){if(!b){return""}else{if(b.localName){return b.localName}else{if(b.baseName){return b.baseName}else{return""}}}};a.utils.parsers.textContent=function(b){if(!b){return""}else{if(b.textContent){return b.textContent}else{if(b.text){return b.text}else{return""}}}}})(jwplayer);(function(a){a.utils.parsers.jwparser=function(){};a.utils.parsers.jwparser.PREFIX="jwplayer";a.utils.parsers.jwparser.parseEntry=function(c,d){for(var b=0;b<c.childNodes.length;b++){if(c.childNodes[b].prefix==a.utils.parsers.jwparser.PREFIX){d[a.utils.parsers.localName(c.childNodes[b])]=a.utils.strings.serialize(a.utils.parsers.textContent(c.childNodes[b]));if(a.utils.parsers.localName(c.childNodes[b])=="file"&&d.levels){delete d.levels}}if(!d.file&&String(d.link).toLowerCase().indexOf("youtube")>-1){d.file=d.link}}return d};a.utils.parsers.jwparser.getProvider=function(c){if(c.type){return c.type}else{if(c.file.indexOf("youtube.com/w")>-1||c.file.indexOf("youtube.com/v")>-1||c.file.indexOf("youtu.be/")>-1){return"youtube"}else{if(c.streamer&&c.streamer.indexOf("rtmp")==0){return"rtmp"}else{if(c.streamer&&c.streamer.indexOf("http")==0){return"http"}else{var b=a.utils.strings.extension(c.file);if(extensions.hasOwnProperty(b)){return extensions[b]}}}}}return""}})(jwplayer);(function(a){a.utils.parsers.mediaparser=function(){};a.utils.parsers.mediaparser.PREFIX="media";a.utils.parsers.mediaparser.parseGroup=function(d,f){var e=false;for(var c=0;c<d.childNodes.length;c++){if(d.childNodes[c].prefix==a.utils.parsers.mediaparser.PREFIX){if(!a.utils.parsers.localName(d.childNodes[c])){continue}switch(a.utils.parsers.localName(d.childNodes[c]).toLowerCase()){case"content":if(!e){f.file=a.utils.strings.xmlAttribute(d.childNodes[c],"url")}if(a.utils.strings.xmlAttribute(d.childNodes[c],"duration")){f.duration=a.utils.strings.seconds(a.utils.strings.xmlAttribute(d.childNodes[c],"duration"))}if(a.utils.strings.xmlAttribute(d.childNodes[c],"start")){f.start=a.utils.strings.seconds(a.utils.strings.xmlAttribute(d.childNodes[c],"start"))}if(d.childNodes[c].childNodes&&d.childNodes[c].childNodes.length>0){f=a.utils.parsers.mediaparser.parseGroup(d.childNodes[c],f)}if(a.utils.strings.xmlAttribute(d.childNodes[c],"width")||a.utils.strings.xmlAttribute(d.childNodes[c],"bitrate")||a.utils.strings.xmlAttribute(d.childNodes[c],"url")){if(!f.levels){f.levels=[]}f.levels.push({width:a.utils.strings.xmlAttribute(d.childNodes[c],"width"),bitrate:a.utils.strings.xmlAttribute(d.childNodes[c],"bitrate"),file:a.utils.strings.xmlAttribute(d.childNodes[c],"url")})}break;case"title":f.title=a.utils.parsers.textContent(d.childNodes[c]);break;case"description":f.description=a.utils.parsers.textContent(d.childNodes[c]);break;case"keywords":f.tags=a.utils.parsers.textContent(d.childNodes[c]);break;case"thumbnail":f.image=a.utils.strings.xmlAttribute(d.childNodes[c],"url");break;case"credit":f.author=a.utils.parsers.textContent(d.childNodes[c]);break;case"player":var b=d.childNodes[c].url;if(b.indexOf("youtube.com")>=0||b.indexOf("youtu.be")>=0){e=true;f.file=a.utils.strings.xmlAttribute(d.childNodes[c],"url")}break;case"group":a.utils.parsers.mediaparser.parseGroup(d.childNodes[c],f);break}}}return f}})(jwplayer);(function(b){b.utils.parsers.rssparser=function(){};b.utils.parsers.rssparser.parse=function(f){var c=[];for(var e=0;e<f.childNodes.length;e++){if(b.utils.parsers.localName(f.childNodes[e]).toLowerCase()=="channel"){for(var d=0;d<f.childNodes[e].childNodes.length;d++){if(b.utils.parsers.localName(f.childNodes[e].childNodes[d]).toLowerCase()=="item"){c.push(a(f.childNodes[e].childNodes[d]))}}}}return c};function a(d){var e={};for(var c=0;c<d.childNodes.length;c++){if(!b.utils.parsers.localName(d.childNodes[c])){continue}switch(b.utils.parsers.localName(d.childNodes[c]).toLowerCase()){case"enclosure":e.file=b.utils.strings.xmlAttribute(d.childNodes[c],"url");break;case"title":e.title=b.utils.parsers.textContent(d.childNodes[c]);break;case"pubdate":e.date=b.utils.parsers.textContent(d.childNodes[c]);break;case"description":e.description=b.utils.parsers.textContent(d.childNodes[c]);break;case"link":e.link=b.utils.parsers.textContent(d.childNodes[c]);break;case"category":if(e.tags){e.tags+=b.utils.parsers.textContent(d.childNodes[c])}else{e.tags=b.utils.parsers.textContent(d.childNodes[c])}break}}e=b.utils.parsers.mediaparser.parseGroup(d,e);e=b.utils.parsers.jwparser.parseEntry(d,e);return new b.html5.playlistitem(e)}})(jwplayer);(function(a){var c={};var b={};a.plugins=function(){};a.plugins.loadPlugins=function(e,d){b[e]=new a.plugins.pluginloader(new a.plugins.model(c),d);return b[e]};a.plugins.registerPlugin=function(h,f,e){var d=a.utils.getPluginName(h);if(c[d]){c[d].registerPlugin(h,f,e)}else{a.utils.log("A plugin ("+h+") was registered with the player that was not loaded. Please check your configuration.");for(var g in b){b[g].pluginFailed()}}}})(jwplayer);(function(a){a.plugins.model=function(b){this.addPlugin=function(c){var d=a.utils.getPluginName(c);if(!b[d]){b[d]=new a.plugins.plugin(c)}return b[d]}}})(jwplayer);(function(a){a.plugins.pluginmodes={FLASH:"FLASH",JAVASCRIPT:"JAVASCRIPT",HYBRID:"HYBRID"};a.plugins.plugin=function(b){var d="http://lp.longtailvideo.com";var j=a.utils.loaderstatus.NEW;var k;var h;var l;var c=new a.events.eventdispatcher();a.utils.extend(this,c);function e(){switch(a.utils.getPluginPathType(b)){case a.utils.pluginPathType.ABSOLUTE:return b;case a.utils.pluginPathType.RELATIVE:return a.utils.getAbsolutePath(b,window.location.href);case a.utils.pluginPathType.CDN:var o=a.utils.getPluginName(b);var n=a.utils.getPluginVersion(b);var m=(window.location.href.indexOf("https://")==0)?d.replace("http://","https://secure"):d;return m+"/"+a.version.split(".")[0]+"/"+o+"/"+o+(n!==""?("-"+n):"")+".js"}}function g(m){l=setTimeout(function(){j=a.utils.loaderstatus.COMPLETE;c.sendEvent(a.events.COMPLETE)},1000)}function f(m){j=a.utils.loaderstatus.ERROR;c.sendEvent(a.events.ERROR)}this.load=function(){if(j==a.utils.loaderstatus.NEW){if(b.lastIndexOf(".swf")>0){k=b;j=a.utils.loaderstatus.COMPLETE;c.sendEvent(a.events.COMPLETE);return}j=a.utils.loaderstatus.LOADING;var m=new a.utils.scriptloader(e());m.addEventListener(a.events.COMPLETE,g);m.addEventListener(a.events.ERROR,f);m.load()}};this.registerPlugin=function(o,n,m){if(l){clearTimeout(l);l=undefined}if(n&&m){k=m;h=n}else{if(typeof n=="string"){k=n}else{if(typeof n=="function"){h=n}else{if(!n&&!m){k=o}}}}j=a.utils.loaderstatus.COMPLETE;c.sendEvent(a.events.COMPLETE)};this.getStatus=function(){return j};this.getPluginName=function(){return a.utils.getPluginName(b)};this.getFlashPath=function(){if(k){switch(a.utils.getPluginPathType(k)){case a.utils.pluginPathType.ABSOLUTE:return k;case a.utils.pluginPathType.RELATIVE:if(b.lastIndexOf(".swf")>0){return a.utils.getAbsolutePath(k,window.location.href)}return a.utils.getAbsolutePath(k,e());case a.utils.pluginPathType.CDN:if(k.indexOf("-")>-1){return k+"h"}return k+"-h"}}return null};this.getJS=function(){return h};this.getPluginmode=function(){if(typeof k!="undefined"&&typeof h!="undefined"){return a.plugins.pluginmodes.HYBRID}else{if(typeof k!="undefined"){return a.plugins.pluginmodes.FLASH}else{if(typeof h!="undefined"){return a.plugins.pluginmodes.JAVASCRIPT}}}};this.getNewInstance=function(n,m,o){return new h(n,m,o)};this.getURL=function(){return b}}})(jwplayer);(function(a){a.plugins.pluginloader=function(h,e){var g={};var k=a.utils.loaderstatus.NEW;var d=false;var b=false;var c=new a.events.eventdispatcher();a.utils.extend(this,c);function f(){if(!b){b=true;k=a.utils.loaderstatus.COMPLETE;c.sendEvent(a.events.COMPLETE)}}function j(){if(!b){var m=0;for(plugin in g){var l=g[plugin].getStatus();if(l==a.utils.loaderstatus.LOADING||l==a.utils.loaderstatus.NEW){m++}}if(m==0){f()}}}this.setupPlugins=function(n,l,s){var m={length:0,plugins:{}};var p={length:0,plugins:{}};for(var o in g){var q=g[o].getPluginName();if(g[o].getFlashPath()){m.plugins[g[o].getFlashPath()]=l.plugins[o];m.plugins[g[o].getFlashPath()].pluginmode=g[o].getPluginmode();m.length++}if(g[o].getJS()){var r=document.createElement("div");r.id=n.id+"_"+q;r.style.position="absolute";r.style.zIndex=p.length+10;p.plugins[q]=g[o].getNewInstance(n,l.plugins[o],r);p.length++;if(typeof p.plugins[q].resize!="undefined"){n.onReady(s(p.plugins[q],r,true));n.onResize(s(p.plugins[q],r))}}}n.plugins=p.plugins;return m};this.load=function(){k=a.utils.loaderstatus.LOADING;d=true;for(var l in e){if(a.utils.exists(l)){g[l]=h.addPlugin(l);g[l].addEventListener(a.events.COMPLETE,j);g[l].addEventListener(a.events.ERROR,j)}}for(l in g){g[l].load()}d=false;j()};this.pluginFailed=function(){f()};this.getStatus=function(){return k}}})(jwplayer);(function(b){var a=[];b.api=function(d){this.container=d;this.id=d.id;var m={};var t={};var p={};var c=[];var g=undefined;var k=false;var h=[];var r=undefined;var o=b.utils.getOuterHTML(d);var s={};var j={};this.getBuffer=function(){return this.callInternal("jwGetBuffer")};this.getContainer=function(){return this.container};function e(v,u){return function(A,w,x,y){if(v.renderingMode=="flash"||v.renderingMode=="html5"){var z;if(w){j[A]=w;z="jwplayer('"+v.id+"').callback('"+A+"')"}else{if(!w&&j[A]){delete j[A]}}g.jwDockSetButton(A,z,x,y)}return u}}this.getPlugin=function(u){var w=this;var v={};if(u=="dock"){return b.utils.extend(v,{setButton:e(w,v),show:function(){w.callInternal("jwDockShow");return v},hide:function(){w.callInternal("jwDockHide");return v},onShow:function(x){w.componentListener("dock",b.api.events.JWPLAYER_COMPONENT_SHOW,x);return v},onHide:function(x){w.componentListener("dock",b.api.events.JWPLAYER_COMPONENT_HIDE,x);return v}})}else{if(u=="controlbar"){return b.utils.extend(v,{show:function(){w.callInternal("jwControlbarShow");return v},hide:function(){w.callInternal("jwControlbarHide");return v},onShow:function(x){w.componentListener("controlbar",b.api.events.JWPLAYER_COMPONENT_SHOW,x);return v},onHide:function(x){w.componentListener("controlbar",b.api.events.JWPLAYER_COMPONENT_HIDE,x);return v}})}else{if(u=="display"){return b.utils.extend(v,{show:function(){w.callInternal("jwDisplayShow");return v},hide:function(){w.callInternal("jwDisplayHide");return v},onShow:function(x){w.componentListener("display",b.api.events.JWPLAYER_COMPONENT_SHOW,x);return v},onHide:function(x){w.componentListener("display",b.api.events.JWPLAYER_COMPONENT_HIDE,x);return v}})}else{return this.plugins[u]}}}};this.callback=function(u){if(j[u]){return j[u]()}};this.getDuration=function(){return this.callInternal("jwGetDuration")};this.getFullscreen=function(){return this.callInternal("jwGetFullscreen")};this.getHeight=function(){return this.callInternal("jwGetHeight")};this.getLockState=function(){return this.callInternal("jwGetLockState")};this.getMeta=function(){return this.getItemMeta()};this.getMute=function(){return this.callInternal("jwGetMute")};this.getPlaylist=function(){var v=this.callInternal("jwGetPlaylist");if(this.renderingMode=="flash"){b.utils.deepReplaceKeyName(v,["__dot__","__spc__","__dsh__"],["."," ","-"])}for(var u=0;u<v.length;u++){if(!b.utils.exists(v[u].index)){v[u].index=u}}return v};this.getPlaylistItem=function(u){if(!b.utils.exists(u)){u=this.getCurrentItem()}return this.getPlaylist()[u]};this.getPosition=function(){return this.callInternal("jwGetPosition")};this.getRenderingMode=function(){return this.renderingMode};this.getState=function(){return this.callInternal("jwGetState")};this.getVolume=function(){return this.callInternal("jwGetVolume")};this.getWidth=function(){return this.callInternal("jwGetWidth")};this.setFullscreen=function(u){if(!b.utils.exists(u)){this.callInternal("jwSetFullscreen",!this.callInternal("jwGetFullscreen"))}else{this.callInternal("jwSetFullscreen",u)}return this};this.setMute=function(u){if(!b.utils.exists(u)){this.callInternal("jwSetMute",!this.callInternal("jwGetMute"))}else{this.callInternal("jwSetMute",u)}return this};this.lock=function(){return this};this.unlock=function(){return this};this.load=function(u){this.callInternal("jwLoad",u);return this};this.playlistItem=function(u){this.callInternal("jwPlaylistItem",u);return this};this.playlistPrev=function(){this.callInternal("jwPlaylistPrev");return this};this.playlistNext=function(){this.callInternal("jwPlaylistNext");return this};this.resize=function(v,u){if(this.renderingMode=="html5"){g.jwResize(v,u)}else{this.container.width=v;this.container.height=u;var w=document.getElementById(this.id+"_wrapper");if(w){w.style.width=v+"px";w.style.height=u+"px"}}return this};this.play=function(u){if(typeof u=="undefined"){u=this.getState();if(u==b.api.events.state.PLAYING||u==b.api.events.state.BUFFERING){this.callInternal("jwPause")}else{this.callInternal("jwPlay")}}else{this.callInternal("jwPlay",u)}return this};this.pause=function(u){if(typeof u=="undefined"){u=this.getState();if(u==b.api.events.state.PLAYING||u==b.api.events.state.BUFFERING){this.callInternal("jwPause")}else{this.callInternal("jwPlay")}}else{this.callInternal("jwPause",u)}return this};this.stop=function(){this.callInternal("jwStop");return this};this.seek=function(u){this.callInternal("jwSeek",u);return this};this.setVolume=function(u){this.callInternal("jwSetVolume",u);return this};this.loadInstream=function(v,u){r=new b.api.instream(this,g,v,u);return r};this.onBufferChange=function(u){return this.eventListener(b.api.events.JWPLAYER_MEDIA_BUFFER,u)};this.onBufferFull=function(u){return this.eventListener(b.api.events.JWPLAYER_MEDIA_BUFFER_FULL,u)};this.onError=function(u){return this.eventListener(b.api.events.JWPLAYER_ERROR,u)};this.onFullscreen=function(u){return this.eventListener(b.api.events.JWPLAYER_FULLSCREEN,u)};this.onMeta=function(u){return this.eventListener(b.api.events.JWPLAYER_MEDIA_META,u)};this.onMute=function(u){return this.eventListener(b.api.events.JWPLAYER_MEDIA_MUTE,u)};this.onPlaylist=function(u){return this.eventListener(b.api.events.JWPLAYER_PLAYLIST_LOADED,u)};this.onPlaylistItem=function(u){return this.eventListener(b.api.events.JWPLAYER_PLAYLIST_ITEM,u)};this.onReady=function(u){return this.eventListener(b.api.events.API_READY,u)};this.onResize=function(u){return this.eventListener(b.api.events.JWPLAYER_RESIZE,u)};this.onComplete=function(u){return this.eventListener(b.api.events.JWPLAYER_MEDIA_COMPLETE,u)};this.onSeek=function(u){return this.eventListener(b.api.events.JWPLAYER_MEDIA_SEEK,u)};this.onTime=function(u){return this.eventListener(b.api.events.JWPLAYER_MEDIA_TIME,u)};this.onVolume=function(u){return this.eventListener(b.api.events.JWPLAYER_MEDIA_VOLUME,u)};this.onBeforePlay=function(u){return this.eventListener(b.api.events.JWPLAYER_MEDIA_BEFOREPLAY,u)};this.onBeforeComplete=function(u){return this.eventListener(b.api.events.JWPLAYER_MEDIA_BEFORECOMPLETE,u)};this.onBuffer=function(u){return this.stateListener(b.api.events.state.BUFFERING,u)};this.onPause=function(u){return this.stateListener(b.api.events.state.PAUSED,u)};this.onPlay=function(u){return this.stateListener(b.api.events.state.PLAYING,u)};this.onIdle=function(u){return this.stateListener(b.api.events.state.IDLE,u)};this.remove=function(){if(!k){throw"Cannot call remove() before player is ready";return}q(this)};function q(u){h=[];if(b.utils.getOuterHTML(u.container)!=o){b.api.destroyPlayer(u.id,o)}}this.setup=function(v){if(b.embed){var u=this.id;q(this);var w=b(u);w.config=v;return new b.embed(w)}return this};this.registerPlugin=function(w,v,u){b.plugins.registerPlugin(w,v,u)};this.setPlayer=function(u,v){g=u;this.renderingMode=v};this.stateListener=function(u,v){if(!t[u]){t[u]=[];this.eventListener(b.api.events.JWPLAYER_PLAYER_STATE,f(u))}t[u].push(v);return this};this.detachMedia=function(){if(this.renderingMode=="html5"){return this.callInternal("jwDetachMedia")}};this.attachMedia=function(){if(this.renderingMode=="html5"){return this.callInternal("jwAttachMedia")}};function f(u){return function(w){var v=w.newstate,y=w.oldstate;if(v==u){var x=t[v];if(x){for(var z=0;z<x.length;z++){if(typeof x[z]=="function"){x[z].call(this,{oldstate:y,newstate:v})}}}}}}this.componentListener=function(u,v,w){if(!p[u]){p[u]={}}if(!p[u][v]){p[u][v]=[];this.eventListener(v,l(u,v))}p[u][v].push(w);return this};function l(u,v){return function(x){if(u==x.component){var w=p[u][v];if(w){for(var y=0;y<w.length;y++){if(typeof w[y]=="function"){w[y].call(this,x)}}}}}}this.addInternalListener=function(u,v){try{u.jwAddEventListener(v,'function(dat) { jwplayer("'+this.id+'").dispatchEvent("'+v+'", dat); }')}catch(w){b.utils.log("Could not add internal listener")}};this.eventListener=function(u,v){if(!m[u]){m[u]=[];if(g&&k){this.addInternalListener(g,u)}}m[u].push(v);return this};this.dispatchEvent=function(w){if(m[w]){var v=_utils.translateEventResponse(w,arguments[1]);for(var u=0;u<m[w].length;u++){if(typeof m[w][u]=="function"){m[w][u].call(this,v)}}}};this.dispatchInstreamEvent=function(u){if(r){r.dispatchEvent(u,arguments)}};this.callInternal=function(){if(k){var w=arguments[0],u=[];for(var v=1;v<arguments.length;v++){u.push(arguments[v])}if(typeof g!="undefined"&&typeof g[w]=="function"){if(u.length==2){return(g[w])(u[0],u[1])}else{if(u.length==1){return(g[w])(u[0])}else{return(g[w])()}}}return null}else{h.push(arguments)}};this.playerReady=function(v){k=true;if(!g){this.setPlayer(document.getElementById(v.id))}this.container=document.getElementById(this.id);for(var u in m){this.addInternalListener(g,u)}this.eventListener(b.api.events.JWPLAYER_PLAYLIST_ITEM,function(w){s={}});this.eventListener(b.api.events.JWPLAYER_MEDIA_META,function(w){b.utils.extend(s,w.metadata)});this.dispatchEvent(b.api.events.API_READY);while(h.length>0){this.callInternal.apply(this,h.shift())}};this.getItemMeta=function(){return s};this.getCurrentItem=function(){return this.callInternal("jwGetPlaylistIndex")};function n(w,y,x){var u=[];if(!y){y=0}if(!x){x=w.length-1}for(var v=y;v<=x;v++){u.push(w[v])}return u}return this};b.api.selectPlayer=function(d){var c;if(!b.utils.exists(d)){d=0}if(d.nodeType){c=d}else{if(typeof d=="string"){c=document.getElementById(d)}}if(c){var e=b.api.playerById(c.id);if(e){return e}else{return b.api.addPlayer(new b.api(c))}}else{if(typeof d=="number"){return b.getPlayers()[d]}}return null};b.api.events={API_READY:"jwplayerAPIReady",JWPLAYER_READY:"jwplayerReady",JWPLAYER_FULLSCREEN:"jwplayerFullscreen",JWPLAYER_RESIZE:"jwplayerResize",JWPLAYER_ERROR:"jwplayerError",JWPLAYER_MEDIA_BEFOREPLAY:"jwplayerMediaBeforePlay",JWPLAYER_MEDIA_BEFORECOMPLETE:"jwplayerMediaBeforeComplete",JWPLAYER_COMPONENT_SHOW:"jwplayerComponentShow",JWPLAYER_COMPONENT_HIDE:"jwplayerComponentHide",JWPLAYER_MEDIA_BUFFER:"jwplayerMediaBuffer",JWPLAYER_MEDIA_BUFFER_FULL:"jwplayerMediaBufferFull",JWPLAYER_MEDIA_ERROR:"jwplayerMediaError",JWPLAYER_MEDIA_LOADED:"jwplayerMediaLoaded",JWPLAYER_MEDIA_COMPLETE:"jwplayerMediaComplete",JWPLAYER_MEDIA_SEEK:"jwplayerMediaSeek",JWPLAYER_MEDIA_TIME:"jwplayerMediaTime",JWPLAYER_MEDIA_VOLUME:"jwplayerMediaVolume",JWPLAYER_MEDIA_META:"jwplayerMediaMeta",JWPLAYER_MEDIA_MUTE:"jwplayerMediaMute",JWPLAYER_PLAYER_STATE:"jwplayerPlayerState",JWPLAYER_PLAYLIST_LOADED:"jwplayerPlaylistLoaded",JWPLAYER_PLAYLIST_ITEM:"jwplayerPlaylistItem",JWPLAYER_INSTREAM_CLICK:"jwplayerInstreamClicked",JWPLAYER_INSTREAM_DESTROYED:"jwplayerInstreamDestroyed"};b.api.events.state={BUFFERING:"BUFFERING",IDLE:"IDLE",PAUSED:"PAUSED",PLAYING:"PLAYING"};b.api.playerById=function(d){for(var c=0;c<a.length;c++){if(a[c].id==d){return a[c]}}return null};b.api.addPlayer=function(c){for(var d=0;d<a.length;d++){if(a[d]==c){return c}}a.push(c);return c};b.api.destroyPlayer=function(h,d){var g=-1;for(var l=0;l<a.length;l++){if(a[l].id==h){g=l;continue}}if(g>=0){try{a[g].callInternal("jwDestroy")}catch(k){}var c=document.getElementById(a[g].id);if(document.getElementById(a[g].id+"_wrapper")){c=document.getElementById(a[g].id+"_wrapper")}if(c){if(d){b.utils.setOuterHTML(c,d)}else{var j=document.createElement("div");var f=c.id;if(c.id.indexOf("_wrapper")==c.id.length-8){newID=c.id.substring(0,c.id.length-8)}j.setAttribute("id",f);c.parentNode.replaceChild(j,c)}}a.splice(g,1)}return null};b.getPlayers=function(){return a.slice(0)}})(jwplayer);var _userPlayerReady=(typeof playerReady=="function")?playerReady:undefined;playerReady=function(b){var a=jwplayer.api.playerById(b.id);if(a){a.playerReady(b)}else{jwplayer.api.selectPlayer(b.id).playerReady(b)}if(_userPlayerReady){_userPlayerReady.call(this,b)}};(function(a){a.api.instream=function(c,j,n,q){var h=c;var b=j;var g=n;var k=q;var e={};var p={};function f(){h.callInternal("jwLoadInstream",n,q)}function m(r,s){b.jwInstreamAddEventListener(s,'function(dat) { jwplayer("'+h.id+'").dispatchInstreamEvent("'+s+'", dat); }')}function d(r,s){if(!e[r]){e[r]=[];m(b,r)}e[r].push(s);return this}function o(r,s){if(!p[r]){p[r]=[];d(a.api.events.JWPLAYER_PLAYER_STATE,l(r))}p[r].push(s);return this}function l(r){return function(t){var s=t.newstate,v=t.oldstate;if(s==r){var u=p[s];if(u){for(var w=0;w<u.length;w++){if(typeof u[w]=="function"){u[w].call(this,{oldstate:v,newstate:s,type:t.type})}}}}}}this.dispatchEvent=function(u,t){if(e[u]){var s=_utils.translateEventResponse(u,t[1]);for(var r=0;r<e[u].length;r++){if(typeof e[u][r]=="function"){e[u][r].call(this,s)}}}};this.onError=function(r){return d(a.api.events.JWPLAYER_ERROR,r)};this.onFullscreen=function(r){return d(a.api.events.JWPLAYER_FULLSCREEN,r)};this.onMeta=function(r){return d(a.api.events.JWPLAYER_MEDIA_META,r)};this.onMute=function(r){return d(a.api.events.JWPLAYER_MEDIA_MUTE,r)};this.onComplete=function(r){return d(a.api.events.JWPLAYER_MEDIA_COMPLETE,r)};this.onSeek=function(r){return d(a.api.events.JWPLAYER_MEDIA_SEEK,r)};this.onTime=function(r){return d(a.api.events.JWPLAYER_MEDIA_TIME,r)};this.onVolume=function(r){return d(a.api.events.JWPLAYER_MEDIA_VOLUME,r)};this.onBuffer=function(r){return o(a.api.events.state.BUFFERING,r)};this.onPause=function(r){return o(a.api.events.state.PAUSED,r)};this.onPlay=function(r){return o(a.api.events.state.PLAYING,r)};this.onIdle=function(r){return o(a.api.events.state.IDLE,r)};this.onInstreamClick=function(r){return d(a.api.events.JWPLAYER_INSTREAM_CLICK,r)};this.onInstreamDestroyed=function(r){return d(a.api.events.JWPLAYER_INSTREAM_DESTROYED,r)};this.play=function(r){b.jwInstreamPlay(r)};this.pause=function(r){b.jwInstreamPause(r)};this.seek=function(r){b.jwInstreamSeek(r)};this.destroy=function(){b.jwInstreamDestroy()};this.getState=function(){return b.jwInstreamGetState()};this.getDuration=function(){return b.jwInstreamGetDuration()};this.getPosition=function(){return b.jwInstreamGetPosition()};f()}})(jwplayer);(function(a){var c=a.utils;a.embed=function(h){var k={width:400,height:300,components:{controlbar:{position:"over"}}};var g=c.mediaparser.parseMedia(h.container);var f=new a.embed.config(c.extend(k,g,h.config),this);var j=a.plugins.loadPlugins(h.id,f.plugins);function d(n,m){for(var l in m){if(typeof n[l]=="function"){(n[l]).call(n,m[l])}}}function e(){if(j.getStatus()==c.loaderstatus.COMPLETE){for(var n=0;n<f.modes.length;n++){if(f.modes[n].type&&a.embed[f.modes[n].type]){var p=f.modes[n].config;var t=f;if(p){t=c.extend(c.clone(f),p);var s=["file","levels","playlist"];for(var m=0;m<s.length;m++){var q=s[m];if(c.exists(p[q])){for(var l=0;l<s.length;l++){if(l!=m){var o=s[l];if(c.exists(t[o])&&!c.exists(p[o])){delete t[o]}}}}}}var r=new a.embed[f.modes[n].type](document.getElementById(h.id),f.modes[n],t,j,h);if(r.supportsConfig()){r.embed();d(h,f.events);return h}}}c.log("No suitable players found");new a.embed.logo(c.extend({hide:true},f.components.logo),"none",h.id)}}j.addEventListener(a.events.COMPLETE,e);j.addEventListener(a.events.ERROR,e);j.load();return h};function b(){if(!document.body){return setTimeout(b,15)}var d=c.selectors.getElementsByTagAndClass("video","jwplayer");for(var e=0;e<d.length;e++){var f=d[e];if(f.id==""){f.id="jwplayer_"+Math.round(Math.random()*100000)}a(f.id).setup({})}}b()})(jwplayer);(function(e){var k=e.utils;function h(m){var l=[{type:"flash",src:m?m:"/jwplayer/player.swf"},{type:"html5"},{type:"download"}];if(k.isAndroid()){l[0]=l.splice(1,1,l[0])[0]}return l}var a={players:"modes",autoplay:"autostart"};function b(o){var n=o.toLowerCase();var m=["left","right","top","bottom"];for(var l=0;l<m.length;l++){if(n==m[l]){return true}}return false}function c(m){var l=false;l=(m instanceof Array)||(typeof m=="object"&&!m.position&&!m.size);return l}function j(l){if(typeof l=="string"){if(parseInt(l).toString()==l||l.toLowerCase().indexOf("px")>-1){return parseInt(l)}}return l}var g=["playlist","dock","controlbar","logo","display"];function f(l){var o={};switch(k.typeOf(l.plugins)){case"object":for(var n in l.plugins){o[k.getPluginName(n)]=n}break;case"string":var p=l.plugins.split(",");for(var m=0;m<p.length;m++){o[k.getPluginName(p[m])]=p[m]}break}return o}function d(p,o,n,l){if(k.typeOf(p[o])!="object"){p[o]={}}var m=p[o][n];if(k.typeOf(m)!="object"){p[o][n]=m={}}if(l){if(o=="plugins"){var q=k.getPluginName(n);m[l]=p[q+"."+l];delete p[q+"."+l]}else{m[l]=p[n+"."+l];delete p[n+"."+l]}}}e.embed.deserialize=function(m){var n=f(m);for(var l in n){d(m,"plugins",n[l])}for(var q in m){if(q.indexOf(".")>-1){var p=q.split(".");var o=p[0];var q=p[1];if(k.isInArray(g,o)){d(m,"components",o,q)}else{if(n[o]){d(m,"plugins",n[o],q)}}}}return m};e.embed.config=function(l,v){var u=k.extend({},l);var s;if(c(u.playlist)){s=u.playlist;delete u.playlist}u=e.embed.deserialize(u);u.height=j(u.height);u.width=j(u.width);if(typeof u.plugins=="string"){var m=u.plugins.split(",");if(typeof u.plugins!="object"){u.plugins={}}for(var q=0;q<m.length;q++){var r=k.getPluginName(m[q]);if(typeof u[r]=="object"){u.plugins[m[q]]=u[r];delete u[r]}else{u.plugins[m[q]]={}}}}for(var t=0;t<g.length;t++){var p=g[t];if(k.exists(u[p])){if(typeof u[p]!="object"){if(!u.components[p]){u.components[p]={}}if(p=="logo"){u.components[p].file=u[p]}else{u.components[p].position=u[p]}delete u[p]}else{if(!u.components[p]){u.components[p]={}}k.extend(u.components[p],u[p]);delete u[p]}}if(typeof u[p+"size"]!="undefined"){if(!u.components[p]){u.components[p]={}}u.components[p].size=u[p+"size"];delete u[p+"size"]}}if(typeof u.icons!="undefined"){if(!u.components.display){u.components.display={}}u.components.display.icons=u.icons;delete u.icons}for(var o in a){if(u[o]){if(!u[a[o]]){u[a[o]]=u[o]}delete u[o]}}var n;if(u.flashplayer&&!u.modes){n=h(u.flashplayer);delete u.flashplayer}else{if(u.modes){if(typeof u.modes=="string"){n=h(u.modes)}else{if(u.modes instanceof Array){n=u.modes}else{if(typeof u.modes=="object"&&u.modes.type){n=[u.modes]}}}delete u.modes}else{n=h()}}u.modes=n;if(s){u.playlist=s}return u}})(jwplayer);(function(a){a.embed.download=function(c,g,b,d,f){this.embed=function(){var k=a.utils.extend({},b);var q={};var j=b.width?b.width:480;if(typeof j!="number"){j=parseInt(j,10)}var m=b.height?b.height:320;if(typeof m!="number"){m=parseInt(m,10)}var u,o,n;var s={};if(b.playlist&&b.playlist.length){s.file=b.playlist[0].file;o=b.playlist[0].image;s.levels=b.playlist[0].levels}else{s.file=b.file;o=b.image;s.levels=b.levels}if(s.file){u=s.file}else{if(s.levels&&s.levels.length){u=s.levels[0].file}}n=u?"pointer":"auto";var l={display:{style:{cursor:n,width:j,height:m,backgroundColor:"#000",position:"relative",textDecoration:"none",border:"none",display:"block"}},display_icon:{style:{cursor:n,position:"absolute",display:u?"block":"none",top:0,left:0,border:0,margin:0,padding:0,zIndex:3,width:50,height:50,backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAALdJREFUeNrs18ENgjAYhmFouDOCcQJGcARHgE10BDcgTOIosAGwQOuPwaQeuFRi2p/3Sb6EC5L3QCxZBgAAAOCorLW1zMn65TrlkH4NcV7QNcUQt7Gn7KIhxA+qNIR81spOGkL8oFJDyLJRdosqKDDkK+iX5+d7huzwM40xptMQMkjIOeRGo+VkEVvIPfTGIpKASfYIfT9iCHkHrBEzf4gcUQ56aEzuGK/mw0rHpy4AAACAf3kJMACBxjAQNRckhwAAAABJRU5ErkJggg==)"}},display_iconBackground:{style:{cursor:n,position:"absolute",display:u?"block":"none",top:((m-50)/2),left:((j-50)/2),border:0,width:50,height:50,margin:0,padding:0,zIndex:2,backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAEpJREFUeNrszwENADAIA7DhX8ENoBMZ5KR10EryckCJiIiIiIiIiIiIiIiIiIiIiIh8GmkRERERERERERERERERERERERGRHSPAAPlXH1phYpYaAAAAAElFTkSuQmCC)"}},display_image:{style:{width:j,height:m,display:o?"block":"none",position:"absolute",cursor:n,left:0,top:0,margin:0,padding:0,textDecoration:"none",zIndex:1,border:"none"}}};var h=function(v,x,y){var w=document.createElement(v);if(y){w.id=y}else{w.id=c.id+"_jwplayer_"+x}a.utils.css(w,l[x].style);return w};q.display=h("a","display",c.id);if(u){q.display.setAttribute("href",a.utils.getAbsolutePath(u))}q.display_image=h("img","display_image");q.display_image.setAttribute("alt","Click to download...");if(o){q.display_image.setAttribute("src",a.utils.getAbsolutePath(o))}if(true){q.display_icon=h("div","display_icon");q.display_iconBackground=h("div","display_iconBackground");q.display.appendChild(q.display_image);q.display_iconBackground.appendChild(q.display_icon);q.display.appendChild(q.display_iconBackground)}_css=a.utils.css;_hide=function(v){_css(v,{display:"none"})};function r(v){_imageWidth=q.display_image.naturalWidth;_imageHeight=q.display_image.naturalHeight;t()}function t(){a.utils.stretch(a.utils.stretching.UNIFORM,q.display_image,j,m,_imageWidth,_imageHeight)}q.display_image.onerror=function(v){_hide(q.display_image)};q.display_image.onload=r;c.parentNode.replaceChild(q.display,c);var p=(b.plugins&&b.plugins.logo)?b.plugins.logo:{};q.display.appendChild(new a.embed.logo(b.components.logo,"download",c.id));f.container=document.getElementById(f.id);f.setPlayer(q.display,"download")};this.supportsConfig=function(){if(b){var j=a.utils.getFirstPlaylistItemFromConfig(b);if(typeof j.file=="undefined"&&typeof j.levels=="undefined"){return true}else{if(j.file){return e(j.file,j.provider,j.playlistfile)}else{if(j.levels&&j.levels.length){for(var h=0;h<j.levels.length;h++){if(j.levels[h].file&&e(j.levels[h].file,j.provider,j.playlistfile)){return true}}}}}}else{return true}};function e(j,l,h){if(h){return false}var k=["image","sound","youtube","http"];if(l&&(k.toString().indexOf(l)>-1)){return true}if(!l||(l&&l=="video")){var m=a.utils.extension(j);if(m&&a.utils.extensionmap[m]){return true}}return false}}})(jwplayer);(function(a){a.embed.flash=function(f,g,l,e,j){function m(o,n,p){var q=document.createElement("param");q.setAttribute("name",n);q.setAttribute("value",p);o.appendChild(q)}function k(o,p,n){return function(q){if(n){document.getElementById(j.id+"_wrapper").appendChild(p)}var s=document.getElementById(j.id).getPluginConfig("display");o.resize(s.width,s.height);var r={left:s.x,top:s.y};a.utils.css(p,r)}}function d(p){if(!p){return{}}var r={};for(var o in p){var n=p[o];for(var q in n){r[o+"."+q]=n[q]}}return r}function h(q,p){if(q[p]){var s=q[p];for(var o in s){var n=s[o];if(typeof n=="string"){if(!q[o]){q[o]=n}}else{for(var r in n){if(!q[o+"."+r]){q[o+"."+r]=n[r]}}}}delete q[p]}}function b(q){if(!q){return{}}var t={},s=[];for(var n in q){var p=a.utils.getPluginName(n);var o=q[n];s.push(n);for(var r in o){t[p+"."+r]=o[r]}}t.plugins=s.join(",");return t}function c(p){var n=p.netstreambasepath?"":"netstreambasepath="+encodeURIComponent(window.location.href.split("#")[0])+"&";for(var o in p){if(typeof(p[o])=="object"){n+=o+"="+encodeURIComponent("[[JSON]]"+a.utils.strings.jsonToString(p[o]))+"&"}else{n+=o+"="+encodeURIComponent(p[o])+"&"}}return n.substring(0,n.length-1)}this.embed=function(){l.id=j.id;var A;var r=a.utils.extend({},l);var o=r.width;var y=r.height;if(f.id+"_wrapper"==f.parentNode.id){A=document.getElementById(f.id+"_wrapper")}else{A=document.createElement("div");A.id=f.id+"_wrapper";a.utils.wrap(f,A);a.utils.css(A,{position:"relative",width:o,height:y})}var p=e.setupPlugins(j,r,k);if(p.length>0){a.utils.extend(r,b(p.plugins))}else{delete r.plugins}var s=["height","width","modes","events"];for(var v=0;v<s.length;v++){delete r[s[v]]}var q="opaque";if(r.wmode){q=r.wmode}h(r,"components");h(r,"providers");if(typeof r["dock.position"]!="undefined"){if(r["dock.position"].toString().toLowerCase()=="false"){r.dock=r["dock.position"];delete r["dock.position"]}}var x=a.utils.getCookies();for(var n in x){if(typeof(r[n])=="undefined"){r[n]=x[n]}}var z="#000000";var u;if(a.utils.isIE()){var w='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" bgcolor="'+z+'" width="100%" height="100%" id="'+f.id+'" name="'+f.id+'" tabindex=0"">';w+='<param name="movie" value="'+g.src+'">';w+='<param name="allowfullscreen" value="true">';w+='<param name="allowscriptaccess" value="always">';w+='<param name="seamlesstabbing" value="true">';w+='<param name="wmode" value="'+q+'">';w+='<param name="flashvars" value="'+c(r)+'">';w+="</object>";a.utils.setOuterHTML(f,w);u=document.getElementById(f.id)}else{var t=document.createElement("object");t.setAttribute("type","application/x-shockwave-flash");t.setAttribute("data",g.src);t.setAttribute("width","100%");t.setAttribute("height","100%");t.setAttribute("bgcolor","#000000");t.setAttribute("id",f.id);t.setAttribute("name",f.id);t.setAttribute("tabindex",0);m(t,"allowfullscreen","true");m(t,"allowscriptaccess","always");m(t,"seamlesstabbing","true");m(t,"wmode",q);m(t,"flashvars",c(r));f.parentNode.replaceChild(t,f);u=t}j.container=u;j.setPlayer(u,"flash")};this.supportsConfig=function(){if(a.utils.hasFlash()){if(l){var o=a.utils.getFirstPlaylistItemFromConfig(l);if(typeof o.file=="undefined"&&typeof o.levels=="undefined"){return true}else{if(o.file){return flashCanPlay(o.file,o.provider)}else{if(o.levels&&o.levels.length){for(var n=0;n<o.levels.length;n++){if(o.levels[n].file&&flashCanPlay(o.levels[n].file,o.provider)){return true}}}}}}else{return true}}return false};flashCanPlay=function(n,p){var o=["video","http","sound","image"];if(p&&(o.toString().indexOf(p)<0)){return true}var q=a.utils.extension(n);if(!q){return true}if(a.utils.exists(a.utils.extensionmap[q])&&!a.utils.exists(a.utils.extensionmap[q].flash)){return false}return true}}})(jwplayer);(function(a){a.embed.html5=function(c,g,b,d,f){function e(j,k,h){return function(l){var m=document.getElementById(c.id+"_displayarea");if(h){m.appendChild(k)}j.resize(m.clientWidth,m.clientHeight);k.left=m.style.left;k.top=m.style.top}}this.embed=function(){if(a.html5){d.setupPlugins(f,b,e);c.innerHTML="";var j=a.utils.extend({screencolor:"0x000000"},b);var h=["plugins","modes","events"];for(var k=0;k<h.length;k++){delete j[h[k]]}if(j.levels&&!j.sources){j.sources=b.levels}if(j.skin&&j.skin.toLowerCase().indexOf(".zip")>0){j.skin=j.skin.replace(/\.zip/i,".xml")}var l=new (a.html5(c)).setup(j);f.container=document.getElementById(f.id);f.setPlayer(l,"html5")}else{return null}};this.supportsConfig=function(){if(!!a.vid.canPlayType){if(b){var j=a.utils.getFirstPlaylistItemFromConfig(b);if(typeof j.file=="undefined"&&typeof j.levels=="undefined"){return true}else{if(j.file){return html5CanPlay(a.vid,j.file,j.provider,j.playlistfile)}else{if(j.levels&&j.levels.length){for(var h=0;h<j.levels.length;h++){if(j.levels[h].file&&html5CanPlay(a.vid,j.levels[h].file,j.provider,j.playlistfile)){return true}}}}}}else{return true}}return false};html5CanPlay=function(k,j,l,h){if(h){return false}if(l&&l=="youtube"){return true}if(l&&l!="video"&&l!="http"&&l!="sound"){return false}if(navigator.userAgent.match(/BlackBerry/i)!==null){return false}var m=a.utils.extension(j);if(!a.utils.exists(m)||!a.utils.exists(a.utils.extensionmap[m])){return true}if(!a.utils.exists(a.utils.extensionmap[m].html5)){return false}if(a.utils.isLegacyAndroid()&&m.match(/m4v|mp4/)){return true}return browserCanPlay(k,a.utils.extensionmap[m].html5)};browserCanPlay=function(j,h){if(!h){return true}if(j.canPlayType(h)){return true}else{if(h=="audio/mp3"&&navigator.userAgent.match(/safari/i)){return j.canPlayType("audio/mpeg")}else{return false}}}}})(jwplayer);(function(a){a.embed.logo=function(m,l,d){var j={prefix:"http://l.longtailvideo.com/"+l+"/",file:"",link:"",linktarget:"_top",margin:8,out:0.5,over:1,timeout:5,hide:false,position:"bottom-left"};_css=a.utils.css;var b;var h;k();function k(){o();c();f()}function o(){if(j.prefix){var q=a.version.split(/\W/).splice(0,2).join("/");if(j.prefix.indexOf(q)<0){j.prefix+=q+"/"}}h=a.utils.extend({},j,m)}function p(){var s={border:"none",textDecoration:"none",position:"absolute",cursor:"pointer",zIndex:10};s.display=h.hide?"none":"block";var r=h.position.toLowerCase().split("-");for(var q in r){s[r[q]]=h.margin}return s}function c(){b=document.createElement("img");b.id=d+"_jwplayer_logo";b.style.display="none";b.onload=function(q){_css(b,p());e()};if(!h.file){return}if(h.file.indexOf("http://")===0){b.src=h.file}else{b.src=h.prefix+h.file}}if(!h.file){return}function f(){if(h.link){b.onmouseover=g;b.onmouseout=e;b.onclick=n}else{this.mouseEnabled=false}}function n(q){if(typeof q!="undefined"){q.preventDefault();q.stopPropagation()}if(h.link){window.open(h.link,h.linktarget)}return}function e(q){if(h.link){b.style.opacity=h.out}return}function g(q){if(h.hide){b.style.opacity=h.over}return}return b}})(jwplayer);(function(a){a.html5=function(b){var c=b;this.setup=function(d){a.utils.extend(this,new a.html5.api(c,d));return this};return this}})(jwplayer);(function(a){var d=a.utils;var b=d.css;var c=d.isIOS();a.html5.view=function(n,H,h){var m=n;var y=H;var j=h;var R;var g;var t;var o;var F;var P;var O;var E=false;var x=false;var A,N;var f,S,u;function L(){R=document.createElement("div");R.id=y.id;R.className=y.className;_videowrapper=document.createElement("div");_videowrapper.id=R.id+"_video_wrapper";y.id=R.id+"_video";b(R,{position:"relative",height:j.height,width:j.width,padding:0,backgroundColor:U(),zIndex:0});function U(){if(m.skin.getComponentSettings("display")&&m.skin.getComponentSettings("display").backgroundcolor){return m.skin.getComponentSettings("display").backgroundcolor}return parseInt("000000",16)}b(y,{width:"100%",height:"100%",top:0,left:0,zIndex:1,margin:"auto",display:"block"});b(_videowrapper,{overflow:"hidden",position:"absolute",top:0,left:0,bottom:0,right:0});d.wrap(y,R);d.wrap(y,_videowrapper);o=document.createElement("div");o.id=R.id+"_displayarea";R.appendChild(o);_instreamArea=document.createElement("div");_instreamArea.id=R.id+"_instreamarea";b(_instreamArea,{overflow:"hidden",position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:100,background:"000000",display:"none"});R.appendChild(_instreamArea)}function K(){for(var U=0;U<j.plugins.order.length;U++){var V=j.plugins.order[U];if(d.exists(j.plugins.object[V].getDisplayElement)){j.plugins.object[V].height=d.parseDimension(j.plugins.object[V].getDisplayElement().style.height);j.plugins.object[V].width=d.parseDimension(j.plugins.object[V].getDisplayElement().style.width);j.plugins.config[V].currentPosition=j.plugins.config[V].position}}v()}function s(U){x=j.fullscreen}function p(U){if(S){return}switch(U.newstate){case a.api.events.state.PLAYING:if(j.getMedia()&&j.getMedia().hasChrome()){o.style.display="none"}break;default:o.style.display="block";break}l()}function v(V){var X=j.getMedia()?j.getMedia().getDisplayElement():null;if(d.exists(X)){if(O!=X){if(O&&O.parentNode){O.parentNode.replaceChild(X,O)}O=X}for(var U=0;U<j.plugins.order.length;U++){var W=j.plugins.order[U];if(d.exists(j.plugins.object[W].getDisplayElement)){j.plugins.config[W].currentPosition=j.plugins.config[W].position}}}G(j.width,j.height)}this.setup=function(){if(j&&j.getMedia()){y=j.getMedia().getDisplayElement()}L();K();m.jwAddEventListener(a.api.events.JWPLAYER_PLAYER_STATE,p);m.jwAddEventListener(a.api.events.JWPLAYER_MEDIA_LOADED,v);m.jwAddEventListener(a.api.events.JWPLAYER_MEDIA_BEFOREPLAY,s);m.jwAddEventListener(a.api.events.JWPLAYER_MEDIA_META,function(V){l()});var U;if(d.exists(window.onresize)){U=window.onresize}window.onresize=function(V){if(d.exists(U)){try{U(V)}catch(X){}}if(m.jwGetFullscreen()){if(!B()){var W=d.getBoundingClientRect(document.body);j.width=Math.abs(W.left)+Math.abs(W.right);j.height=window.innerHeight;G(j.width,j.height)}}else{G(j.width,j.height)}}};function M(U){switch(U.keyCode){case 27:if(m.jwGetFullscreen()){m.jwSetFullscreen(false)}break;case 32:if(m.jwGetState()!=a.api.events.state.IDLE&&m.jwGetState()!=a.api.events.state.PAUSED){m.jwPause()}else{m.jwPlay()}break}}function G(U,ad){if(R.style.display=="none"){return}var X=[].concat(j.plugins.order);X.reverse();F=X.length+2;if(x&&B()){try{if(j.fullscreen&&!j.getMedia().getDisplayElement().webkitDisplayingFullscreen){j.fullscreen=false}}catch(aa){}}if(!j.fullscreen){g=U;t=ad;if(typeof U=="string"&&U.indexOf("%")>0){g=d.getElementWidth(d.parentNode(R))*parseInt(U.replace("%"),"")/100}else{g=U}if(typeof ad=="string"&&ad.indexOf("%")>0){t=d.getElementHeight(d.parentNode(R))*parseInt(ad.replace("%"),"")/100}else{t=ad}var Y={top:0,bottom:0,left:0,right:0,width:g,height:t,position:"absolute"};b(o,Y);var ae={};var ab;try{ab=j.plugins.object.display.getDisplayElement()}catch(aa){}if(ab){ae.width=d.parseDimension(ab.style.width);ae.height=d.parseDimension(ab.style.height)}var ac=d.extend({},Y,ae,{zIndex:_instreamArea.style.zIndex,display:_instreamArea.style.display});b(_instreamArea,ac);b(R,{height:t,width:g});var Z=w(I,X);if(Z.length>0){F+=Z.length;var W=Z.indexOf("playlist"),V=Z.indexOf("controlbar");if(W>=0&&V>=0){Z[W]=Z.splice(V,1,Z[W])[0]}w(q,Z,true)}A=d.getElementWidth(o);N=d.getElementHeight(o)}else{if(!B()&&!c){w(e,X,true)}}l()}var r;function w(ab,X,Y){r=0;var Z=[];for(var W=0;W<X.length;W++){var aa=X[W];if(d.exists(j.plugins.object[aa].getDisplayElement)){if(j.plugins.config[aa].currentPosition!=a.html5.view.positions.NONE){var U=ab(aa,F--);if(!U){Z.push(aa)}else{var V=U.width;var ac=U.height;if(Y){delete U.width;delete U.height}b(j.plugins.object[aa].getDisplayElement(),U);j.plugins.object[aa].resize(V,ac)}}else{b(j.plugins.object[aa].getDisplayElement(),{display:"none"})}}}return Z}function I(V,W){if(d.exists(j.plugins.object[V].getDisplayElement)){if(j.plugins.config[V].position&&T(j.plugins.config[V].position)){if(!d.exists(j.plugins.object[V].getDisplayElement().parentNode)){R.appendChild(j.plugins.object[V].getDisplayElement())}var U=z(V);U.zIndex=W;return U}}return false}function q(U,V){if(!d.exists(j.plugins.object[U].getDisplayElement().parentNode)){o.appendChild(j.plugins.object[U].getDisplayElement())}return{position:"absolute",width:(d.getElementWidth(o)-d.parseDimension(o.style.right)),height:(d.getElementHeight(o)-d.parseDimension(o.style.bottom)),zIndex:V}}function e(U,V){return{position:"fixed",width:j.width,height:j.height,zIndex:V}}var l=this.resizeMedia=function(){o.style.position="absolute";var W=j.getMedia()?j.getMedia().getDisplayElement():u;if(!W){return}if(W&&W.tagName.toLowerCase()=="video"){if(!W.videoWidth||!W.videoHeight){W.style.width=o.style.width;W.style.height=o.style.height;return}W.style.position="absolute";d.fadeTo(W,1,0.25);if(W.parentNode){W.parentNode.style.left=o.style.left;W.parentNode.style.top=o.style.top}if(j.fullscreen&&m.jwGetStretching()==a.utils.stretching.EXACTFIT&&!d.isMobile()){var U=document.createElement("div");d.stretch(a.utils.stretching.UNIFORM,U,d.getElementWidth(o),d.getElementHeight(o),A,N);d.stretch(a.utils.stretching.EXACTFIT,W,d.parseDimension(U.style.width),d.parseDimension(U.style.height),W.videoWidth?W.videoWidth:400,W.videoHeight?W.videoHeight:300);b(W,{left:U.style.left,top:U.style.top})}else{if(!c){d.stretch(m.jwGetStretching(),W,d.getElementWidth(o),d.getElementHeight(o),W.videoWidth?W.videoWidth:400,W.videoHeight?W.videoHeight:300)}}}else{var V=j.plugins.object.display.getDisplayElement();if(V){j.getMedia().resize(d.parseDimension(V.style.width),d.parseDimension(V.style.height))}else{j.getMedia().resize(d.parseDimension(o.style.width),d.parseDimension(o.style.height))}}};var z=this.getComponentPosition=function(V){var W={position:"absolute",margin:0,padding:0,top:null};var U=j.plugins.config[V].currentPosition.toLowerCase();switch(U.toUpperCase()){case a.html5.view.positions.TOP:W.top=d.parseDimension(o.style.top);W.left=d.parseDimension(o.style.left);W.width=d.getElementWidth(o)-d.parseDimension(o.style.left)-d.parseDimension(o.style.right);W.height=j.plugins.object[V].height;o.style[U]=d.parseDimension(o.style[U])+j.plugins.object[V].height+"px";o.style.height=d.getElementHeight(o)-W.height+"px";break;case a.html5.view.positions.RIGHT:W.top=d.parseDimension(o.style.top);W.right=d.parseDimension(o.style.right);W.width=j.plugins.object[V].width;W.height=d.getElementHeight(o)-d.parseDimension(o.style.top)-d.parseDimension(o.style.bottom);o.style.width=d.getElementWidth(o)-W.width+"px";break;case a.html5.view.positions.BOTTOM:W.left=d.parseDimension(o.style.left);W.width=d.getElementWidth(o)-d.parseDimension(o.style.left)-d.parseDimension(o.style.right);W.height=j.plugins.object[V].height;W.bottom=d.parseDimension(o.style.bottom+r);r+=W.height;o.style.height=d.getElementHeight(o)-W.height+"px";break;case a.html5.view.positions.LEFT:W.top=d.parseDimension(o.style.top);W.left=d.parseDimension(o.style.left);W.width=j.plugins.object[V].width;W.height=d.getElementHeight(o)-d.parseDimension(o.style.top)-d.parseDimension(o.style.bottom);o.style[U]=d.parseDimension(o.style[U])+j.plugins.object[V].width+"px";o.style.width=d.getElementWidth(o)-W.width+"px";break;default:break}return W};this.resize=G;var J,k,Q;var C=this.fullscreen=function(W){if(c){return}var Y;try{Y=j.getMedia().getDisplayElement()}catch(X){}if(W){k=j.width;Q=j.height}var aa={position:"fixed",width:"100%",height:"100%",top:0,left:0,zIndex:2147483000},Z={position:"relative",height:k,width:Q,zIndex:0};if(B()&&Y&&Y.webkitSupportsFullscreen){if(W&&!Y.webkitDisplayingFullscreen){try{b(Y,aa);d.transform(Y);J=o.style.display;o.style.display="none";Y.webkitEnterFullscreen()}catch(V){}}else{if(!W){b(Y,Z);l();if(Y.webkitDisplayingFullscreen){try{Y.webkitExitFullscreen()}catch(V){}}o.style.display=J}}E=false}else{if(W){document.onkeydown=M;clearInterval(P);var U=d.getBoundingClientRect(document.body);j.width=Math.abs(U.left)+Math.abs(U.right);j.height=window.innerHeight;b(R,aa);aa.zIndex=1;if(j.getMedia()&&j.getMedia().getDisplayElement()){b(j.getMedia().getDisplayElement(),aa)}aa.zIndex=2;b(o,aa);E=true}else{document.onkeydown="";j.width=g;j.height=t;b(R,Z);E=false}G(j.width,j.height)}};function T(U){return([a.html5.view.positions.TOP,a.html5.view.positions.RIGHT,a.html5.view.positions.BOTTOM,a.html5.view.positions.LEFT].toString().indexOf(U.toUpperCase())>-1)}function B(){if(m.jwGetState()!=a.api.events.state.IDLE&&!E&&(j.getMedia()&&j.getMedia().getDisplayElement()&&j.getMedia().getDisplayElement().webkitSupportsFullscreen)&&d.useNativeFullscreen()){return true}return false}this.setupInstream=function(U,V){d.css(_instreamArea,{display:"block",position:"absolute"});o.style.display="none";_instreamArea.appendChild(U);u=V;S=true};var D=this.destroyInstream=function(){_instreamArea.style.display="none";_instreamArea.innerHTML="";o.style.display="block";u=null;S=false;G(j.width,j.height)}};a.html5.view.positions={TOP:"TOP",RIGHT:"RIGHT",BOTTOM:"BOTTOM",LEFT:"LEFT",OVER:"OVER",NONE:"NONE"}})(jwplayer);(function(a){var b={backgroundcolor:"",margin:10,font:"Arial,sans-serif",fontsize:10,fontcolor:parseInt("000000",16),fontstyle:"normal",fontweight:"bold",buttoncolor:parseInt("ffffff",16),position:a.html5.view.positions.BOTTOM,idlehide:false,hideplaylistcontrols:false,forcenextprev:false,layout:{left:{position:"left",elements:[{name:"play",type:"button"},{name:"divider",type:"divider"},{name:"prev",type:"button"},{name:"divider",type:"divider"},{name:"next",type:"button"},{name:"divider",type:"divider"},{name:"elapsed",type:"text"}]},center:{position:"center",elements:[{name:"time",type:"slider"}]},right:{position:"right",elements:[{name:"duration",type:"text"},{name:"blank",type:"button"},{name:"divider",type:"divider"},{name:"mute",type:"button"},{name:"volume",type:"slider"},{name:"divider",type:"divider"},{name:"fullscreen",type:"button"}]}}};_utils=a.utils;_css=_utils.css;_hide=function(c){_css(c,{display:"none"})};_show=function(c){_css(c,{display:"block"})};a.html5.controlbar=function(m,Y){window.controlbar=this;var l=m;var D=_utils.extend({},b,l.skin.getComponentSettings("controlbar"),Y);if(D.position==a.html5.view.positions.NONE||typeof a.html5.view.positions[D.position]=="undefined"){return}if(_utils.mapLength(l.skin.getComponentLayout("controlbar"))>0){D.layout=l.skin.getComponentLayout("controlbar")}var ag;var R;var af;var E;var w="none";var h;var k;var ah;var g;var f;var z;var S={};var q=false;var c={};var Q=-1;var ac;var j=false;var p;var d;var V=false;var G=false;var H;var aa=new a.html5.eventdispatcher();_utils.extend(this,aa);function K(){if(!ac){ac=l.skin.getSkinElement("controlbar","background");if(!ac){ac={width:0,height:0,src:null}}}return ac}function O(){af=0;E=0;R=0;if(!q){var ap={height:K().height,backgroundColor:D.backgroundcolor};ag=document.createElement("div");ag.id=l.id+"_jwplayer_controlbar";_css(ag,ap)}var ao=(l.skin.getSkinElement("controlbar","capLeft"));var an=(l.skin.getSkinElement("controlbar","capRight"));if(ao){y("capLeft","left",false,ag)}ad("background",ag,{position:"absolute",height:K().height,left:(ao?ao.width:0),zIndex:0},"img");if(K().src){S.background.src=K().src}ad("elements",ag,{position:"relative",height:K().height,zIndex:1});if(an){y("capRight","right",false,ag)}}this.getDisplayElement=function(){return ag};this.resize=function(ap,an){T();_utils.cancelAnimation(ag);f=ap;z=an;if(G!=l.jwGetFullscreen()){G=l.jwGetFullscreen();if(!G){Z()}d=undefined}var ao=x();J({id:l.id,duration:ah,position:k});v({id:l.id,bufferPercent:g});return ao};this.show=function(){if(j){j=false;_show(ag);W()}};this.hide=function(){if(!j){j=true;_hide(ag);ae()}};function r(){var ao=["timeSlider","volumeSlider","timeSliderRail","volumeSliderRail"];for(var ap in ao){var an=ao[ap];if(typeof S[an]!="undefined"){c[an]=_utils.getBoundingClientRect(S[an])}}}var e;function Z(an){if(j){return}clearTimeout(p);if(D.position==a.html5.view.positions.OVER||l.jwGetFullscreen()){switch(l.jwGetState()){case a.api.events.state.PAUSED:case a.api.events.state.IDLE:if(ag&&ag.style.opacity<1&&(!D.idlehide||_utils.exists(an))){e=false;setTimeout(function(){if(!e){X()}},100)}if(D.idlehide){p=setTimeout(function(){A()},2000)}break;default:e=true;if(an){X()}p=setTimeout(function(){A()},2000);break}}else{X()}}function A(){if(!j){ae();if(ag.style.opacity==1){_utils.cancelAnimation(ag);_utils.fadeTo(ag,0,0.1,1,0)}}}function X(){if(!j){W();if(ag.style.opacity==0){_utils.cancelAnimation(ag);_utils.fadeTo(ag,1,0.1,0,0)}}}function I(an){return function(){if(V&&d!=an){d=an;aa.sendEvent(an,{component:"controlbar",boundingRect:P()})}}}var W=I(a.api.events.JWPLAYER_COMPONENT_SHOW);var ae=I(a.api.events.JWPLAYER_COMPONENT_HIDE);function P(){if(D.position==a.html5.view.positions.OVER||l.jwGetFullscreen()){return _utils.getDimensions(ag)}else{return{x:0,y:0,width:0,height:0}}}function ad(ar,aq,ap,an){var ao;if(!q){if(!an){an="div"}ao=document.createElement(an);S[ar]=ao;ao.id=ag.id+"_"+ar;aq.appendChild(ao)}else{ao=document.getElementById(ag.id+"_"+ar)}if(_utils.exists(ap)){_css(ao,ap)}return ao}function N(){if(l.jwGetHeight()<=40){D.layout=_utils.clone(D.layout);for(var an=0;an<D.layout.left.elements.length;an++){if(D.layout.left.elements[an].name=="fullscreen"){D.layout.left.elements.splice(an,1)}}for(an=0;an<D.layout.right.elements.length;an++){if(D.layout.right.elements[an].name=="fullscreen"){D.layout.right.elements.splice(an,1)}}o()}am(D.layout.left);am(D.layout.center);am(D.layout.right)}function am(aq,an){var ar=aq.position=="right"?"right":"left";var ap=_utils.extend([],aq.elements);if(_utils.exists(an)){ap.reverse()}var aq=ad(aq.position+"Group",S.elements,{"float":"left",styleFloat:"left",cssFloat:"left",height:"100%"});for(var ao=0;ao<ap.length;ao++){C(ap[ao],ar,aq)}}function L(){return R++}function C(ar,au,aw){var aq,ao,ap,an,ax;if(!aw){aw=S.elements}if(ar.type=="divider"){y("divider"+L(),au,true,aw,undefined,ar.width,ar.element);return}switch(ar.name){case"play":y("playButton",au,false,aw);y("pauseButton",au,true,aw);U("playButton","jwPlay");U("pauseButton","jwPause");break;case"prev":y("prevButton",au,true,aw);U("prevButton","jwPlaylistPrev");break;case"stop":y("stopButton",au,true,aw);U("stopButton","jwStop");break;case"next":y("nextButton",au,true,aw);U("nextButton","jwPlaylistNext");break;case"elapsed":y("elapsedText",au,true,aw,null,null,l.skin.getSkinElement("controlbar","elapsedBackground"));break;case"time":ao=!_utils.exists(l.skin.getSkinElement("controlbar","timeSliderCapLeft"))?0:l.skin.getSkinElement("controlbar","timeSliderCapLeft").width;ap=!_utils.exists(l.skin.getSkinElement("controlbar","timeSliderCapRight"))?0:l.skin.getSkinElement("controlbar","timeSliderCapRight").width;aq=au=="left"?ao:ap;ax={height:K().height,position:"relative","float":"left",styleFloat:"left",cssFloat:"left"};var at=ad("timeSlider",aw,ax);y("timeSliderCapLeft",au,true,at,"relative");y("timeSliderRail",au,false,at,"relative");y("timeSliderBuffer",au,false,at,"absolute");y("timeSliderProgress",au,false,at,"absolute");y("timeSliderThumb",au,false,at,"absolute");y("timeSliderCapRight",au,true,at,"relative");ab("time");break;case"fullscreen":y("fullscreenButton",au,false,aw);y("normalscreenButton",au,true,aw);U("fullscreenButton","jwSetFullscreen",true);U("normalscreenButton","jwSetFullscreen",false);break;case"volume":ao=!_utils.exists(l.skin.getSkinElement("controlbar","volumeSliderCapLeft"))?0:l.skin.getSkinElement("controlbar","volumeSliderCapLeft").width;ap=!_utils.exists(l.skin.getSkinElement("controlbar","volumeSliderCapRight"))?0:l.skin.getSkinElement("controlbar","volumeSliderCapRight").width;aq=au=="left"?ao:ap;an=l.skin.getSkinElement("controlbar","volumeSliderRail").width+ao+ap;ax={height:K().height,position:"relative",width:an,"float":"left",styleFloat:"left",cssFloat:"left"};var av=ad("volumeSlider",aw,ax);y("volumeSliderCapLeft",au,false,av,"relative");y("volumeSliderRail",au,false,av,"relative");y("volumeSliderProgress",au,false,av,"absolute");y("volumeSliderThumb",au,false,av,"absolute");y("volumeSliderCapRight",au,false,av,"relative");ab("volume");break;case"mute":y("muteButton",au,false,aw);y("unmuteButton",au,true,aw);U("muteButton","jwSetMute",true);U("unmuteButton","jwSetMute",false);break;case"duration":y("durationText",au,true,aw,null,null,l.skin.getSkinElement("controlbar","durationBackground"));break}}function y(aq,au,ao,ax,ar,an,ap){if(_utils.exists(l.skin.getSkinElement("controlbar",aq))||aq.indexOf("Text")>0||aq.indexOf("divider")===0){var at={height:"100%",position:ar?ar:"relative",display:"block","float":"left",styleFloat:"left",cssFloat:"left"};if((aq.indexOf("next")===0||aq.indexOf("prev")===0)&&(l.jwGetPlaylist().length<2||D.hideplaylistcontrols.toString()=="true")){if(D.forcenextprev.toString()!="true"){ao=false;at.display="none"}}var ay;if(aq.indexOf("Text")>0){aq.innerhtml="00:00";at.font=D.fontsize+"px/"+(K().height+1)+"px "+D.font;at.color=D.fontcolor;at.textAlign="center";at.fontWeight=D.fontweight;at.fontStyle=D.fontstyle;at.cursor="default";if(ap){at.background="url("+ap.src+") no-repeat center";at.backgroundSize="100% "+K().height+"px"}at.padding="0 5px"}else{if(aq.indexOf("divider")===0){if(an){if(!isNaN(parseInt(an))){ay=parseInt(an)}}else{if(ap){var av=l.skin.getSkinElement("controlbar",ap);if(av){at.background="url("+av.src+") repeat-x center left";ay=av.width}}else{at.background="url("+l.skin.getSkinElement("controlbar","divider").src+") repeat-x center left";ay=l.skin.getSkinElement("controlbar","divider").width}}}else{at.background="url("+l.skin.getSkinElement("controlbar",aq).src+") repeat-x center left";ay=l.skin.getSkinElement("controlbar",aq).width}}if(au=="left"){if(ao){af+=ay}}else{if(au=="right"){if(ao){E+=ay}}}if(_utils.typeOf(ax)=="undefined"){ax=S.elements}at.width=ay;if(q){_css(S[aq],at)}else{var aw=ad(aq,ax,at);if(_utils.exists(l.skin.getSkinElement("controlbar",aq+"Over"))){aw.onmouseover=function(az){aw.style.backgroundImage=["url(",l.skin.getSkinElement("controlbar",aq+"Over").src,")"].join("")};aw.onmouseout=function(az){aw.style.backgroundImage=["url(",l.skin.getSkinElement("controlbar",aq).src,")"].join("")}}if(aq.indexOf("divider")==0){aw.setAttribute("class","divider")}aw.innerHTML="&nbsp;"}}}function F(){l.jwAddEventListener(a.api.events.JWPLAYER_PLAYLIST_LOADED,B);l.jwAddEventListener(a.api.events.JWPLAYER_PLAYLIST_ITEM,t);l.jwAddEventListener(a.api.events.JWPLAYER_MEDIA_BUFFER,v);l.jwAddEventListener(a.api.events.JWPLAYER_PLAYER_STATE,s);l.jwAddEventListener(a.api.events.JWPLAYER_MEDIA_TIME,J);l.jwAddEventListener(a.api.events.JWPLAYER_MEDIA_MUTE,al);l.jwAddEventListener(a.api.events.JWPLAYER_MEDIA_VOLUME,n);l.jwAddEventListener(a.api.events.JWPLAYER_MEDIA_COMPLETE,M)}function B(){if(!D.hideplaylistcontrols){if(l.jwGetPlaylist().length>1||D.forcenextprev.toString()=="true"){_show(S.nextButton);_show(S.prevButton)}else{_hide(S.nextButton);_hide(S.prevButton)}x();ai()}}function t(an){ah=l.jwGetPlaylist()[an.index].duration;Q=-1;J({id:l.id,duration:ah,position:0});v({id:l.id,bufferProgress:0})}function ai(){J({id:l.id,duration:l.jwGetDuration(),position:0});v({id:l.id,bufferProgress:0});al({id:l.id,mute:l.jwGetMute()});s({id:l.id,newstate:a.api.events.state.IDLE});n({id:l.id,volume:l.jwGetVolume()})}function U(ap,aq,ao){if(q){return}if(_utils.exists(l.skin.getSkinElement("controlbar",ap))){var an=S[ap];if(_utils.exists(an)){_css(an,{cursor:"pointer"});if(aq=="fullscreen"){an.onmouseup=function(ar){ar.stopPropagation();l.jwSetFullscreen(!l.jwGetFullscreen())}}else{an.onmouseup=function(ar){ar.stopPropagation();if(_utils.exists(ao)){l[aq](ao)}else{l[aq]()}}}}}}function ab(an){if(q){return}var ao=S[an+"Slider"];_css(S.elements,{cursor:"pointer"});_css(ao,{cursor:"pointer"});ao.onmousedown=function(ap){w=an};ao.onmouseup=function(ap){ap.stopPropagation();ak(ap.pageX)};ao.onmousemove=function(ap){if(w=="time"){h=true;var aq=ap.pageX-c[an+"Slider"].left-window.pageXOffset;_css(S[w+"SliderThumb"],{left:aq})}}}function ak(ao){h=false;var an;if(w=="time"){an=ao-c.timeSliderRail.left+window.pageXOffset;var aq=an/c.timeSliderRail.width*ah;if(aq<0){aq=0}else{if(aq>ah){aq=ah-3}}if(l.jwGetState()==a.api.events.state.PAUSED||l.jwGetState()==a.api.events.state.IDLE){l.jwPlay()}l.jwSeek(aq)}else{if(w=="volume"){an=ao-c.volumeSliderRail.left-window.pageXOffset;var ap=Math.round(an/c.volumeSliderRail.width*100);if(ap<10){ap=0}else{if(ap>100){ap=100}}if(l.jwGetMute()){l.jwSetMute(false)}l.jwSetVolume(ap)}}w="none"}function v(ao){if(_utils.exists(ao.bufferPercent)){g=ao.bufferPercent}if(c.timeSliderRail){var aq=l.skin.getSkinElement("controlbar","timeSliderCapLeft");var ap=c.timeSliderRail.width;var an=isNaN(Math.round(ap*g/100))?0:Math.round(ap*g/100);_css(S.timeSliderBuffer,{width:an,left:aq?aq.width:0})}}function al(an){if(an.mute){_hide(S.muteButton);_show(S.unmuteButton);_hide(S.volumeSliderProgress)}else{_show(S.muteButton);_hide(S.unmuteButton);_show(S.volumeSliderProgress)}}function s(an){if(an.newstate==a.api.events.state.BUFFERING||an.newstate==a.api.events.state.PLAYING){_show(S.pauseButton);_hide(S.playButton)}else{_hide(S.pauseButton);_show(S.playButton)}Z();if(an.newstate==a.api.events.state.IDLE){_hide(S.timeSliderBuffer);_hide(S.timeSliderProgress);_hide(S.timeSliderThumb);J({id:l.id,duration:l.jwGetDuration(),position:0})}else{_show(S.timeSliderBuffer);if(an.newstate!=a.api.events.state.BUFFERING){_show(S.timeSliderProgress);_show(S.timeSliderThumb)}}}function M(an){v({bufferPercent:0});J(_utils.extend(an,{position:0,duration:ah}))}function J(at){if(_utils.exists(at.position)){k=at.position}var ao=false;if(_utils.exists(at.duration)&&at.duration!=ah){ah=at.duration;ao=true}var aq=(k===ah===0)?0:k/ah;var av=c.timeSliderRail;if(av){var ap=isNaN(Math.round(av.width*aq))?0:Math.round(av.width*aq);var au=l.skin.getSkinElement("controlbar","timeSliderCapLeft");var ar=ap+(au?au.width:0);if(S.timeSliderProgress){_css(S.timeSliderProgress,{width:ap,left:au?au.width:0});if(!h){if(S.timeSliderThumb){S.timeSliderThumb.style.left=ar+"px"}}}}if(S.durationText){S.durationText.innerHTML=_utils.timeFormat(ah)}if(S.elapsedText){var an=_utils.timeFormat(k);S.elapsedText.innerHTML=an;if(Q!=an.length){ao=true;Q=an.length}}if(ao){x()}}function o(){var an=S.elements.childNodes;var at,aq;for(var ap=0;ap<an.length;ap++){var ar=an[ap].childNodes;for(var ao in ar){if(isNaN(parseInt(ao,10))){continue}if(ar[ao].id.indexOf(ag.id+"_divider")===0&&aq&&aq.id.indexOf(ag.id+"_divider")===0&&ar[ao].style.backgroundImage==aq.style.backgroundImage){ar[ao].style.display="none"}else{if(ar[ao].id.indexOf(ag.id+"_divider")===0&&at&&at.style.display!="none"){ar[ao].style.display="block"}}if(ar[ao].style.display!="none"){aq=ar[ao]}at=ar[ao]}}}function aj(){if(l.jwGetFullscreen()){_show(S.normalscreenButton);_hide(S.fullscreenButton)}else{_hide(S.normalscreenButton);_show(S.fullscreenButton)}if(l.jwGetState()==a.api.events.state.BUFFERING||l.jwGetState()==a.api.events.state.PLAYING){_show(S.pauseButton);_hide(S.playButton)}else{_hide(S.pauseButton);_show(S.playButton)}if(l.jwGetMute()==true){_hide(S.muteButton);_show(S.unmuteButton);_hide(S.volumeSliderProgress)}else{_show(S.muteButton);_hide(S.unmuteButton);_show(S.volumeSliderProgress)}}function x(){o();aj();var ap={width:f};var ax={"float":"left",styleFloat:"left",cssFloat:"left"};if(D.position==a.html5.view.positions.OVER||l.jwGetFullscreen()){ap.left=D.margin;ap.width-=2*D.margin;ap.top=z-K().height-D.margin;ap.height=K().height}var ar=l.skin.getSkinElement("controlbar","capLeft");var av=l.skin.getSkinElement("controlbar","capRight");ax.width=ap.width-(ar?ar.width:0)-(av?av.width:0);var aq=_utils.getBoundingClientRect(S.leftGroup).width;var au=_utils.getBoundingClientRect(S.rightGroup).width;var at=ax.width-aq-au-1;var ao=at;var an=l.skin.getSkinElement("controlbar","timeSliderCapLeft");var aw=l.skin.getSkinElement("controlbar","timeSliderCapRight");if(_utils.exists(an)){ao-=an.width}if(_utils.exists(aw)){ao-=aw.width}S.timeSlider.style.width=at+"px";S.timeSliderRail.style.width=ao+"px";_css(ag,ap);_css(S.elements,ax);_css(S.background,ax);r();return ap}function n(at){if(_utils.exists(S.volumeSliderRail)){var ap=isNaN(at.volume/100)?1:at.volume/100;var aq=_utils.parseDimension(S.volumeSliderRail.style.width);var an=isNaN(Math.round(aq*ap))?0:Math.round(aq*ap);var au=_utils.parseDimension(S.volumeSliderRail.style.right);var ao=(!_utils.exists(l.skin.getSkinElement("controlbar","volumeSliderCapLeft")))?0:l.skin.getSkinElement("controlbar","volumeSliderCapLeft").width;_css(S.volumeSliderProgress,{width:an,left:ao});if(S.volumeSliderThumb){var ar=(an-Math.round(_utils.parseDimension(S.volumeSliderThumb.style.width)/2));ar=Math.min(Math.max(ar,0),aq-_utils.parseDimension(S.volumeSliderThumb.style.width));_css(S.volumeSliderThumb,{left:ar})}if(_utils.exists(S.volumeSliderCapLeft)){_css(S.volumeSliderCapLeft,{left:0})}}}function T(){try{var ao=(l.id.indexOf("_instream")>0?l.id.replace("_instream",""):l.id);H=document.getElementById(ao);H.addEventListener("mousemove",Z)}catch(an){_utils.log("Could not add mouse listeners to controlbar: "+an)}}function u(){O();N();r();q=true;F();D.idlehide=(D.idlehide.toString().toLowerCase()=="true");if(D.position==a.html5.view.positions.OVER&&D.idlehide){ag.style.opacity=0;V=true}else{ag.style.opacity=1;setTimeout((function(){V=true;W()}),1)}T();ai()}u();return this}})(jwplayer);(function(b){var a=["width","height","state","playlist","item","position","buffer","duration","volume","mute","fullscreen"];var c=b.utils;b.html5.controller=function(o,K,f,h){var n=o,m=f,j=h,y=K,M=true,G=-1,A=false,d=false,P,C=[],q=false;var D=(c.exists(m.config.debug)&&(m.config.debug.toString().toLowerCase()=="console")),N=new b.html5.eventdispatcher(y.id,D);c.extend(this,N);function L(T){if(q){N.sendEvent(T.type,T)}else{C.push(T)}}function s(T){if(!q){q=true;N.sendEvent(b.api.events.JWPLAYER_READY,T);if(b.utils.exists(window.playerReady)){playerReady(T)}if(b.utils.exists(window[f.config.playerReady])){window[f.config.playerReady](T)}while(C.length>0){var V=C.shift();N.sendEvent(V.type,V)}if(f.config.autostart&&!b.utils.isIOS()){O()}while(x.length>0){var U=x.shift();B(U.method,U.arguments)}}}m.addGlobalListener(L);m.addEventListener(b.api.events.JWPLAYER_MEDIA_BUFFER_FULL,function(){m.getMedia().play()});m.addEventListener(b.api.events.JWPLAYER_MEDIA_TIME,function(T){if(T.position>=m.playlist[m.item].start&&G>=0){m.playlist[m.item].start=G;G=-1}});m.addEventListener(b.api.events.JWPLAYER_MEDIA_COMPLETE,function(T){setTimeout(E,25)});m.addEventListener(b.api.events.JWPLAYER_PLAYLIST_LOADED,O);m.addEventListener(b.api.events.JWPLAYER_FULLSCREEN,p);function F(){try{P=F;if(!A){A=true;N.sendEvent(b.api.events.JWPLAYER_MEDIA_BEFOREPLAY);A=false;if(d){d=false;P=null;return}}v(m.item);if(m.playlist[m.item].levels[0].file.length>0){if(M||m.state==b.api.events.state.IDLE){m.getMedia().load(m.playlist[m.item]);M=false}else{if(m.state==b.api.events.state.PAUSED){m.getMedia().play()}}}return true}catch(T){N.sendEvent(b.api.events.JWPLAYER_ERROR,T);P=null}return false}function e(){try{if(m.playlist[m.item].levels[0].file.length>0){switch(m.state){case b.api.events.state.PLAYING:case b.api.events.state.BUFFERING:if(m.getMedia()){m.getMedia().pause()}break;default:if(A){d=true}}}return true}catch(T){N.sendEvent(b.api.events.JWPLAYER_ERROR,T)}return false}function z(T){try{if(m.playlist[m.item].levels[0].file.length>0){if(typeof T!="number"){T=parseFloat(T)}switch(m.state){case b.api.events.state.IDLE:if(G<0){G=m.playlist[m.item].start;m.playlist[m.item].start=T}if(!A){F()}break;case b.api.events.state.PLAYING:case b.api.events.state.PAUSED:case b.api.events.state.BUFFERING:m.seek(T);break}}return true}catch(U){N.sendEvent(b.api.events.JWPLAYER_ERROR,U)}return false}function w(T){P=null;if(!c.exists(T)){T=true}try{if((m.state!=b.api.events.state.IDLE||T)&&m.getMedia()){m.getMedia().stop(T)}if(A){d=true}return true}catch(U){N.sendEvent(b.api.events.JWPLAYER_ERROR,U)}return false}function k(){try{if(m.playlist[m.item].levels[0].file.length>0){if(m.config.shuffle){v(S())}else{if(m.item+1==m.playlist.length){v(0)}else{v(m.item+1)}}}if(m.state!=b.api.events.state.IDLE){var U=m.state;m.state=b.api.events.state.IDLE;N.sendEvent(b.api.events.JWPLAYER_PLAYER_STATE,{oldstate:U,newstate:b.api.events.state.IDLE})}F();return true}catch(T){N.sendEvent(b.api.events.JWPLAYER_ERROR,T)}return false}function I(){try{if(m.playlist[m.item].levels[0].file.length>0){if(m.config.shuffle){v(S())}else{if(m.item===0){v(m.playlist.length-1)}else{v(m.item-1)}}}if(m.state!=b.api.events.state.IDLE){var U=m.state;m.state=b.api.events.state.IDLE;N.sendEvent(b.api.events.JWPLAYER_PLAYER_STATE,{oldstate:U,newstate:b.api.events.state.IDLE})}F();return true}catch(T){N.sendEvent(b.api.events.JWPLAYER_ERROR,T)}return false}function S(){var T=null;if(m.playlist.length>1){while(!c.exists(T)){T=Math.floor(Math.random()*m.playlist.length);if(T==m.item){T=null}}}else{T=0}return T}function H(U){if(!m.playlist||!m.playlist[U]){return false}try{if(m.playlist[U].levels[0].file.length>0){var V=m.state;if(V!==b.api.events.state.IDLE){if(m.playlist[m.item]&&m.playlist[m.item].provider==m.playlist[U].provider){w(false)}else{w()}}v(U);F()}return true}catch(T){N.sendEvent(b.api.events.JWPLAYER_ERROR,T)}return false}function v(T){if(!m.playlist[T]){return}m.setActiveMediaProvider(m.playlist[T]);if(m.item!=T){m.item=T;M=true;N.sendEvent(b.api.events.JWPLAYER_PLAYLIST_ITEM,{index:T})}}function g(U){try{v(m.item);var V=m.getMedia();switch(typeof(U)){case"number":V.volume(U);break;case"string":V.volume(parseInt(U,10));break}m.setVolume(U);return true}catch(T){N.sendEvent(b.api.events.JWPLAYER_ERROR,T)}return false}function r(U){try{v(m.item);var V=m.getMedia();if(typeof U=="undefined"){V.mute(!m.mute);m.setMute(!m.mute)}else{if(U.toString().toLowerCase()=="true"){V.mute(true);m.setMute(true)}else{V.mute(false);m.setMute(false)}}return true}catch(T){N.sendEvent(b.api.events.JWPLAYER_ERROR,T)}return false}function J(U,T){try{m.width=U;m.height=T;j.resize(U,T);N.sendEvent(b.api.events.JWPLAYER_RESIZE,{width:m.width,height:m.height});return true}catch(V){N.sendEvent(b.api.events.JWPLAYER_ERROR,V)}return false}function u(U,V){try{if(typeof U=="undefined"){U=!m.fullscreen}if(typeof V=="undefined"){V=true}if(U!=m.fullscreen){m.fullscreen=(U.toString().toLowerCase()=="true");j.fullscreen(m.fullscreen);if(V){N.sendEvent(b.api.events.JWPLAYER_FULLSCREEN,{fullscreen:m.fullscreen})}N.sendEvent(b.api.events.JWPLAYER_RESIZE,{width:m.width,height:m.height})}return true}catch(T){N.sendEvent(b.api.events.JWPLAYER_ERROR,T)}return false}function R(T){try{w();if(A){d=false}m.loadPlaylist(T);if(m.playlist[m.item].provider){v(m.item);if(m.config.autostart.toString().toLowerCase()=="true"&&!c.isIOS()&&!A){F()}return true}else{return false}}catch(U){N.sendEvent(b.api.events.JWPLAYER_ERROR,U)}return false}function O(T){if(!c.isIOS()){v(m.item);if(m.config.autostart.toString().toLowerCase()=="true"&&!c.isIOS()){F()}}}function p(T){u(T.fullscreen,false)}function t(){try{return m.getMedia().detachMedia()}catch(T){return null}}function l(){try{var T=m.getMedia().attachMedia();if(typeof P=="function"){P()}}catch(U){return null}}b.html5.controller.repeatoptions={LIST:"LIST",ALWAYS:"ALWAYS",SINGLE:"SINGLE",NONE:"NONE"};function E(){if(m.state!=b.api.events.state.IDLE){return}P=E;switch(m.config.repeat.toUpperCase()){case b.html5.controller.repeatoptions.SINGLE:F();break;case b.html5.controller.repeatoptions.ALWAYS:if(m.item==m.playlist.length-1&&!m.config.shuffle){H(0)}else{k()}break;case b.html5.controller.repeatoptions.LIST:if(m.item==m.playlist.length-1&&!m.config.shuffle){w();v(0)}else{k()}break;default:w();break}}var x=[];function Q(T){return function(){if(q){B(T,arguments)}else{x.push({method:T,arguments:arguments})}}}function B(V,U){var T=[];for(i=0;i<U.length;i++){T.push(U[i])}V.apply(this,T)}this.play=Q(F);this.pause=Q(e);this.seek=Q(z);this.stop=Q(w);this.next=Q(k);this.prev=Q(I);this.item=Q(H);this.setVolume=Q(g);this.setMute=Q(r);this.resize=Q(J);this.setFullscreen=Q(u);this.load=Q(R);this.playerReady=s;this.detachMedia=t;this.attachMedia=l;this.beforePlay=function(){return A};this.destroy=function(){if(m.getMedia()){m.getMedia().destroy()}}}})(jwplayer);(function(a){a.html5.defaultSkin=function(){this.text='<?xml version="1.0" ?><skin author="LongTail Video" name="Five" version="1.1"><components><component name="controlbar"><settings><setting name="margin" value="20"/><setting name="fontsize" value="11"/><setting name="fontcolor" value="0x000000"/></settings><layout><group position="left"><button name="play"/><divider name="divider"/><button name="prev"/><divider name="divider"/><button name="next"/><divider name="divider"/><text name="elapsed"/></group><group position="center"><slider name="time"/></group><group position="right"><text name="duration"/><divider name="divider"/><button name="blank"/><divider name="divider"/><button name="mute"/><slider name="volume"/><divider name="divider"/><button name="fullscreen"/></group></layout><elements><element name="background" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAIAAABvFaqvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAElJREFUOI3t1LERACAMQlFgGvcfxNIhHMK4gsUvUviOmgtNsiAZkBSEKxKEnCYkkQrJn/YwbUNiSDDYRZaQRDaShv+oX9GBZEIuK+8hXVLs+/YAAAAASUVORK5CYII="/><element name="blankButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAYCAYAAAAyJzegAAAAFElEQVQYV2P8//8/AzpgHBUc7oIAGZdH0RjKN8EAAAAASUVORK5CYII="/><element name="capLeft" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAYCAYAAAA7zJfaAAAAQElEQVQIWz3LsRGAMADDQJ0XB5bMINABZ9GENGrszxhjT2WLSqxEJG2JQrTMdV2q5LpOAvyRaVmsi7WdeZ/7+AAaOTq7BVrfOQAAAABJRU5ErkJggg=="/><element name="capRight" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAYCAYAAAA7zJfaAAAAQElEQVQIWz3LsRGAMADDQJ0XB5bMINABZ9GENGrszxhjT2WLSqxEJG2JQrTMdV2q5LpOAvyRaVmsi7WdeZ/7+AAaOTq7BVrfOQAAAABJRU5ErkJggg=="/><element name="divider" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAYCAIAAAC0rgCNAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADhJREFUCB0FwcENgEAAw7Aq+893g8APUILNOQcbFRktVGqUVFRkWNz3xTa2sUaLNUosKlRUvvf5AdbWOTtzmzyWAAAAAElFTkSuQmCC"/><element name="playButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAANUlEQVR42u2RsQkAAAjD/NTTPaW6dXLrINJA1kBpGPMAjDWmOgp1HFQXx+b1KOefO4oxY57R73YnVYCQUCQAAAAASUVORK5CYII="/><element name="pauseButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAIUlEQVQ4jWNgGAWjYOiD/0gYG3/U0FFDB4Oho2AUDAYAAEwiL9HrpdMVAAAAAElFTkSuQmCC"/><element name="prevButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAQklEQVQ4y2NgGAWjYOiD/1AMA/JAfB5NjCJD/YH4PRaLyDa0H4lNNUP/DxlD59PCUBCIp3ZEwYA+NZLUKBgFgwEAAN+HLX9sB8u8AAAAAElFTkSuQmCC"/><element name="nextButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAQElEQVQ4y2NgGAWjYOiD/0B8Hojl0cT+U2ooCL8HYn9qGwrD/bQw9P+QMXQ+tSMqnpoRBUpS+tRMUqNgFAwGAADxZy1/mHvFnAAAAABJRU5ErkJggg=="/><element name="timeSliderRail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAOElEQVRIDe3BwQkAIRADwAhhw/nU/kWwUK+KPITMABFh19Y+F0acY8CJvX9wYpXgRElwolSIiMf9ZWEDhtwurFsAAAAASUVORK5CYII="/><element name="timeSliderBuffer" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAN0lEQVRIDe3BwQkAMQwDMBcc55mRe9zi7RR+FCwBEWG39vcfGHFm4MTuhhMlwYlVBSdKhYh43AW/LQMKm1spzwAAAABJRU5ErkJggg=="/><element name="timeSliderProgress" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAIElEQVRIiWNgGAWjYBTQBfynMR61YCRYMApGwSigMQAAiVWPcbq6UkIAAAAASUVORK5CYII="/><element name="timeSliderThumb" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAYCAYAAAA/OUfnAAAAO0lEQVQYlWP4//8/Awwz0JgDBP/BeN6Cxf/hnI2btiI4u/fsQ3AOHjqK4Jw4eQbBOX/hEoKDYjSd/AMA4cS4mfLsorgAAAAASUVORK5CYII="/><element name="muteButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAYCAYAAADKx8xXAAAAJklEQVQ4y2NgGAUjDcwH4v/kaPxPikZkxcNVI9mBQ5XoGAWDFwAAsKAXKQQmfbUAAAAASUVORK5CYII="/><element name="unmuteButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAYCAYAAADKx8xXAAAAMklEQVQ4y2NgGAWDHPyntub5xBr6Hwv/Pzk2/yfVG/8psRFE25Oq8T+tQnsIaB4FVAcAi2YVysVY52AAAAAASUVORK5CYII="/><element name="volumeSliderRail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYAgMAAACdGdVrAAAACVBMVEUAAACmpqampqbBXAu8AAAAAnRSTlMAgJsrThgAAAArSURBVAhbY2AgErBAyA4I2QEhOyBkB4TsYOhAoaCCUCUwDTDtMMNgRuMHAFB5FoGH5T0UAAAAAElFTkSuQmCC"/><element name="volumeSliderProgress" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYAgMAAACdGdVrAAAACVBMVEUAAAAAAAAAAACDY+nAAAAAAnRSTlMAgJsrThgAAAArSURBVAhbY2AgErBAyA4I2QEhOyBkB4TsYOhAoaCCUCUwDTDtMMNgRuMHAFB5FoGH5T0UAAAAAElFTkSuQmCC"/><element name="volumeSliderCapRight" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAYCAYAAAAyJzegAAAAFElEQVQYV2P8//8/AzpgHBUc7oIAGZdH0RjKN8EAAAAASUVORK5CYII="/><element name="fullscreenButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAQklEQVRIiWNgGAWjYMiD/0iYFDmSLbDHImdPLQtgBpEiR7Zl2NijAA5oEkT/0Whi5UiyAJ8BVMsHNMtoo2AUDAIAAGdcIN3IDNXoAAAAAElFTkSuQmCC"/><element name="normalscreenButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAP0lEQVRIx2NgGAWjYMiD/1RSQ5QB/wmIUWzJfzx8qhj+n4DYCAY0DyJ7PBbYU8sHMEvwiZFtODXUjIJRMJgBACpWIN2ZxdPTAAAAAElFTkSuQmCC"/></elements></component><component name="display"><elements><element name="background" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyAQMAAAAk8RryAAAABlBMVEUAAAAAAAClZ7nPAAAAAnRSTlOZpuml+rYAAAASSURBVBhXY2AYJuA/GBwY6jQAyDyoK8QcL4QAAAAASUVORK5CYII="/><element name="playIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAiUlEQVR42u3XSw2AMBREURwgAQlIQAISKgUpSEFKJeCg5b0E0kWBTVcD9ySTsL0Jn9IBAAAA+K2UUrBlW/Rr5ZDoIeeuoFkxJD9ss03aIXXQqB9SttoG7ZA6qNcOKdttiwcJh9RB+iFl4SshkRBuLR72+9cvH0SOKI2HRo7x/Fi1/uoCAAAAwLsD8ki99IlO2dQAAAAASUVORK5CYII="/><element name="muteIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAVUlEQVR42u3WMQrAIAxAUW/g/SdvGmvpoOBeSHgPsjj5QTANAACARCJilIhYM0tEvJM+Ik3Id9E957kQIb+F3OdCPC0hPkQriqWx9hp/x/QGAABQyAPLB22VGrpLDgAAAABJRU5ErkJggg=="/><element name="errorIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAA/0lEQVR42u2U0QmEMBAF7cASLMESUoIlpARLSCkpwRJSgiWkhOvAXD4WsgRkyaG5DbyB+Yvg8KITAAAAAAAYk+u61mwk15EjPtlEfihmqIiZR1Qx80ghjgdUuiHXGHSVsoag0x6x8DUoyjD5KovmEJ9NTDMRPIT0mtdIUkjlonuNohO+Ha99DTmkuGgKCTcvebAzx82ZoCWC3/3aIMWSRucaxcjORSFY4xpFdjYJGp1rFGcyCYZ/RVh6AUnfcNZ2zih3/mGj1jVCdiNDwyrq1rA/xMdeEXvDVdnYc1vDc3uPkDObXrlaxbNHSOohQhr/WOeLEWfWTgAAAAAAADzNF9sHJ7PJ57MlAAAAAElFTkSuQmCC"/><element name="bufferIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACBklEQVR42u3Zv0sCYRzH8USTzOsHHEWGkC1HgaDgkktGDjUYtDQ01RDSljQ1BLU02+rk1NTm2NLq4Nx/0L/h9fnCd3j4cnZe1/U8xiO8h3uurufF0/3COd/3/0UWYiEWYiEWYiGJQ+J8xuPxKhXjEMZANinjIZhkGuVRNioE4wVURo4JkHm0xKWmhRAc1bh1EyCUw5BcBIjHiApKa4CErko6DEJwuRo6IRKzyJD8FJAyI3Zp2zRImiBcRhlfo5RtlxCcE3CcDNpGrhYIT2IhAJKilO0VRmzJ32fAMTpBTS0QMfGwlcuKMRftE0DJ0wCJdcOsCkBdXP3Mh9CEFUBTPS9mDZJBG6io4aqVzMdCokCw9H3kT6j/C/9iDdSeUMNC7DkyyxAs/Rk6Qss8FPWRZgdVtUH4DjxEn1zxh+/zj1wHlf4MQhNGrwqA6sY40U8JonRJwEQh+AO3AvCG6gHv4U7IY4krxkroWoAOkoQMGfCBrgIm+YBGqPENpIJ66CJg3x66Y0gnSUidAEEnNr9jjLiWMn5DiWP0OC/oAsCgkq43xBdGDMQr7YASP/vEkHvdl1+JOCcEV5sC4hGEOzTlPuKgd0b0xD4JkRcOgnRRTjdErkYhAsQVq6IdUuPJtmk7BCL3t/h88cx91pKQkI/pkDx6pmYTIjEoxiHsN1YWYiEWYiEWknhflZ5IErA5nr8AAAAASUVORK5CYII="/></elements></component><component name="dock"><settings><setting name="fontcolor" value="0xffffff"/></settings><elements><element name="button" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyAQMAAAAk8RryAAAABlBMVEUAAAAAAAClZ7nPAAAAAnRSTlOZpuml+rYAAAASSURBVBhXY2AYJuA/GBwY6jQAyDyoK8QcL4QAAAAASUVORK5CYII="/></elements></component><component name="playlist"><settings><setting name="backgroundcolor" value="0xe8e8e8"/></settings><elements><element name="item" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAIAAAC1nk4lAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHBJREFUaN7t2MENwCAMBEEe9N8wSKYC/D8YV7CyJoRkVtVImxkZPQInMxoP0XiIxkM0HsGbjjSNBx544IEHHnjggUe/6UQeey0PIh7XTftGxKPj4eXCtLsHHh+ZxkO0Iw8PR55Ni8ZD9Hu/EAoP0dc5RRg9qeRjVF8AAAAASUVORK5CYII="/><element name="sliderCapTop" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAHCAYAAADnCQYGAAAAFUlEQVQokWP8//8/A7UB46ihI9hQAKt6FPPXhVGHAAAAAElFTkSuQmCC"/><element name="sliderRail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAYAAABiS3YzAAAAKElEQVQ4y2P4//8/Az68bNmy/+iYkB6GUUNHDR01dNTQUUNHDaXcUABUDOKhcxnsSwAAAABJRU5ErkJggg=="/><element name="sliderThumb" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAYAAABiS3YzAAAAJUlEQVQ4T2P4//8/Ay4MBP9xYbz6Rg0dNXTU0FFDRw0dNZRyQwHH4NBa7GJsXAAAAABJRU5ErkJggg=="/><element name="sliderCapBottom" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAHCAYAAADnCQYGAAAAFUlEQVQokWP8//8/A7UB46ihI9hQAKt6FPPXhVGHAAAAAElFTkSuQmCC"/></elements></component></components></skin>';this.xml=null;if(window.DOMParser){parser=new DOMParser();this.xml=parser.parseFromString(this.text,"text/xml")}else{this.xml=new ActiveXObject("Microsoft.XMLDOM");this.xml.async="false";this.xml.loadXML(this.text)}return this}})(jwplayer);(function(a){_utils=a.utils;_css=_utils.css;_hide=function(b){_css(b,{display:"none"})};_show=function(b){_css(b,{display:"block"})};a.html5.display=function(k,K){var j={icons:true,showmute:false};var X=_utils.extend({},j,K);var h=k;var W={};var e;var w;var z;var T;var u;var M;var E;var N=!_utils.exists(h.skin.getComponentSettings("display").bufferrotation)?15:parseInt(h.skin.getComponentSettings("display").bufferrotation,10);var s=!_utils.exists(h.skin.getComponentSettings("display").bufferinterval)?100:parseInt(h.skin.getComponentSettings("display").bufferinterval,10);var D=-1;var v=a.api.events.state.IDLE;var O=true;var d;var C=false,V=true;var p="";var g=false;var o=false;var m;var y,R;var L=new a.html5.eventdispatcher();_utils.extend(this,L);var H={display:{style:{cursor:"pointer",top:0,left:0,overflow:"hidden"},click:n},display_icon:{style:{cursor:"pointer",position:"absolute",top:((h.skin.getSkinElement("display","background").height-h.skin.getSkinElement("display","playIcon").height)/2),left:((h.skin.getSkinElement("display","background").width-h.skin.getSkinElement("display","playIcon").width)/2),border:0,margin:0,padding:0,zIndex:3,display:"none"}},display_iconBackground:{style:{cursor:"pointer",position:"absolute",top:((w-h.skin.getSkinElement("display","background").height)/2),left:((e-h.skin.getSkinElement("display","background").width)/2),border:0,backgroundImage:(["url(",h.skin.getSkinElement("display","background").src,")"]).join(""),width:h.skin.getSkinElement("display","background").width,height:h.skin.getSkinElement("display","background").height,margin:0,padding:0,zIndex:2,display:"none"}},display_image:{style:{display:"none",width:e,height:w,position:"absolute",cursor:"pointer",left:0,top:0,margin:0,padding:0,textDecoration:"none",zIndex:1}},display_text:{style:{zIndex:4,position:"relative",opacity:0.8,backgroundColor:parseInt("000000",16),color:parseInt("ffffff",16),textAlign:"center",fontFamily:"Arial,sans-serif",padding:"0 5px",fontSize:14}}};h.jwAddEventListener(a.api.events.JWPLAYER_PLAYER_STATE,q);h.jwAddEventListener(a.api.events.JWPLAYER_MEDIA_MUTE,q);h.jwAddEventListener(a.api.events.JWPLAYER_PLAYLIST_LOADED,P);h.jwAddEventListener(a.api.events.JWPLAYER_PLAYLIST_ITEM,q);h.jwAddEventListener(a.api.events.JWPLAYER_ERROR,r);Q();function Q(){W.display=G("div","display");W.display_text=G("div","display_text");W.display.appendChild(W.display_text);W.display_image=G("img","display_image");W.display_image.onerror=function(Y){_hide(W.display_image)};W.display_image.onload=B;W.display_icon=G("div","display_icon");W.display_iconBackground=G("div","display_iconBackground");W.display.appendChild(W.display_image);W.display_iconBackground.appendChild(W.display_icon);W.display.appendChild(W.display_iconBackground);f();setTimeout((function(){o=true;if(X.icons.toString()=="true"){J()}}),1)}this.getDisplayElement=function(){return W.display};this.resize=function(Z,Y){if(h.jwGetFullscreen()&&_utils.isMobile()){return}_css(W.display,{width:Z,height:Y});_css(W.display_text,{width:(Z-10),top:((Y-_utils.getBoundingClientRect(W.display_text).height)/2)});_css(W.display_iconBackground,{top:((Y-h.skin.getSkinElement("display","background").height)/2),left:((Z-h.skin.getSkinElement("display","background").width)/2)});if(e!=Z||w!=Y){e=Z;w=Y;d=undefined;J()}if(!h.jwGetFullscreen()){y=Z;R=Y}c();q({})};this.show=function(){if(g){g=false;t(h.jwGetState())}};this.hide=function(){if(!g){F();g=true}};function B(Y){z=W.display_image.naturalWidth;T=W.display_image.naturalHeight;c();if(h.jwGetState()==a.api.events.state.IDLE||h.jwGetPlaylist()[h.jwGetPlaylistIndex()].provider=="sound"){_css(W.display_image,{display:"block",opacity:0});_utils.fadeTo(W.display_image,1,0.1)}C=false}function c(){if(h.jwGetFullscreen()&&h.jwGetStretching()==a.utils.stretching.EXACTFIT){var Y=document.createElement("div");_utils.stretch(a.utils.stretching.UNIFORM,Y,e,w,y,R);_utils.stretch(a.utils.stretching.EXACTFIT,W.display_image,_utils.parseDimension(Y.style.width),_utils.parseDimension(Y.style.height),z,T);_css(W.display_image,{left:Y.style.left,top:Y.style.top})}else{_utils.stretch(h.jwGetStretching(),W.display_image,e,w,z,T)}}function G(Y,aa){var Z=document.createElement(Y);Z.id=h.id+"_jwplayer_"+aa;_css(Z,H[aa].style);return Z}function f(){for(var Y in W){if(_utils.exists(H[Y].click)){W[Y].onclick=H[Y].click}}}function n(Y){if(typeof Y.preventDefault!="undefined"){Y.preventDefault()}else{Y.returnValue=false}if(typeof m=="function"){m(Y);return}else{if(h.jwGetState()!=a.api.events.state.PLAYING){h.jwPlay()}else{h.jwPause()}}}function U(Y){if(E){F();return}W.display_icon.style.backgroundImage=(["url(",h.skin.getSkinElement("display",Y).src,")"]).join("");_css(W.display_icon,{width:h.skin.getSkinElement("display",Y).width,height:h.skin.getSkinElement("display",Y).height,top:(h.skin.getSkinElement("display","background").height-h.skin.getSkinElement("display",Y).height)/2,left:(h.skin.getSkinElement("display","background").width-h.skin.getSkinElement("display",Y).width)/2});b();if(_utils.exists(h.skin.getSkinElement("display",Y+"Over"))){W.display_icon.onmouseover=function(Z){W.display_icon.style.backgroundImage=["url(",h.skin.getSkinElement("display",Y+"Over").src,")"].join("")};W.display_icon.onmouseout=function(Z){W.display_icon.style.backgroundImage=["url(",h.skin.getSkinElement("display",Y).src,")"].join("")}}else{W.display_icon.onmouseover=null;W.display_icon.onmouseout=null}}function F(){if(X.icons.toString()=="true"){_hide(W.display_icon);_hide(W.display_iconBackground);S()}}function b(){if(!g&&X.icons.toString()=="true"){_show(W.display_icon);_show(W.display_iconBackground);J()}}function r(Y){E=true;F();W.display_text.innerHTML=Y.message;_show(W.display_text);W.display_text.style.top=((w-_utils.getBoundingClientRect(W.display_text).height)/2)+"px"}function I(){V=false;W.display_image.style.display="none"}function P(){v=""}function q(Y){if((Y.type==a.api.events.JWPLAYER_PLAYER_STATE||Y.type==a.api.events.JWPLAYER_PLAYLIST_ITEM)&&E){E=false;_hide(W.display_text)}var Z=h.jwGetState();if(Z==v){return}v=Z;if(D>=0){clearTimeout(D)}if(O||h.jwGetState()==a.api.events.state.PLAYING||h.jwGetState()==a.api.events.state.PAUSED){t(h.jwGetState())}else{D=setTimeout(l(h.jwGetState()),500)}}function l(Y){return(function(){t(Y)})}function t(Y){if(_utils.exists(M)){clearInterval(M);M=null;_utils.animations.rotate(W.display_icon,0)}switch(Y){case a.api.events.state.BUFFERING:if(_utils.isIPod()){I();F()}else{if(h.jwGetPlaylist()[h.jwGetPlaylistIndex()].provider=="sound"){x()}u=0;M=setInterval(function(){u+=N;_utils.animations.rotate(W.display_icon,u%360)},s);U("bufferIcon");O=true}break;case a.api.events.state.PAUSED:if(!_utils.isIPod()){if(h.jwGetPlaylist()[h.jwGetPlaylistIndex()].provider!="sound"){_css(W.display_image,{background:"transparent no-repeat center center"})}U("playIcon");O=true}break;case a.api.events.state.IDLE:if(h.jwGetPlaylist()[h.jwGetPlaylistIndex()]&&h.jwGetPlaylist()[h.jwGetPlaylistIndex()].image){x()}else{I()}U("playIcon");O=true;break;default:if(h.jwGetPlaylist()[h.jwGetPlaylistIndex()]&&h.jwGetPlaylist()[h.jwGetPlaylistIndex()].provider=="sound"){if(_utils.isIPod()){I();O=false}else{x()}}else{I();O=false}if(h.jwGetMute()&&X.showmute){U("muteIcon")}else{F()}break}D=-1}function x(){if(h.jwGetPlaylist()[h.jwGetPlaylistIndex()]){var Y=h.jwGetPlaylist()[h.jwGetPlaylistIndex()].image;if(Y){if(Y!=p){p=Y;C=true;W.display_image.src=_utils.getAbsolutePath(Y)}else{if(!(C||V)){V=true;W.display_image.style.opacity=0;W.display_image.style.display="block";_utils.fadeTo(W.display_image,1,0.1)}}}}}function A(Y){return function(){if(!o){return}if(!g&&d!=Y){d=Y;L.sendEvent(Y,{component:"display",boundingRect:_utils.getDimensions(W.display_iconBackground)})}}}var J=A(a.api.events.JWPLAYER_COMPONENT_SHOW);var S=A(a.api.events.JWPLAYER_COMPONENT_HIDE);this.setAlternateClickHandler=function(Y){m=Y};this.revertAlternateClickHandler=function(){m=undefined};return this}})(jwplayer);(function(a){var c=a.utils;var b=c.css;a.html5.dock=function(w,D){function x(){return{align:a.html5.view.positions.RIGHT}}var n=c.extend({},x(),D);if(n.align=="FALSE"){return}var j={};var A=[];var k;var F;var f=false;var C=false;var g={x:0,y:0,width:0,height:0};var z;var o;var y;var m=new a.html5.eventdispatcher();c.extend(this,m);var r=document.createElement("div");r.id=w.id+"_jwplayer_dock";r.style.opacity=1;p();w.jwAddEventListener(a.api.events.JWPLAYER_PLAYER_STATE,q);this.getDisplayElement=function(){return r};this.setButton=function(K,H,I,J){if(!H&&j[K]){c.arrays.remove(A,K);r.removeChild(j[K].div);delete j[K]}else{if(H){if(!j[K]){j[K]={}}j[K].handler=H;j[K].outGraphic=I;j[K].overGraphic=J;if(!j[K].div){A.push(K);j[K].div=document.createElement("div");j[K].div.style.position="absolute";r.appendChild(j[K].div);j[K].div.appendChild(document.createElement("div"));j[K].div.childNodes[0].style.position="relative";j[K].div.childNodes[0].style.width="100%";j[K].div.childNodes[0].style.height="100%";j[K].div.childNodes[0].style.zIndex=10;j[K].div.childNodes[0].style.cursor="pointer";j[K].div.appendChild(document.createElement("img"));j[K].div.childNodes[1].style.position="absolute";j[K].div.childNodes[1].style.left=0;j[K].div.childNodes[1].style.top=0;if(w.skin.getSkinElement("dock","button")){j[K].div.childNodes[1].src=w.skin.getSkinElement("dock","button").src}j[K].div.childNodes[1].style.zIndex=9;j[K].div.childNodes[1].style.cursor="pointer";j[K].div.onmouseover=function(){if(j[K].overGraphic){j[K].div.childNodes[0].style.background=h(j[K].overGraphic)}if(w.skin.getSkinElement("dock","buttonOver")){j[K].div.childNodes[1].src=w.skin.getSkinElement("dock","buttonOver").src}};j[K].div.onmouseout=function(){if(j[K].outGraphic){j[K].div.childNodes[0].style.background=h(j[K].outGraphic)}if(w.skin.getSkinElement("dock","button")){j[K].div.childNodes[1].src=w.skin.getSkinElement("dock","button").src}};if(w.skin.getSkinElement("dock","button")){j[K].div.childNodes[1].src=w.skin.getSkinElement("dock","button").src}}if(j[K].outGraphic){j[K].div.childNodes[0].style.background=h(j[K].outGraphic)}else{if(j[K].overGraphic){j[K].div.childNodes[0].style.background=h(j[K].overGraphic)}}if(H){j[K].div.onclick=function(L){L.preventDefault();a(w.id).callback(K);if(j[K].overGraphic){j[K].div.childNodes[0].style.background=h(j[K].overGraphic)}if(w.skin.getSkinElement("dock","button")){j[K].div.childNodes[1].src=w.skin.getSkinElement("dock","button").src}}}}}l(k,F)};function h(H){return"url("+H+") no-repeat center center"}function t(H){}function l(H,T){p();if(A.length>0){var I=10;var S=I;var P=-1;var Q=w.skin.getSkinElement("dock","button").height;var O=w.skin.getSkinElement("dock","button").width;var M=H-O-I;var R,L;if(n.align==a.html5.view.positions.LEFT){P=1;M=I}for(var J=0;J<A.length;J++){var U=Math.floor(S/T);if((S+Q+I)>((U+1)*T)){S=((U+1)*T)+I;U=Math.floor(S/T)}var K=j[A[J]].div;K.style.top=(S%T)+"px";K.style.left=(M+(w.skin.getSkinElement("dock","button").width+I)*U*P)+"px";var N={x:c.parseDimension(K.style.left),y:c.parseDimension(K.style.top),width:O,height:Q};if(!R||(N.x<=R.x&&N.y<=R.y)){R=N}if(!L||(N.x>=L.x&&N.y>=L.y)){L=N}K.style.width=O+"px";K.style.height=Q+"px";S+=w.skin.getSkinElement("dock","button").height+I}g={x:R.x,y:R.y,width:L.x-R.x+L.width,height:R.y-L.y+L.height}}if(C!=w.jwGetFullscreen()||k!=H||F!=T){k=H;F=T;C=w.jwGetFullscreen();z=undefined;setTimeout(s,1)}}function d(H){return function(){if(!f&&z!=H&&A.length>0){z=H;m.sendEvent(H,{component:"dock",boundingRect:g})}}}function q(H){if(c.isMobile()){if(H.newstate==a.api.events.state.IDLE){v()}else{e()}}else{B()}}function B(H){if(f){return}clearTimeout(y);if(D.position==a.html5.view.positions.OVER||w.jwGetFullscreen()){switch(w.jwGetState()){case a.api.events.state.PAUSED:case a.api.events.state.IDLE:if(r&&r.style.opacity<1&&(!D.idlehide||c.exists(H))){E()}if(D.idlehide){y=setTimeout(function(){u()},2000)}break;default:if(c.exists(H)){E()}y=setTimeout(function(){u()},2000);break}}else{E()}}var s=d(a.api.events.JWPLAYER_COMPONENT_SHOW);var G=d(a.api.events.JWPLAYER_COMPONENT_HIDE);this.resize=l;var v=function(){b(r,{display:"block"});if(f){f=false;s()}};var e=function(){b(r,{display:"none"});if(!f){G();f=true}};function u(){if(!f){G();if(r.style.opacity==1){c.cancelAnimation(r);c.fadeTo(r,0,0.1,1,0)}}}function E(){if(!f){s();if(r.style.opacity==0){c.cancelAnimation(r);c.fadeTo(r,1,0.1,0,0)}}}function p(){try{o=document.getElementById(w.id);o.addEventListener("mousemove",B)}catch(H){c.log("Could not add mouse listeners to dock: "+H)}}this.hide=e;this.show=v;return this}})(jwplayer);(function(a){a.html5.eventdispatcher=function(d,b){var c=new a.events.eventdispatcher(b);a.utils.extend(this,c);this.sendEvent=function(e,f){if(!a.utils.exists(f)){f={}}a.utils.extend(f,{id:d,version:a.version,type:e});c.sendEvent(e,f)}}})(jwplayer);(function(a){var b=a.utils;a.html5.instream=function(y,m,x,z){var t={controlbarseekable:"always",controlbarpausable:true,controlbarstoppable:true,playlistclickable:true};var v,A,C=y,E=m,j=x,w=z,r,H,o,G,e,f,g,l,q,h=false,k,d,n=this;this.load=function(M,K){c();h=true;A=b.extend(t,K);v=a.html5.playlistitem(M);F();d=document.createElement("div");d.id=n.id+"_instream_container";w.detachMedia();r=g.getDisplayElement();f=E.playlist[E.item];e=C.jwGetState();if(e==a.api.events.state.BUFFERING||e==a.api.events.state.PLAYING){r.pause()}H=r.src?r.src:r.currentSrc;o=r.innerHTML;G=r.currentTime;q=new a.html5.display(n,b.extend({},E.plugins.config.display));q.setAlternateClickHandler(function(N){if(_fakemodel.state==a.api.events.state.PAUSED){n.jwInstreamPlay()}else{D(a.api.events.JWPLAYER_INSTREAM_CLICK,N)}});d.appendChild(q.getDisplayElement());if(!b.isMobile()){l=new a.html5.controlbar(n,b.extend({},E.plugins.config.controlbar,{}));if(E.plugins.config.controlbar.position==a.html5.view.positions.OVER){d.appendChild(l.getDisplayElement())}else{var L=E.plugins.object.controlbar.getDisplayElement().parentNode;L.appendChild(l.getDisplayElement())}}j.setupInstream(d,r);p();g.load(v)};this.jwInstreamDestroy=function(K){if(!h){return}h=false;if(e!=a.api.events.state.IDLE){g.load(f,false);g.stop(false)}else{g.stop(true)}g.detachMedia();j.destroyInstream();if(l){try{l.getDisplayElement().parentNode.removeChild(l.getDisplayElement())}catch(L){}}D(a.api.events.JWPLAYER_INSTREAM_DESTROYED,{reason:(K?"complete":"destroyed")},true);w.attachMedia();if(e==a.api.events.state.BUFFERING||e==a.api.events.state.PLAYING){r.play();if(E.playlist[E.item]==f){E.getMedia().seek(G)}}return};this.jwInstreamAddEventListener=function(K,L){k.addEventListener(K,L)};this.jwInstreamRemoveEventListener=function(K,L){k.removeEventListener(K,L)};this.jwInstreamPlay=function(){if(!h){return}g.play(true)};this.jwInstreamPause=function(){if(!h){return}g.pause(true)};this.jwInstreamSeek=function(K){if(!h){return}g.seek(K)};this.jwInstreamGetState=function(){if(!h){return undefined}return _fakemodel.state};this.jwInstreamGetPosition=function(){if(!h){return undefined}return _fakemodel.position};this.jwInstreamGetDuration=function(){if(!h){return undefined}return _fakemodel.duration};this.playlistClickable=function(){return(!h||A.playlistclickable.toString().toLowerCase()=="true")};function s(){_fakemodel=new a.html5.model(this,E.getMedia()?E.getMedia().getDisplayElement():E.container,E);k=new a.html5.eventdispatcher();C.jwAddEventListener(a.api.events.JWPLAYER_RESIZE,p);C.jwAddEventListener(a.api.events.JWPLAYER_FULLSCREEN,p)}function c(){_fakemodel.setMute(E.mute);_fakemodel.setVolume(E.volume)}function F(){if(!g){g=new a.html5.mediavideo(_fakemodel,E.getMedia()?E.getMedia().getDisplayElement():E.container);g.addGlobalListener(I);g.addEventListener(a.api.events.JWPLAYER_MEDIA_META,J);g.addEventListener(a.api.events.JWPLAYER_MEDIA_COMPLETE,u);g.addEventListener(a.api.events.JWPLAYER_MEDIA_BUFFER_FULL,B)}g.attachMedia()}function I(K){if(h){D(K.type,K)}}function B(K){if(h){g.play()}}function u(K){if(h){setTimeout(function(){n.jwInstreamDestroy(true)},10)}}function J(K){if(K.metadata.width&&K.metadata.height){j.resizeMedia()}}function D(K,L,M){if(h||M){k.sendEvent(K,L)}}function p(){var K=E.plugins.object.display.getDisplayElement().style;if(l){var L=E.plugins.object.controlbar.getDisplayElement().style;l.resize(b.parseDimension(K.width),b.parseDimension(K.height));_css(l.getDisplayElement(),b.extend({},L,{zIndex:1001,opacity:1}))}if(q){q.resize(b.parseDimension(K.width),b.parseDimension(K.height));_css(q.getDisplayElement(),b.extend({},K,{zIndex:1000}))}if(j){j.resizeMedia()}}this.jwPlay=function(K){if(A.controlbarpausable.toString().toLowerCase()=="true"){this.jwInstreamPlay()}};this.jwPause=function(K){if(A.controlbarpausable.toString().toLowerCase()=="true"){this.jwInstreamPause()}};this.jwStop=function(){if(A.controlbarstoppable.toString().toLowerCase()=="true"){this.jwInstreamDestroy();C.jwStop()}};this.jwSeek=function(K){switch(A.controlbarseekable.toLowerCase()){case"always":this.jwInstreamSeek(K);break;case"backwards":if(_fakemodel.position>K){this.jwInstreamSeek(K)}break}};this.jwGetPosition=function(){};this.jwGetDuration=function(){};this.jwGetWidth=C.jwGetWidth;this.jwGetHeight=C.jwGetHeight;this.jwGetFullscreen=C.jwGetFullscreen;this.jwSetFullscreen=C.jwSetFullscreen;this.jwGetVolume=function(){return E.volume};this.jwSetVolume=function(K){g.volume(K);C.jwSetVolume(K)};this.jwGetMute=function(){return E.mute};this.jwSetMute=function(K){g.mute(K);C.jwSetMute(K)};this.jwGetState=function(){return _fakemodel.state};this.jwGetPlaylist=function(){return[v]};this.jwGetPlaylistIndex=function(){return 0};this.jwGetStretching=function(){return E.config.stretching};this.jwAddEventListener=function(L,K){k.addEventListener(L,K)};this.jwRemoveEventListener=function(L,K){k.removeEventListener(L,K)};this.skin=C.skin;this.id=C.id+"_instream";s();return this}})(jwplayer);(function(a){var b={prefix:"",file:"",link:"",linktarget:"_top",margin:8,out:0.5,over:1,timeout:5,hide:true,position:"bottom-left"};_css=a.utils.css;a.html5.logo=function(n,r){var q=n;var u;var d;var t;var h=false;g();function g(){o();q.jwAddEventListener(a.api.events.JWPLAYER_PLAYER_STATE,j);c();l()}function o(){if(b.prefix){var v=n.version.split(/\W/).splice(0,2).join("/");if(b.prefix.indexOf(v)<0){b.prefix+=v+"/"}}if(r.position==a.html5.view.positions.OVER){r.position=b.position}try{if(window.location.href.indexOf("https")==0){b.prefix=b.prefix.replace("http://l.longtailvideo.com","https://securel.longtailvideo.com")}}catch(w){}d=a.utils.extend({},b,r)}function c(){t=document.createElement("img");t.id=q.id+"_jwplayer_logo";t.style.display="none";t.onload=function(v){_css(t,k());p()};if(!d.file){return}if(d.file.indexOf("/")>=0){t.src=d.file}else{t.src=d.prefix+d.file}}if(!d.file){return}this.resize=function(w,v){};this.getDisplayElement=function(){return t};function l(){if(d.link){t.onmouseover=f;t.onmouseout=p;t.onclick=s}else{this.mouseEnabled=false}}function s(v){if(typeof v!="undefined"){v.stopPropagation()}if(!h){return}q.jwPause();q.jwSetFullscreen(false);if(d.link){window.open(d.link,d.linktarget)}return}function p(v){if(d.link&&h){t.style.opacity=d.out}return}function f(v){if(h){t.style.opacity=d.over}return}function k(){var x={textDecoration:"none",position:"absolute",cursor:"pointer"};x.display=(d.hide.toString()=="true"&&!h)?"none":"block";var w=d.position.toLowerCase().split("-");for(var v in w){x[w[v]]=parseInt(d.margin)}return x}function m(){if(d.hide.toString()=="true"){t.style.display="block";t.style.opacity=0;a.utils.fadeTo(t,d.out,0.1,parseFloat(t.style.opacity));u=setTimeout(function(){e()},d.timeout*1000)}h=true}function e(){h=false;if(d.hide.toString()=="true"){a.utils.fadeTo(t,0,0.1,parseFloat(t.style.opacity))}}function j(v){if(v.newstate==a.api.events.state.BUFFERING){clearTimeout(u);m()}}return this}})(jwplayer);(function(b){var d={ended:b.api.events.state.IDLE,playing:b.api.events.state.PLAYING,pause:b.api.events.state.PAUSED,buffering:b.api.events.state.BUFFERING};var f=b.utils;var a=f.isMobile();var g,e;var c={};b.html5.mediavideo=function(k,I){var M={abort:A,canplay:r,canplaythrough:r,durationchange:w,emptied:A,ended:r,error:q,loadeddata:w,loadedmetadata:w,loadstart:r,pause:r,play:A,playing:r,progress:G,ratechange:A,seeked:r,seeking:r,stalled:r,suspend:r,timeupdate:Q,volumechange:n,waiting:r,canshowcurrentframe:A,dataunavailable:A,empty:A,load:j,loadedfirstframe:A,webkitfullscreenchange:m};var E={};var N=new b.html5.eventdispatcher();f.extend(this,N);var l=k,D=I,o,h,F,W,H,P,O=false,v=false,z=false,L,J,T;U();this.load=function(Y,Z){if(typeof Z=="undefined"){Z=true}if(!v){return}W=Y;z=(W.duration>0);l.duration=W.duration;f.empty(o);o.style.display="block";o.style.opacity=1;if(g&&e){o.style.width=g;o.style.height=e;g=_previousHieght=0}T=0;s(Y.levels);if(Y.levels&&Y.levels.length>0){if(Y.levels.length==1||f.isIOS()){o.src=Y.levels[0].file}else{if(o.src){o.removeAttribute("src")}for(var X=0;X<Y.levels.length;X++){var aa=o.ownerDocument.createElement("source");aa.src=Y.levels[X].file;o.appendChild(aa);T++}}}else{o.src=Y.file}o.volume=l.volume/100;o.muted=l.mute;if(a){S()}L=J=F=false;l.buffer=0;if(!f.exists(Y.start)){Y.start=0}P=(Y.start>0)?Y.start:-1;u(b.api.events.JWPLAYER_MEDIA_LOADED);if((!a&&Y.levels.length==1)||!O){o.load()}O=false;if(Z){y(b.api.events.state.BUFFERING);u(b.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:0});C()}if(o.videoWidth>0&&o.videoHeight>0){w()}};this.play=function(){if(!v){return}C();if(J){y(b.api.events.state.PLAYING)}else{o.load();y(b.api.events.state.BUFFERING)}o.play()};this.pause=function(){if(!v){return}o.pause();y(b.api.events.state.PAUSED)};this.seek=function(X){if(!v){return}if(!F&&o.readyState>0){if(!(l.duration<=0||isNaN(l.duration))&&!(l.position<=0||isNaN(l.position))){o.currentTime=X;o.play()}}else{P=X}};var B=this.stop=function(X){if(!v){return}if(!f.exists(X)){X=true}t();if(X){J=false;var Y=navigator.userAgent;if(o.webkitSupportsFullscreen){try{o.webkitExitFullscreen()}catch(Z){}}o.style.opacity=0;x();if(f.isIE()){o.src=""}else{o.removeAttribute("src")}f.empty(o);o.load();O=true}if(f.isIPod()){g=o.style.width;e=o.style.height;o.style.width=0;o.style.height=0}else{if(f.isIPad()){o.style.display="none";try{o.webkitExitFullscreen()}catch(aa){}}}y(b.api.events.state.IDLE)};this.fullscreen=function(X){if(X===true){this.resize("100%","100%")}else{this.resize(l.config.width,l.config.height)}};this.resize=function(Y,X){};this.volume=function(X){if(!a){o.volume=X/100;u(b.api.events.JWPLAYER_MEDIA_VOLUME,{volume:(X/100)})}};this.mute=function(X){if(!a){o.muted=X;u(b.api.events.JWPLAYER_MEDIA_MUTE,{mute:X})}};this.getDisplayElement=function(){return o};this.hasChrome=function(){return a&&(h==b.api.events.state.PLAYING)};this.detachMedia=function(){v=false;return this.getDisplayElement()};this.attachMedia=function(){v=true};this.destroy=function(){if(o&&o.parentNode){t();for(var X in M){o.removeEventListener(X,K(X,M[X]),true)}f.empty(o);D=o.parentNode;o.parentNode.removeChild(o);delete c[l.id];o=null}};function K(Y,X){if(E[Y]){return E[Y]}else{E[Y]=function(Z){if(f.exists(Z.target.parentNode)){X(Z)}};return E[Y]}}function U(){h=b.api.events.state.IDLE;v=true;o=p();o.setAttribute("x-webkit-airplay","allow");if(D.parentNode){o.id=D.id;D.parentNode.replaceChild(o,D)}}function p(){var X=c[l.id];if(!X){if(D.tagName.toLowerCase()=="video"){X=D}else{X=document.createElement("video")}c[l.id]=X;if(!X.id){X.id=D.id}}for(var Y in M){X.addEventListener(Y,K(Y,M[Y]),true)}return X}function y(X){if(X==b.api.events.state.PAUSED&&h==b.api.events.state.IDLE){return}if(a){switch(X){case b.api.events.state.PLAYING:S();break;case b.api.events.state.BUFFERING:case b.api.events.state.PAUSED:x();break}}if(h!=X){var Y=h;l.state=h=X;u(b.api.events.JWPLAYER_PLAYER_STATE,{oldstate:Y,newstate:X})}}function A(X){}function n(X){var Y=Math.round(o.volume*100);u(b.api.events.JWPLAYER_MEDIA_VOLUME,{volume:Y},true);u(b.api.events.JWPLAYER_MEDIA_MUTE,{mute:o.muted},true)}function G(Z){if(!v){return}var Y;if(f.exists(Z)&&Z.lengthComputable&&Z.total){Y=Z.loaded/Z.total*100}else{if(f.exists(o.buffered)&&(o.buffered.length>0)){var X=o.buffered.length-1;if(X>=0){Y=o.buffered.end(X)/o.duration*100}}}if(f.useNativeFullscreen()&&f.exists(o.webkitDisplayingFullscreen)){if(l.fullscreen!=o.webkitDisplayingFullscreen){u(b.api.events.JWPLAYER_FULLSCREEN,{fullscreen:o.webkitDisplayingFullscreen},true)}}if(J===false&&h==b.api.events.state.BUFFERING){u(b.api.events.JWPLAYER_MEDIA_BUFFER_FULL);J=true}if(!L){if(Y==100){L=true}if(f.exists(Y)&&(Y>l.buffer)){l.buffer=Math.round(Y);u(b.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:Math.round(Y)})}}}function Q(Y){if(!v){return}if(f.exists(Y)&&f.exists(Y.target)){if(z>0){if(!isNaN(Y.target.duration)&&(isNaN(l.duration)||l.duration<1)){if(Y.target.duration==Infinity){l.duration=0}else{l.duration=Math.round(Y.target.duration*10)/10}}}if(!F&&o.readyState>0){y(b.api.events.state.PLAYING)}if(h==b.api.events.state.PLAYING){if(o.readyState>0&&(P>-1||!F)){F=true;try{if(o.currentTime!=P&&P>-1){o.currentTime=P;P=-1}}catch(X){}o.volume=l.volume/100;o.muted=l.mute}l.position=l.duration>0?(Math.round(Y.target.currentTime*10)/10):0;u(b.api.events.JWPLAYER_MEDIA_TIME,{position:l.position,duration:l.duration});if(l.position>=l.duration&&(l.position>0||l.duration>0)){R();return}}}G(Y)}function j(X){}function r(X){if(!v){return}if(g&&e){o.style.width=g;o.style.height=e;g=_previousHieght=0}if(d[X.type]){if(X.type=="ended"){R()}else{y(d[X.type])}}}function w(Y){if(!v){return}var X=Math.round(o.duration*10)/10;var Z={height:o.videoHeight,width:o.videoWidth,duration:X};if(!z){if((l.duration<X||isNaN(l.duration))&&o.duration!=Infinity){l.duration=X}}u(b.api.events.JWPLAYER_MEDIA_META,{metadata:Z})}function q(Z){if(!v){return}if(h==b.api.events.state.IDLE){return}var Y="There was an error: ";if((Z.target.error&&Z.target.tagName.toLowerCase()=="video")||Z.target.parentNode.error&&Z.target.parentNode.tagName.toLowerCase()=="video"){var X=!f.exists(Z.target.error)?Z.target.parentNode.error:Z.target.error;switch(X.code){case X.MEDIA_ERR_ABORTED:f.log("User aborted the video playback.");return;case X.MEDIA_ERR_NETWORK:Y="A network error caused the video download to fail part-way: ";break;case X.MEDIA_ERR_DECODE:Y="The video playback was aborted due to a corruption problem or because the video used features your browser did not support: ";break;case X.MEDIA_ERR_SRC_NOT_SUPPORTED:Y="The video could not be loaded, either because the server or network failed or because the format is not supported: ";break;default:Y="An unknown error occurred: ";break}}else{if(Z.target.tagName.toLowerCase()=="source"){T--;if(T>0){return}if(f.userAgentMatch(/firefox/i)){f.log("The video could not be loaded, either because the server or network failed or because the format is not supported.");B(false);return}else{Y="The video could not be loaded, either because the server or network failed or because the format is not supported: "}}else{f.log("An unknown error occurred.  Continuing...");return}}B(false);Y+=V();_error=true;u(b.api.events.JWPLAYER_ERROR,{message:Y});return}function V(){var Z="";for(var Y in W.levels){var X=W.levels[Y];var aa=D.ownerDocument.createElement("source");Z+=b.utils.getAbsolutePath(X.file);if(Y<(W.levels.length-1)){Z+=", "}}return Z}function C(){if(!f.exists(H)){H=setInterval(function(){G()},100)}}function t(){clearInterval(H);H=null}function R(){if(h==b.api.events.state.PLAYING){B(false);u(b.api.events.JWPLAYER_MEDIA_BEFORECOMPLETE);u(b.api.events.JWPLAYER_MEDIA_COMPLETE)}}function m(X){if(f.exists(o.webkitDisplayingFullscreen)){if(l.fullscreen&&!o.webkitDisplayingFullscreen){u(b.api.events.JWPLAYER_FULLSCREEN,{fullscreen:false},true)}}}function s(Z){if(Z.length>0&&f.userAgentMatch(/Safari/i)&&!f.userAgentMatch(/Chrome/i)){var X=-1;for(var Y=0;Y<Z.length;Y++){switch(f.extension(Z[Y].file)){case"mp4":if(X<0){X=Y}break;case"webm":Z.splice(Y,1);break}}if(X>0){var aa=Z.splice(X,1)[0];Z.unshift(aa)}}}function S(){setTimeout(function(){o.setAttribute("controls","controls")},100)}function x(){setTimeout(function(){o.removeAttribute("controls")},250)}function u(X,Z,Y){if(v||Y){if(Z){N.sendEvent(X,Z)}else{N.sendEvent(X)}}}}})(jwplayer);(function(a){var c={ended:a.api.events.state.IDLE,playing:a.api.events.state.PLAYING,pause:a.api.events.state.PAUSED,buffering:a.api.events.state.BUFFERING};var b=a.utils.css;a.html5.mediayoutube=function(j,e){var f=new a.html5.eventdispatcher();a.utils.extend(this,f);var l=j;var h=document.getElementById(e.id);var g=a.api.events.state.IDLE;var n,m;function k(p){if(g!=p){var q=g;l.state=p;g=p;f.sendEvent(a.api.events.JWPLAYER_PLAYER_STATE,{oldstate:q,newstate:p})}}this.getDisplayElement=this.detachMedia=function(){return h};this.attachMedia=function(){};this.play=function(){if(g==a.api.events.state.IDLE){f.sendEvent(a.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:100});f.sendEvent(a.api.events.JWPLAYER_MEDIA_BUFFER_FULL);k(a.api.events.state.PLAYING)}else{if(g==a.api.events.state.PAUSED){k(a.api.events.state.PLAYING)}}};this.pause=function(){k(a.api.events.state.PAUSED)};this.seek=function(p){};this.stop=function(p){if(!_utils.exists(p)){p=true}l.position=0;k(a.api.events.state.IDLE);if(p){b(h,{display:"none"})}};this.volume=function(p){l.setVolume(p);f.sendEvent(a.api.events.JWPLAYER_MEDIA_VOLUME,{volume:Math.round(p)})};this.mute=function(p){h.muted=p;f.sendEvent(a.api.events.JWPLAYER_MEDIA_MUTE,{mute:p})};this.resize=function(q,p){if(q*p>0&&n){n.width=m.width=q;n.height=m.height=p}};this.fullscreen=function(p){if(p===true){this.resize("100%","100%")}else{this.resize(l.config.width,l.config.height)}};this.load=function(p){o(p);b(n,{display:"block"});k(a.api.events.state.BUFFERING);f.sendEvent(a.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:0});f.sendEvent(a.api.events.JWPLAYER_MEDIA_LOADED);this.play()};this.hasChrome=function(){return(g!=a.api.events.state.IDLE)};function o(v){var s=v.levels[0].file;s=["http://www.youtube.com/v/",d(s),"&amp;hl=en_US&amp;fs=1&autoplay=1"].join("");n=document.createElement("object");n.id=h.id;n.style.position="absolute";var u={movie:s,allowfullscreen:"true",allowscriptaccess:"always"};for(var p in u){var t=document.createElement("param");t.name=p;t.value=u[p];n.appendChild(t)}m=document.createElement("embed");n.appendChild(m);var q={src:s,type:"application/x-shockwave-flash",allowfullscreen:"true",allowscriptaccess:"always",width:n.width,height:n.height};for(var r in q){m.setAttribute(r,q[r])}n.appendChild(m);n.style.zIndex=2147483000;if(h!=n&&h.parentNode){h.parentNode.replaceChild(n,h)}h=n}function d(q){var p=q.split(/\?|\#\!/);var s="";for(var r=0;r<p.length;r++){if(p[r].substr(0,2)=="v="){s=p[r].substr(2)}}if(s==""){if(q.indexOf("/v/")>=0){s=q.substr(q.indexOf("/v/")+3)}else{if(q.indexOf("youtu.be")>=0){s=q.substr(q.indexOf("youtu.be/")+9)}else{s=q}}}if(s.indexOf("?")>-1){s=s.substr(0,s.indexOf("?"))}if(s.indexOf("&")>-1){s=s.substr(0,s.indexOf("&"))}return s}this.embed=m;return this}})(jwplayer);(function(jwplayer){var _configurableStateVariables=["width","height","start","duration","volume","mute","fullscreen","item","plugins","stretching"];var _utils=jwplayer.utils;jwplayer.html5.model=function(api,container,options){var _api=api;var _container=container;var _cookies=_utils.getCookies();var _model={id:_container.id,playlist:[],state:jwplayer.api.events.state.IDLE,position:0,buffer:0,container:_container,config:{width:480,height:320,item:-1,skin:undefined,file:undefined,image:undefined,start:0,duration:0,bufferlength:5,volume:_cookies.volume?_cookies.volume:90,mute:_cookies.mute&&_cookies.mute.toString().toLowerCase()=="true"?true:false,fullscreen:false,repeat:"",stretching:jwplayer.utils.stretching.UNIFORM,autostart:false,debug:undefined,screencolor:undefined}};var _media;var _eventDispatcher=new jwplayer.html5.eventdispatcher();var _components=["display","logo","controlbar","playlist","dock"];jwplayer.utils.extend(_model,_eventDispatcher);for(var option in options){if(typeof options[option]=="string"){var type=/color$/.test(option)?"color":null;options[option]=jwplayer.utils.typechecker(options[option],type)}var config=_model.config;var path=option.split(".");for(var edge in path){if(edge==path.length-1){config[path[edge]]=options[option]}else{if(!jwplayer.utils.exists(config[path[edge]])){config[path[edge]]={}}config=config[path[edge]]}}}for(var index in _configurableStateVariables){var configurableStateVariable=_configurableStateVariables[index];_model[configurableStateVariable]=_model.config[configurableStateVariable]}var pluginorder=_components.concat([]);if(jwplayer.utils.exists(_model.plugins)){if(typeof _model.plugins=="string"){var userplugins=_model.plugins.split(",");for(var userplugin in userplugins){if(typeof userplugins[userplugin]=="string"){pluginorder.push(userplugins[userplugin].replace(/^\s+|\s+$/g,""))}}}}if(jwplayer.utils.isMobile()){pluginorder=["display","logo","dock","playlist"];if(!jwplayer.utils.exists(_model.config.repeat)){_model.config.repeat="list"}}else{if(_model.config.chromeless){pluginorder=["logo","dock","playlist"];if(!jwplayer.utils.exists(_model.config.repeat)){_model.config.repeat="list"}}}_model.plugins={order:pluginorder,config:{},object:{}};if(typeof _model.config.components!="undefined"){for(var component in _model.config.components){_model.plugins.config[component]=_model.config.components[component]}}var playlistVisible=false;for(var pluginIndex in _model.plugins.order){var pluginName=_model.plugins.order[pluginIndex];var pluginConfig=!jwplayer.utils.exists(_model.plugins.config[pluginName])?{}:_model.plugins.config[pluginName];_model.plugins.config[pluginName]=!jwplayer.utils.exists(_model.plugins.config[pluginName])?pluginConfig:jwplayer.utils.extend(_model.plugins.config[pluginName],pluginConfig);if(!jwplayer.utils.exists(_model.plugins.config[pluginName].position)){if(pluginName=="playlist"){_model.plugins.config[pluginName].position=jwplayer.html5.view.positions.NONE}else{_model.plugins.config[pluginName].position=jwplayer.html5.view.positions.OVER}}else{if(pluginName=="playlist"){playlistVisible=true}_model.plugins.config[pluginName].position=_model.plugins.config[pluginName].position.toString().toUpperCase()}}if(_model.plugins.config.controlbar&&playlistVisible){_model.plugins.config.controlbar.hideplaylistcontrols=true}if(typeof _model.plugins.config.dock!="undefined"){if(typeof _model.plugins.config.dock!="object"){var position=_model.plugins.config.dock.toString().toUpperCase();_model.plugins.config.dock={position:position}}if(typeof _model.plugins.config.dock.position!="undefined"){_model.plugins.config.dock.align=_model.plugins.config.dock.position;_model.plugins.config.dock.position=jwplayer.html5.view.positions.OVER}if(typeof _model.plugins.config.dock.idlehide=="undefined"){try{_model.plugins.config.dock.idlehide=_model.plugins.config.controlbar.idlehide}catch(e){}}}function _loadExternal(playlistfile){var loader=new jwplayer.html5.playlistloader();loader.addEventListener(jwplayer.api.events.JWPLAYER_PLAYLIST_LOADED,function(evt){_model.playlist=new jwplayer.html5.playlist(evt);_loadComplete(true)});loader.addEventListener(jwplayer.api.events.JWPLAYER_ERROR,function(evt){_model.playlist=new jwplayer.html5.playlist({playlist:[]});_loadComplete(false)});loader.load(playlistfile)}function _loadComplete(){if(_model.config.shuffle){_model.item=_getShuffleItem()}else{if(_model.config.item>=_model.playlist.length){_model.config.item=_model.playlist.length-1}else{if(_model.config.item<0){_model.config.item=0}}_model.item=_model.config.item}_model.position=0;_model.duration=_model.playlist.length>0?_model.playlist[_model.item].duration:0;_eventDispatcher.sendEvent(jwplayer.api.events.JWPLAYER_PLAYLIST_LOADED,{playlist:_model.playlist});_eventDispatcher.sendEvent(jwplayer.api.events.JWPLAYER_PLAYLIST_ITEM,{index:_model.item})}_model.loadPlaylist=function(arg){var input;if(typeof arg=="string"){if(arg.indexOf("[")==0||arg.indexOf("{")=="0"){try{input=eval(arg)}catch(err){input=arg}}else{input=arg}}else{input=arg}var config;switch(jwplayer.utils.typeOf(input)){case"object":config=input;break;case"array":config={playlist:input};break;default:config={file:input};break}_model.playlist=new jwplayer.html5.playlist(config);_model.item=_model.config.item>=0?_model.config.item:0;if(!_model.playlist[0].provider&&_model.playlist[0].file){_loadExternal(_model.playlist[0].file)}else{_loadComplete()}};function _getShuffleItem(){var result=null;if(_model.playlist.length>1){while(!jwplayer.utils.exists(result)){result=Math.floor(Math.random()*_model.playlist.length);if(result==_model.item){result=null}}}else{result=0}return result}function forward(evt){switch(evt.type){case jwplayer.api.events.JWPLAYER_MEDIA_LOADED:_container=_media.getDisplayElement();break;case jwplayer.api.events.JWPLAYER_MEDIA_MUTE:this.mute=evt.mute;break;case jwplayer.api.events.JWPLAYER_MEDIA_VOLUME:this.volume=evt.volume;break}_eventDispatcher.sendEvent(evt.type,evt)}var _mediaProviders={};_model.setActiveMediaProvider=function(playlistItem){if(playlistItem.provider=="audio"){playlistItem.provider="sound"}var provider=playlistItem.provider;var current=_media?_media.getDisplayElement():null;if(provider=="sound"||provider=="http"||provider==""){provider="video"}if(!jwplayer.utils.exists(_mediaProviders[provider])){switch(provider){case"video":_media=new jwplayer.html5.mediavideo(_model,current?current:_container);break;case"youtube":_media=new jwplayer.html5.mediayoutube(_model,current?current:_container);break}if(!jwplayer.utils.exists(_media)){return false}_media.addGlobalListener(forward);_mediaProviders[provider]=_media}else{if(_media!=_mediaProviders[provider]){if(_media){_media.stop()}_media=_mediaProviders[provider]}}return true};_model.getMedia=function(){return _media};_model.seek=function(pos){_eventDispatcher.sendEvent(jwplayer.api.events.JWPLAYER_MEDIA_SEEK,{position:_model.position,offset:pos});return _media.seek(pos)};_model.setVolume=function(newVol){_utils.saveCookie("volume",newVol);_model.volume=newVol};_model.setMute=function(state){_utils.saveCookie("mute",state);_model.mute=state};_model.setupPlugins=function(){if(!jwplayer.utils.exists(_model.plugins)||!jwplayer.utils.exists(_model.plugins.order)||_model.plugins.order.length==0){jwplayer.utils.log("No plugins to set up");return _model}for(var i=0;i<_model.plugins.order.length;i++){try{var pluginName=_model.plugins.order[i];if(jwplayer.utils.exists(jwplayer.html5[pluginName])){if(pluginName=="playlist"){_model.plugins.object[pluginName]=new jwplayer.html5.playlistcomponent(_api,_model.plugins.config[pluginName])}else{_model.plugins.object[pluginName]=new jwplayer.html5[pluginName](_api,_model.plugins.config[pluginName])}}else{_model.plugins.order.splice(plugin,plugin+1)}if(typeof _model.plugins.object[pluginName].addGlobalListener=="function"){_model.plugins.object[pluginName].addGlobalListener(forward)}}catch(err){jwplayer.utils.log("Could not setup "+pluginName)}}};return _model}})(jwplayer);(function(a){a.html5.playlist=function(b){var d=[];if(b.playlist&&b.playlist instanceof Array&&b.playlist.length>0){for(var c in b.playlist){if(!isNaN(parseInt(c))){d.push(new a.html5.playlistitem(b.playlist[c]))}}}else{d.push(new a.html5.playlistitem(b))}return d}})(jwplayer);(function(a){var c={size:180,position:a.html5.view.positions.NONE,itemheight:60,thumbs:true,fontcolor:"#000000",overcolor:"",activecolor:"",backgroundcolor:"#f8f8f8",font:"_sans",fontsize:"",fontstyle:"",fontweight:""};var b={_sans:"Arial, Helvetica, sans-serif",_serif:"Times, Times New Roman, serif",_typewriter:"Courier New, Courier, monospace"};_utils=a.utils;_css=_utils.css;_hide=function(d){_css(d,{display:"none"})};_show=function(d){_css(d,{display:"block"})};a.html5.playlistcomponent=function(r,C){var x=r;var e=a.utils.extend({},c,x.skin.getComponentSettings("playlist"),C);if(e.position==a.html5.view.positions.NONE||typeof a.html5.view.positions[e.position]=="undefined"){return}var y;var l;var D;var d;var g;var f;var k=-1;var h={background:undefined,item:undefined,itemOver:undefined,itemImage:undefined,itemActive:undefined};this.getDisplayElement=function(){return y};this.resize=function(G,E){l=G;D=E;if(x.jwGetFullscreen()){_hide(y)}else{var F={display:"block",width:l,height:D};_css(y,F)}};this.show=function(){_show(y)};this.hide=function(){_hide(y)};function j(){y=document.createElement("div");y.id=x.id+"_jwplayer_playlistcomponent";y.style.overflow="hidden";switch(e.position){case a.html5.view.positions.RIGHT:case a.html5.view.positions.LEFT:y.style.width=e.size+"px";break;case a.html5.view.positions.TOP:case a.html5.view.positions.BOTTOM:y.style.height=e.size+"px";break}B();if(h.item){e.itemheight=h.item.height}y.style.backgroundColor="#C6C6C6";x.jwAddEventListener(a.api.events.JWPLAYER_PLAYLIST_LOADED,s);x.jwAddEventListener(a.api.events.JWPLAYER_PLAYLIST_ITEM,v);x.jwAddEventListener(a.api.events.JWPLAYER_PLAYER_STATE,m)}function p(){var E=document.createElement("ul");_css(E,{width:y.style.width,minWidth:y.style.width,height:y.style.height,backgroundColor:e.backgroundcolor,backgroundImage:h.background?"url("+h.background.src+")":"",color:e.fontcolor,listStyle:"none",margin:0,padding:0,fontFamily:b[e.font]?b[e.font]:b._sans,fontSize:(e.fontsize?e.fontsize:11)+"px",fontStyle:e.fontstyle,fontWeight:e.fontweight,overflowY:"auto"});return E}function z(E){return function(){var F=f.getElementsByClassName("item")[E];var G=e.fontcolor;var H=h.item?"url("+h.item.src+")":"";if(E==x.jwGetPlaylistIndex()){if(e.activecolor!==""){G=e.activecolor}if(h.itemActive){H="url("+h.itemActive.src+")"}}_css(F,{color:e.overcolor!==""?e.overcolor:G,backgroundImage:h.itemOver?"url("+h.itemOver.src+")":H})}}function o(E){return function(){var F=f.getElementsByClassName("item")[E];var G=e.fontcolor;var H=h.item?"url("+h.item.src+")":"";if(E==x.jwGetPlaylistIndex()){if(e.activecolor!==""){G=e.activecolor}if(h.itemActive){H="url("+h.itemActive.src+")"}}_css(F,{color:G,backgroundImage:H})}}function q(J){var Q=d[J];var P=document.createElement("li");P.className="item";_css(P,{height:e.itemheight,display:"block",cursor:"pointer",backgroundImage:h.item?"url("+h.item.src+")":"",backgroundSize:"100% "+e.itemheight+"px"});P.onmouseover=z(J);P.onmouseout=o(J);var K=document.createElement("div");var G=new Image();var L=0;var M=0;var N=0;if(w()&&(Q.image||Q["playlist.image"]||h.itemImage)){G.className="image";if(h.itemImage){L=(e.itemheight-h.itemImage.height)/2;M=h.itemImage.width;N=h.itemImage.height}else{M=e.itemheight*4/3;N=e.itemheight}_css(K,{height:N,width:M,"float":"left",styleFloat:"left",cssFloat:"left",margin:"0 5px 0 0",background:"black",overflow:"hidden",margin:L+"px",position:"relative"});_css(G,{position:"relative"});K.appendChild(G);G.onload=function(){a.utils.stretch(a.utils.stretching.FILL,G,M,N,this.naturalWidth,this.naturalHeight)};if(Q["playlist.image"]){G.src=Q["playlist.image"]}else{if(Q.image){G.src=Q.image}else{if(h.itemImage){G.src=h.itemImage.src}}}P.appendChild(K)}var F=l-M-L*2;if(D<e.itemheight*d.length){F-=15}var E=document.createElement("div");_css(E,{position:"relative",height:"100%",overflow:"hidden"});var H=document.createElement("span");if(Q.duration>0){H.className="duration";_css(H,{fontSize:(e.fontsize?e.fontsize:11)+"px",fontWeight:(e.fontweight?e.fontweight:"bold"),width:"40px",height:e.fontsize?e.fontsize+10:20,lineHeight:24,"float":"right",styleFloat:"right",cssFloat:"right"});H.innerHTML=_utils.timeFormat(Q.duration);E.appendChild(H)}var O=document.createElement("span");O.className="title";_css(O,{padding:"5px 5px 0 "+(L?0:"5px"),height:e.fontsize?e.fontsize+10:20,lineHeight:e.fontsize?e.fontsize+10:20,overflow:"hidden","float":"left",styleFloat:"left",cssFloat:"left",width:((Q.duration>0)?F-50:F)-10+"px",fontSize:(e.fontsize?e.fontsize:13)+"px",fontWeight:(e.fontweight?e.fontweight:"bold")});O.innerHTML=Q?Q.title:"";E.appendChild(O);if(Q.description){var I=document.createElement("span");I.className="description";_css(I,{display:"block","float":"left",styleFloat:"left",cssFloat:"left",margin:0,paddingLeft:O.style.paddingLeft,paddingRight:O.style.paddingRight,lineHeight:(e.fontsize?e.fontsize+4:16)+"px",overflow:"hidden",position:"relative"});I.innerHTML=Q.description;E.appendChild(I)}P.appendChild(E);return P}function s(F){y.innerHTML="";d=t();if(!d){return}items=[];f=p();for(var G=0;G<d.length;G++){var E=q(G);E.onclick=A(G);f.appendChild(E);items.push(E)}k=x.jwGetPlaylistIndex();o(k)();y.appendChild(f);if(_utils.isIOS()&&window.iScroll){f.style.height=e.itemheight*d.length+"px";var H=new iScroll(y.id)}}function t(){var F=x.jwGetPlaylist();var G=[];for(var E=0;E<F.length;E++){if(!F[E]["ova.hidden"]){G.push(F[E])}}return G}function A(E){return function(){x.jwPlaylistItem(E);x.jwPlay(true)}}function n(){f.scrollTop=x.jwGetPlaylistIndex()*e.itemheight}function w(){return e.thumbs.toString().toLowerCase()=="true"}function v(E){if(k>=0){o(k)();k=E.index}o(E.index)();n()}function m(){if(e.position==a.html5.view.positions.OVER){switch(x.jwGetState()){case a.api.events.state.IDLE:_show(y);break;default:_hide(y);break}}}function B(){for(var E in h){h[E]=u(E)}}function u(E){return x.skin.getSkinElement("playlist",E)}j();return this}})(jwplayer);(function(b){b.html5.playlistitem=function(d){var e={author:"",date:"",description:"",image:"",link:"",mediaid:"",tags:"",title:"",provider:"",file:"",streamer:"",duration:-1,start:0,currentLevel:-1,levels:[]};var c=b.utils.extend({},e,d);if(c.type){c.provider=c.type;delete c.type}if(c.levels.length===0){c.levels[0]=new b.html5.playlistitemlevel(c)}if(!c.provider){c.provider=a(c.levels[0])}else{c.provider=c.provider.toLowerCase()}return c};function a(e){if(b.utils.isYouTube(e.file)){return"youtube"}else{var f=b.utils.extension(e.file);var c;if(f&&b.utils.extensionmap[f]){if(f=="m3u8"){return"video"}c=b.utils.extensionmap[f].html5}else{if(e.type){c=e.type}}if(c){var d=c.split("/")[0];if(d=="audio"){return"sound"}else{if(d=="video"){return d}}}}return""}})(jwplayer);(function(a){a.html5.playlistitemlevel=function(b){var d={file:"",streamer:"",bitrate:0,width:0};for(var c in d){if(a.utils.exists(b[c])){d[c]=b[c]}}return d}})(jwplayer);(function(a){a.html5.playlistloader=function(){var c=new a.html5.eventdispatcher();a.utils.extend(this,c);this.load=function(e){a.utils.ajax(e,d,b)};function d(g){var f=[];try{var f=a.utils.parsers.rssparser.parse(g.responseXML.firstChild);c.sendEvent(a.api.events.JWPLAYER_PLAYLIST_LOADED,{playlist:new a.html5.playlist({playlist:f})})}catch(h){b("Could not parse the playlist")}}function b(e){c.sendEvent(a.api.events.JWPLAYER_ERROR,{message:e?e:"Could not load playlist an unknown reason."})}}})(jwplayer);(function(a){a.html5.skin=function(){var b={};var c=false;this.load=function(d,e){new a.html5.skinloader(d,function(f){c=true;b=f;e()},function(){new a.html5.skinloader("",function(f){c=true;b=f;e()})})};this.getSkinElement=function(d,e){if(c){try{return b[d].elements[e]}catch(f){a.utils.log("No such skin component / element: ",[d,e])}}return null};this.getComponentSettings=function(d){if(c&&b&&b[d]){return b[d].settings}return null};this.getComponentLayout=function(d){if(c){return b[d].layout}return null}}})(jwplayer);(function(a){a.html5.skinloader=function(f,p,k){var o={};var c=p;var l=k;var e=true;var j;var n=f;var s=false;function m(){if(typeof n!="string"||n===""){d(a.html5.defaultSkin().xml)}else{a.utils.ajax(a.utils.getAbsolutePath(n),function(t){try{if(a.utils.exists(t.responseXML)){d(t.responseXML);return}}catch(u){h()}d(a.html5.defaultSkin().xml)},function(t){d(a.html5.defaultSkin().xml)})}}function d(y){var E=y.getElementsByTagName("component");if(E.length===0){return}for(var H=0;H<E.length;H++){var C=E[H].getAttribute("name");var B={settings:{},elements:{},layout:{}};o[C]=B;var G=E[H].getElementsByTagName("elements")[0].getElementsByTagName("element");for(var F=0;F<G.length;F++){b(G[F],C)}var z=E[H].getElementsByTagName("settings")[0];if(z&&z.childNodes.length>0){var K=z.getElementsByTagName("setting");for(var P=0;P<K.length;P++){var Q=K[P].getAttribute("name");var I=K[P].getAttribute("value");var x=/color$/.test(Q)?"color":null;o[C].settings[Q]=a.utils.typechecker(I,x)}}var L=E[H].getElementsByTagName("layout")[0];if(L&&L.childNodes.length>0){var M=L.getElementsByTagName("group");for(var w=0;w<M.length;w++){var A=M[w];o[C].layout[A.getAttribute("position")]={elements:[]};for(var O=0;O<A.attributes.length;O++){var D=A.attributes[O];o[C].layout[A.getAttribute("position")][D.name]=D.value}var N=A.getElementsByTagName("*");for(var v=0;v<N.length;v++){var t=N[v];o[C].layout[A.getAttribute("position")].elements.push({type:t.tagName});for(var u=0;u<t.attributes.length;u++){var J=t.attributes[u];o[C].layout[A.getAttribute("position")].elements[v][J.name]=J.value}if(!a.utils.exists(o[C].layout[A.getAttribute("position")].elements[v].name)){o[C].layout[A.getAttribute("position")].elements[v].name=t.tagName}}}}e=false;r()}}function r(){clearInterval(j);if(!s){j=setInterval(function(){q()},100)}}function b(y,x){var w=new Image();var t=y.getAttribute("name");var v=y.getAttribute("src");var A;if(v.indexOf("data:image/png;base64,")===0){A=v}else{var u=a.utils.getAbsolutePath(n);var z=u.substr(0,u.lastIndexOf("/"));A=[z,x,v].join("/")}o[x].elements[t]={height:0,width:0,src:"",ready:false,image:w};w.onload=function(B){g(w,t,x)};w.onerror=function(B){s=true;r();l()};w.src=A}function h(){for(var u in o){var w=o[u];for(var t in w.elements){var x=w.elements[t];var v=x.image;v.onload=null;v.onerror=null;delete x.image;delete w.elements[t]}delete o[u]}}function q(){for(var t in o){if(t!="properties"){for(var u in o[t].elements){if(!o[t].elements[u].ready){return}}}}if(e===false){clearInterval(j);c(o)}}function g(t,v,u){if(o[u]&&o[u].elements[v]){o[u].elements[v].height=t.height;o[u].elements[v].width=t.width;o[u].elements[v].src=t.src;o[u].elements[v].ready=true;r()}else{a.utils.log("Loaded an image for a missing element: "+u+"."+v)}}m()}})(jwplayer);(function(a){a.html5.api=function(c,p){var n={};var g=document.createElement("div");c.parentNode.replaceChild(g,c);g.id=c.id;n.version=a.version;n.id=g.id;var m=new a.html5.model(n,g,p);var k=new a.html5.view(n,g,m);var l=new a.html5.controller(n,g,m,k);n.skin=new a.html5.skin();n.jwPlay=function(q){if(typeof q=="undefined"){f()}else{if(q.toString().toLowerCase()=="true"){l.play()}else{l.pause()}}};n.jwPause=function(q){if(typeof q=="undefined"){f()}else{if(q.toString().toLowerCase()=="true"){l.pause()}else{l.play()}}};function f(){if(m.state==a.api.events.state.PLAYING||m.state==a.api.events.state.BUFFERING){l.pause()}else{l.play()}}n.jwStop=l.stop;n.jwSeek=l.seek;n.jwPlaylistItem=function(q){if(d){if(d.playlistClickable()){d.jwInstreamDestroy();return l.item(q)}}else{return l.item(q)}};n.jwPlaylistNext=l.next;n.jwPlaylistPrev=l.prev;n.jwResize=l.resize;n.jwLoad=l.load;n.jwDetachMedia=l.detachMedia;n.jwAttachMedia=l.attachMedia;function j(q){return function(){return m[q]}}function e(q,s,r){return function(){var t=m.plugins.object[q];if(t&&t[s]&&typeof t[s]=="function"){t[s].apply(t,r)}}}n.jwGetPlaylistIndex=j("item");n.jwGetPosition=j("position");n.jwGetDuration=j("duration");n.jwGetBuffer=j("buffer");n.jwGetWidth=j("width");n.jwGetHeight=j("height");n.jwGetFullscreen=j("fullscreen");n.jwSetFullscreen=l.setFullscreen;n.jwGetVolume=j("volume");n.jwSetVolume=l.setVolume;n.jwGetMute=j("mute");n.jwSetMute=l.setMute;n.jwGetStretching=function(){return m.stretching.toUpperCase()};n.jwGetState=j("state");n.jwGetVersion=function(){return n.version};n.jwGetPlaylist=function(){return m.playlist};n.jwAddEventListener=l.addEventListener;n.jwRemoveEventListener=l.removeEventListener;n.jwSendEvent=l.sendEvent;n.jwDockSetButton=function(t,q,r,s){if(m.plugins.object.dock&&m.plugins.object.dock.setButton){m.plugins.object.dock.setButton(t,q,r,s)}};n.jwControlbarShow=e("controlbar","show");n.jwControlbarHide=e("controlbar","hide");n.jwDockShow=e("dock","show");n.jwDockHide=e("dock","hide");n.jwDisplayShow=e("display","show");n.jwDisplayHide=e("display","hide");var d;n.jwLoadInstream=function(r,q){if(!d){d=new a.html5.instream(n,m,k,l)}setTimeout(function(){d.load(r,q)},10)};n.jwInstreamDestroy=function(){if(d){d.jwInstreamDestroy()}};n.jwInstreamAddEventListener=o("jwInstreamAddEventListener");n.jwInstreamRemoveEventListener=o("jwInstreamRemoveEventListener");n.jwInstreamGetState=o("jwInstreamGetState");n.jwInstreamGetDuration=o("jwInstreamGetDuration");n.jwInstreamGetPosition=o("jwInstreamGetPosition");n.jwInstreamPlay=o("jwInstreamPlay");n.jwInstreamPause=o("jwInstreamPause");n.jwInstreamSeek=o("jwInstreamSeek");function o(q){return function(){if(d&&typeof d[q]=="function"){return d[q].apply(this,arguments)}else{_utils.log("Could not call instream method - instream API not initialized")}}}n.jwDestroy=function(){l.destroy()};n.jwGetLevel=function(){};n.jwGetBandwidth=function(){};n.jwGetLockState=function(){};n.jwLock=function(){};n.jwUnlock=function(){};function b(){if(m.config.playlistfile){m.addEventListener(a.api.events.JWPLAYER_PLAYLIST_LOADED,h);m.loadPlaylist(m.config.playlistfile)}else{if(typeof m.config.playlist=="string"){m.addEventListener(a.api.events.JWPLAYER_PLAYLIST_LOADED,h);m.loadPlaylist(m.config.playlist)}else{m.loadPlaylist(m.config);setTimeout(h,25)}}}function h(q){m.removeEventListener(a.api.events.JWPLAYER_PLAYLIST_LOADED,h);m.setupPlugins();k.setup();var q={id:n.id,version:n.version};l.playerReady(q)}if(m.config.chromeless&&!a.utils.isIOS()){b()}else{n.skin.load(m.config.skin,b)}return n}})(jwplayer)};

// FILE: soundmanager2-nodebug-jsmin.js (9564e030) 3/7/2014 11:24:12 AM

/** @license
 *
 * SoundManager 2: JavaScript Sound for the Web
 * ----------------------------------------------
 * http://schillmania.com/projects/soundmanager2/
 *
 * Copyright (c) 2007, Scott Schiller. All rights reserved.
 * Code provided under the BSD License:
 * http://schillmania.com/projects/soundmanager2/license.txt
 *
 * V2.97a.20130512
 */
(function(l,h){function V(V,la){function W(b){return c.preferFlash&&D&&!c.ignoreFlash&&c.flash[b]!==h&&c.flash[b]}function r(b){return function(c){var d=this._s;return!d||!d._a?null:b.call(this,c)}}this.setupOptions={url:V||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1E3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,
html5Test:/^(probably|maybe)$/i,preferFlash:!0,noSWFCache:!1,idPrefix:"sound"};this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100};this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,
ondataerror:null};this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null};this.audioFormats={mp3:{type:['audio/mpeg; codecs\x3d"mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs\x3d"mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs\x3dvorbis"],required:!1},opus:{type:["audio/ogg; codecs\x3dopus","audio/opus"],required:!1},
wav:{type:['audio/wav; codecs\x3d"1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}};this.movieID="sm2-container";this.id=la||"sm2movie";this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.versionNumber="V2.97a.20130512";this.altURL=this.movieURL=this.version=null;this.enabled=this.swfLoaded=!1;this.oMC=null;this.sounds={};this.soundIDs=[];this.didFlashBlock=this.muted=!1;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};this.features=
{buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1};this.sandbox={};this.html5={usingFlash:null};this.flash={};this.ignoreFlash=this.html5Only=!1;var Ja,c=this,Ka=null,k=null,X,p=navigator.userAgent,La=l.location.href.toString(),n=document,ma,Ma,na,m,u=[],L=!1,M=!1,q=!1,x=!1,oa=!1,N,w,pa,Y,qa,E,F,G,Na,ra,Z,sa,$,ta,H,ua,O,va,aa,I,Oa,wa,Pa,xa,Qa,P=null,ya=null,Q,za,J,ba,ca,s,R=!1,Aa=!1,Ra,Sa,Ta,da=0,S=null,ea,Ua=[],fa,v=null,Va,ga,T,y,ha,Ba,Wa,t,fb=Array.prototype.slice,z=!1,Ca,D,Da,Xa,
B,ia,Ya=0,U=p.match(/(ipad|iphone|ipod)/i),Za=p.match(/android/i),C=p.match(/msie/i),gb=p.match(/webkit/i),ja=p.match(/safari/i)&&!p.match(/chrome/i),Ea=p.match(/opera/i),hb=p.match(/firefox/i),Fa=p.match(/(mobile|pre\/|xoom)/i)||U||Za,$a=!La.match(/usehtml5audio/i)&&!La.match(/sm2\-ignorebadua/i)&&ja&&!p.match(/silk/i)&&p.match(/OS X 10_6_([3-7])/i),Ga=n.hasFocus!==h?n.hasFocus():null,ka=ja&&(n.hasFocus===h||!n.hasFocus()),ab=!ka,bb=/(mp3|mp4|mpa|m4a|m4b)/i,Ha=n.location?n.location.protocol.match(/http/i):
null,cb=!Ha?"http://":"",db=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,eb="mpeg4 aac flv mov mp4 m4v f4v m4a m4b mp4v 3gp 3g2".split(" "),ib=RegExp("\\.("+eb.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.useAltURL=!Ha;var Ia;try{Ia=Audio!==h&&(Ea&&opera!==h&&10>opera.version()?new Audio(null):new Audio).canPlayType!==h}catch(jb){Ia=!1}this.hasHTML5=Ia;this.setup=function(b){var e=!c.url;b!==h&&q&&v&&c.ok();pa(b);
b&&(e&&(O&&b.url!==h)&&c.beginDelayedInit(),!O&&(b.url!==h&&"complete"===n.readyState)&&setTimeout(H,1));return c};this.supported=this.ok=function(){return v?q&&!x:c.useHTML5Audio&&c.hasHTML5};this.getMovie=function(b){return X(b)||n[b]||l[b]};this.createSound=function(b,e){function d(){a=ba(a);c.sounds[a.id]=new Ja(a);c.soundIDs.push(a.id);return c.sounds[a.id]}var a,f=null;if(!q||!c.ok())return!1;e!==h&&(b={id:b,url:e});a=w(b);a.url=ea(a.url);void 0===a.id&&(a.id=c.setupOptions.idPrefix+Ya++);if(s(a.id,
!0))return c.sounds[a.id];if(ga(a))f=d(),f._setup_html5(a);else{if(c.html5Only||c.html5.usingFlash&&a.url&&a.url.match(/data\:/i))return d();8<m&&null===a.isMovieStar&&(a.isMovieStar=!(!a.serverURL&&!(a.type&&a.type.match(db)||a.url&&a.url.match(ib))));a=ca(a,void 0);f=d();8===m?k._createSound(a.id,a.loops||1,a.usePolicyFile):(k._createSound(a.id,a.url,a.usePeakData,a.useWaveformData,a.useEQData,a.isMovieStar,a.isMovieStar?a.bufferTime:!1,a.loops||1,a.serverURL,a.duration||null,a.autoPlay,!0,a.autoLoad,
a.usePolicyFile),a.serverURL||(f.connected=!0,a.onconnect&&a.onconnect.apply(f)));!a.serverURL&&(a.autoLoad||a.autoPlay)&&f.load(a)}!a.serverURL&&a.autoPlay&&f.play();return f};this.destroySound=function(b,e){if(!s(b))return!1;var d=c.sounds[b],a;d._iO={};d.stop();d.unload();for(a=0;a<c.soundIDs.length;a++)if(c.soundIDs[a]===b){c.soundIDs.splice(a,1);break}e||d.destruct(!0);delete c.sounds[b];return!0};this.load=function(b,e){return!s(b)?!1:c.sounds[b].load(e)};this.unload=function(b){return!s(b)?
!1:c.sounds[b].unload()};this.onposition=this.onPosition=function(b,e,d,a){return!s(b)?!1:c.sounds[b].onposition(e,d,a)};this.clearOnPosition=function(b,e,d){return!s(b)?!1:c.sounds[b].clearOnPosition(e,d)};this.start=this.play=function(b,e){var d=null,a=e&&!(e instanceof Object);if(!q||!c.ok())return!1;if(s(b,a))a&&(e={url:e});else{if(!a)return!1;a&&(e={url:e});e&&e.url&&(e.id=b,d=c.createSound(e).play())}null===d&&(d=c.sounds[b].play(e));return d};this.setPosition=function(b,e){return!s(b)?!1:c.sounds[b].setPosition(e)};
this.stop=function(b){return!s(b)?!1:c.sounds[b].stop()};this.stopAll=function(){for(var b in c.sounds)c.sounds.hasOwnProperty(b)&&c.sounds[b].stop()};this.pause=function(b){return!s(b)?!1:c.sounds[b].pause()};this.pauseAll=function(){var b;for(b=c.soundIDs.length-1;0<=b;b--)c.sounds[c.soundIDs[b]].pause()};this.resume=function(b){return!s(b)?!1:c.sounds[b].resume()};this.resumeAll=function(){var b;for(b=c.soundIDs.length-1;0<=b;b--)c.sounds[c.soundIDs[b]].resume()};this.togglePause=function(b){return!s(b)?
!1:c.sounds[b].togglePause()};this.setPan=function(b,e){return!s(b)?!1:c.sounds[b].setPan(e)};this.setVolume=function(b,e){return!s(b)?!1:c.sounds[b].setVolume(e)};this.mute=function(b){var e=0;b instanceof String&&(b=null);if(b)return!s(b)?!1:c.sounds[b].mute();for(e=c.soundIDs.length-1;0<=e;e--)c.sounds[c.soundIDs[e]].mute();return c.muted=!0};this.muteAll=function(){c.mute()};this.unmute=function(b){b instanceof String&&(b=null);if(b)return!s(b)?!1:c.sounds[b].unmute();for(b=c.soundIDs.length-
1;0<=b;b--)c.sounds[c.soundIDs[b]].unmute();c.muted=!1;return!0};this.unmuteAll=function(){c.unmute()};this.toggleMute=function(b){return!s(b)?!1:c.sounds[b].toggleMute()};this.getMemoryUse=function(){var b=0;k&&8!==m&&(b=parseInt(k._getMemoryUse(),10));return b};this.disable=function(b){var e;b===h&&(b=!1);if(x)return!1;x=!0;for(e=c.soundIDs.length-1;0<=e;e--)Pa(c.sounds[c.soundIDs[e]]);N(b);t.remove(l,"load",F);return!0};this.canPlayMIME=function(b){var e;c.hasHTML5&&(e=T({type:b}));!e&&v&&(e=b&&
c.ok()?!!(8<m&&b.match(db)||b.match(c.mimePattern)):null);return e};this.canPlayURL=function(b){var e;c.hasHTML5&&(e=T({url:b}));!e&&v&&(e=b&&c.ok()?!!b.match(c.filePattern):null);return e};this.canPlayLink=function(b){return b.type!==h&&b.type&&c.canPlayMIME(b.type)?!0:c.canPlayURL(b.href)};this.getSoundById=function(b,e){return!b?null:c.sounds[b]};this.onready=function(b,c){if("function"===typeof b)c||(c=l),qa("onready",b,c),E();else throw Q("needFunction","onready");return!0};this.ontimeout=function(b,
c){if("function"===typeof b)c||(c=l),qa("ontimeout",b,c),E({type:"ontimeout"});else throw Q("needFunction","ontimeout");return!0};this._wD=this._writeDebug=function(b,c){return!0};this._debug=function(){};this.reboot=function(b,e){var d,a,f;for(d=c.soundIDs.length-1;0<=d;d--)c.sounds[c.soundIDs[d]].destruct();if(k)try{C&&(ya=k.innerHTML),P=k.parentNode.removeChild(k)}catch(h){}ya=P=v=k=null;c.enabled=O=q=R=Aa=L=M=x=z=c.swfLoaded=!1;c.soundIDs=[];c.sounds={};Ya=0;if(b)u=[];else for(d in u)if(u.hasOwnProperty(d)){a=
0;for(f=u[d].length;a<f;a++)u[d][a].fired=!1}c.html5={usingFlash:null};c.flash={};c.html5Only=!1;c.ignoreFlash=!1;l.setTimeout(function(){ta();e||c.beginDelayedInit()},20);return c};this.reset=function(){return c.reboot(!0,!0)};this.getMoviePercent=function(){return k&&"PercentLoaded"in k?k.PercentLoaded():null};this.beginDelayedInit=function(){oa=!0;H();setTimeout(function(){if(Aa)return!1;aa();$();return Aa=!0},20);G()};this.destruct=function(){c.disable(!0)};Ja=function(b){var e,d,a=this,f,g,K,
A,l,n,r=!1,p=[],q=0,v,x,u=null,y;d=e=null;this.sID=this.id=b.id;this.url=b.url;this._iO=this.instanceOptions=this.options=w(b);this.pan=this.options.pan;this.volume=this.options.volume;this.isHTML5=!1;this._a=null;y=this.url?!1:!0;this.id3={};this._debug=function(){};this.load=function(b){var e=null,d;b!==h?a._iO=w(b,a.options):(b=a.options,a._iO=b,u&&u!==a.url&&(a._iO.url=a.url,a.url=null));a._iO.url||(a._iO.url=a.url);a._iO.url=ea(a._iO.url);d=a.instanceOptions=a._iO;if(!d.url&&!a.url)return a;
if(d.url===a.url&&0!==a.readyState&&2!==a.readyState)return 3===a.readyState&&d.onload&&ia(a,function(){d.onload.apply(a,[!!a.duration])}),a;a.loaded=!1;a.readyState=1;a.playState=0;a.id3={};if(ga(d))e=a._setup_html5(d),e._called_load||(a._html5_canplay=!1,a.url!==d.url&&(a._a.src=d.url,a.setPosition(0)),a._a.autobuffer="auto",a._a.preload="auto",a._a._called_load=!0,d.autoPlay&&a.play());else{if(c.html5Only||a._iO.url&&a._iO.url.match(/data\:/i))return a;try{a.isHTML5=!1,a._iO=ca(ba(d)),d=a._iO,
8===m?k._load(a.id,d.url,d.stream,d.autoPlay,d.usePolicyFile):k._load(a.id,d.url,!!d.stream,!!d.autoPlay,d.loops||1,!!d.autoLoad,d.usePolicyFile)}catch(f){I({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}a.url=d.url;return a};this.unload=function(){0!==a.readyState&&(a.isHTML5?(A(),a._a&&(a._a.pause(),u=ha(a._a))):8===m?k._unload(a.id,"about:blank"):k._unload(a.id),f());return a};this.destruct=function(b){a.isHTML5?(A(),a._a&&(a._a.pause(),ha(a._a),z||K(),a._a._s=null,a._a=null)):(a._iO.onfailure=
null,k._destroySound(a.id));b||c.destroySound(a.id,!0)};this.start=this.play=function(b,e){var d,f,g,K,A;f=!0;f=null;e=e===h?!0:e;b||(b={});a.url&&(a._iO.url=a.url);a._iO=w(a._iO,a.options);a._iO=w(b,a._iO);a._iO.url=ea(a._iO.url);a.instanceOptions=a._iO;if(!a.isHTML5&&a._iO.serverURL&&!a.connected)return a.getAutoPlay()||a.setAutoPlay(!0),a;ga(a._iO)&&(a._setup_html5(a._iO),l());1===a.playState&&!a.paused&&(d=a._iO.multiShot,d||(a.isHTML5&&a.setPosition(a._iO.position),f=a));if(null!==f)return f;
b.url&&b.url!==a.url&&(!a.readyState&&!a.isHTML5&&8===m&&y?y=!1:a.load(a._iO));a.loaded||(0===a.readyState?(!a.isHTML5&&!c.html5Only?(a._iO.autoPlay=!0,a.load(a._iO)):a.isHTML5?a.load(a._iO):f=a,a.instanceOptions=a._iO):2===a.readyState&&(f=a));if(null!==f)return f;!a.isHTML5&&(9===m&&0<a.position&&a.position===a.duration)&&(b.position=0);if(a.paused&&0<=a.position&&(!a._iO.serverURL||0<a.position))a.resume();else{a._iO=w(b,a._iO);if(null!==a._iO.from&&null!==a._iO.to&&0===a.instanceCount&&0===a.playState&&
!a._iO.serverURL){d=function(){a._iO=w(b,a._iO);a.play(a._iO)};if(a.isHTML5&&!a._html5_canplay)a.load({oncanplay:d}),f=!1;else if(!a.isHTML5&&!a.loaded&&(!a.readyState||2!==a.readyState))a.load({onload:d}),f=!1;if(null!==f)return f;a._iO=x()}(!a.instanceCount||a._iO.multiShotEvents||a.isHTML5&&a._iO.multiShot&&!z||!a.isHTML5&&8<m&&!a.getAutoPlay())&&a.instanceCount++;a._iO.onposition&&0===a.playState&&n(a);a.playState=1;a.paused=!1;a.position=a._iO.position!==h&&!isNaN(a._iO.position)?a._iO.position:
0;a.isHTML5||(a._iO=ca(ba(a._iO)));a._iO.onplay&&e&&(a._iO.onplay.apply(a),r=!0);a.setVolume(a._iO.volume,!0);a.setPan(a._iO.pan,!0);a.isHTML5?2>a.instanceCount?(l(),f=a._setup_html5(),a.setPosition(a._iO.position),f.play()):(g=new Audio(a._iO.url),K=function(){t.remove(g,"onended",K);a._onfinish(a);ha(g);g=null},A=function(){t.remove(g,"canplay",A);try{g.currentTime=a._iO.position/1E3}catch(b){}g.play()},t.add(g,"ended",K),a._iO.position?t.add(g,"canplay",A):g.play()):(f=k._start(a.id,a._iO.loops||
1,9===m?a.position:a.position/1E3,a._iO.multiShot||!1),9===m&&!f&&a._iO.onplayerror&&a._iO.onplayerror.apply(a))}return a};this.stop=function(b){var c=a._iO;1===a.playState&&(a._onbufferchange(0),a._resetOnPosition(0),a.paused=!1,a.isHTML5||(a.playState=0),v(),c.to&&a.clearOnPosition(c.to),a.isHTML5?a._a&&(b=a.position,a.setPosition(0),a.position=b,a._a.pause(),a.playState=0,a._onTimer(),A()):(k._stop(a.id,b),c.serverURL&&a.unload()),a.instanceCount=0,a._iO={},c.onstop&&c.onstop.apply(a));return a};
this.setAutoPlay=function(b){a._iO.autoPlay=b;a.isHTML5||(k._setAutoPlay(a.id,b),b&&!a.instanceCount&&1===a.readyState&&a.instanceCount++)};this.getAutoPlay=function(){return a._iO.autoPlay};this.setPosition=function(b){b===h&&(b=0);var c=a.isHTML5?Math.max(b,0):Math.min(a.duration||a._iO.duration,Math.max(b,0));a.position=c;b=a.position/1E3;a._resetOnPosition(a.position);a._iO.position=c;if(a.isHTML5){if(a._a){if(a._html5_canplay){if(a._a.currentTime!==b)try{a._a.currentTime=b,(0===a.playState||
a.paused)&&a._a.pause()}catch(e){}}else if(b)return a;a.paused&&a._onTimer(!0)}}else b=9===m?a.position:b,a.readyState&&2!==a.readyState&&k._setPosition(a.id,b,a.paused||!a.playState,a._iO.multiShot);return a};this.pause=function(b){if(a.paused||0===a.playState&&1!==a.readyState)return a;a.paused=!0;a.isHTML5?(a._setup_html5().pause(),A()):(b||b===h)&&k._pause(a.id,a._iO.multiShot);a._iO.onpause&&a._iO.onpause.apply(a);return a};this.resume=function(){var b=a._iO;if(!a.paused)return a;a.paused=!1;
a.playState=1;a.isHTML5?(a._setup_html5().play(),l()):(b.isMovieStar&&!b.serverURL&&a.setPosition(a.position),k._pause(a.id,b.multiShot));!r&&b.onplay?(b.onplay.apply(a),r=!0):b.onresume&&b.onresume.apply(a);return a};this.togglePause=function(){if(0===a.playState)return a.play({position:9===m&&!a.isHTML5?a.position:a.position/1E3}),a;a.paused?a.resume():a.pause();return a};this.setPan=function(b,c){b===h&&(b=0);c===h&&(c=!1);a.isHTML5||k._setPan(a.id,b);a._iO.pan=b;c||(a.pan=b,a.options.pan=b);return a};
this.setVolume=function(b,e){b===h&&(b=100);e===h&&(e=!1);a.isHTML5?a._a&&(a._a.volume=Math.max(0,Math.min(1,b/100))):k._setVolume(a.id,c.muted&&!a.muted||a.muted?0:b);a._iO.volume=b;e||(a.volume=b,a.options.volume=b);return a};this.mute=function(){a.muted=!0;a.isHTML5?a._a&&(a._a.muted=!0):k._setVolume(a.id,0);return a};this.unmute=function(){a.muted=!1;var b=a._iO.volume!==h;a.isHTML5?a._a&&(a._a.muted=!1):k._setVolume(a.id,b?a._iO.volume:a.options.volume);return a};this.toggleMute=function(){return a.muted?
a.unmute():a.mute()};this.onposition=this.onPosition=function(b,c,e){p.push({position:parseInt(b,10),method:c,scope:e!==h?e:a,fired:!1});return a};this.clearOnPosition=function(a,b){var c;a=parseInt(a,10);if(isNaN(a))return!1;for(c=0;c<p.length;c++)if(a===p[c].position&&(!b||b===p[c].method))p[c].fired&&q--,p.splice(c,1)};this._processOnPosition=function(){var b,c;b=p.length;if(!b||!a.playState||q>=b)return!1;for(b-=1;0<=b;b--)c=p[b],!c.fired&&a.position>=c.position&&(c.fired=!0,q++,c.method.apply(c.scope,
[c.position]));return!0};this._resetOnPosition=function(a){var b,c;b=p.length;if(!b)return!1;for(b-=1;0<=b;b--)c=p[b],c.fired&&a<=c.position&&(c.fired=!1,q--);return!0};x=function(){var b=a._iO,c=b.from,e=b.to,d,f;f=function(){a.clearOnPosition(e,f);a.stop()};d=function(){if(null!==e&&!isNaN(e))a.onPosition(e,f)};null!==c&&!isNaN(c)&&(b.position=c,b.multiShot=!1,d());return b};n=function(){var b,c=a._iO.onposition;if(c)for(b in c)if(c.hasOwnProperty(b))a.onPosition(parseInt(b,10),c[b])};v=function(){var b,
c=a._iO.onposition;if(c)for(b in c)c.hasOwnProperty(b)&&a.clearOnPosition(parseInt(b,10))};l=function(){a.isHTML5&&Ra(a)};A=function(){a.isHTML5&&Sa(a)};f=function(b){b||(p=[],q=0);r=!1;a._hasTimer=null;a._a=null;a._html5_canplay=!1;a.bytesLoaded=null;a.bytesTotal=null;a.duration=a._iO&&a._iO.duration?a._iO.duration:null;a.durationEstimate=null;a.buffered=[];a.eqData=[];a.eqData.left=[];a.eqData.right=[];a.failures=0;a.isBuffering=!1;a.instanceOptions={};a.instanceCount=0;a.loaded=!1;a.metadata={};
a.readyState=0;a.muted=!1;a.paused=!1;a.peakData={left:0,right:0};a.waveformData={left:[],right:[]};a.playState=0;a.position=null;a.id3={}};f();this._onTimer=function(b){var c,f=!1,g={};if(a._hasTimer||b){if(a._a&&(b||(0<a.playState||1===a.readyState)&&!a.paused))c=a._get_html5_duration(),c!==e&&(e=c,a.duration=c,f=!0),a.durationEstimate=a.duration,c=1E3*a._a.currentTime||0,c!==d&&(d=c,f=!0),(f||b)&&a._whileplaying(c,g,g,g,g);return f}};this._get_html5_duration=function(){var b=a._iO;return(b=a._a&&
a._a.duration?1E3*a._a.duration:b&&b.duration?b.duration:null)&&!isNaN(b)&&Infinity!==b?b:null};this._apply_loop=function(a,b){a.loop=1<b?"loop":""};this._setup_html5=function(b){b=w(a._iO,b);var c=z?Ka:a._a,e=decodeURI(b.url),d;z?e===decodeURI(Ca)&&(d=!0):e===decodeURI(u)&&(d=!0);if(c){if(c._s)if(z)c._s&&(c._s.playState&&!d)&&c._s.stop();else if(!z&&e===decodeURI(u))return a._apply_loop(c,b.loops),c;d||(f(!1),c.src=b.url,Ca=u=a.url=b.url,c._called_load=!1)}else a._a=b.autoLoad||b.autoPlay?new Audio(b.url):
Ea&&10>opera.version()?new Audio(null):new Audio,c=a._a,c._called_load=!1,z&&(Ka=c);a.isHTML5=!0;a._a=c;c._s=a;g();a._apply_loop(c,b.loops);b.autoLoad||b.autoPlay?a.load():(c.autobuffer=!1,c.preload="auto");return c};g=function(){if(a._a._added_events)return!1;var b;a._a._added_events=!0;for(b in B)B.hasOwnProperty(b)&&a._a&&a._a.addEventListener(b,B[b],!1);return!0};K=function(){var b;a._a._added_events=!1;for(b in B)B.hasOwnProperty(b)&&a._a&&a._a.removeEventListener(b,B[b],!1)};this._onload=function(b){var c=
!!b||!a.isHTML5&&8===m&&a.duration;a.loaded=c;a.readyState=c?3:2;a._onbufferchange(0);a._iO.onload&&ia(a,function(){a._iO.onload.apply(a,[c])});return!0};this._onbufferchange=function(b){if(0===a.playState||b&&a.isBuffering||!b&&!a.isBuffering)return!1;a.isBuffering=1===b;a._iO.onbufferchange&&a._iO.onbufferchange.apply(a);return!0};this._onsuspend=function(){a._iO.onsuspend&&a._iO.onsuspend.apply(a);return!0};this._onfailure=function(b,c,e){a.failures++;if(a._iO.onfailure&&1===a.failures)a._iO.onfailure(a,
b,c,e)};this._onfinish=function(){var b=a._iO.onfinish;a._onbufferchange(0);a._resetOnPosition(0);a.instanceCount&&(a.instanceCount--,a.instanceCount||(v(),a.playState=0,a.paused=!1,a.instanceCount=0,a.instanceOptions={},a._iO={},A(),a.isHTML5&&(a.position=0)),(!a.instanceCount||a._iO.multiShotEvents)&&b&&ia(a,function(){b.apply(a)}))};this._whileloading=function(b,c,e,d){var f=a._iO;a.bytesLoaded=b;a.bytesTotal=c;a.duration=Math.floor(e);a.bufferLength=d;a.durationEstimate=!a.isHTML5&&!f.isMovieStar?
f.duration?a.duration>f.duration?a.duration:f.duration:parseInt(a.bytesTotal/a.bytesLoaded*a.duration,10):a.duration;a.isHTML5||(a.buffered=[{start:0,end:a.duration}]);(3!==a.readyState||a.isHTML5)&&f.whileloading&&f.whileloading.apply(a)};this._whileplaying=function(b,c,e,d,f){var g=a._iO;if(isNaN(b)||null===b)return!1;a.position=Math.max(0,b);a._processOnPosition();!a.isHTML5&&8<m&&(g.usePeakData&&(c!==h&&c)&&(a.peakData={left:c.leftPeak,right:c.rightPeak}),g.useWaveformData&&(e!==h&&e)&&(a.waveformData=
{left:e.split(","),right:d.split(",")}),g.useEQData&&(f!==h&&f&&f.leftEQ)&&(b=f.leftEQ.split(","),a.eqData=b,a.eqData.left=b,f.rightEQ!==h&&f.rightEQ&&(a.eqData.right=f.rightEQ.split(","))));1===a.playState&&(!a.isHTML5&&(8===m&&!a.position&&a.isBuffering)&&a._onbufferchange(0),g.whileplaying&&g.whileplaying.apply(a));return!0};this._oncaptiondata=function(b){a.captiondata=b;a._iO.oncaptiondata&&a._iO.oncaptiondata.apply(a,[b])};this._onmetadata=function(b,c){var e={},d,f;d=0;for(f=b.length;d<f;d++)e[b[d]]=
c[d];a.metadata=e;a._iO.onmetadata&&a._iO.onmetadata.apply(a)};this._onid3=function(b,c){var e=[],d,f;d=0;for(f=b.length;d<f;d++)e[b[d]]=c[d];a.id3=w(a.id3,e);a._iO.onid3&&a._iO.onid3.apply(a)};this._onconnect=function(b){b=1===b;if(a.connected=b)a.failures=0,s(a.id)&&(a.getAutoPlay()?a.play(h,a.getAutoPlay()):a._iO.autoLoad&&a.load()),a._iO.onconnect&&a._iO.onconnect.apply(a,[b])};this._ondataerror=function(b){0<a.playState&&a._iO.ondataerror&&a._iO.ondataerror.apply(a)}};va=function(){return n.body||
n._docElement||n.getElementsByTagName("div")[0]};X=function(b){return n.getElementById(b)};w=function(b,e){var d=b||{},a,f;a=e===h?c.defaultOptions:e;for(f in a)a.hasOwnProperty(f)&&d[f]===h&&(d[f]="object"!==typeof a[f]||null===a[f]?a[f]:w(d[f],a[f]));return d};ia=function(b,c){!b.isHTML5&&8===m?l.setTimeout(c,0):c()};Y={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1};pa=function(b,e){var d,a=!0,f=e!==h,g=c.setupOptions;for(d in b)if(b.hasOwnProperty(d))if("object"!==typeof b[d]||
null===b[d]||b[d]instanceof Array||b[d]instanceof RegExp)f&&Y[e]!==h?c[e][d]=b[d]:g[d]!==h?(c.setupOptions[d]=b[d],c[d]=b[d]):Y[d]===h?a=!1:c[d]instanceof Function?c[d].apply(c,b[d]instanceof Array?b[d]:[b[d]]):c[d]=b[d];else if(Y[d]===h)a=!1;else return pa(b[d],d);return a};t=function(){function b(a){a=fb.call(a);var b=a.length;d?(a[1]="on"+a[1],3<b&&a.pop()):3===b&&a.push(!1);return a}function c(b,e){var h=b.shift(),k=[a[e]];if(d)h[k](b[0],b[1]);else h[k].apply(h,b)}var d=l.attachEvent,a={add:d?
"attachEvent":"addEventListener",remove:d?"detachEvent":"removeEventListener"};return{add:function(){c(b(arguments),"add")},remove:function(){c(b(arguments),"remove")}}}();B={abort:r(function(){}),canplay:r(function(){var b=this._s,c;if(b._html5_canplay)return!0;b._html5_canplay=!0;b._onbufferchange(0);c=b._iO.position!==h&&!isNaN(b._iO.position)?b._iO.position/1E3:null;if(b.position&&this.currentTime!==c)try{this.currentTime=c}catch(d){}b._iO._oncanplay&&b._iO._oncanplay()}),canplaythrough:r(function(){var b=
this._s;b.loaded||(b._onbufferchange(0),b._whileloading(b.bytesLoaded,b.bytesTotal,b._get_html5_duration()),b._onload(!0))}),ended:r(function(){this._s._onfinish()}),error:r(function(){this._s._onload(!1)}),loadeddata:r(function(){var b=this._s;!b._loaded&&!ja&&(b.duration=b._get_html5_duration())}),loadedmetadata:r(function(){}),loadstart:r(function(){this._s._onbufferchange(1)}),play:r(function(){this._s._onbufferchange(0)}),playing:r(function(){this._s._onbufferchange(0)}),progress:r(function(b){var c=
this._s,d,a,f=0,f=b.target.buffered;d=b.loaded||0;var g=b.total||1;c.buffered=[];if(f&&f.length){d=0;for(a=f.length;d<a;d++)c.buffered.push({start:1E3*f.start(d),end:1E3*f.end(d)});f=1E3*(f.end(0)-f.start(0));d=Math.min(1,f/(1E3*b.target.duration))}isNaN(d)||(c._onbufferchange(0),c._whileloading(d,g,c._get_html5_duration()),d&&(g&&d===g)&&B.canplaythrough.call(this,b))}),ratechange:r(function(){}),suspend:r(function(b){var c=this._s;B.progress.call(this,b);c._onsuspend()}),stalled:r(function(){}),
timeupdate:r(function(){this._s._onTimer()}),waiting:r(function(){this._s._onbufferchange(1)})};ga=function(b){return!b||!b.type&&!b.url&&!b.serverURL?!1:b.serverURL||b.type&&W(b.type)?!1:b.type?T({type:b.type}):T({url:b.url})||c.html5Only||b.url.match(/data\:/i)};ha=function(b){var c;b&&(c=ja&&!U?null:hb?"about:blank":null,b.src=c,void 0!==b._called_unload&&(b._called_load=!1));z&&(Ca=null);return c};T=function(b){if(!c.useHTML5Audio||!c.hasHTML5)return!1;var e=b.url||null;b=b.type||null;var d=c.audioFormats,
a;if(b&&c.html5[b]!==h)return c.html5[b]&&!W(b);if(!y){y=[];for(a in d)d.hasOwnProperty(a)&&(y.push(a),d[a].related&&(y=y.concat(d[a].related)));y=RegExp("\\.("+y.join("|")+")(\\?.*)?$","i")}a=e?e.toLowerCase().match(y):null;!a||!a.length?b&&(e=b.indexOf(";"),a=(-1!==e?b.substr(0,e):b).substr(6)):a=a[1];a&&c.html5[a]!==h?e=c.html5[a]&&!W(a):(b="audio/"+a,e=c.html5.canPlayType({type:b}),e=(c.html5[a]=e)&&c.html5[b]&&!W(b));return e};Wa=function(){function b(a){var b,d,f=b=!1;if(!e||"function"!==typeof e.canPlayType)return b;
if(a instanceof Array){b=0;for(d=a.length;b<d;b++)if(c.html5[a[b]]||e.canPlayType(a[b]).match(c.html5Test))f=!0,c.html5[a[b]]=!0,c.flash[a[b]]=!!a[b].match(bb);b=f}else a=e&&"function"===typeof e.canPlayType?e.canPlayType(a):!1,b=!(!a||!a.match(c.html5Test));return b}if(!c.useHTML5Audio||!c.hasHTML5)return v=c.html5.usingFlash=!0,!1;var e=Audio!==h?Ea&&10>opera.version()?new Audio(null):new Audio:null,d,a,f={},g;g=c.audioFormats;for(d in g)if(g.hasOwnProperty(d)&&(a="audio/"+d,f[d]=b(g[d].type),f[a]=
f[d],d.match(bb)?(c.flash[d]=!0,c.flash[a]=!0):(c.flash[d]=!1,c.flash[a]=!1),g[d]&&g[d].related))for(a=g[d].related.length-1;0<=a;a--)f["audio/"+g[d].related[a]]=f[d],c.html5[g[d].related[a]]=f[d],c.flash[g[d].related[a]]=f[d];f.canPlayType=e?b:null;c.html5=w(c.html5,f);c.html5.usingFlash=Va();v=c.html5.usingFlash;return!0};sa={};Q=function(){};ba=function(b){8===m&&(1<b.loops&&b.stream)&&(b.stream=!1);return b};ca=function(b,c){if(b&&!b.usePolicyFile&&(b.onid3||b.usePeakData||b.useWaveformData||
b.useEQData))b.usePolicyFile=!0;return b};ma=function(){return!1};Pa=function(b){for(var c in b)b.hasOwnProperty(c)&&"function"===typeof b[c]&&(b[c]=ma)};xa=function(b){b===h&&(b=!1);(x||b)&&c.disable(b)};Qa=function(b){var e=null;if(b)if(b.match(/\.swf(\?.*)?$/i)){if(e=b.substr(b.toLowerCase().lastIndexOf(".swf?")+4))return b}else b.lastIndexOf("/")!==b.length-1&&(b+="/");b=(b&&-1!==b.lastIndexOf("/")?b.substr(0,b.lastIndexOf("/")+1):"./")+c.movieURL;c.noSWFCache&&(b+="?ts\x3d"+(new Date).getTime());
return b};ra=function(){m=parseInt(c.flashVersion,10);8!==m&&9!==m&&(c.flashVersion=m=8);var b=c.debugMode||c.debugFlash?"_debug.swf":".swf";c.useHTML5Audio&&(!c.html5Only&&c.audioFormats.mp4.required&&9>m)&&(c.flashVersion=m=9);c.version=c.versionNumber+(c.html5Only?" (HTML5-only mode)":9===m?" (AS3/Flash 9)":" (AS2/Flash 8)");8<m?(c.defaultOptions=w(c.defaultOptions,c.flash9Options),c.features.buffering=!0,c.defaultOptions=w(c.defaultOptions,c.movieStarOptions),c.filePatterns.flash9=RegExp("\\.(mp3|"+
eb.join("|")+")(\\?.*)?$","i"),c.features.movieStar=!0):c.features.movieStar=!1;c.filePattern=c.filePatterns[8!==m?"flash9":"flash8"];c.movieURL=(8===m?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",b);c.features.peakData=c.features.waveformData=c.features.eqData=8<m};Oa=function(b,c){if(!k)return!1;k._setPolling(b,c)};wa=function(){};s=this.getSoundById;J=function(){var b=[];c.debugMode&&b.push("sm2_debug");c.debugFlash&&b.push("flash_debug");c.useHighPerformance&&b.push("high_performance");
return b.join(" ")};za=function(){Q("fbHandler");var b=c.getMoviePercent(),e={type:"FLASHBLOCK"};if(c.html5Only)return!1;c.ok()?c.oMC&&(c.oMC.className=[J(),"movieContainer","swf_loaded"+(c.didFlashBlock?" swf_unblocked":"")].join(" ")):(v&&(c.oMC.className=J()+" movieContainer "+(null===b?"swf_timedout":"swf_error")),c.didFlashBlock=!0,E({type:"ontimeout",ignoreInit:!0,error:e}),I(e))};qa=function(b,c,d){u[b]===h&&(u[b]=[]);u[b].push({method:c,scope:d||null,fired:!1})};E=function(b){b||(b={type:c.ok()?
"onready":"ontimeout"});if(!q&&b&&!b.ignoreInit||"ontimeout"===b.type&&(c.ok()||x&&!b.ignoreInit))return!1;var e={success:b&&b.ignoreInit?c.ok():!x},d=b&&b.type?u[b.type]||[]:[],a=[],f,e=[e],g=v&&!c.ok();b.error&&(e[0].error=b.error);b=0;for(f=d.length;b<f;b++)!0!==d[b].fired&&a.push(d[b]);if(a.length){b=0;for(f=a.length;b<f;b++)a[b].scope?a[b].method.apply(a[b].scope,e):a[b].method.apply(this,e),g||(a[b].fired=!0)}return!0};F=function(){l.setTimeout(function(){c.useFlashBlock&&za();E();"function"===
typeof c.onload&&c.onload.apply(l);c.waitForWindowLoad&&t.add(l,"load",F)},1)};Da=function(){if(D!==h)return D;var b=!1,c=navigator,d=c.plugins,a,f=l.ActiveXObject;if(d&&d.length)(c=c.mimeTypes)&&(c["application/x-shockwave-flash"]&&c["application/x-shockwave-flash"].enabledPlugin&&c["application/x-shockwave-flash"].enabledPlugin.description)&&(b=!0);else if(f!==h&&!p.match(/MSAppHost/i)){try{a=new f("ShockwaveFlash.ShockwaveFlash")}catch(g){a=null}b=!!a}return D=b};Va=function(){var b,e,d=c.audioFormats;
if(U&&p.match(/os (1|2|3_0|3_1)/i))c.hasHTML5=!1,c.html5Only=!0,c.oMC&&(c.oMC.style.display="none");else if(c.useHTML5Audio&&(!c.html5||!c.html5.canPlayType))c.hasHTML5=!1;if(c.useHTML5Audio&&c.hasHTML5)for(e in fa=!0,d)if(d.hasOwnProperty(e)&&d[e].required)if(c.html5.canPlayType(d[e].type)){if(c.preferFlash&&(c.flash[e]||c.flash[d[e].type]))b=!0}else fa=!1,b=!0;c.ignoreFlash&&(b=!1,fa=!0);c.html5Only=c.hasHTML5&&c.useHTML5Audio&&!b;return!c.html5Only};ea=function(b){var e,d,a=0;if(b instanceof Array){e=
0;for(d=b.length;e<d;e++)if(b[e]instanceof Object){if(c.canPlayMIME(b[e].type)){a=e;break}}else if(c.canPlayURL(b[e])){a=e;break}b[a].url&&(b[a]=b[a].url);b=b[a]}return b};Ra=function(b){b._hasTimer||(b._hasTimer=!0,!Fa&&c.html5PollingInterval&&(null===S&&0===da&&(S=setInterval(Ta,c.html5PollingInterval)),da++))};Sa=function(b){b._hasTimer&&(b._hasTimer=!1,!Fa&&c.html5PollingInterval&&da--)};Ta=function(){var b;if(null!==S&&!da)return clearInterval(S),S=null,!1;for(b=c.soundIDs.length-1;0<=b;b--)c.sounds[c.soundIDs[b]].isHTML5&&
c.sounds[c.soundIDs[b]]._hasTimer&&c.sounds[c.soundIDs[b]]._onTimer()};I=function(b){b=b!==h?b:{};"function"===typeof c.onerror&&c.onerror.apply(l,[{type:b.type!==h?b.type:null}]);b.fatal!==h&&b.fatal&&c.disable()};Xa=function(){if(!$a||!Da())return!1;var b=c.audioFormats,e,d;for(d in b)if(b.hasOwnProperty(d)&&("mp3"===d||"mp4"===d))if(c.html5[d]=!1,b[d]&&b[d].related)for(e=b[d].related.length-1;0<=e;e--)c.html5[b[d].related[e]]=!1};this._setSandboxType=function(b){};this._externalInterfaceOK=function(b){if(c.swfLoaded)return!1;
c.swfLoaded=!0;ka=!1;$a&&Xa();setTimeout(na,C?100:1)};aa=function(b,e){function d(a,b){return'\x3cparam name\x3d"'+a+'" value\x3d"'+b+'" /\x3e'}if(L&&M)return!1;if(c.html5Only)return ra(),c.oMC=X(c.movieID),na(),M=L=!0,!1;var a=e||c.url,f=c.altURL||a,g=va(),k=J(),l=null,l=n.getElementsByTagName("html")[0],m,r,q,l=l&&l.dir&&l.dir.match(/rtl/i);b=b===h?c.id:b;ra();c.url=Qa(Ha?a:f);e=c.url;c.wmode=!c.wmode&&c.useHighPerformance?"transparent":c.wmode;if(null!==c.wmode&&(p.match(/msie 8/i)||!C&&!c.useHighPerformance)&&
navigator.platform.match(/win32|win64/i))Ua.push(sa.spcWmode),c.wmode=null;g={name:b,id:b,src:e,quality:"high",allowScriptAccess:c.allowScriptAccess,bgcolor:c.bgColor,pluginspage:cb+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:c.wmode,hasPriority:"true"};c.debugFlash&&(g.FlashVars="debug\x3d1");c.wmode||delete g.wmode;if(C)a=n.createElement("div"),r=['\x3cobject id\x3d"'+b+'" data\x3d"'+e+'" type\x3d"'+g.type+'" title\x3d"'+
g.title+'" classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase\x3d"'+cb+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version\x3d6,0,40,0"\x3e',d("movie",e),d("AllowScriptAccess",c.allowScriptAccess),d("quality",g.quality),c.wmode?d("wmode",c.wmode):"",d("bgcolor",c.bgColor),d("hasPriority","true"),c.debugFlash?d("FlashVars",g.FlashVars):"","\x3c/object\x3e"].join("");else for(m in a=n.createElement("embed"),g)g.hasOwnProperty(m)&&a.setAttribute(m,g[m]);wa();k=J();if(g=
va())if(c.oMC=X(c.movieID)||n.createElement("div"),c.oMC.id)q=c.oMC.className,c.oMC.className=(q?q+" ":"movieContainer")+(k?" "+k:""),c.oMC.appendChild(a),C&&(m=c.oMC.appendChild(n.createElement("div")),m.className="sm2-object-box",m.innerHTML=r),M=!0;else{c.oMC.id=c.movieID;c.oMC.className="movieContainer "+k;m=k=null;c.useFlashBlock||(c.useHighPerformance?k={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(k={position:"absolute",width:"6px",height:"6px",top:"-9999px",
left:"-9999px"},l&&(k.left=Math.abs(parseInt(k.left,10))+"px")));gb&&(c.oMC.style.zIndex=1E4);if(!c.debugFlash)for(q in k)k.hasOwnProperty(q)&&(c.oMC.style[q]=k[q]);try{C||c.oMC.appendChild(a),g.appendChild(c.oMC),C&&(m=c.oMC.appendChild(n.createElement("div")),m.className="sm2-object-box",m.innerHTML=r),M=!0}catch(s){throw Error(Q("domError")+" \n"+s.toString());}}return L=!0};$=function(){if(c.html5Only)return aa(),!1;if(k||!c.url)return!1;k=c.getMovie(c.id);k||(P?(C?c.oMC.innerHTML=ya:c.oMC.appendChild(P),
P=null,L=!0):aa(c.id,c.url),k=c.getMovie(c.id));"function"===typeof c.oninitmovie&&setTimeout(c.oninitmovie,1);return!0};G=function(){setTimeout(Na,1E3)};Na=function(){var b,e=!1;if(!c.url||R)return!1;R=!0;t.remove(l,"load",G);if(ka&&!Ga)return!1;q||(b=c.getMoviePercent(),0<b&&100>b&&(e=!0));setTimeout(function(){b=c.getMoviePercent();if(e)return R=!1,l.setTimeout(G,1),!1;!q&&ab&&(null===b?c.useFlashBlock||0===c.flashLoadTimeout?c.useFlashBlock&&za():!c.useFlashBlock&&fa?l.setTimeout(function(){c.setup({preferFlash:!1}).reboot();
c.didFlashBlock=!0;c.beginDelayedInit()},1):E({type:"ontimeout",ignoreInit:!0}):0!==c.flashLoadTimeout&&xa(!0))},c.flashLoadTimeout)};Z=function(){if(Ga||!ka)return t.remove(l,"focus",Z),!0;Ga=ab=!0;R=!1;G();t.remove(l,"focus",Z);return!0};N=function(b){if(q)return!1;if(c.html5Only)return q=!0,F(),!0;var e=!0,d;if(!c.useFlashBlock||!c.flashLoadTimeout||c.getMoviePercent())q=!0,x&&(d={type:!D&&v?"NO_FLASH":"INIT_TIMEOUT"});if(x||b)c.useFlashBlock&&c.oMC&&(c.oMC.className=J()+" "+(null===c.getMoviePercent()?
"swf_timedout":"swf_error")),E({type:"ontimeout",error:d,ignoreInit:!0}),I(d),e=!1;x||(c.waitForWindowLoad&&!oa?t.add(l,"load",F):F());return e};Ma=function(){var b,e=c.setupOptions;for(b in e)e.hasOwnProperty(b)&&(c[b]===h?c[b]=e[b]:c[b]!==e[b]&&(c.setupOptions[b]=c[b]))};na=function(){if(q)return!1;if(c.html5Only)return q||(t.remove(l,"load",c.beginDelayedInit),c.enabled=!0,N()),!0;$();try{k._externalInterfaceTest(!1),Oa(!0,c.flashPollingInterval||(c.useHighPerformance?10:50)),c.debugMode||k._disableDebug(),
c.enabled=!0,c.html5Only||t.add(l,"unload",ma)}catch(b){return I({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),xa(!0),N(),!1}N();t.remove(l,"load",c.beginDelayedInit);return!0};H=function(){if(O)return!1;O=!0;Ma();wa();!D&&c.hasHTML5&&c.setup({useHTML5Audio:!0,preferFlash:!1});Wa();!D&&v&&(Ua.push(sa.needFlash),c.setup({flashLoadTimeout:1}));n.removeEventListener&&n.removeEventListener("DOMContentLoaded",H,!1);$();return!0};Ba=function(){"complete"===n.readyState&&(H(),n.detachEvent("onreadystatechange",
Ba));return!0};ua=function(){oa=!0;t.remove(l,"load",ua)};ta=function(){if(Fa&&(c.setupOptions.useHTML5Audio=!0,c.setupOptions.preferFlash=!1,U||Za&&!p.match(/android\s2\.3/i)))U&&(c.ignoreFlash=!0),z=!0};ta();Da();t.add(l,"focus",Z);t.add(l,"load",G);t.add(l,"load",ua);n.addEventListener?n.addEventListener("DOMContentLoaded",H,!1):n.attachEvent?n.attachEvent("onreadystatechange",Ba):I({type:"NO_DOM2_EVENTS",fatal:!0})}var la=null;if(void 0===l.SM2_DEFER||!SM2_DEFER)la=new V;l.SoundManager=V;l.soundManager=
la})(window);

// FILE: flash_detect_min.js (23ce8365) 3/7/2014 11:24:07 AM

//http://www.featureblend.com/license.txt
var FlashDetect=new function(){var self=this;self.installed=false;self.raw="";self.major=-1;self.minor=-1;self.revision=-1;self.revisionStr="";var activeXDetectRules=[{"name":"ShockwaveFlash.ShockwaveFlash.7","version":function(obj){return getActiveXVersion(obj);}},{"name":"ShockwaveFlash.ShockwaveFlash.6","version":function(obj){var version="6,0,21";try{obj.AllowScriptAccess="always";version=getActiveXVersion(obj);}catch(err){}
return version;}},{"name":"ShockwaveFlash.ShockwaveFlash","version":function(obj){return getActiveXVersion(obj);}}];var getActiveXVersion=function(activeXObj){var version=-1;try{version=activeXObj.GetVariable("$version");}catch(err){}
return version;};var getActiveXObject=function(name){var obj=-1;try{obj=new ActiveXObject(name);}catch(err){obj={activeXError:true};}
return obj;};var parseActiveXVersion=function(str){var versionArray=str.split(",");return{"raw":str,"major":parseInt(versionArray[0].split(" ")[1],10),"minor":parseInt(versionArray[1],10),"revision":parseInt(versionArray[2],10),"revisionStr":versionArray[2]};};var parseStandardVersion=function(str){var descParts=str.split(/ +/);var majorMinor=descParts[2].split(/\./);var revisionStr=descParts[3];return{"raw":str,"major":parseInt(majorMinor[0],10),"minor":parseInt(majorMinor[1],10),"revisionStr":revisionStr,"revision":parseRevisionStrToInt(revisionStr)};};var parseRevisionStrToInt=function(str){return parseInt(str.replace(/[a-zA-Z]/g,""),10)||self.revision;};self.majorAtLeast=function(version){return self.major>=version;};self.minorAtLeast=function(version){return self.minor>=version;};self.revisionAtLeast=function(version){return self.revision>=version;};self.versionAtLeast=function(major){var properties=[self.major,self.minor,self.revision];var len=Math.min(properties.length,arguments.length);for(i=0;i<len;i++){if(properties[i]>=arguments[i]){if(i+1<len&&properties[i]==arguments[i]){continue;}else{return true;}}else{return false;}}};self.FlashDetect=function(){if(navigator.plugins&&navigator.plugins.length>0){var type='application/x-shockwave-flash';var mimeTypes=navigator.mimeTypes;if(mimeTypes&&mimeTypes[type]&&mimeTypes[type].enabledPlugin&&mimeTypes[type].enabledPlugin.description){var version=mimeTypes[type].enabledPlugin.description;var versionObj=parseStandardVersion(version);self.raw=versionObj.raw;self.major=versionObj.major;self.minor=versionObj.minor;self.revisionStr=versionObj.revisionStr;self.revision=versionObj.revision;self.installed=true;}}else if(navigator.appVersion.indexOf("Mac")==-1&&window.execScript){var version=-1;for(var i=0;i<activeXDetectRules.length&&version==-1;i++){var obj=getActiveXObject(activeXDetectRules[i].name);if(!obj.activeXError){self.installed=true;version=activeXDetectRules[i].version(obj);if(version!=-1){var versionObj=parseActiveXVersion(version);self.raw=versionObj.raw;self.major=versionObj.major;self.minor=versionObj.minor;self.revision=versionObj.revision;self.revisionStr=versionObj.revisionStr;}}}}}();};FlashDetect.JS_RELEASE="1.0.4";

// FILE: rangy-core.js (e18fc602) 3/7/2014 11:24:12 AM

/**
 * Rangy, a cross-browser JavaScript range and selection library
 * http://code.google.com/p/rangy/
 *
 * Copyright 2013, Tim Down
 * Licensed under the MIT license.
 * Version: 1.3alpha.783
 * Build date: 29 June 2013
 */
(function(a){function j(a,b){var e=typeof a[b];return e==d||e==c&&!!a[b]||e=="unknown"}function k(a,b){return typeof a[b]==c&&!!a[b]}function l(a,b){return typeof a[b]!=e}function m(a){return function(b,c){var d=c.length;while(d--)if(!a(b,c[d]))return!1;return!0}}function q(a){return a&&n(a,i)&&p(a,h)}function r(a){return k(a,"body")?a.body:a.getElementsByTagName("body")[0]}function u(a){k(window,"console")&&j(window.console,"log")&&window.console.log(a)}function v(a,b){b?window.alert(a):u(a)}function w(a){t.initialized=!0,t.supported=!1,v("Rangy is not supported on this page in your browser. Reason: "+a,t.config.alertOnFail)}function x(a){v("Rangy warning: "+a,t.config.alertOnWarn)}function A(a){return a.message||a.description||String(a)}function B(){if(t.initialized)return;var a,b=!1,c=!1;j(document,"createRange")&&(a=document.createRange(),n(a,g)&&p(a,f)&&(b=!0),a.detach());var d=r(document);if(!d||d.nodeName.toLowerCase()!="body"){w("No body element found");return}d&&j(d,"createTextRange")&&(a=d.createTextRange(),q(a)&&(c=!0));if(!b&&!c){w("Neither Range nor TextRange are available");return}t.initialized=!0,t.features={implementsDomRange:b,implementsTextRange:c};var e,h;for(var i in s)(e=s[i])instanceof E&&e.init(e,t);for(var k=0,l=z.length;k<l;++k)try{z[k](t)}catch(m){h="Rangy init listener threw an exception. Continuing. Detail: "+A(m),u(h)}}function D(a){a=a||window,B();for(var b=0,c=C.length;b<c;++b)C[b](a)}function E(a,b,c){this.name=a,this.dependencies=b,this.initialized=!1,this.supported=!1,this.initializer=c}function F(a,b,c,d){var e=new E(b,c,function(a){if(!a.initialized){a.initialized=!0;try{d(t,a),a.supported=!0}catch(c){var e="Module '"+b+"' failed to load: "+A(c);u(e)}}});s[b]=e}function G(){}function H(){}var b=typeof a.define=="function"&&a.define.amd,c="object",d="function",e="undefined",f=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],g=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],h=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],i=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"],n=m(j),o=m(k),p=m(l),s={},t={version:"1.3alpha.783",initialized:!1,supported:!0,util:{isHostMethod:j,isHostObject:k,isHostProperty:l,areHostMethods:n,areHostObjects:o,areHostProperties:p,isTextRange:q,getBody:r},features:{},modules:s,config:{alertOnFail:!0,alertOnWarn:!1,preferTextRange:!1}};t.fail=w,t.warn=x,{}.hasOwnProperty?t.util.extend=function(a,b,c){var d,e;for(var f in b)b.hasOwnProperty(f)&&(d=a[f],e=b[f],c&&d!==null&&typeof d=="object"&&e!==null&&typeof e=="object"&&t.util.extend(d,e,!0),a[f]=e);return a}:w("hasOwnProperty not supported"),function(){var a=document.createElement("div");a.appendChild(document.createElement("span"));var b=[].slice,c;try{b.call(a.childNodes,0)[0].nodeType==1&&(c=function(a){return b.call(a,0)})}catch(d){}c||(c=function(a){var b=[];for(var c=0,d=a.length;c<d;++c)b[c]=a[c];return b}),t.util.toArray=c}();var y;j(document,"addEventListener")?y=function(a,b,c){a.addEventListener(b,c,!1)}:j(document,"attachEvent")?y=function(a,b,c){a.attachEvent("on"+b,c)}:w("Document does not have required addEventListener or attachEvent method"),t.util.addListener=y;var z=[];t.init=B,t.addInitListener=function(a){t.initialized?a(t):z.push(a)};var C=[];t.addCreateMissingNativeApiListener=function(a){C.push(a)},t.createMissingNativeApi=D,E.prototype={init:function(a){var b=this.dependencies||[];for(var c=0,d=b.length,e,f;c<d;++c){f=b[c],e=s[f];if(!e||!(e instanceof E))throw new Error("required module '"+f+"' not found");e.init();if(!e.supported)throw new Error("required module '"+f+"' not supported")}this.initializer(this)},fail:function(a){throw this.initialized=!0,this.supported=!1,new Error("Module '"+this.name+"' failed to load: "+a)},warn:function(a){t.warn("Module "+this.name+": "+a)},deprecationNotice:function(a,b){t.warn("DEPRECATED: "+a+" in module "+this.name+"is deprecated. Please use "+b+" instead")},createError:function(a){return new Error("Error in Rangy "+this.name+" module: "+a)}},t.createModule=function(a){var b,c;arguments.length==2?(b=arguments[1],c=[]):(b=arguments[2],c=arguments[1]),F(!1,a,c,b)},t.createCoreModule=function(a,b,c){F(!0,a,b,c)},t.RangePrototype=G,t.rangePrototype=new G,t.selectionPrototype=new H;var I=!1,J=function(a){I||(I=!0,t.initialized||B())};if(typeof window==e){w("No window found");return}if(typeof document==e){w("No document found");return}j(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",J,!1),y(window,"load",J),b&&a.define(function(){return t.amd=!0,t}),a.rangy=t})(this),rangy.createCoreModule("DomUtil",[],function(a,b){function h(a){var b;return typeof a.namespaceURI==c||(b=a.namespaceURI)===null||b=="http://www.w3.org/1999/xhtml"}function i(a){var b=a.parentNode;return b.nodeType==1?b:null}function j(a){var b=0;while(a=a.previousSibling)++b;return b}function k(a){switch(a.nodeType){case 7:case 10:return 0;case 3:case 8:return a.length;default:return a.childNodes.length}}function l(a,b){var c=[],d;for(d=a;d;d=d.parentNode)c.push(d);for(d=b;d;d=d.parentNode)if(g(c,d))return d;return null}function m(a,b,c){var d=c?b:b.parentNode;while(d){if(d===a)return!0;d=d.parentNode}return!1}function n(a,b){return m(a,b,!0)}function o(a,b,c){var d,e=c?a:a.parentNode;while(e){d=e.parentNode;if(d===b)return e;e=d}return null}function p(a){var b=a.nodeType;return b==3||b==4||b==8}function q(a){if(!a)return!1;var b=a.nodeType;return b==3||b==8}function r(a,b){var c=b.nextSibling,d=b.parentNode;return c?d.insertBefore(a,c):d.appendChild(a),a}function s(a,b,c){var d=a.cloneNode(!1);d.deleteData(0,b),a.deleteData(b,a.length-b),r(d,a);if(c)for(var e=0,f;f=c[e++];)f.node==a&&f.offset>b?(f.node=d,f.offset-=b):f.node==a.parentNode&&f.offset>j(a)&&++f.offset;return d}function t(a){if(a.nodeType==9)return a;if(typeof a.ownerDocument!=c)return a.ownerDocument;if(typeof a.document!=c)return a.document;if(a.parentNode)return t(a.parentNode);throw b.createError("getDocument: no document found for node")}function u(a){var d=t(a);if(typeof d.defaultView!=c)return d.defaultView;if(typeof d.parentWindow!=c)return d.parentWindow;throw b.createError("Cannot get a window object for node")}function v(a){if(typeof a.contentDocument!=c)return a.contentDocument;if(typeof a.contentWindow!=c)return a.contentWindow.document;throw b.createError("getIframeDocument: No Document object found for iframe element")}function w(a){if(typeof a.contentWindow!=c)return a.contentWindow;if(typeof a.contentDocument!=c)return a.contentDocument.defaultView;throw b.createError("getIframeWindow: No Window object found for iframe element")}function x(a){return a&&d.isHostMethod(a,"setTimeout")&&d.isHostObject(a,"document")}function y(a,b,c){var e;a?d.isHostProperty(a,"nodeType")?e=a.nodeType==1&&a.tagName.toLowerCase()=="iframe"?v(a):t(a):x(a)&&(e=a.document):e=document;if(!e)throw b.createError(c+"(): Parameter must be a Window object or DOM node");return e}function z(a){var b;while(b=a.parentNode)a=b;return a}function A(a,c,d,e){var f,g,h,i,k;if(a==d)return c===e?0:c<e?-1:1;if(f=o(d,a,!0))return c<=j(f)?-1:1;if(f=o(a,d,!0))return j(f)<e?-1:1;g=l(a,d);if(!g)throw new Error("comparePoints error: nodes have no common ancestor");h=a===g?g:o(a,g,!0),i=d===g?g:o(d,g,!0);if(h===i)throw b.createError("comparePoints got to case 4 and childA and childB are the same!");k=g.firstChild;while(k){if(k===h)return-1;if(k===i)return 1;k=k.nextSibling}}function C(a){try{return a.parentNode,!1}catch(b){return!0}}function D(a){if(!a)return"[No node]";if(B&&C(a))return"[Broken node]";if(p(a))return'"'+a.data+'"';if(a.nodeType==1){var b=a.id?' id="'+a.id+'"':"";return"<"+a.nodeName+b+">["+a.childNodes.length+"]["+a.innerHTML.slice(0,20)+"]"}return a.nodeName}function E(a){var b=t(a).createDocumentFragment(),c;while(c=a.firstChild)b.appendChild(c);return b}function G(a){this.root=a,this._next=a}function H(a){return new G(a)}function I(a,b){this.node=a,this.offset=b}function J(a){this.code=this[a],this.codeName=a,this.message="DOMException: "+this.codeName}var c="undefined",d=a.util;d.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||b.fail("document missing a Node creation method"),d.isHostMethod(document,"getElementsByTagName")||b.fail("document missing getElementsByTagName method");var e=document.createElement("div");d.areHostMethods(e,["insertBefore","appendChild","cloneNode"]||!d.areHostObjects(e,["previousSibling","nextSibling","childNodes","parentNode"]))||b.fail("Incomplete Element implementation"),d.isHostProperty(e,"innerHTML")||b.fail("Element is missing innerHTML property");var f=document.createTextNode("test");d.areHostMethods(f,["splitText","deleteData","insertData","appendData","cloneNode"]||!d.areHostObjects(e,["previousSibling","nextSibling","childNodes","parentNode"])||!d.areHostProperties(f,["data"]))||b.fail("Incomplete Text Node implementation");var g=function(a,b){var c=a.length;while(c--)if(a[c]===b)return!0;return!1},B=!1;(function(){var b=document.createElement("b");b.innerHTML="1";var c=b.firstChild;b.innerHTML="<br>",B=C(c),a.features.crashyTextNodes=B})();var F;typeof window.getComputedStyle!=c?F=function(a,b){return u(a).getComputedStyle(a,null)[b]}:typeof document.documentElement.currentStyle!=c?F=function(a,b){return a.currentStyle[b]}:b.fail("No means of obtaining computed style properties found"),G.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var a=this._current=this._next,b,c;if(this._current){b=a.firstChild;if(b)this._next=b;else{c=null;while(a!==this.root&&!(c=a.nextSibling))a=a.parentNode;this._next=c}}return this._current},detach:function(){this._current=this._next=this.root=null}},I.prototype={equals:function(a){return!!a&&this.node===a.node&&this.offset==a.offset},inspect:function(){return"[DomPosition("+D(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},J.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11},J.prototype.toString=function(){return this.message},a.dom={arrayContains:g,isHtmlNamespace:h,parentElement:i,getNodeIndex:j,getNodeLength:k,getCommonAncestor:l,isAncestorOf:m,isOrIsAncestorOf:n,getClosestAncestorIn:o,isCharacterDataNode:p,isTextOrCommentNode:q,insertAfter:r,splitDataNode:s,getDocument:t,getWindow:u,getIframeWindow:w,getIframeDocument:v,getBody:d.getBody,isWindow:x,getContentDocument:y,getRootContainer:z,comparePoints:A,isBrokenNode:C,inspectNode:D,getComputedStyleProperty:F,fragmentFromNodeChildren:E,createIterator:H,DomPosition:I},a.DOMException=J}),rangy.createCoreModule("DomRange",["DomUtil"],function(a,b){function r(a,b){return a.nodeType!=3&&(i(a,b.startContainer)||i(a,b.endContainer))}function s(a){return a.document||j(a.startContainer)}function t(a){return new e(a.parentNode,h(a))}function u(a){return new e(a.parentNode,h(a)+1)}function v(a,b,d){var e=a.nodeType==11?a.firstChild:a;return g(b)?d==b.length?c.insertAfter(a,b):b.parentNode.insertBefore(a,d==0?b:l(b,d)):d>=b.childNodes.length?b.appendChild(a):b.insertBefore(a,b.childNodes[d]),e}function w(a,b,c){Y(a),Y(b);if(s(b)!=s(a))throw new f("WRONG_DOCUMENT_ERR");var d=k(a.startContainer,a.startOffset,b.endContainer,b.endOffset),e=k(a.endContainer,a.endOffset,b.startContainer,b.startOffset);return c?d<=0&&e>=0:d<0&&e>0}function x(a){var b;for(var c,d=s(a.range).createDocumentFragment(),e;c=a.next();){b=a.isPartiallySelectedSubtree(),c=c.cloneNode(!b),b&&(e=a.getSubtreeIterator(),c.appendChild(x(e)),e.detach(!0));if(c.nodeType==10)throw new f("HIERARCHY_REQUEST_ERR");d.appendChild(c)}return d}function y(a,b,d){var e,f;d=d||{stop:!1};for(var g,h;g=a.next();)if(a.isPartiallySelectedSubtree()){if(b(g)===!1){d.stop=!0;return}h=a.getSubtreeIterator(),y(h,b,d),h.detach(!0);if(d.stop)return}else{e=c.createIterator(g);while(f=e.next())if(b(f)===!1){d.stop=!0;return}}}function z(a){var b;while(a.next())a.isPartiallySelectedSubtree()?(b=a.getSubtreeIterator(),z(b),b.detach(!0)):a.remove()}function A(a){for(var b,c=s(a.range).createDocumentFragment(),d;b=a.next();){a.isPartiallySelectedSubtree()?(b=b.cloneNode(!1),d=a.getSubtreeIterator(),b.appendChild(A(d)),d.detach(!0)):a.remove();if(b.nodeType==10)throw new f("HIERARCHY_REQUEST_ERR");c.appendChild(b)}return c}function B(a,b,c){var d=!!b&&!!b.length,e,f=!!c;d&&(e=new RegExp("^("+b.join("|")+")$"));var g=[];return y(new D(a,!1),function(a){(!d||e.test(a.nodeType))&&(!f||c(a))&&g.push(a)}),g}function C(a){var b=typeof a.getName=="undefined"?"Range":a.getName();return"["+b+"("+c.inspectNode(a.startContainer)+":"+a.startOffset+", "+c.inspectNode(a.endContainer)+":"+a.endOffset+")]"}function D(a,b){this.range=a,this.clonePartiallySelectedTextNodes=b;if(!a.collapsed){this.sc=a.startContainer,this.so=a.startOffset,this.ec=a.endContainer,this.eo=a.endOffset;var c=a.commonAncestorContainer;this.sc===this.ec&&g(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc===c&&!g(this.sc)?this.sc.childNodes[this.so]:m(this.sc,c,!0),this._last=this.ec===c&&!g(this.ec)?this.ec.childNodes[this.eo-1]:m(this.ec,c,!0))}}function E(a){this.code=this[a],this.codeName=a,this.message="RangeException: "+this.codeName}function K(a){return function(b,c){var d,e=c?b:b.parentNode;while(e){d=e.nodeType;if(o(a,d))return e;e=e.parentNode}return null}}function O(a,b){if(N(a,b))throw new E("INVALID_NODE_TYPE_ERR")}function P(a){if(!a.startContainer)throw new f("INVALID_STATE_ERR")}function Q(a,b){if(!o(b,a.nodeType))throw new E("INVALID_NODE_TYPE_ERR")}function R(a,b){if(b<0||b>(g(a)?a.length:a.childNodes.length))throw new f("INDEX_SIZE_ERR")}function S(a,b){if(L(a,!0)!==L(b,!0))throw new f("WRONG_DOCUMENT_ERR")}function T(a){if(M(a,!0))throw new f("NO_MODIFICATION_ALLOWED_ERR")}function U(a,b){if(!a)throw new f(b)}function V(a){return q&&c.isBrokenNode(a)||!o(G,a.nodeType)&&!L(a,!0)}function W(a,b){return b<=(g(a)?a.length:a.childNodes.length)}function X(a){return!!a.startContainer&&!!a.endContainer&&!V(a.startContainer)&&!V(a.endContainer)&&W(a.startContainer,a.startOffset)&&W(a.endContainer,a.endOffset)}function Y(a){P(a);if(!X(a))throw new Error("Range error: Range is no longer valid after DOM mutation ("+a.inspect()+")")}function bb(a,b){Y(a);var c=a.startContainer,d=a.startOffset,e=a.endContainer,f=a.endOffset,i=c===e;g(e)&&f>0&&f<e.length&&l(e,f,b),g(c)&&d>0&&d<c.length&&(c=l(c,d,b),i?(f-=d,e=c):e==c.parentNode&&f>=h(c)&&f++,d=0),a.setStartAndEnd(c,d,e,f)}function lb(a){a.START_TO_START=db,a.START_TO_END=eb,a.END_TO_END=fb,a.END_TO_START=gb,a.NODE_BEFORE=hb,a.NODE_AFTER=ib,a.NODE_BEFORE_AND_AFTER=jb,a.NODE_INSIDE=kb}function mb(a){lb(a),lb(a.prototype)}function nb(a,b){return function(){Y(this);var c=this.startContainer,d=this.startOffset,e=this.commonAncestorContainer,f=new D(this,!0),g,h;c!==e&&(g=m(c,e,!0),h=u(g),c=h.node,d=h.offset),y(f,T),f.reset();var i=a(f);return f.detach(),b(this,c,d,c,d),i}}function ob(b,c,e){function f(a,b){return function(c){P(this),Q(c,F),Q(p(c),G);var d=(a?t:u)(c);(b?i:j)(this,d.node,d.offset)}}function i(a,b,d){var e=a.endContainer,f=a.endOffset;if(b!==a.startContainer||d!==a.startOffset){if(p(b)!=p(e)||k(b,d,e,f)==1)e=b,f=d;c(a,b,d,e,f)}}function j(a,b,d){var e=a.startContainer,f=a.startOffset;if(b!==a.endContainer||d!==a.endOffset){if(p(b)!=p(e)||k(b,d,e,f)==-1)e=b,f=d;c(a,e,f,b,d)}}var l=function(){};l.prototype=a.rangePrototype,b.prototype=new l,d.extend(b.prototype,{setStart:function(a,b){P(this),O(a,!0),R(a,b),i(this,a,b)},setEnd:function(a,b){P(this),O(a,!0),R(a,b),j(this,a,b)},setStartAndEnd:function(){P(this);var a=arguments,b=a[0],d=a[1],e=b,f=d;switch(a.length){case 3:f=a[2];break;case 4:e=a[2],f=a[3]}c(this,b,d,e,f)},setBoundary:function(a,b,c){this["set"+(c?"Start":"End")](a,b)},setStartBefore:f(!0,!0),setStartAfter:f(!1,!0),setEndBefore:f(!0,!1),setEndAfter:f(!1,!1),collapse:function(a){Y(this),a?c(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):c(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(a){P(this),O(a,!0),c(this,a,0,a,n(a))},selectNode:function(a){P(this),O(a,!1),Q(a,F);var b=t(a),d=u(a);c(this,b.node,b.offset,d.node,d.offset)},extractContents:nb(A,c),deleteContents:nb(z,c),canSurroundContents:function(){Y(this),T(this.startContainer),T(this.endContainer);var a=new D(this,!0),b=a._first&&r(a._first,this)||a._last&&r(a._last,this);return a.detach(),!b},detach:function(){e(this)},splitBoundaries:function(){bb(this)},splitBoundariesPreservingPositions:function(a){bb(this,a)},normalizeBoundaries:function(){Y(this);var a=this.startContainer,b=this.startOffset,d=this.endContainer,e=this.endOffset,f=function(a){var b=a.nextSibling;b&&b.nodeType==a.nodeType&&(d=a,e=a.length,a.appendData(b.data),b.parentNode.removeChild(b))},i=function(c){var f=c.previousSibling;if(f&&f.nodeType==c.nodeType){a=c;var g=c.length;b=f.length,c.insertData(0,f.data),f.parentNode.removeChild(f);if(a==d)e+=b,d=a;else if(d==c.parentNode){var i=h(c);e==i?(d=c,e=g):e>i&&e--}}},j=!0;if(g(d))d.length==e&&f(d);else{if(e>0){var k=d.childNodes[e-1];k&&g(k)&&f(k)}j=!this.collapsed}if(j){if(g(a))b==0&&i(a);else if(b<a.childNodes.length){var l=a.childNodes[b];l&&g(l)&&i(l)}}else a=d,b=e;c(this,a,b,d,e)},collapseToPoint:function(a,b){P(this),O(a,!0),R(a,b),this.setStartAndEnd(a,b)}}),mb(b)}function pb(a){a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset,a.commonAncestorContainer=a.collapsed?a.startContainer:c.getCommonAncestor(a.startContainer,a.endContainer)}function qb(a,b,d,e,f){a.startContainer=b,a.startOffset=d,a.endContainer=e,a.endOffset=f,a.document=c.getDocument(b),pb(a)}function rb(a){P(a),a.startContainer=a.startOffset=a.endContainer=a.endOffset=a.document=null,a.collapsed=a.commonAncestorContainer=null}function sb(a){this.startContainer=a,this.startOffset=0,this.endContainer=a,this.endOffset=0,this.document=a,pb(this)}var c=a.dom,d=a.util,e=c.DomPosition,f=a.DOMException,g=c.isCharacterDataNode,h=c.getNodeIndex,i=c.isOrIsAncestorOf,j=c.getDocument,k=c.comparePoints,l=c.splitDataNode,m=c.getClosestAncestorIn,n=c.getNodeLength,o=c.arrayContains,p=c.getRootContainer,q=a.features.crashyTextNodes;D.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var a=this._current=this._next;return a&&(this._next=a!==this._last?a.nextSibling:null,g(a)&&this.clonePartiallySelectedTextNodes&&(a===this.ec&&(a=a.cloneNode(!0)).deleteData(this.eo,a.length-this.eo),this._current===this.sc&&(a=a.cloneNode(!0)).deleteData(0,this.so))),a},remove:function(){var a=this._current,b,c;!g(a)||a!==this.sc&&a!==this.ec?a.parentNode&&a.parentNode.removeChild(a):(b=a===this.sc?this.so:0,c=a===this.ec?this.eo:a.length,b!=c&&a.deleteData(b,c-b))},isPartiallySelectedSubtree:function(){var a=this._current;return r(a,this.range)},getSubtreeIterator:function(){var a;if(this.isSingleCharacterDataNode)a=this.range.cloneRange(),a.collapse(!1);else{a=new sb(s(this.range));var b=this._current,c=b,d=0,e=b,f=n(b);i(b,this.sc)&&(c=this.sc,d=this.so),i(b,this.ec)&&(e=this.ec,f=this.eo),qb(a,c,d,e,f)}return new D(a,this.clonePartiallySelectedTextNodes)},detach:function(a){a&&this.range.detach(),this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}},E.prototype={BAD_BOUNDARYPOINTS_ERR:1,INVALID_NODE_TYPE_ERR:2},E.prototype.toString=function(){return this.message};var F=[1,3,4,5,7,8,10],G=[2,9,11],H=[5,6,10,12],I=[1,3,4,5,7,8,10,11],J=[1,3,4,5,7,8],L=K([9,11]),M=K(H),N=K([6,10,12]),Z=document.createElement("style"),$=!1;try{Z.innerHTML="<b>x</b>",$=Z.firstChild.nodeType==3}catch(_){}a.features.htmlParsingConforms=$;var ab=$?function(a){var b=this.startContainer,d=j(b);if(!b)throw new f("INVALID_STATE_ERR");var e=null;return b.nodeType==1?e=b:g(b)&&(e=c.parentElement(b)),e===null||e.nodeName=="HTML"&&c.isHtmlNamespace(j(e).documentElement)&&c.isHtmlNamespace(e)?e=d.createElement("body"):e=e.cloneNode(!1),e.innerHTML=a,c.fragmentFromNodeChildren(e)}:function(a){P(this);var b=s(this),d=b.createElement("body");return d.innerHTML=a,c.fragmentFromNodeChildren(d)},cb=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],db=0,eb=1,fb=2,gb=3,hb=0,ib=1,jb=2,kb=3;d.extend(a.rangePrototype,{compareBoundaryPoints:function(a,b){Y(this),S(this.startContainer,b.startContainer);var c,d,e,f,g=a==gb||a==db?"start":"end",h=a==eb||a==db?"start":"end";return c=this[g+"Container"],d=this[g+"Offset"],e=b[h+"Container"],f=b[h+"Offset"],k(c,d,e,f)},insertNode:function(a){Y(this),Q(a,I),T(this.startContainer);if(i(a,this.startContainer))throw new f("HIERARCHY_REQUEST_ERR");var b=v(a,this.startContainer,this.startOffset);this.setStartBefore(b)},cloneContents:function(){Y(this);var a,b;if(this.collapsed)return s(this).createDocumentFragment();if(this.startContainer===this.endContainer&&g(this.startContainer))return a=this.startContainer.cloneNode(!0),a.data=a.data.slice(this.startOffset,this.endOffset),b=s(this).createDocumentFragment(),b.appendChild(a),b;var c=new D(this,!0);return a=x(c),c.detach(),a},canSurroundContents:function(){Y(this),T(this.startContainer),T(this.endContainer);var a=new D(this,!0),b=a._first&&r(a._first,this)||a._last&&r(a._last,this);return a.detach(),!b},surroundContents:function(a){Q(a,J);if(!this.canSurroundContents())throw new E("BAD_BOUNDARYPOINTS_ERR");var b=this.extractContents();if(a.hasChildNodes())while(a.lastChild)a.removeChild(a.lastChild);v(a,this.startContainer,this.startOffset),a.appendChild(b),this.selectNode(a)},cloneRange:function(){Y(this);var a=new sb(s(this)),b=cb.length,c;while(b--)c=cb[b],a[c]=this[c];return a},toString:function(){Y(this);var a=this.startContainer;if(a===this.endContainer&&g(a))return a.nodeType==3||a.nodeType==4?a.data.slice(this.startOffset,this.endOffset):"";var b=[],c=new D(this,!0);return y(c,function(a){(a.nodeType==3||a.nodeType==4)&&b.push(a.data)}),c.detach(),b.join("")},compareNode:function(a){Y(this);var b=a.parentNode,c=h(a);if(!b)throw new f("NOT_FOUND_ERR");var d=this.comparePoint(b,c),e=this.comparePoint(b,c+1);return d<0?e>0?jb:hb:e>0?ib:kb},comparePoint:function(a,b){return Y(this),U(a,"HIERARCHY_REQUEST_ERR"),S(a,this.startContainer),k(a,b,this.startContainer,this.startOffset)<0?-1:k(a,b,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:ab,toHtml:function(){Y(this);var a=this.commonAncestorContainer.parentNode.cloneNode(!1);return a.appendChild(this.cloneContents()),a.innerHTML},intersectsNode:function(a,b){Y(this),U(a,"NOT_FOUND_ERR");if(j(a)!==s(this))return!1;var c=a.parentNode,d=h(a);U(c,"NOT_FOUND_ERR");var e=k(c,d,this.endContainer,this.endOffset),f=k(c,d+1,this.startContainer,this.startOffset);return b?e<=0&&f>=0:e<0&&f>0},isPointInRange:function(a,b){return Y(this),U(a,"HIERARCHY_REQUEST_ERR"),S(a,this.startContainer),k(a,b,this.startContainer,this.startOffset)>=0&&k(a,b,this.endContainer,this.endOffset)<=0},intersectsRange:function(a){return w(this,a,!1)},intersectsOrTouchesRange:function(a){return w(this,a,!0)},intersection:function(a){if(this.intersectsRange(a)){var b=k(this.startContainer,this.startOffset,a.startContainer,a.startOffset),c=k(this.endContainer,this.endOffset,a.endContainer,a.endOffset),d=this.cloneRange();return b==-1&&d.setStart(a.startContainer,a.startOffset),c==1&&d.setEnd(a.endContainer,a.endOffset),d}return null},union:function(a){if(this.intersectsOrTouchesRange(a)){var b=this.cloneRange();return k(a.startContainer,a.startOffset,this.startContainer,this.startOffset)==-1&&b.setStart(a.startContainer,a.startOffset),k(a.endContainer,a.endOffset,this.endContainer,this.endOffset)==1&&b.setEnd(a.endContainer,a.endOffset),b}throw new E("Ranges do not intersect")},containsNode:function(a,b){return b?this.intersectsNode(a,!1):this.compareNode(a)==kb},containsNodeContents:function(a){return this.comparePoint(a,0)>=0&&this.comparePoint(a,n(a))<=0},containsRange:function(a){var b=this.intersection(a);return b!==null&&a.equals(b)},containsNodeText:function(a){var b=this.cloneRange();b.selectNode(a);var c=b.getNodes([3]);if(c.length>0){b.setStart(c[0],0);var d=c.pop();b.setEnd(d,d.length);var e=this.containsRange(b);return b.detach(),e}return this.containsNodeContents(a)},getNodes:function(a,b){return Y(this),B(this,a,b)},getDocument:function(){return s(this)},collapseBefore:function(a){P(this),this.setEndBefore(a),this.collapse(!1)},collapseAfter:function(a){P(this),this.setStartAfter(a),this.collapse(!0)},getBookmark:function(b){var d=s(this),e=a.createRange(d);b=b||c.getBody(d),e.selectNodeContents(b);var f=this.intersection(e),g=0,h=0;return f&&(e.setEnd(f.startContainer,f.startOffset),g=e.toString().length,h=g+f.toString().length,e.detach()),{start:g,end:h,containerNode:b}},moveToBookmark:function(a){var b=a.containerNode,c=0;this.setStart(b,0),this.collapse(!0);var d=[b],e,f=!1,g=!1,h,i,j;while(!g&&(e=d.pop()))if(e.nodeType==3)h=c+e.length,!f&&a.start>=c&&a.start<=h&&(this.setStart(e,a.start-c),f=!0),f&&a.end>=c&&a.end<=h&&(this.setEnd(e,a.end-c),g=!0),c=h;else{j=e.childNodes,i=j.length;while(i--)d.push(j[i])}},getName:function(){return"DomRange"},equals:function(a){return sb.rangesEqual(this,a)},isValid:function(){return X(this)},inspect:function(){return C(this)}}),ob(sb,qb,rb),d.extend(sb,{rangeProperties:cb,RangeIterator:D,copyComparisonConstants:mb,createPrototypeRange:ob,inspect:C,getRangeDocument:s,rangesEqual:function(a,b){return a.startContainer===b.startContainer&&a.startOffset===b.startOffset&&a.endContainer===b.endContainer&&a.endOffset===b.endOffset}}),a.DomRange=sb,a.RangeException=E}),rangy.createCoreModule("WrappedRange",["DomRange"],function(a,b){var c,d,e=a.dom,f=a.util,g=e.DomPosition,h=a.DomRange,i=e.getBody,j=e.getContentDocument,k=e.isCharacterDataNode;a.features.implementsDomRange&&function(){function k(a){var b=g.length,c;while(b--)c=g[b],a[c]=a.nativeRange[c];a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset}function l(a,b,c,d,e){var f=a.startContainer!==b||a.startOffset!=c,g=a.endContainer!==d||a.endOffset!=e,h=!a.equals(a.nativeRange);if(f||g||h)a.setEnd(d,e),a.setStart(b,c)}function m(a){a.nativeRange.detach(),a.detached=!0;var b=g.length;while(b--)a[g[b]]=null}var d,g=h.rangeProperties,n;c=function(a){if(!a)throw b.createError("WrappedRange: Range must be specified");this.nativeRange=a,k(this)},h.createPrototypeRange(c,l,m),d=c.prototype,d.selectNode=function(a){this.nativeRange.selectNode(a),k(this)},d.cloneContents=function(){return this.nativeRange.cloneContents()},d.surroundContents=function(a){this.nativeRange.surroundContents(a),k(this)},d.collapse=function(a){this.nativeRange.collapse(a),k(this)},d.cloneRange=function(){return new c(this.nativeRange.cloneRange())},d.refresh=function(){k(this)},d.toString=function(){return this.nativeRange.toString()};var o=document.createTextNode("test");i(document).appendChild(o);var p=document.createRange();p.setStart(o,0),p.setEnd(o,0);try{p.setStart(o,1),d.setStart=function(a,b){this.nativeRange.setStart(a,b),k(this)},d.setEnd=function(a,b){this.nativeRange.setEnd(a,b),k(this)},n=function(a){return function(b){this.nativeRange[a](b),k(this)}}}catch(q){d.setStart=function(a,b){try{this.nativeRange.setStart(a,b)}catch(c){this.nativeRange.setEnd(a,b),this.nativeRange.setStart(a,b)}k(this)},d.setEnd=function(a,b){try{this.nativeRange.setEnd(a,b)}catch(c){this.nativeRange.setStart(a,b),this.nativeRange.setEnd(a,b)}k(this)},n=function(a,b){return function(c){try{this.nativeRange[a](c)}catch(d){this.nativeRange[b](c),this.nativeRange[a](c)}k(this)}}}d.setStartBefore=n("setStartBefore","setEndBefore"),d.setStartAfter=n("setStartAfter","setEndAfter"),d.setEndBefore=n("setEndBefore","setStartBefore"),d.setEndAfter=n("setEndAfter","setStartAfter"),d.selectNodeContents=function(a){this.setStartAndEnd(a,0,e.getNodeLength(a))},p.selectNodeContents(o),p.setEnd(o,3);var r=document.createRange();r.selectNodeContents(o),r.setEnd(o,4),r.setStart(o,2),p.compareBoundaryPoints(p.START_TO_END,r)==-1&&p.compareBoundaryPoints(p.END_TO_START,r)==1?d.compareBoundaryPoints=function(a,b){return b=b.nativeRange||b,a==b.START_TO_END?a=b.END_TO_START:a==b.END_TO_START&&(a=b.START_TO_END),this.nativeRange.compareBoundaryPoints(a,b)}:d.compareBoundaryPoints=function(a,b){return this.nativeRange.compareBoundaryPoints(a,b.nativeRange||b)};var s=document.createElement("div");s.innerHTML="123";var t=s.firstChild,u=i(document);u.appendChild(s),p.setStart(t,1),p.setEnd(t,2),p.deleteContents(),t.data=="13"&&(d.deleteContents=function(){this.nativeRange.deleteContents(),k(this)},d.extractContents=function(){var a=this.nativeRange.extractContents();return k(this),a}),u.removeChild(s),u=null,f.isHostMethod(p,"createContextualFragment")&&(d.createContextualFragment=function(a){return this.nativeRange.createContextualFragment(a)}),i(document).removeChild(o),p.detach(),r.detach(),d.getName=function(){return"WrappedRange"},a.WrappedRange=c,a.createNativeRange=function(a){return a=j(a,b,"createNativeRange"),a.createRange()}}();if(a.features.implementsTextRange){var l=function(a){var b=a.parentElement(),c=a.duplicate();c.collapse(!0);var d=c.parentElement();c=a.duplicate(),c.collapse(!1);var f=c.parentElement(),g=d==f?d:e.getCommonAncestor(d,f);return g==b?g:e.getCommonAncestor(b,g)},m=function(a){return a.compareEndPoints("StartToEnd",a)==0},n=function(a,b,c,d,f){var h=a.duplicate();h.collapse(c);var i=h.parentElement();e.isOrIsAncestorOf(b,i)||(i=b);if(!i.canHaveHTML){var j=new g(i.parentNode,e.getNodeIndex(i));return{boundaryPosition:j,nodeInfo:{nodeIndex:j.offset,containerElement:j.node}}}var l=e.getDocument(i).createElement("span");l.parentNode&&l.parentNode.removeChild(l);var m,n=c?"StartToStart":"StartToEnd",o,p,q,r,s=f&&f.containerElement==i?f.nodeIndex:0,t=i.childNodes.length,u=t,v=u;for(;;){v==t?i.appendChild(l):i.insertBefore(l,i.childNodes[v]),h.moveToElementText(l),m=h.compareEndPoints(n,a);if(m==0||s==u)break;if(m==-1){if(u==s+1)break;s=v}else u=u==s+1?s:v;v=Math.floor((s+u)/2),i.removeChild(l)}r=l.nextSibling;if(m==-1&&r&&k(r)){h.setEndPoint(c?"EndToStart":"EndToEnd",a);var w;if(/[\r\n]/.test(r.data)){var x=h.duplicate(),y=x.text.replace(/\r\n/g,"\r").length;w=x.moveStart("character",y);while((m=x.compareEndPoints("StartToEnd",x))==-1)w++,x.moveStart("character",1)}else w=h.text.length;q=new g(r,w)}else o=(d||!c)&&l.previousSibling,p=(d||c)&&l.nextSibling,p&&k(p)?q=new g(p,0):o&&k(o)?q=new g(o,o.data.length):q=new g(i,e.getNodeIndex(l));return l.parentNode.removeChild(l),{boundaryPosition:q,nodeInfo:{nodeIndex:v,containerElement:i}}},o=function(a,b){var c,d,f=a.offset,g=e.getDocument(a.node),h,j,l=i(g).createTextRange(),m=k(a.node);return m?(c=a.node,d=c.parentNode):(j=a.node.childNodes,c=f<j.length?j[f]:null,d=a.node),h=g.createElement("span"),h.innerHTML="&#feff;",c?d.insertBefore(h,c):d.appendChild(h),l.moveToElementText(h),l.collapse(!b),d.removeChild(h),m&&l[b?"moveStart":"moveEnd"]("character",f),l};d=function(a){this.textRange=a,this.refresh()},d.prototype=new h(document),d.prototype.refresh=function(){var a,b,c,d=l(this.textRange);m(this.textRange)?b=a=n(this.textRange,d,!0,!0).boundaryPosition:(c=n(this.textRange,d,!0,!1),a=c.boundaryPosition,b=n(this.textRange,d,!1,!1,c.nodeInfo).boundaryPosition),this.setStart(a.node,a.offset),this.setEnd(b.node,b.offset)},d.prototype.getName=function(){return"WrappedTextRange"},h.copyComparisonConstants(d),d.rangeToTextRange=function(a){if(a.collapsed)return o(new g(a.startContainer,a.startOffset),!0);var b=o(new g(a.startContainer,a.startOffset),!0),c=o(new g(a.endContainer,a.endOffset),!1),d=i(h.getRangeDocument(a)).createTextRange();return d.setEndPoint("StartToStart",b),d.setEndPoint("EndToEnd",c),d},a.WrappedTextRange=d;if(!a.features.implementsDomRange||a.config.preferTextRange){var p=function(){return this}();typeof p.Range=="undefined"&&(p.Range=d),a.createNativeRange=function(a){return a=j(a,b,"createNativeRange"),i(a).createTextRange()},a.WrappedRange=d}}a.createRange=function(c){return c=j(c,b,"createRange"),new a.WrappedRange(a.createNativeRange(c))},a.createRangyRange=function(a){return a=j(a,b,"createRangyRange"),new h(a)},a.createIframeRange=function(c){return b.deprecationNotice("createIframeRange()","createRange(iframeEl)"),a.createRange(c)},a.createIframeRangyRange=function(c){return b.deprecationNotice("createIframeRangyRange()","createRangyRange(iframeEl)"),a.createRangyRange(c)},a.addCreateMissingNativeApiListener(function(b){var c=b.document;typeof c.createRange=="undefined"&&(c.createRange=function(){return a.createRange(c)}),c=b=null})}),rangy.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(a,b){function r(a){return typeof a=="string"?a=="backward":!!a}function s(a,c){if(!a)return window;if(d.isWindow(a))return a;if(a instanceof T)return a.win;var e=d.getContentDocument(a,b,c);return d.getWindow(e)}function t(a){return s(a,"getWinSelection").getSelection()}function u(a){return s(a,"getDocSelection").document.selection}function I(a,b,c){var d=c?"end":"start",e=c?"start":"end";a.anchorNode=b[d+"Container"],a.anchorOffset=b[d+"Offset"],a.focusNode=b[e+"Container"],a.focusOffset=b[e+"Offset"]}function J(a){var b=a.nativeSelection;a.anchorNode=b.anchorNode,a.anchorOffset=b.anchorOffset,a.focusNode=b.focusNode,a.focusOffset=b.focusOffset}function K(a){a.anchorNode=a.focusNode=null,a.anchorOffset=a.focusOffset=0,a.rangeCount=0,a.isCollapsed=!0,a._ranges.length=0}function L(b){var c;return b instanceof g?(c=a.createNativeRange(b.getDocument()),c.setEnd(b.endContainer,b.endOffset),c.setStart(b.startContainer,b.startOffset)):b instanceof h?c=b.nativeRange:m.implementsDomRange&&b instanceof d.getWindow(b.startContainer).Range&&(c=b),c}function M(a){if(!a.length||a[0].nodeType!=1)return!1;for(var b=1,c=a.length;b<c;++b)if(!d.isAncestorOf(a[0],a[b]))return!1;return!0}function N(a){var c=a.getNodes();if(!M(c))throw b.createError("getSingleElementFromRange: range "+a.inspect()+" did not consist of a single element");return c[0]}function O(a){return!!a&&typeof a.text!="undefined"}function P(a,b){var c=new h(b);a._ranges=[c],I(a,c,!1),a.rangeCount=1,a.isCollapsed=c.collapsed}function Q(b){b._ranges.length=0;if(b.docSelection.type=="None")K(b);else{var c=b.docSelection.createRange();if(O(c))P(b,c);else{b.rangeCount=c.length;var d,e=o(c.item(0));for(var f=0;f<b.rangeCount;++f)d=a.createRange(e),d.selectNode(c.item(f)),b._ranges.push(d);b.isCollapsed=b.rangeCount==1&&b._ranges[0].collapsed,I(b,b._ranges[b.rangeCount-1],!1)}}}function R(a,c){var d=a.docSelection.createRange(),e=N(c),f=o(d.item(0)),g=p(f).createControlRange();for(var h=0,i=d.length;h<i;++h)g.add(d.item(h));try{g.add(e)}catch(j){throw b.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}g.select(),Q(a)}function T(a,b,c){this.nativeSelection=a,this.docSelection=b,this._ranges=[],this.win=c,this.refresh()}function U(a){a.win=a.anchorNode=a.focusNode=a._ranges=null,a.rangeCount=a.anchorOffset=a.focusOffset=0,a.detached=!0}function W(a,b){var c=V.length,d,e;while(c--){d=V[c],e=d.selection;if(b=="deleteAll")U(e);else if(d.win==a)return b=="delete"?(V.splice(c,1),!0):e}return b=="deleteAll"&&(V.length=0),null}function Z(a,c){var d=o(c[0].startContainer),e=p(d).createControlRange();for(var f=0,g,h=c.length;f<h;++f){g=N(c[f]);try{e.add(g)}catch(i){throw b.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}e.select(),Q(a)}function cb(a,b){if(a.win.document!=o(b))throw new i("WRONG_DOCUMENT_ERR")}function db(b){return function(c,d){var e;this.rangeCount?(e=this.getRangeAt(0),e["set"+(b?"Start":"End")](c,d)):(e=a.createRange(this.win.document),e.setStartAndEnd(c,d)),this.setSingleRange(e,this.isBackward())}}function eb(a){var b=[],c=new j(a.anchorNode,a.anchorOffset),d=new j(a.focusNode,a.focusOffset),e=typeof a.getName=="function"?a.getName():"Selection";if(typeof a.rangeCount!="undefined")for(var f=0,h=a.rangeCount;f<h;++f)b[f]=g.inspect(a.getRangeAt(f));return"["+e+"(Ranges: "+b.join(", ")+")(anchor: "+c.inspect()+", focus: "+d.inspect()+"]"}a.config.checkSelectionRanges=!0;var c="boolean",d=a.dom,e=a.util,f=e.isHostMethod,g=a.DomRange,h=a.WrappedRange,i=a.DOMException,j=d.DomPosition,k,l,m=a.features,n="Control",o=d.getDocument,p=d.getBody,q=g.rangesEqual,v=f(window,"getSelection"),w=e.isHostObject(document,"selection");m.implementsWinGetSelection=v,m.implementsDocSelection=w;var x=w&&(!v||a.config.preferTextRange);x?(k=u,a.isSelectionValid=function(a){var b=s(a,"isSelectionValid").document,c=b.selection;return c.type!="None"||o(c.createRange().parentElement())==b}):v?(k=t,a.isSelectionValid=function(){return!0}):b.fail("Neither document.selection or window.getSelection() detected."),a.getNativeSelection=k;var y=k(),z=a.createNativeRange(document),A=p(document),B=e.areHostProperties(y,["anchorNode","focusNode","anchorOffset","focusOffset"]);m.selectionHasAnchorAndFocus=B;var C=f(y,"extend");m.selectionHasExtend=C;var D=typeof y.rangeCount=="number";m.selectionHasRangeCount=D;var E=!1,F=!0;e.areHostMethods(y,["addRange","getRangeAt","removeAllRanges"])&&typeof y.rangeCount=="number"&&m.implementsDomRange&&function(){var a=window.getSelection();if(a){var b=p(document),c=b.appendChild(document.createElement("div"));c.contentEditable="false";var d=c.appendChild(document.createTextNode("\u00a0\u00a0\u00a0")),e=document.createRange();e.setStart(d,1),e.collapse(!0),a.addRange(e),F=a.rangeCount==1,a.removeAllRanges();var f=e.cloneRange();e.setStart(d,0),f.setEnd(d,3),f.setStart(d,2),a.addRange(e),a.addRange(f),E=a.rangeCount==2,b.removeChild(c),a.removeAllRanges(),e.detach(),f.detach()}}(),m.selectionSupportsMultipleRanges=E,m.collapsedNonEditableSelectionsSupported=F;var G=!1,H;A&&f(A,"createControlRange")&&(H=A.createControlRange(),e.areHostProperties(H,["item","add"])&&(G=!0)),m.implementsControlRange=G,B?l=function(a){return a.anchorNode===a.focusNode&&a.anchorOffset===a.focusOffset}:l=function(a){return a.rangeCount?a.getRangeAt(a.rangeCount-1).collapsed:!1};var S;f(y,"getRangeAt")?S=function(a,b){try{return a.getRangeAt(b)}catch(c){return null}}:B&&(S=function(b){var c=o(b.anchorNode),d=a.createRange(c);return d.setStartAndEnd(b.anchorNode,b.anchorOffset,b.focusNode,b.focusOffset),d.collapsed!==this.isCollapsed&&d.setStartAndEnd(b.focusNode,b.focusOffset,b.anchorNode,b.anchorOffset),d}),T.prototype=a.selectionPrototype;var V=[],X=function(a){if(a&&a instanceof T)return a.refresh(),a;a=s(a,"getNativeSelection");var b=W(a),c=k(a),d=w?u(a):null;return b?(b.nativeSelection=c,b.docSelection=d,b.refresh()):(b=new T(c,d,a),V.push({win:a,selection:b})),b};a.getSelection=X,a.getIframeSelection=function(c){return b.deprecationNotice("getIframeSelection()","getSelection(iframeEl)"),a.getSelection(d.getIframeWindow(c))};var Y=T.prototype;if(!x&&B&&e.areHostMethods(y,["removeAllRanges","addRange"])){Y.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),K(this)};var $=function(b,c){var d=g.getRangeDocument(c),e=a.createRange(d);e.collapseToPoint(c.endContainer,c.endOffset),b.nativeSelection.addRange(L(e)),b.nativeSelection.extend(c.startContainer,c.startOffset),b.refresh()};D?Y.addRange=function(b,c){if(G&&w&&this.docSelection.type==n)R(this,b);else if(r(c)&&C)$(this,b);else{var d;E?d=this.rangeCount:(this.removeAllRanges(),d=0),this.nativeSelection.addRange(L(b).cloneRange()),this.rangeCount=this.nativeSelection.rangeCount;if(this.rangeCount==d+1){if(a.config.checkSelectionRanges){var e=S(this.nativeSelection,this.rangeCount-1);e&&!q(e,b)&&(b=new h(e))}this._ranges[this.rangeCount-1]=b,I(this,b,bb(this.nativeSelection)),this.isCollapsed=l(this)}else this.refresh()}}:Y.addRange=function(a,b){r(b)&&C?$(this,a):(this.nativeSelection.addRange(L(a)),this.refresh())},Y.setRanges=function(a){if(G&&a.length>1)Z(this,a);else{this.removeAllRanges();for(var b=0,c=a.length;b<c;++b)this.addRange(a[b])}}}else{if(!(f(y,"empty")&&f(z,"select")&&G&&x))return b.fail("No means of selecting a Range or TextRange was found"),!1;Y.removeAllRanges=function(){try{this.docSelection.empty();if(this.docSelection.type!="None"){var a;if(this.anchorNode)a=o(this.anchorNode);else if(this.docSelection.type==n){var b=this.docSelection.createRange();b.length&&(a=o(b.item(0)))}if(a){var c=p(a).createTextRange();c.select(),this.docSelection.empty()}}}catch(d){}K(this)},Y.addRange=function(b){this.docSelection.type==n?R(this,b):(a.WrappedTextRange.rangeToTextRange(b).select(),this._ranges[0]=b,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,I(this,b,!1))},Y.setRanges=function(a){this.removeAllRanges();var b=a.length;b>1?Z(this,a):b&&this.addRange(a[0])}}Y.getRangeAt=function(a){if(a<0||a>=this.rangeCount)throw new i("INDEX_SIZE_ERR");return this._ranges[a].cloneRange()};var _;if(x)_=function(b){var c;a.isSelectionValid(b.win)?c=b.docSelection.createRange():(c=p(b.win.document).createTextRange(),c.collapse(!0)),b.docSelection.type==n?Q(b):O(c)?P(b,c):K(b)};else if(f(y,"getRangeAt")&&typeof y.rangeCount=="number")_=function(b){if(G&&w&&b.docSelection.type==n)Q(b);else{b._ranges.length=b.rangeCount=b.nativeSelection.rangeCount;if(b.rangeCount){for(var c=0,d=b.rangeCount;c<d;++c)b._ranges[c]=new a.WrappedRange(b.nativeSelection.getRangeAt(c));I(b,b._ranges[b.rangeCount-1],bb(b.nativeSelection)),b.isCollapsed=l(b)}else K(b)}};else{if(!B||typeof y.isCollapsed!=c||typeof z.collapsed!=c||!m.implementsDomRange)return b.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;_=function(a){var b,c=a.nativeSelection;c.anchorNode?(b=S(c,0),a._ranges=[b],a.rangeCount=1,J(a),a.isCollapsed=l(a)):K(a)}}Y.refresh=function(a){var b=a?this._ranges.slice(0):null,c=this.anchorNode,d=this.anchorOffset;_(this);if(a){var e=b.length;if(e!=this._ranges.length)return!0;if(this.anchorNode!=c||this.anchorOffset!=d)return!0;while(e--)if(!q(b[e],this._ranges[e]))return!0;return!1}};var ab=function(a,b){var c=a.getAllRanges();a.removeAllRanges();for(var d=0,e=c.length;d<e;++d)q(b,c[d])||a.addRange(c[d]);a.rangeCount||K(a)};G?Y.removeRange=function(a){if(this.docSelection.type==n){var b=this.docSelection.createRange(),c=N(a),d=o(b.item(0)),e=p(d).createControlRange(),f,g=!1;for(var h=0,i=b.length;h<i;++h)f=b.item(h),f!==c||g?e.add(b.item(h)):g=!0;e.select(),Q(this)}else ab(this,a)}:Y.removeRange=function(a){ab(this,a)};var bb;!x&&B&&m.implementsDomRange?(bb=function(a){var b=!1;return a.anchorNode&&(b=d.comparePoints(a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset)==1),b},Y.isBackward=function(){return bb(this)}):bb=Y.isBackward=function(){return!1},Y.isBackwards=Y.isBackward,Y.toString=function(){var a=[];for(var b=0,c=this.rangeCount;b<c;++b)a[b]=""+this._ranges[b];return a.join("")},Y.collapse=function(b,c){cb(this,b);var d=a.createRange(b);d.collapseToPoint(b,c),this.setSingleRange(d),this.isCollapsed=!0},Y.collapseToStart=function(){if(!this.rangeCount)throw new i("INVALID_STATE_ERR");var a=this._ranges[0];this.collapse(a.startContainer,a.startOffset)},Y.collapseToEnd=function(){if(!this.rangeCount)throw new i("INVALID_STATE_ERR");var a=this._ranges[this.rangeCount-1];this.collapse(a.endContainer,a.endOffset)},Y.selectAllChildren=function(b){cb(this,b);var c=a.createRange(b);c.selectNodeContents(b),console.log("before",c.inspect()),this.setSingleRange(c),console.log("after",this._ranges[0].inspect())},Y.deleteFromDocument=function(){if(G&&w&&this.docSelection.type==n){var a=this.docSelection.createRange(),b;while(a.length)b=a.item(0),a.remove(b),b.parentNode.removeChild(b);this.refresh()}else if(this.rangeCount){var c=this.getAllRanges();if(c.length){this.removeAllRanges();for(var d=0,e=c.length;d<e;++d)c[d].deleteContents();this.addRange(c[e-1])}}},Y.eachRange=function(a,b){for(var c=0,d=this._ranges.length;c<d;++c)if(a(this.getRangeAt(c)))return b},Y.getAllRanges=function(){var a=[];return this.eachRange(function(b){a.push(b)}),a},Y.setSingleRange=function(a,b){this.removeAllRanges(),this.addRange(a,b)},Y.callMethodOnEachRange=function(a,b){var c=[];return this.eachRange(function(d){c.push(d[a].apply(d,b))}),c},Y.setStart=db(!0),Y.setEnd=db(!1),a.rangePrototype.select=function(a){X(this.getDocument()).setSingleRange(this,a)},Y.changeEachRange=function(a){var b=[],c=this.isBackward();this.eachRange(function(c){a(c),b.push(c)}),this.removeAllRanges(),c&&b.length==1?this.addRange(b[0],"backward"):this.setRanges(b)},Y.containsNode=function(a,b){return this.eachRange(function(c){return c.containsNode(a,b)},!0)},Y.getBookmark=function(a){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[a])}},Y.moveToBookmark=function(b){var c=[];for(var d=0,e,f;e=b.rangeBookmarks[d++];)f=a.createRange(this.win),f.moveToBookmark(e),c.push(f);b.backward?this.setSingleRange(c[0],"backward"):this.setRanges(c)},Y.toHtml=function(){return this.callMethodOnEachRange("toHtml").join("")},Y.getName=function(){return"WrappedSelection"},Y.inspect=function(){return eb(this)},Y.detach=function(){W(this.win,"delete"),U(this)},T.detachAll=function(){W(null,"deleteAll")},T.inspect=eb,T.isDirectionBackward=r,a.Selection=T,a.selectionPrototype=Y,a.addCreateMissingNativeApiListener(function(a){typeof a.getSelection=="undefined"&&(a.getSelection=function(){return X(a)}),a=null})})

// FILE: rangy-cssclassapplier.js (5004102a) 3/7/2014 11:24:12 AM

/**
 * Class Applier module for Rangy.
 * Adds, removes and toggles classes on Ranges and Selections
 *
 * Part of Rangy, a cross-browser JavaScript range and selection library
 * http://code.google.com/p/rangy/
 *
 * Depends on Rangy core.
 *
 * Copyright 2013, Tim Down
 * Licensed under the MIT license.
 * Version: 1.3alpha.783
 * Build date: 29 June 2013
 */
rangy.createModule("ClassApplier",["WrappedSelection"],function(a,b){function g(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function h(a,b){return a.className&&(new RegExp("(?:^|\\s)"+b+"(?:\\s|$)")).test(a.className)}function i(a,b){a.className?h(a,b)||(a.className+=" "+b):a.className=b}function k(a){return a.split(/\s+/).sort().join(" ")}function l(a){return k(a.className)}function m(a,b){return l(a)==l(b)}function n(a,b){return a.compareBoundaryPoints(b.START_TO_START,b)}function o(a,b,c,d,e){var f=a.node,g=a.offset,h=f,i=g;f==d&&g>e&&i++,f==b&&(g==c||g==c+1)&&(h=d,i+=e-c),f==b&&g>c+1&&i--,a.node=h,a.offset=i}function p(a,b,d,e){d==-1&&(d=b.childNodes.length);var f=a.parentNode,g=c.getNodeIndex(a);for(var h=0,i;i=e[h++];)o(i,f,g,b,d);b.childNodes.length==d?b.appendChild(a):b.insertBefore(a,b.childNodes[d])}function q(a,b,c,d,e){var f,g=[];while(f=a.firstChild)p(f,b,c++,e),g.push(f);return d&&a.parentNode.removeChild(a),g}function r(a,b){return q(a,a.parentNode,c.getNodeIndex(a),!0,b)}function s(a,b){var c=a.cloneRange();c.selectNodeContents(b);var d=c.intersection(a),e=d?d.toString():"";return c.detach(),e!=""}function t(a){var b=a.getNodes([3]),c=0,d;while((d=b[c])&&!s(a,d))++c;var e=b.length-1;while((d=b[e])&&!s(a,d))--e;return b.slice(c,e+1)}function u(a,b){if(a.attributes.length!=b.attributes.length)return!1;for(var c=0,d=a.attributes.length,e,f,g;c<d;++c){e=a.attributes[c],g=e.name;if(g!="class"){f=b.attributes.getNamedItem(g);if(e.specified!=f.specified)return!1;if(e.specified&&e.nodeValue!==f.nodeValue)return!1}}return!0}function v(a,b){for(var c=0,d=a.attributes.length,f;c<d;++c){f=a.attributes[c].name;if((!b||!e(b,f))&&a.attributes[c].specified&&f!="class")return!0}return!1}function w(a,b){var c;for(var d in b)if(b.hasOwnProperty(d)){c=b[d];if(typeof c=="object"){if(!w(a[d],c))return!1}else if(a[d]!==c)return!1}return!0}function z(a){var b;return a&&a.nodeType==1&&((b=a.parentNode)&&b.nodeType==9&&b.designMode=="on"||y(a)&&!y(a.parentNode))}function A(a){return(y(a)||a.nodeType!=1&&y(a.parentNode))&&!z(a)}function C(a){return a&&a.nodeType==1&&!B.test(x(a,"display"))}function E(a){if(a.data.length==0)return!0;if(D.test(a.data))return!1;var b=x(a.parentNode,"whiteSpace");switch(b){case"pre":case"pre-wrap":case"-moz-pre-wrap":return!1;case"pre-line":if(/[\r\n]/.test(a.data))return!1}return C(a.previousSibling)||C(a.nextSibling)}function F(a){var b=[],c,e;for(c=0;e=a[c++];)b.push(new d(e.startContainer,e.startOffset),new d(e.endContainer,e.endOffset));return b}function G(a,b){for(var c=0,d,e,f,g=a.length;c<g;++c)d=a[c],e=b[c*2],f=b[c*2+1],d.setStartAndEnd(e.node,e.offset,f.node,f.offset)}function H(a,b){return c.isCharacterDataNode(a)?b==0?!!a.previousSibling:b==a.length?!!a.nextSibling:!0:b>0&&b<a.childNodes.length}function I(a,d,e,f){var g,h,i=e==0;if(c.isAncestorOf(d,a))return a;if(c.isCharacterDataNode(d)){var j=c.getNodeIndex(d);if(e==0)e=j;else{if(e!=d.length)throw b.createError("splitNodeAt() should not be called with offset in the middle of a data node ("+e+" in "+d.data);e=j+1}d=d.parentNode}if(H(d,e)){g=d.cloneNode(!1),h=d.parentNode,g.id&&g.removeAttribute("id");var k,l=0;while(k=d.childNodes[e])p(k,g,l++,f);return p(g,h,c.getNodeIndex(d)+1,f),d==a?g:I(a,h,c.getNodeIndex(g),f)}if(a!=d){g=d.parentNode;var m=c.getNodeIndex(d);return i||m++,I(a,g,m,f)}return a}function J(a,b){return a.tagName==b.tagName&&m(a,b)&&u(a,b)&&x(a,"display")=="inline"&&x(b,"display")=="inline"}function K(a){var b=a?"nextSibling":"previousSibling";return function(c,d){var e=c.parentNode,f=c[b];if(f){if(f&&f.nodeType==3)return f}else if(d){f=e[b];if(f&&f.nodeType==1&&J(e,f))return f[a?"firstChild":"lastChild"]}return null}}function N(a){this.isElementMerge=a.nodeType==1,this.textNodes=[];var b=this.isElementMerge?a.lastChild:a;b&&(this.textNodes[0]=b)}function Q(a,b,c){this.cssClass=a;var d,e,f,h,i=null;if(typeof b=="object"&&b!==null){c=b.tagNames,i=b.elementProperties;for(e=0;h=O[e++];)b.hasOwnProperty(h)&&(this[h]=b[h]);d=b.normalize}else d=b;this.normalize=typeof d=="undefined"?!0:d,this.attrExceptions=[];var j=document.createElement(this.elementTagName);this.elementProperties=this.copyPropertiesToElement(i,j,!0),this.elementSortedClassName=this.elementProperties.hasOwnProperty("className")?this.elementProperties.className:a,this.applyToAnyTagName=!1;var k=typeof c;if(k=="string")c=="*"?this.applyToAnyTagName=!0:this.tagNames=g(c.toLowerCase()).split(/\s*,\s*/);else if(k=="object"&&typeof c.length=="number"){this.tagNames=[];for(e=0,f=c.length;e<f;++e)c[e]=="*"?this.applyToAnyTagName=!0:this.tagNames.push(c[e].toLowerCase())}else this.tagNames=[this.elementTagName]}function R(a,b,c){return new Q(a,b,c)}var c=a.dom,d=c.DomPosition,e=c.arrayContains,f="span",j=function(){function a(a,b,c){return b&&c?" ":""}return function(b,c){b.className&&(b.className=b.className.replace(new RegExp("(^|\\s)"+c+"(\\s|$)"),a))}}(),x=c.getComputedStyleProperty,y;(function(){var a=document.createElement("div");typeof a.isContentEditable=="boolean"?y=function(a){return a&&a.nodeType==1&&a.isContentEditable}:y=function(a){return!a||a.nodeType!=1||a.contentEditable=="false"?!1:a.contentEditable=="true"||y(a.parentNode)}})();var B=/^inline(-block|-table)?$/i,D=/[^\r\n\t\f \u200B]/,L=K(!1),M=K(!0);N.prototype={doMerge:function(a){var b=this.textNodes,c=b[0];if(b.length>1){var d=[],e=0,f,g;for(var h=0,i=b.length,j,k;h<i;++h){f=b[h],g=f.parentNode;if(h>0){g.removeChild(f),g.hasChildNodes()||g.parentNode.removeChild(g);if(a)for(j=0;k=a[j++];)k.node==f&&(k.node=c,k.offset+=e)}d[h]=f.data,e+=f.data.length}c.data=d.join("")}return c.data},getLength:function(){var a=this.textNodes.length,b=0;while(a--)b+=this.textNodes[a].length;return b},toString:function(){var a=[];for(var b=0,c=this.textNodes.length;b<c;++b)a[b]="'"+this.textNodes[b].data+"'";return"[Merge("+a.join(",")+")]"}};var O=["elementTagName","ignoreWhiteSpace","applyToEditableOnly","useExistingElements","removeEmptyElements"],P={};Q.prototype={elementTagName:f,elementProperties:{},ignoreWhiteSpace:!0,applyToEditableOnly:!1,useExistingElements:!0,removeEmptyElements:!0,copyPropertiesToElement:function(a,b,c){var d,e,f={},g,h,j,l;for(var m in a)if(a.hasOwnProperty(m)){h=a[m],j=b[m];if(m=="className")i(b,h),i(b,this.cssClass),b[m]=k(b[m]),c&&(f[m]=b[m]);else if(m=="style"){e=j,c&&(f[m]=g={});for(d in a[m])e[d]=h[d],c&&(g[d]=e[d]);this.attrExceptions.push(m)}else b[m]=h,c&&(f[m]=b[m],l=P.hasOwnProperty(m)?P[m]:m,this.attrExceptions.push(l))}return c?f:""},hasClass:function(a){return a.nodeType==1&&e(this.tagNames,a.tagName.toLowerCase())&&h(a,this.cssClass)},getSelfOrAncestorWithClass:function(a){while(a){if(this.hasClass(a))return a;a=a.parentNode}return null},isModifiable:function(a){return!this.applyToEditableOnly||A(a)},isIgnorableWhiteSpaceNode:function(a){return this.ignoreWhiteSpace&&a&&a.nodeType==3&&E(a)},postApply:function(a,b,c,d){var e=a[0],f=a[a.length-1],g=[],h,i=e,j=f,k=0,l=f.length,m,n;for(var o=0,p=a.length;o<p;++o)m=a[o],n=L(m,!d),n?(h||(h=new N(n),g.push(h)),h.textNodes.push(m),m===e&&(i=h.textNodes[0],k=i.length),m===f&&(j=h.textNodes[0],l=h.getLength())):h=null;var q=M(f,!d);q&&(h||(h=new N(f),g.push(h)),h.textNodes.push(q));if(g.length){for(o=0,p=g.length;o<p;++o)g[o].doMerge(c);b.setStartAndEnd(i,k,j,l)}},createContainer:function(a){var b=a.createElement(this.elementTagName);return this.copyPropertiesToElement(this.elementProperties,b,!1),i(b,this.cssClass),b},applyToTextNode:function(a,b){var d=a.parentNode;if(d.childNodes.length==1&&this.useExistingElements&&e(this.tagNames,d.tagName.toLowerCase())&&w(d,this.elementProperties))i(d,this.cssClass);else{var f=this.createContainer(c.getDocument(a));a.parentNode.insertBefore(f,a),f.appendChild(a)}},isRemovable:function(a){return a.tagName.toLowerCase()==this.elementTagName&&l(a)==this.elementSortedClassName&&w(a,this.elementProperties)&&!v(a,this.attrExceptions)&&this.isModifiable(a)},isEmptyContainer:function(a){var b=a.childNodes.length;return a.nodeType==1&&this.isRemovable(a)&&(b==0||b==1&&this.isEmptyContainer(a.firstChild))},removeEmptyContainers:function(a){var b=this,c=a.getNodes([1],function(a){return b.isEmptyContainer(a)});for(var d=0,e;e=c[d++];)e.parentNode.removeChild(e)},undoToTextNode:function(a,b,c,d){if(!b.containsNode(c)){var e=b.cloneRange();e.selectNode(c),e.isPointInRange(b.endContainer,b.endOffset)&&(I(c,b.endContainer,b.endOffset,d),b.setEndAfter(c)),e.isPointInRange(b.startContainer,b.startOffset)&&(c=I(c,b.startContainer,b.startOffset,d))}this.isRemovable(c)?r(c,d):j(c,this.cssClass)},applyToRange:function(a,b){b=b||[];var c=F(b||[]);a.splitBoundariesPreservingPositions(c),this.removeEmptyElements&&this.removeEmptyContainers(a);var d=t(a);if(d.length){for(var e=0,f;f=d[e++];)!this.isIgnorableWhiteSpaceNode(f)&&!this.getSelfOrAncestorWithClass(f)&&this.isModifiable(f)&&this.applyToTextNode(f,c);f=d[d.length-1],a.setStartAndEnd(d[0],0,f,f.length),this.normalize&&this.postApply(d,a,c,!1),G(b,c)}},applyToRanges:function(a){var b=a.length;while(b--)this.applyToRange(a[b],a);return a},applyToSelection:function(b){var c=a.getSelection(b);c.setRanges(this.applyToRanges(c.getAllRanges()))},undoToRange:function(a,b){b=b||[];var c=F(b);a.splitBoundariesPreservingPositions(c),this.removeEmptyElements&&this.removeEmptyContainers(a,c);var d=t(a),e,f,g=d[d.length-1];if(d.length){for(var h=0,i=d.length;h<i;++h)e=d[h],f=this.getSelfOrAncestorWithClass(e),f&&this.isModifiable(e)&&this.undoToTextNode(e,a,f,c),a.setStartAndEnd(d[0],0,g,g.length);this.normalize&&this.postApply(d,a,c,!0),G(b,c)}},undoToRanges:function(a){var b=a.length;while(b--)this.undoToRange(a[b],a);return a},undoToSelection:function(b){var c=a.getSelection(b),d=a.getSelection(b).getAllRanges();this.undoToRanges(d),c.setRanges(d)},getTextSelectedByRange:function(a,b){var c=b.cloneRange();c.selectNodeContents(a);var d=c.intersection(b),e=d?d.toString():"";return c.detach(),e},isAppliedToRange:function(a){if(a.collapsed||a.toString()=="")return!!this.getSelfOrAncestorWithClass(a.commonAncestorContainer);var b=a.getNodes([3]);if(b.length)for(var c=0,d;d=b[c++];)if(!this.isIgnorableWhiteSpaceNode(d)&&s(a,d)&&this.isModifiable(d)&&!this.getSelfOrAncestorWithClass(d))return!1;return!0},isAppliedToRanges:function(a){var b=a.length;if(b==0)return!1;while(b--)if(!this.isAppliedToRange(a[b]))return!1;return!0},isAppliedToSelection:function(b){var c=a.getSelection(b);return this.isAppliedToRanges(c.getAllRanges())},toggleRange:function(a){this.isAppliedToRange(a)?this.undoToRange(a):this.applyToRange(a)},toggleRanges:function(a){this.isAppliedToRanges(a)?this.undoToRanges(a):this.applyToRanges(a)},toggleSelection:function(a){this.isAppliedToSelection(a)?this.undoToSelection(a):this.applyToSelection(a)},getElementsWithClassIntersectingRange:function(a){var b=[],c=this;return a.getNodes([3],function(a){var d=c.getSelfOrAncestorWithClass(a);d&&!e(b,d)&&b.push(d)}),b},getElementsWithClassIntersectingSelection:function(b){var c=a.getSelection(b),d=[],f=this;return c.eachRange(function(a){var b=f.getElementsWithClassIntersectingRange(a);for(var c=0,g;g=b[c++];)e(d,g)||d.push(g)}),d},detach:function(){}},Q.util={hasClass:h,addClass:i,removeClass:j,hasSameClasses:m,replaceWithOwnChildren:r,elementsHaveSameNonClassAttributes:u,elementHasNonClassAttributes:v,splitNodeAt:I,isEditableElement:y,isEditingHost:z,isEditable:A},a.CssClassApplier=a.ClassApplier=Q,a.createCssClassApplier=a.createClassApplier=R})

// FILE: q.min.js (fd1a5fd7) 3/7/2014 11:24:12 AM

!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a){window.Q=a("./q")},{"./q":2}],2:[function(a,b){"use strict";function c(a){return function(){return Z.apply(a,arguments)}}function d(a){return a===Object(a)}function e(a){return"[object StopIteration]"===fb(a)||a instanceof V}function f(a,b){if(S&&b.stack&&"object"==typeof a&&null!==a&&a.stack&&-1===a.stack.indexOf(hb)){for(var c=[],d=b;d;d=d.source)d.stack&&c.unshift(d.stack);c.unshift(a.stack);var e=c.join("\n"+hb+"\n");a.stack=g(e)}}function g(a){for(var b=a.split("\n"),c=[],d=0;d<b.length;++d){var e=b[d];j(e)||h(e)||!e||c.push(e)}return c.join("\n")}function h(a){return-1!==a.indexOf("(module.js:")||-1!==a.indexOf("(node.js:")}function i(a){var b=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(a);if(b)return[b[1],Number(b[2])];var c=/at ([^ ]+):(\d+):(?:\d+)$/.exec(a);if(c)return[c[1],Number(c[2])];var d=/.*@(.+):(\d+)$/.exec(a);return d?[d[1],Number(d[2])]:void 0}function j(a){var b=i(a);if(!b)return!1;var c=b[0],d=b[1];return c===U&&d>=W&&mb>=d}function k(){if(S)try{throw new Error}catch(a){var b=a.stack.split("\n"),c=b[0].indexOf("@")>0?b[1]:b[2],d=i(c);if(!d)return;return U=d[0],d[1]}}function l(a,b,c){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(b+" is deprecated, use "+c+" instead.",new Error("").stack),a.apply(a,arguments)}}function m(a){return t(a)?a:u(a)?F(a):E(a)}function n(){function a(a){b=a,f.source=a,_(c,function(b,c){Y(function(){a.promiseDispatch.apply(a,c)})},void 0),c=void 0,d=void 0}var b,c=[],d=[],e=cb(n.prototype),f=cb(q.prototype);if(f.promiseDispatch=function(a,e,f){var g=$(arguments);c?(c.push(g),"when"===e&&f[1]&&d.push(f[1])):Y(function(){b.promiseDispatch.apply(b,g)})},f.valueOf=l(function(){if(c)return f;var a=s(b);return t(a)&&(b=a),a},"valueOf","inspect"),f.inspect=function(){return b?b.inspect():{state:"pending"}},m.longStackSupport&&S)try{throw new Error}catch(g){f.stack=g.stack.substring(g.stack.indexOf("\n")+1)}return e.promise=f,e.resolve=function(c){b||a(m(c))},e.fulfill=function(c){b||a(E(c))},e.reject=function(c){b||a(D(c))},e.notify=function(a){b||_(d,function(b,c){Y(function(){c(a)})},void 0)},e}function o(a){if("function"!=typeof a)throw new TypeError("resolver must be a function.");var b=n();try{a(b.resolve,b.reject,b.notify)}catch(c){b.reject(c)}return b.promise}function p(a){return o(function(b,c){for(var d=0,e=a.length;e>d;d++)m(a[d]).then(b,c)})}function q(a,b,c){void 0===b&&(b=function(a){return D(new Error("Promise does not support operation: "+a))}),void 0===c&&(c=function(){return{state:"unknown"}});var d=cb(q.prototype);if(d.promiseDispatch=function(c,e,f){var g;try{g=a[e]?a[e].apply(d,f):b.call(d,e,f)}catch(h){g=D(h)}c&&c(g)},d.inspect=c,c){var e=c();"rejected"===e.state&&(d.exception=e.reason),d.valueOf=l(function(){var a=c();return"pending"===a.state||"rejected"===a.state?d:a.value})}return d}function r(a,b,c,d){return m(a).then(b,c,d)}function s(a){if(t(a)){var b=a.inspect();if("fulfilled"===b.state)return b.value}return a}function t(a){return d(a)&&"function"==typeof a.promiseDispatch&&"function"==typeof a.inspect}function u(a){return d(a)&&"function"==typeof a.then}function v(a){return t(a)&&"pending"===a.inspect().state}function w(a){return!t(a)||"fulfilled"===a.inspect().state}function x(a){return t(a)&&"rejected"===a.inspect().state}function y(){kb||"undefined"==typeof window||window.Touch||!window.console||console.warn("[Q] Unhandled rejection reasons (should be empty):",ib),kb=!0}function z(){for(var a=0;a<ib.length;a++){var b=ib[a];b&&"undefined"!=typeof b.stack?console.warn("Unhandled rejection reason:",b.stack):console.warn("Unhandled rejection reason (no stack):",b)}}function A(){ib.length=0,jb.length=0,kb=!1,lb||(lb=!0,"undefined"!=typeof process&&process.on&&process.on("exit",z))}function B(a,b){lb&&(jb.push(a),ib.push(b),y())}function C(a){if(lb){var b=ab(jb,a);-1!==b&&(jb.splice(b,1),ib.splice(b,1))}}function D(a){var b=q({when:function(b){return b&&C(this),b?b(a):this}},function(){return this},function(){return{state:"rejected",reason:a}});return B(b,a),b}function E(a){return q({when:function(){return a},get:function(b){return a[b]},set:function(b,c){a[b]=c},"delete":function(b){delete a[b]},post:function(b,c){return null===b||void 0===b?a.apply(void 0,c):a[b].apply(a,c)},apply:function(b,c){return a.apply(b,c)},keys:function(){return eb(a)}},void 0,function(){return{state:"fulfilled",value:a}})}function F(a){var b=n();return Y(function(){try{a.then(b.resolve,b.reject,b.notify)}catch(c){b.reject(c)}}),b.promise}function G(a){return q({isDef:function(){}},function(b,c){return M(a,b,c)},function(){return m(a).inspect()})}function H(a,b,c){return m(a).spread(b,c)}function I(a){return function(){function b(a,b){var g;if(gb){try{g=c[a](b)}catch(h){return D(h)}return g.done?g.value:r(g.value,d,f)}try{g=c[a](b)}catch(h){return e(h)?h.value:D(h)}return r(g,d,f)}var c=a.apply(this,arguments),d=b.bind(b,"next"),f=b.bind(b,"throw");return d()}}function J(a){m.done(m.async(a)())}function K(a){throw new V(a)}function L(a){return function(){return H([this,N(arguments)],function(b,c){return a.apply(b,c)})}}function M(a,b,c){return m(a).dispatch(b,c)}function N(a){return r(a,function(a){var b=0,c=n();return _(a,function(d,e,f){var g;t(e)&&"fulfilled"===(g=e.inspect()).state?a[f]=g.value:(++b,r(e,function(d){a[f]=d,0===--b&&c.resolve(a)},c.reject,function(a){c.notify({index:f,value:a})}))},void 0),0===b&&c.resolve(a),c.promise})}function O(a){return r(a,function(a){return a=bb(a,m),r(N(bb(a,function(a){return r(a,X,X)})),function(){return a})})}function P(a){return r(a,function(a){return N(bb(a,function(b,c){return r(b,function(b){return a[c]={state:"fulfilled",value:b},a[c]},function(b){return a[c]={state:"rejected",reason:b},a[c]})})).thenResolve(a)})}function Q(a,b){return m(a).then(void 0,void 0,b)}function R(a,b){return m(a).nodeify(b)}var S=!1;try{throw new Error}catch(T){S=!!T.stack}var U,V,W=k(),X=function(){},Y=function(){function a(){for(;b.next;){b=b.next;var c=b.task;b.task=void 0;var e=b.domain;e&&(b.domain=void 0,e.enter());try{c()}catch(g){if(f)throw e&&e.exit(),setTimeout(a,0),e&&e.enter(),g;setTimeout(function(){throw g},0)}e&&e.exit()}d=!1}var b={task:void 0,next:null},c=b,d=!1,e=void 0,f=!1;if(Y=function(a){c=c.next={task:a,domain:f&&process.domain,next:null},d||(d=!0,e())},"undefined"!=typeof process&&process.nextTick)f=!0,e=function(){process.nextTick(a)};else if("function"==typeof setImmediate)e="undefined"!=typeof window?setImmediate.bind(window,a):function(){setImmediate(a)};else if("undefined"!=typeof MessageChannel){var g=new MessageChannel;g.port1.onmessage=a,e=function(){g.port2.postMessage(0)}}else e=function(){setTimeout(a,0)};return Y}(),Z=Function.call,$=c(Array.prototype.slice),_=c(Array.prototype.reduce||function(a,b){var c=0,d=this.length;if(1===arguments.length)for(;;){if(c in this){b=this[c++];break}if(++c>=d)throw new TypeError}for(;d>c;c++)c in this&&(b=a(b,this[c],c));return b}),ab=c(Array.prototype.indexOf||function(a){for(var b=0;b<this.length;b++)if(this[b]===a)return b;return-1}),bb=c(Array.prototype.map||function(a,b){var c=this,d=[];return _(c,function(e,f,g){d.push(a.call(b,f,g,c))},void 0),d}),cb=Object.create||function(a){function b(){}return b.prototype=a,new b},db=c(Object.prototype.hasOwnProperty),eb=Object.keys||function(a){var b=[];for(var c in a)db(a,c)&&b.push(c);return b},fb=c(Object.prototype.toString);V="undefined"!=typeof ReturnValue?ReturnValue:function(a){this.value=a};var gb;try{new Function("(function* (){ yield 1; })"),gb=!0}catch(T){gb=!1}var hb="From previous event:";m.resolve=m,m.nextTick=Y,m.longStackSupport=!1,m.defer=n,n.prototype.makeNodeResolver=function(){var a=this;return function(b,c){b?a.reject(b):arguments.length>2?a.resolve($(arguments,1)):a.resolve(c)}},m.promise=o,m.passByCopy=function(a){return a},q.prototype.passByCopy=function(){return this},m.join=function(a,b){return m(a).join(b)},q.prototype.join=function(a){return m([this,a]).spread(function(a,b){if(a===b)return a;throw new Error("Can't join: not the same: "+a+" "+b)})},m.race=p,q.prototype.race=function(){return this.then(m.race)},m.makePromise=q,q.prototype.toString=function(){return"[object Promise]"},q.prototype.then=function(a,b,c){function d(b){try{return"function"==typeof a?a(b):b}catch(c){return D(c)}}function e(a){if("function"==typeof b){f(a,h);try{return b(a)}catch(c){return D(c)}}return D(a)}function g(a){return"function"==typeof c?c(a):a}var h=this,i=n(),j=!1;return Y(function(){h.promiseDispatch(function(a){j||(j=!0,i.resolve(d(a)))},"when",[function(a){j||(j=!0,i.resolve(e(a)))}])}),h.promiseDispatch(void 0,"when",[void 0,function(a){var b,c=!1;try{b=g(a)}catch(d){if(c=!0,!m.onerror)throw d;m.onerror(d)}c||i.notify(b)}]),i.promise},m.when=r,q.prototype.thenResolve=function(a){return this.then(function(){return a})},m.thenResolve=function(a,b){return m(a).thenResolve(b)},q.prototype.thenReject=function(a){return this.then(function(){throw a})},m.thenReject=function(a,b){return m(a).thenReject(b)},m.nearer=s,m.isPromise=t,m.isPromiseAlike=u,m.isPending=v,q.prototype.isPending=function(){return"pending"===this.inspect().state},m.isFulfilled=w,q.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},m.isRejected=x,q.prototype.isRejected=function(){return"rejected"===this.inspect().state};var ib=[],jb=[],kb=!1,lb=!0;m.resetUnhandledRejections=A,m.getUnhandledReasons=function(){return ib.slice()},m.stopUnhandledRejectionTracking=function(){A(),"undefined"!=typeof process&&process.on&&process.removeListener("exit",z),lb=!1},A(),m.reject=D,m.fulfill=E,m.master=G,m.spread=H,q.prototype.spread=function(a,b){return this.all().then(function(b){return a.apply(void 0,b)},b)},m.async=I,m.spawn=J,m["return"]=K,m.promised=L,m.dispatch=M,q.prototype.dispatch=function(a,b){var c=this,d=n();return Y(function(){c.promiseDispatch(d.resolve,a,b)}),d.promise},m.get=function(a,b){return m(a).dispatch("get",[b])},q.prototype.get=function(a){return this.dispatch("get",[a])},m.set=function(a,b,c){return m(a).dispatch("set",[b,c])},q.prototype.set=function(a,b){return this.dispatch("set",[a,b])},m.del=m["delete"]=function(a,b){return m(a).dispatch("delete",[b])},q.prototype.del=q.prototype["delete"]=function(a){return this.dispatch("delete",[a])},m.mapply=m.post=function(a,b,c){return m(a).dispatch("post",[b,c])},q.prototype.mapply=q.prototype.post=function(a,b){return this.dispatch("post",[a,b])},m.send=m.mcall=m.invoke=function(a,b){return m(a).dispatch("post",[b,$(arguments,2)])},q.prototype.send=q.prototype.mcall=q.prototype.invoke=function(a){return this.dispatch("post",[a,$(arguments,1)])},m.fapply=function(a,b){return m(a).dispatch("apply",[void 0,b])},q.prototype.fapply=function(a){return this.dispatch("apply",[void 0,a])},m["try"]=m.fcall=function(a){return m(a).dispatch("apply",[void 0,$(arguments,1)])},q.prototype.fcall=function(){return this.dispatch("apply",[void 0,$(arguments)])},m.fbind=function(a){var b=m(a),c=$(arguments,1);return function(){return b.dispatch("apply",[this,c.concat($(arguments))])}},q.prototype.fbind=function(){var a=this,b=$(arguments);return function(){return a.dispatch("apply",[this,b.concat($(arguments))])}},m.keys=function(a){return m(a).dispatch("keys",[])},q.prototype.keys=function(){return this.dispatch("keys",[])},m.all=N,q.prototype.all=function(){return N(this)},m.allResolved=l(O,"allResolved","allSettled"),q.prototype.allResolved=function(){return O(this)},m.allSettled=P,q.prototype.allSettled=function(){return P(this)},m.fail=m["catch"]=function(a,b){return m(a).then(void 0,b)},q.prototype.fail=q.prototype["catch"]=function(a){return this.then(void 0,a)},m.progress=Q,q.prototype.progress=function(a){return this.then(void 0,void 0,a)},m.fin=m["finally"]=function(a,b){return m(a)["finally"](b)},q.prototype.fin=q.prototype["finally"]=function(a){return a=m(a),this.then(function(b){return a.fcall().then(function(){return b})},function(b){return a.fcall().then(function(){throw b})})},m.done=function(a,b,c,d){return m(a).done(b,c,d)},q.prototype.done=function(a,b,c){var d=function(a){Y(function(){if(f(a,e),!m.onerror)throw a;m.onerror(a)})},e=a||b||c?this.then(a,b,c):this;"object"==typeof process&&process&&process.domain&&(d=process.domain.bind(d)),e.then(void 0,d)},m.timeout=function(a,b,c){return m(a).timeout(b,c)},q.prototype.timeout=function(a,b){var c=n(),d=setTimeout(function(){c.reject(new Error(b||"Timed out after "+a+" ms"))},a);return this.then(function(a){clearTimeout(d),c.resolve(a)},function(a){clearTimeout(d),c.reject(a)},c.notify),c.promise},m.delay=function(a,b){return void 0===b&&(b=a,a=void 0),m(a).delay(b)},q.prototype.delay=function(a){return this.then(function(b){var c=n();return setTimeout(function(){c.resolve(b)},a),c.promise})},m.nfapply=function(a,b){return m(a).nfapply(b)},q.prototype.nfapply=function(a){var b=n(),c=$(a);return c.push(b.makeNodeResolver()),this.fapply(c).fail(b.reject),b.promise},m.nfcall=function(a){var b=$(arguments,1);return m(a).nfapply(b)},q.prototype.nfcall=function(){var a=$(arguments),b=n();return a.push(b.makeNodeResolver()),this.fapply(a).fail(b.reject),b.promise},m.nfbind=m.denodeify=function(a){var b=$(arguments,1);return function(){var c=b.concat($(arguments)),d=n();return c.push(d.makeNodeResolver()),m(a).fapply(c).fail(d.reject),d.promise}},q.prototype.nfbind=q.prototype.denodeify=function(){var a=$(arguments);return a.unshift(this),m.denodeify.apply(void 0,a)},m.nbind=function(a,b){var c=$(arguments,2);return function(){function d(){return a.apply(b,arguments)}var e=c.concat($(arguments)),f=n();return e.push(f.makeNodeResolver()),m(d).fapply(e).fail(f.reject),f.promise}},q.prototype.nbind=function(){var a=$(arguments,0);return a.unshift(this),m.nbind.apply(void 0,a)},m.nmapply=m.npost=function(a,b,c){return m(a).npost(b,c)},q.prototype.nmapply=q.prototype.npost=function(a,b){var c=$(b||[]),d=n();return c.push(d.makeNodeResolver()),this.dispatch("post",[a,c]).fail(d.reject),d.promise},m.nsend=m.nmcall=m.ninvoke=function(a,b){var c=$(arguments,2),d=n();return c.push(d.makeNodeResolver()),m(a).dispatch("post",[b,c]).fail(d.reject),d.promise},q.prototype.nsend=q.prototype.nmcall=q.prototype.ninvoke=function(a){var b=$(arguments,1),c=n();return b.push(c.makeNodeResolver()),this.dispatch("post",[a,b]).fail(c.reject),c.promise},m.nodeify=R,q.prototype.nodeify=function(a){return a?(this.then(function(b){Y(function(){a(null,b)})},function(b){Y(function(){a(b)})}),void 0):this},b.exports=m;var mb=k()},{}]},{},[1]);

// FILE: util.js (d5750f5d) 3/7/2014 11:24:14 AM

var YUE = YAHOO.util.Event;
var YUD = YAHOO.util.Dom;
var YUC = YAHOO.util.Connect;
var YCE = YAHOO.util.CustomEvent;
var YLang = YAHOO.util.Lang;
(function() {
if (typeof window.console != 'object') {
window.console = {
log: function () { },
error: function () { },
warn: function () { },
info: function () { },
dir: function () { }
};
}
})();
var Util = {};
(function(Util) {
var logs = [];
var logMax = 500;
function LogEvent(message) {
this.message = message;
this.date = new Date();
}
LogEvent.prototype.toString = function() {
return '* ' + Util.Date.formatTime(this.date) + ' - ' + this.message;
};
Util.log = function(msg) {
var logEvent = new LogEvent(msg);
logs.push(logEvent);
if (logs.length > logMax) {
logs = logs.slice(1);
}
if (typeof console.log == 'function') {
console.log(logEvent.toString());
}
return logEvent;
};
Util.logInfo = function(msg) {
if (typeof console.info == 'function') {
console.info(msg);
}
};
Util.logError = function(msg) {
if (typeof console.error == 'function') {
console.error(msg);
}
};
Util.dir = function(msg) {
if (typeof console.dir == 'function') {
console.dir(msg);
}
};
Util.getDebugLog = function() {
return logs.join('\n');
};
Util.queueWork = function(fn               , context             ) {
context = context || window;
return YAHOO.lang.later(0, context, fn);
};
})(Util);
Util.Asserts = { };
Util.Asserts.assert = function(condition, opt_message)
{
if (!condition)
{
var message = 'Assertion failed';
if (opt_message)
{
message += ': ' + opt_message;
}
throw new Error(message);
}
return condition;
};

// FILE: util_function.js (b1b5dbeb) 3/7/2014 11:24:14 AM

if (!Function.prototype.bind) {
Function.prototype.bind = function(oThis) {
if (typeof this !== "function") {
throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");
}
var aArgs = Array.prototype.slice.call(arguments, 1),
fToBind = this,
fNOP = function() {
},
fBound = function() {
return fToBind.apply(this instanceof fNOP && oThis
? this
: oThis,
aArgs.concat(Array.prototype.slice.call(arguments)));
};
fNOP.prototype = this.prototype;
fBound.prototype = new fNOP();
return fBound;
};
}
Util.Function = {};
Util.Function.bind = function(func, scope          ) {
function closure() {
var cl_args = args.slice();
for (var i = 0, i_max = arguments.length; i < i_max; i++) {
cl_args.push(arguments[i]);
}
if (scope === null) {
return func.apply(this, cl_args);
} else {
return func.apply(scope, cl_args);
}
}
var args = [];
scope = YAHOO.lang.isValue(scope) ? scope : null;
for (var i = 2, i_max = arguments.length; i < i_max; i++) {
args.push(arguments[i]);
}
return closure;
};
Util.bind = Util.Function.bind;

// FILE: util_object.js (19502807) 3/7/2014 11:24:14 AM

Util.Object = function() {};
Util.Object.keys = function(object) {
var keys = [];
for (var key in object) {
if (object.hasOwnProperty(key)) {
keys.push(key);
}
}
return keys;
};
Util.Object.values = function(object) {
var values = [];
for (var key in object) {
if (object.hasOwnProperty(key)) {
values.push(object[key]);
}
}
return values;
};
Util.Object.isEmpty = function(object) {
for (var key in object) {
if (object.hasOwnProperty(key)) {
return false;
}
}
return true;
};
Util.Object.remove = function(obj, key) {
var rv;
if ((rv = key in obj)) {
delete obj[key];
}
return rv;
};
Util.Object.clone = function(obj) {
if (obj == null || typeof(obj) != 'object') {
return obj;
}
var newObj = {};
for (var prop in obj) {
(function(prop) {
if (typeof obj[prop] == 'function') {
newObj[prop] = function() {
obj[prop]();
};
} else {
newObj[prop] = obj[prop];
}
})(prop);
}
return newObj;
};
Util.Object.getValues = function(obj) {
var res = [];
var i = 0;
for (var key in obj) {
res[i++] = obj[key];
}
return res;
};
Util.Object.getKeys = function(obj) {
var res = [];
var i = 0;
for (var key in obj) {
res[i++] = key;
}
return res;
};
if (typeof JSON != 'object') {
JSON = {};
JSON.stringify = YAHOO.lang.JSON.stringify;
JSON.parse = YAHOO.lang.JSON.parse;
}

// FILE: util_number.js (ea4a1c59) 3/7/2014 11:24:14 AM

Util.Number = function() { };
Util.Number.parse = function(str)
{
return parseInt(str, 10);
};
Util.Number.limit = function(num, min, max)
{
return Math.min(max, Math.max(min, num));
};
Util.Number.from = function(item)
{
var number = parseFloat(item);
return isFinite(number) ? number : null;
};

// FILE: util_string.js (51f680a8) 5/2/2014 12:55:58 PM

Util.String = function() { };
Util.String.equals = function (str1, str2, options) {
options = options || {};
if (typeof str1 != 'string' ||
typeof str2 != 'string') {
return false;
}
if (options.trim) {
str1 = str1.trim();
str2 = str2.trim();
}
if (options.ignoreCase) {
if (options.useLocale) {
str1 = str1.toLocaleLowerCase();
str2 = str2.toLocaleLowerCase();
} else {
str1 = str1.toLowerCase();
str2 = str2.toLowerCase();
}
}
return (str1 === str2);
};
Util.String.startsWith = function(str, prefix)
{
return (str && str.indexOf(prefix) === 0);
};
Util.String.endsWith = function(str, suffix)
{
return (str && str.match(suffix+"$") == suffix);
};
Util.String.contains = function(str, search) {
return (str && search &&
str.indexOf(search) !== -1);
};
Util.String.isHttpProtocol = function(str)
{
return (Util.String.startsWith(str, 'http:') ||
Util.String.startsWith(str, 'https:'));
};
Util.String.format = function()
{
var str = arguments[0];
for (var i = 0; i < arguments.length - 1; i++)
{
var reg = new RegExp("\\{" + i + "\\}", "gm");
str = str.replace(reg, arguments[i + 1]);
}
return str;
};
Util.String.getUUID = function() {
return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
var r = Math.random() * 16 | 0,
v = c == 'x' ? r : (r & 0x3 | 0x8);
return v.toString(16);
});
};
Util.String.isNullOrEmpty = function(str) {
if (str == null) {
return true;
}
if (!YAHOO.lang.isString(str)) {
return true;
}
return (str.length === 0);
};
Util.String.isNullOrWhiteSpace = function(str) {
if (Util.String.isNullOrEmpty(str)) {
return true;
}
str = YAHOO.lang.trim(str);
return (str.length === 0);
};
Util.String._HASHCODE_MAX = 0x100000000;
Util.String.hashCode = function(str)
{
var hash = 0, len = str.length;
for (var i = 0; i < len; ++i)
{
hash = hash * 31 + str.charCodeAt(i);
hash %= Util.String._HASHCODE_MAX;
}
return hash;
};
Util.HashCombiner = function()
{
this._hash = 17;
};
Util.HashCombiner.prototype.get = function() { return this._hash; };
Util.HashCombiner.prototype.add = function(str)
{
this._hash = this._hash * 31 + Util.String.hashCode(str.toString());
this._hash %= Util.String._HASHCODE_MAX;
};
if (!String.prototype.startsWith)
{
String.prototype.startsWith = function(s) { return this.indexOf(s) === 0; };
}
(function(Util) {
var NEW_LINE = '\n';
function SB(value) {
this._arr = [];
if (value) {
this.append(value);
}
}
SB.prototype.append = function (value) {
this._arr.push(value);
}
SB.prototype.appendLine = function (value) {
if (value) {
this.append(value);
}
this.append(NEW_LINE);
}
SB.prototype.appendFormat = function (                ) {
var str = Util.String.format.apply(this, arguments);
this.append(str);
}
SB.prototype.appendSub = function(str, obj) {
str = YAHOO.lang.substitute(str, obj);
this.append(str);
}
SB.prototype.toString = function (separator) {
separator = separator || '';
return this._arr.join(separator);
}
Util.StringBuilder = SB;
})(Util);

// FILE: util_date.js (f203b8d5) 3/7/2014 11:24:14 AM

(function(Util)
{
Util.Date = {};
function xPad(x, pad, r) {
if (typeof r === 'undefined') {
r = 10;
}
for (; parseInt(x, 10) < r && r > 1; r /= 10) {
x = pad.toString() + x;
}
return x.toString();
}
Util.Date.formatTime = function(d) {
var hour = d.getHours() % 12;
hour = xPad(hour === 0 ? 12 : hour, 0);
var time = hour + ':' + xPad(d.getMinutes(), 0) + ':' + xPad(d.getSeconds(), 0) + '.' + xPad(d.getMilliseconds(), 00);
return time;
};
Util.Date.now = Date.now || (function() {
return +new Date();
});
Util.Date.xPad = xPad;
})(Util);

// FILE: util_converters.js (d21f13ef) 3/7/2014 11:24:14 AM

Util.Converters = {};
Util.Converters.parseBoolean = function(value) {
if (YAHOO.util.Lang.isNull(value)) return null;
if (YAHOO.util.Lang.isBoolean(value)) return value;
if (YAHOO.util.Lang.isString(value)) {
return value.toLowerCase() === 'true';
} else {
return null;
}
};
Util.Converters.parseInt = function(value) {
if (YAHOO.util.Lang.isNull(value)) return null;
if (YAHOO.util.Lang.isNumber(value)) return value;
if (YAHOO.util.Lang.isString(value)) {
return value * 1;
} else {
return null;
}
};

// FILE: util_array.js (8875c009) 5/2/2014 12:55:58 PM

if (!Array.prototype.indexOf)
{
Array.prototype.indexOf = function(elt           )
{
var len = this.length;
var from = Number(arguments[1]) || 0;
from = (from < 0)
? Math.ceil(from)
: Math.floor(from);
if (from < 0)
from += len;
for (; from < len; from++)
{
if (from in this &&
this[from] === elt)
return from;
}
return -1;
};
}
if (typeof (YAHOO.Array) != 'undefined')
{
Util.Array = YAHOO.Array;
Util.Array.uniqueList = YAHOO.Array.unique;
}
else
{
Util.Array = {};
}
Util.Array._ARRAY_PROTOTYPE = Array.prototype;
Util.Array.contains = function(arr, obj)
{
return arr.indexOf(obj) >= 0;
};
Util.Array.concat = function(var_args)
{
return Util.Array._ARRAY_PROTOTYPE.concat.apply(Util.Array._ARRAY_PROTOTYPE, arguments);
};
Util.Array.splice = function(arr, index, howMany, var_args)
{
Util.Asserts.assert(arr.length != null);
return Util.Array._ARRAY_PROTOTYPE.splice.apply(arr, Util.Array.slice(arguments, 1));
};
Util.Array.slice = function(arr, start, opt_end)
{
Util.Asserts.assert(arr.length != null);
if (arguments.length <= 2)
{
return Util.Array._ARRAY_PROTOTYPE.slice.call(arr, start);
}
else
{
return Util.Array._ARRAY_PROTOTYPE.slice.call(arr, start, opt_end);
}
};
Util.Array.removeAt = function(arr, i)
{
return Array.prototype.splice.call(arr, i, 1).length == 1;
};
Util.Array.remove = function(arr, obj)
{
var i = arr.indexOf(obj);
var rv;
if ((rv = i >= 0))
{
Util.Array.removeAt(arr, i);
}
return rv;
};
Util.Array.clear = function(arr)
{
if (!YAHOO.lang.isArray(arr))
{
for (var i = arr.length - 1; i >= 0; i--)
{
delete arr[i];
}
}
arr.length = 0;
};
Util.Array.isEmpty = function(arr)
{
return arr.length == 0;
};
Util.Array.insertAt = function (arr, obj, opt_i) {
Util.Array.splice(arr, opt_i, 0, obj);
};
Util.Array.insertBefore = function(arr, obj, target) {
var idx = arr.indexOf(obj);
if (idx == -1) {
return false;
} else {
if (idx == 0) {
arr.unshift(target);
} else {
Util.Array.insertAt(arr, target, idx);
}
return true;
}
};
Util.Array.insertAfter = function (arr, obj, target) {
var idx = arr.indexOf(obj);
if (idx == -1) {
return false;
} else {
if (idx == arr.length - 1) {
arr.push(target);
} else {
Util.Array.insertAt(arr, target, idx + 1);
}
return true;
}
};
Util.Array.unique = function(list)
{
var bucket = {}, i, l = list.length, uniqueList = [];
for (i = 0; i < l; i++)
{
if (list[i].length == 0) continue;
bucket[list[i]] = null;
}
for (key in bucket)
{
uniqueList.push(key);
}
return uniqueList;
};
Util.Array.pick = function(values)
{
for (var i = 0, l = values.length; i < l; i++)
{
if (values[i] != null) return values[i];
}
return null;
};
Util.Array.peek = function(array) {
return array[array.length - 1];
};
Util.Array.some = Util.Array._ARRAY_PROTOTYPE.some ?
function(arr, f, opt_obj)
{
return Util.Array._ARRAY_PROTOTYPE.some.call(arr, f, opt_obj);
} :
function(arr, f, opt_obj)
{
var l = arr.length;
var arr2 = YAHOO.lang.isString(arr) ? arr.split('') : arr;
for (var i = 0; i < l; i++)
{
if (i in arr2 && f.call(opt_obj, arr2[i], i, arr))
{
return true;
}
}
return false;
};
Util.Array.flatten = function(var_args)
{
var result = [];
for (var i = 0; i < arguments.length; i++)
{
var element = arguments[i];
if (YAHOO.lang.isArray(element))
{
result.push.apply(result, Util.Array.flatten.apply(null, element));
}
else
{
result.push(element);
}
}
return result;
};
Util.Array.defaultCompare = function(a, b) {
return a > b ? 1 : a < b ? -1 : 0;
};
Util.Array.sort = function(arr, opt_compareFn)
{
if (arr.length == null) return;
Array.prototype.sort.call(arr, opt_compareFn || Util.Array.defaultCompare);
};
Util.Array.createMultiDimArray = function()
{
var args = Array.prototype.slice.call(arguments);
function helper(arr)
{
if (arr.length <= 0) return null;
if (arr.length == 1) return new Array(arr[0]);
var currArray = new Array(arr[0]);
var newArgs = arr.slice(1, arr.length);
for (var i = 0; i < currArray.length; i++)
{
currArray[i] = helper(newArgs);
}
return currArray;
}
return helper(args);
};

// FILE: util_structs.js (ef2481a0) 3/7/2014 11:24:14 AM

Util.Structs = {};
Util.Structs.Stack = function()
{
this._arr = [];
};
Util.Structs.Stack.prototype.push = function(element)
{
this._arr.push(element);
};
Util.Structs.Stack.prototype.pop = function()
{
return this._arr.pop();
};
Util.Structs.Stack.prototype.peek = function()
{
return this._arr[this._arr.length - 1];
};
Util.Structs.Queue = function()
{
this._elements = [];
};
Util.Structs.Queue.prototype._head = 0;
Util.Structs.Queue.prototype._tail = 0;
Util.Structs.Queue.prototype.enqueue = function(element)
{
this._elements[this._tail++] = element;
};
Util.Structs.Queue.prototype.dequeue = function()
{
if (this._head == this._tail)
{
return undefined;
}
var result = this._elements[this._head];
delete this._elements[this._head];
this._head++;
return result;
};
Util.Structs.Queue.prototype.peek = function()
{
if (this._head == this._tail)
{
return undefined;
}
return this._elements[this._head];
};
Util.Structs.Queue.prototype.getCount = function()
{
return this._tail - this._head;
};
Util.Structs.Queue.prototype.isEmpty = function()
{
return this._tail - this._head == 0;
};
Util.Structs.Queue.prototype.clear = function()
{
this._elements.length = 0;
this._head = 0;
this._tail = 0;
};
Util.Structs.Queue.prototype.contains = function(obj)
{
return Util.Array.contains(this._elements, obj);
};
Util.Structs.Queue.prototype.remove = function(obj)
{
var index = this._elements.indexOf(obj);
if (index < 0)
{
return false;
}
if (index == this._head)
{
this.dequeue();
}
else
{
Util.Array.removeAt(this._elements, index);
this._tail--;
}
return true;
};
Util.Structs.Queue.prototype.getValues = function()
{
return this._elements.slice(this._head, this._tail);
};
Util.Structs.Map = function(opt_map, var_args)
{
this._count = 0;
this._version = 0;
this._map = {};
this._keys = [];
var argLength = arguments.length;
if (argLength > 1)
{
if (argLength % 2)
{
throw Error('Uneven number of arguments');
}
for (var i = 0; i < argLength; i += 2)
{
this.set(arguments[i], arguments[i + 1]);
}
}
else if (opt_map)
{
this.addAll(                     (opt_map));
}
};
Util.Structs.Map.prototype.getCount = function()
{
return this._count;
};
Util.Structs.Map.prototype.getValues = function()
{
this._cleanupKeysArray();
var rv = [];
for (var i = 0; i < this._keys.length; i++)
{
var key = this._keys[i];
rv.push(this._map[key]);
}
return rv;
};
Util.Structs.Map.prototype.getKeys = function()
{
this._cleanupKeysArray();
return                               (this._keys.concat());
};
Util.Structs.Map.prototype.containsKey = function(key)
{
return Util.Structs.Map._hasKey(this._map, key);
};
Util.Structs.Map.prototype.containsValue = function(val)
{
for (var i = 0; i < this._keys.length; i++)
{
var key = this._keys[i];
if (Util.Structs.Map._hasKey(this._map, key) && this._map[key] == val)
{
return true;
}
}
return false;
};
Util.Structs.Map.prototype.equals = function(otherMap, opt_equalityFn)
{
if (this === otherMap)
{
return true;
}
if (this._count != otherMap.getCount())
{
return false;
}
var equalityFn = opt_equalityFn || Util.Structs.Map.defaultEquals;
this._cleanupKeysArray();
for (var key, i = 0; key = this._keys[i]; i++)
{
if (!equalityFn(this.get(key), otherMap.get(key)))
{
return false;
}
}
return true;
};
Util.Structs.Map.defaultEquals = function(a, b)
{
return a === b;
};
Util.Structs.Map.prototype.isEmpty = function()
{
return this._count == 0;
};
Util.Structs.Map.prototype.clear = function()
{
this._map = {};
this._keys.length = 0;
this._count = 0;
this._version = 0;
};
Util.Structs.Map.prototype.remove = function(key)
{
if (Util.Structs.Map._hasKey(this._map, key))
{
delete this._map[key];
this._count--;
this._version++;
if (this._keys.length > 2 * this._count)
{
this._cleanupKeysArray();
}
return true;
}
return false;
};
Util.Structs.Map.prototype._cleanupKeysArray = function()
{
if (this._count != this._keys.length)
{
var srcIndex = 0;
var destIndex = 0;
while (srcIndex < this._keys.length)
{
var key = this._keys[srcIndex];
if (Util.Structs.Map._hasKey(this._map, key))
{
this._keys[destIndex++] = key;
}
srcIndex++;
}
this._keys.length = destIndex;
}
if (this._count != this._keys.length)
{
var seen = {};
var srcIndex = 0;
var destIndex = 0;
while (srcIndex < this._keys.length)
{
var key = this._keys[srcIndex];
if (!(Util.Structs.Map._hasKey(seen, key)))
{
this._keys[destIndex++] = key;
seen[key] = 1;
}
srcIndex++;
}
this._keys.length = destIndex;
}
};
Util.Structs.Map.prototype.get = function(key, opt_val)
{
if (Util.Structs.Map._hasKey(this._map, key))
{
return this._map[key];
}
return opt_val;
};
Util.Structs.Map.prototype.set = function(key, value)
{
if (!(Util.Structs.Map._hasKey(this._map, key)))
{
this._count++;
this._keys.push(key);
this._version++;
}
this._map[key] = value;
};
Util.Structs.Map.prototype.addAll = function(map)
{
var keys, values;
if (map instanceof Util.Structs.Map)
{
keys = map.getKeys();
values = map.getValues();
} else
{
keys = Util.Object.getKeys(map);
values = Util.Object.getValues(map);
}
for (var i = 0; i < keys.length; i++)
{
this.set(keys[i], values[i]);
}
};
Util.Structs.Map.prototype.clone = function()
{
return new Util.Structs.Map(this);
};
Util.Structs.Map._hasKey = function(obj, key)
{
return Object.prototype.hasOwnProperty.call(obj, key);
};

// FILE: util_iter.js (3d48edcb) 3/7/2014 11:24:14 AM

Util.Iterator = function(ref, options)
{
if (!(this instanceof Util.Iterator))
{
return new Util.Iterator(ref, options);
}
this.options =
{
pit: false,
limits: false,
chains: false
}
if (YAHOO.lang.isObject(options))
{
YAHOO.lang.augmentObject(this.options, options, true);
}
this._ref = ref;
this.ref = function() { return this._ref; };
this._key = null;
this.setKey = function(key) { return this._key = key; };
this.jump = function(key)
{
key = this.setKey(this.valid(key));
return (this.options.chains) ? this : this.current(key);
};
this.key = function()
{
var key = this.valid(this._key);
return this.setKey(key);
};
with (this.options)
{
min = Util.Array.pick([this.options.min, 0]);
max = Util.Array.pick([this.options.max, ref.length - 1]);
}
};
Util.Iterator.prototype.jumpTo = function(obj)
{
var idx = this.ref().indexOf(obj);
if (idx >= 0)
{
return this.jump(idx);
}
return null;
};
Util.Iterator.prototype.valid = function()
{
var length = this.ref().length;
var key = (arguments.length > 0) ? Util.Number.from(arguments[0]) : this.key();
if (key === null || length === 0) return null;
if (key < 0) key = this.ref().length + key;
if (key < 0 || key > length - 1) return null;
var range = function(side)
{
return (typeof side !== 'number') ? null : Util.Number.limit(side, 0, length);
}
return key;
};
Util.Iterator.prototype.reset = function()
{
var range = this.range(1), key = (range.length) ? range[0] : null;
return this.jump(key);
},
Util.Iterator.prototype.rewind = function()
{
return this.jump(null);
};
Util.Iterator.prototype.end = function()
{
var range = this.range(1), key = (range.length) ? range.pop() : null;
return this.jump(key), this.current(key);
};
Util.Iterator.prototype.next = function()
{
return this.slide(1);
};
Util.Iterator.prototype.prev = function()
{
return this.slide(-1);
};
Util.Iterator.prototype.current = function(key)
{
key = (key === void 0) ? this.key() : this.valid(key);
return (key === null) ? null : this.ref()[key];
};
Util.Iterator.prototype.slide = function(offset, from)
{
var range = this.range(1);
var key = Util.Array.pick([Util.Number.from(from), this.key()]);
var offset = parseInt(offset);
var limit = this.options.limits, pit = this.options.pit;
if (!range.length || offset === null || (limit && key === null && offset < 0)) return this.jump(null);
if (offset === 0) return this.current();
if (pit) range.unshift(null);
var max = range.length - 1;
if (key === null)
{
key = (pit) ? 1 : 0;
if (limit) offset--, key = (pit) ? 1 : 0;
else if (offset < 0) offset++, key = max;
else offset--;
}
else
{
key = range.indexOf(key);
}
if (!pit && !limit && Math.abs(offset) >= range.length) offset = offset % range.length;
key = key + offset;
var more = key > max, less = key < 0;
if (more || less)
{
if (pit && limit) key = null;
else if (more) key = (limit) ? max : key - max - 1;
else if (less) key = (limit) ? 0 : key + max + 1;
}
return this.jump(range[key]);
};
Util.Iterator.prototype.range = function()
{
var array = this.ref(), length = array.length - 1, keys = Util.Object.keys(array), pub = !arguments[0];
if (length < 0) return [];
if (pub)
{
return array;
}
else
{
var range = Util.Array.map(keys, function(item)
{
return parseInt(item);
});
return range;
}
};

// FILE: util_dom.js (560e5f9b) 5/2/2014 12:55:58 PM

Util.Dom =
{
getWindow: function(doc) {
if (doc) {
return (doc.parentWindow || doc.defaultView);
}
return null;
},
getFrameContentDocument: function(frame) {
if (frame) {
if (YAHOO.env.ua.webkit) {
return (frame.document || frame.contentWindow.document);
} else {
return (frame.contentDocument || frame.contentWindow.document);
}
}
return null;
},
getFrameContentWindow: function(frame) {
if (frame) {
return (frame.contentWindow || this.getWindow(this.getFrameContentDocument(frame)));
}
return null;
},
copyCSSFrame: function(frameID)
{
var frame = YUD.get(frameID);
if (frame == null || frame.src == '') return false;
if (frame.contentDocument == null || frame.contentDocument.body == null) return false;
frame.contentDocument.body.className = document.body.className;
return true;
},
isVisible: function(node)
{
node = YUD.get(node);
if (!node) return false;
while (node && (node.nodeName.toLowerCase() != 'body') && (YUD.getStyle(node, 'display') != 'none') && (YUD.getStyle(node, 'visibility') != 'hidden'))
{
node = node.parentNode;
}
if (node && node.nodeName.toLowerCase() == 'body') return true;
else return false;
},
getFocusableElements: function(root)
{
root = root || this.innerElement;
var focusableTags = [
"a",
"button",
"select",
"textarea",
"input",
"iframe"
];
var focusable = {};
for (var i = 0; i < focusableTags.length; i++)
{
focusable[focusableTags[i]] = true;
}
function isFocusable(el)
{
if (el.focus && el.type !== "hidden" && !el.disabled && focusable[el.tagName.toLowerCase()])
{
return true;
}
return false;
}
return YUD.getElementsBy(isFocusable, null, root);
},
isFormElement: function(el)
{
if (el.nodeType == 3              )
{
el = el.parentNode;
}
return " button textarea input select option ".indexOf(" " + el.tagName.toLowerCase() + " ") >= 0;
},
stopAllEvents: function(el, type)
{
YUE.on(el, type, YUE.stopEvent, YUE, true);
},
stopDragEvents: function(el)
{
el = el || window;
Util.Dom.stopAllEvents(el, 'dragstart');
Util.Dom.stopAllEvents(el, 'draggesture');
},
stopDropEvents: function(el)
{
el = el || window;
Util.Dom.stopAllEvents(el, 'drop');
}
};
Util.Dom.focus = function(obj)
{
if (!obj || typeof (obj.focus) != 'function') return false;
try { obj.focus(); }
catch (ex) { return false; }
return true;
};
Util.Dom.blur = function(obj)
{
if (!obj || typeof (obj.blur) != 'function') return false;
try { obj.blur(); }
catch (ex) { return false; }
return true;
};
Util.Dom.focusWindow = function(delay)
{
if (YAHOO.lang.isNumber(delay)) setTimeout(function() { Util.Dom.focus(window); }, delay);
else Util.Dom.focus(window);
};
Util.Dom.getAncestor = function(needle, haystacks)
{
if (needle == null || haystacks == null) return false;
var isMatch = function(element)
{
for (var i = 0; i < haystacks.length; i++)
{
var haystack = haystacks[i];
if (haystack == element) return true;
}
return false;
};
if (isMatch(needle)) return needle;
var element = null;
try
{
element = YUD.getAncestorBy(needle, function(ancestor)
{
return isMatch(ancestor);
});
}
catch (ex) { }
return element;
};
Util.Dom.isElement = function(o)
{
try
{
return (
typeof HTMLElement === "object" ? o instanceof HTMLElement :
typeof o === "object" && o.nodeType && typeof o.nodeName === "string"
);
}
catch (ex) { return false; }
};
Util.Dom._TEXT_TYPES = {
'text': 1,
'password': 1
};
Util.Dom.isTextInput = function(el) {
if (!el) return false;
if (el.tagName && el.tagName.toLowerCase() == 'textarea') {
return true;
}
if (el.tagName && el.tagName.toLowerCase() == 'input' && Util.Dom._TEXT_TYPES[el.type]) {
return true;
}
if (el.contentEditable == '' ||
el.contentEditable == 'true') {
return true;
}
if (el.isContentEditable) {
return true;
}
var doc = Util.Dom.getOwnerDocument(el);
if (doc) {
if (doc.designMode == 'on') {
return true;
}
if (YUD.getAttribute(doc.body, 'data-tds-textinput') == 'true') {
return true;
}
}
return false;
};
Util.Dom.isImgLoaded = function(img)
{
if (!img.complete)
{
return false;
}
if (typeof img.naturalWidth != 'undefined' && img.naturalWidth == 0)
{
return false;
}
return true;
};
Util.Dom.NodeType =
{
ELEMENT: 1,
ATTRIBUTE: 2,
TEXT: 3,
CDATA_SECTION: 4,
ENTITY_REFERENCE: 5,
ENTITY: 6,
PROCESSING_INSTRUCTION: 7,
COMMENT: 8,
DOCUMENT: 9,
DOCUMENT_TYPE: 10,
DOCUMENT_FRAGMENT: 11,
NOTATION: 12
};
Util.Dom.removeNode = function(node)
{
return node && node.parentNode ? node.parentNode.removeChild(node) : null;
};
Util.Dom.removeChildren = function(node)
{
var child;
while ((child = node.firstChild))
{
node.removeChild(child);
}
};
Util.Dom.setProperties = function(element, properties)
{
for (key in properties)
{
var val = properties[key];
if (key == 'style')
{
element.style.cssText = val;
}
else if (key == 'class')
{
element.className = val;
}
else if (key == 'for')
{
element.htmlFor = val;
}
else if (key.lastIndexOf('aria-', 0) == 0)
{
element.setAttribute(key, val);
}
else if (key in Util.Dom._DIRECT_ATTRIBUTE_MAP)
{
element.setAttribute(Util.Dom._DIRECT_ATTRIBUTE_MAP[key], val);
}
else
{
element[key] = val;
}
}
};
Util.Dom._DIRECT_ATTRIBUTE_MAP =
{
'cellpadding': 'cellPadding',
'cellspacing': 'cellSpacing',
'colspan': 'colSpan',
'rowspan': 'rowSpan',
'valign': 'vAlign',
'height': 'height',
'width': 'width',
'usemap': 'useMap',
'frameborder': 'frameBorder',
'maxlength': 'maxLength',
'type': 'type'
};
Util.Dom.getOwnerDocument = function(node)
{
return (
node.nodeType == Util.Dom.NodeType.DOCUMENT ? node :
node.ownerDocument || node.document);
};
Util.Dom.setTextContent = function(element, text)
{
if ('textContent' in element)
{
element.textContent = text;
}
else if (element.firstChild && element.firstChild.nodeType == Util.Dom.NodeType.TEXT)
{
while (element.lastChild != element.firstChild)
{
element.removeChild(element.lastChild);
}
element.firstChild.data = text;
}
else
{
Util.Dom.removeChildren(element);
var doc = Util.Dom.getOwnerDocument(element);
element.appendChild(doc.createTextNode(text));
}
};
Util.Dom._TAGS_TO_IGNORE =
{
'SCRIPT': 1,
'STYLE': 1,
'HEAD': 1,
'IFRAME': 1,
'OBJECT': 1
};
Util.Dom._PREDEFINED_TAG_VALUES = { 'IMG': ' ', 'BR': '\n' };
Util.Dom.getTextContent = function(node)
{
var textContent;
var CAN_USE_INNER_TEXT = (YAHOO.env.ua.ie > 0 && YAHOO.env.ua.ie < 9);
if (CAN_USE_INNER_TEXT && ('innerText' in node))
{
textContent = node.innerText.replace(/(\r\n|\r|\n)/g, '\n');
}
else
{
var buf = [];
Util.Dom._getTextContent(node, buf, true);
textContent = buf.join('');
}
textContent = textContent.replace(/ \xAD /g, ' ').replace(/\xAD/g, '');
if (!YAHOO.env.ua.ie)
{
textContent = textContent.replace(/ +/g, ' ');
}
if (textContent != ' ')
{
textContent = textContent.replace(/^\s*/, '');
}
return textContent;
};
Util.Dom._getTextContent = function(node, buf, normalizeWhitespace)
{
if (node.nodeName in Util.Dom._TAGS_TO_IGNORE)
{
}
else if (node.nodeType == Util.Dom.NodeType.TEXT)
{
if (normalizeWhitespace)
{
buf.push(String(node.nodeValue).replace(/(\r\n|\r|\n)/g, ''));
}
else
{
buf.push(node.nodeValue);
}
}
else if (node.nodeName in Util.Dom._PREDEFINED_TAG_VALUES)
{
buf.push(Util.Dom._PREDEFINED_TAG_VALUES[node.nodeName]);
}
else
{
var child = node.firstChild;
while (child)
{
Util.Dom._getTextContent(child, buf, normalizeWhitespace);
child = child.nextSibling;
}
}
};
Util.Dom.contains = function(parent, descendant)
{
if (parent.contains && descendant.nodeType == Util.Dom.NodeType.ELEMENT) {
return parent == descendant || parent.contains(descendant);
}
if (typeof parent.compareDocumentPosition != 'undefined') {
return parent == descendant || Boolean(parent.compareDocumentPosition(descendant) & 16);
}
while (descendant && parent != descendant) {
descendant = descendant.parentNode;
}
return descendant == parent;
};
Util.Dom.compareNodeOrder = function(node1, node2)
{
if (node1 == node2) {
return 0;
}
if (node1.compareDocumentPosition) {
return node1.compareDocumentPosition(node2) & 2 ? 1 : -1;
}
if ('sourceIndex' in node1 || (node1.parentNode && 'sourceIndex' in node1.parentNode))
{
var isElement1 = node1.nodeType == Util.Dom.NodeType.ELEMENT;
var isElement2 = node2.nodeType == Util.Dom.NodeType.ELEMENT;
if (isElement1 && isElement2)
{
return node1.sourceIndex - node2.sourceIndex;
}
else
{
var parent1 = node1.parentNode;
var parent2 = node2.parentNode;
if (parent1 == parent2) {
return Util.Dom._compareSiblingOrder(node1, node2);
}
if (!isElement1 && Util.Dom.contains(parent1, node2)) {
return -1 * Util.Dom._compareParentsDescendantNodeIE(node1, node2);
}
if (!isElement2 && Util.Dom.contains(parent2, node1)) {
return Util.Dom._compareParentsDescendantNodeIE(node2, node1);
}
return (isElement1 ? node1.sourceIndex : parent1.sourceIndex) - (isElement2 ? node2.sourceIndex : parent2.sourceIndex);
}
}
var doc = Util.Dom.getOwnerDocument(node1);
var range1, range2;
range1 = doc.createRange();
range1.selectNode(node1);
range1.collapse(true);
range2 = doc.createRange();
range2.selectNode(node2);
range2.collapse(true);
return range1.compareBoundaryPoints(window.Range.START_TO_END, range2);
};
Util.Dom._compareParentsDescendantNodeIE = function(textNode, node)
{
var parent = textNode.parentNode;
if (parent == node) {
return -1;
}
var sibling = node;
while (sibling.parentNode != parent) {
sibling = sibling.parentNode;
}
return Util.Dom._compareSiblingOrder(sibling, textNode);
};
Util.Dom._compareSiblingOrder = function(node1, node2)
{
var s = node2;
while ((s = s.previousSibling))
{
if (s == node1) {
return -1;
}
}
return 1;
};
Util.Dom.toggleClass = function(node, className, force)
{
var add = (force !== undefined) ? force : !(YUD.hasClass(node, className));
if (add) YUD.addClass(node, className);
else YUD.removeClass(node, className);
};
Util.Dom.getElementByClassName = function(className, tag, root, apply, o, overrides)
{
var elements = YUD.getElementsByClassName(className, tag, root, apply, o, overrides);
if (elements.length > 0) return elements[0];
return null;
};
Util.Dom.getSelectionRange = function(win)
{
win = win || window;
var selection = win.getSelection();
var range = null;
if (selection && selection.rangeCount > 0)
{
try { range = selection.getRangeAt(0); }
catch (ex) { }
}
return range;
};
Util.Dom.getElementRegions = function(el)
{
var regions = [];
if (el.getClientRects)
{
var clientRects = el.getClientRects();
for (var i = 0, ii = clientRects.length; i < ii; i++)
{
var clientRect = clientRects[i];
var region = new YAHOO.util.Region(clientRect.top, clientRect.right, clientRect.bottom, clientRect.left);
regions.push(region);
}
}
else
{
var targetPos = YAHOO.util.Dom.getXY(el);
var top = targetPos[1],
left = targetPos[0],
bottom = top + el.offsetHeight,
right = left + el.offsetWidth;
var region = new YAHOO.util.Region(top, right, bottom, left);
regions.push(region);
}
return regions;
};
Util.Dom.createElementFromHtml = function(html) {
var div = document.createElement('div');
div.innerHTML = html;
return YUD.getFirstChild(div);
};
Util.Dom.batch = function(nodes, method, scope) {
var count = nodes.length;
for (var i = 0; i < count; i++) {
var node = nodes[i];
if (typeof scope == 'object') {
method.call(scope, node);
} else {
method(node);
}
}
};
Util.Dom.queryTags = function(name, context) {
context = context || document;
return context.getElementsByTagName(name);
};
Util.Dom.queryTag = function (name, context) {
var results = Util.Dom.queryTags(name, context);
return (results.length > 0) ? results[0] : null;
};
Util.Dom.queryTagsBatch = function (name, context, method, scope) {
var results = Util.Dom.queryTags(name, context);
return Util.Dom.batch(results, method, scope);
};
Util.Dom.getElementsByTagName = function (name, context) {
context = context || document;
var collection = context.getElementsByTagName(name);
return Util.Array.slice(collection);
};
Util.Dom.getElementByTagName = function (name, context) {
var list = Util.Dom.getElementsByTagName(name, context);
return (list.length > 0) ? list[0] : null;
};
Util.Dom.batchElementsByTagName = function (name, context, method, scope) {
var list = Util.Dom.getElementsByTagName(name, context);
return Util.Dom.batch(list, method, scope);
};
Util.Dom.querySelectorAll = function(selector, context) {
context = context || document;
var nodeList = context.querySelectorAll(selector);
return Util.Array.slice(nodeList);
};
Util.Dom.querySelector = function(selector, context) {
context = context || document;
return context.querySelector(selector);
};
Util.Dom.batchQuerySelector = function (selector, context, method, scope) {
var results = Util.Dom.querySelectorAll(selector, context);
return Util.Dom.batch(results, method, scope);
};
Util.Dom.querySelectorBatch = Util.Dom.batchQuerySelector;
(function()
{
Util.Dom.Builder = {};
var lang = YAHOO.lang;
var HTML = Util.Dom.Builder;
var Element = YAHOO.util.Element;
function processChild(child)
{
if (lang.isNull(child) || lang.isUndefined(child))
{
return null;
}
else if (lang.isArray(child))
{
var r, fn = arguments.callee, l = [];
for (var i = 0; i < child.length; i++)
{
r = fn.call(this, child[i]);
if (lang.isArray(r))
{
for (var j = 0; j < r.length; j++)
{
l.push(r[j]);
}
}
else
{
l.push(r);
}
}
return l;
}
else if (lang.isString(child) || lang.isNumber(child))
{
return document.createTextNode(child);
}
else if (lang.isFunction(child))
{
return arguments.callee.call(this, child.call(this));
}
else if (Element && child instanceof Element)
{
var el = child.get('element');
if (el)
{
return el;
}
}
else
{
return child;
}
return null;
}
function __replaceWord(w)
{
return w.substr(1, 2).toUpperCase();
}
function processStyleName(k)
{
return k.replace(/\-\w/, __replaceWord);
}
function processAttr(k, v)
{
if (k == 'style' && lang.isObject(v))
{
var d = {};
for (var sk in v)
{
if (lang.isValue(v[sk]))
{
d[processStyleName(sk)] = v[sk];
}
}
return d;
}
else if (!lang.isString(v) && lang.isValue(v))
{
return v.toString();
}
else if (lang.isFunction(v))
{
return arguments.callee.call(this, k, v());
}
return v;
}
function createDom(tag, attrs               )
{
if ((YAHOO.env.ua.ie > 0 && YAHOO.env.ua.ie < 9) && lang.isObject(attrs) && (attrs.name || attrs.type))
{
var tagNameArr = ['<', tag];
if (attrs.name)
{
tagNameArr.push(' name="', attrs.name, '"');
}
if (attrs.type)
{
tagNameArr.push(' type="', attrs.type, '"');
attrs = YAHOO.lang.merge(attrs);
delete attrs.type;
}
tagNameArr.push('>');
tag = tagNameArr.join('');
}
var el = document.createElement(tag);
if (lang.isObject(attrs))
{
for (var key in attrs)
{
if (lang.hasOwnProperty(attrs, key))
{
var attr = processAttr.call(this, key, attrs[key]);
if (key === 'style')
{
if (lang.isObject(attr))
{
for (var sk in attr)
{
if (lang.hasOwnProperty(attr, sk))
{
YUD.setStyle(el, sk, attr[sk]);
}
}
}
else
{
el.style.cssText = attr;
}
}
else if (key === 'class')
{
el.className = attr;
}
else
{
YUD.setAttribute(el, key, attr);
}
}
}
}
var children = [];
for (var i = 2; i < arguments.length; i++)
{
children.push(arguments[i]);
}
for (var i = 0; i < children.length; i++)
{
var child = processChild.call(this, children[i]);
if (!lang.isNull(child))
{
if (lang.isArray(child))
{
for (var j = 0; j < child.length; j++)
{
el.appendChild(child[j]);
}
}
else
{
el.appendChild(child);
}
}
}
return el;
}
HTML.createDom = createDom;
var tag_cache = {};
function makeTag(t)
{
var tag_name = t.toUpperCase();
if (tag_cache.hasOwnProperty(tag_name))
{
return tag_cache[tag_name];
}
return Util.Function.bind(createDom, null, t);
}
HTML.makeTag = makeTag;
var tag, tags = ['a', 'button', 'br', 'canvas',
'dd', 'div', 'dl', 'dt', 'em', 'fieldset', 'form',
'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'img', 'input',
'label', 'legend', 'li', 'ol', 'optgroup', 'option', 'p', 'pre',
'select', 'span', 'strong', 'table', 'tbody', 'td', 'textarea',
'tfoot', 'th', 'thead', 'tr', 'tt', 'ul'];
for (var i = 0, i_max = tags.length; i < i_max; i++)
{
tag = tags[i];
HTML[tag.toUpperCase()] = makeTag(tag);
}
})();
var HTML = Util.Dom.Builder;
Util.Dom.setOuterHTML = function(el, html, doc)
{
function setHTML(el, html, doc)
{
var n, tp;
tp = doc.createElement("body");
tp.innerHTML = html;
n = tp.lastChild;
while (n)
{
YUD.insertAfter(n.cloneNode(true), el);
n = n.previousSibling;
}
Util.Dom.removeNode(el);
};
el = YAHOO.util.Dom.get(el);
if (!el || el.nodeType != 1) return null;
doc = doc || el.ownerDocument || document;
if (YAHOO.env.ua.ie)
{
try
{
el.outerHTML = html;
}
catch (ex)
{
setHTML(el, html, doc);
}
}
else
{
setHTML(el, html, doc);
}
return el;
};

// FILE: util_style.js (b6e98768) 3/7/2014 11:24:14 AM

Util.Style = { };
Util.Style._getCascadedStyle = function(element, style)
{
return element.currentStyle ? element.currentStyle[style] : null;
};
Util.Style._ieBorderWidthKeywords =
{
'thin': 2,
'medium': 4,
'thick': 6
};
Util.Style._getIePixelValue = function(element, value, name, pixelName)
{
if (/^\d+px?$/.test(value))
{
return parseInt(value, 10);
}
else
{
var oldStyleValue = element.style[name];
var oldRuntimeValue = element.runtimeStyle[name];
element.runtimeStyle[name] = element.currentStyle[name];
element.style[name] = value;
var pixelValue = element.style[pixelName];
element.style[name] = oldStyleValue;
element.runtimeStyle[name] = oldRuntimeValue;
return pixelValue;
}
};
Util.Style._getIePixelBorder = function(element, prop)
{
if (Util.Style._getCascadedStyle(element, prop + 'Style') == 'none')
{
return 0;
}
var width = Util.Style._getCascadedStyle(element, prop + 'Width');
if (width in Util.Style._ieBorderWidthKeywords)
{
return Util.Style._ieBorderWidthKeywords[width];
}
return Util.Style._getIePixelValue(element, width, 'left', 'pixelLeft');
};
Util.Style.getBorderBox = function(element)
{
if (YAHOO.env.ua.ie)
{
var left = Util.Style._getIePixelBorder(element, 'borderLeft');
var right = Util.Style._getIePixelBorder(element, 'borderRight');
var top = Util.Style._getIePixelBorder(element, 'borderTop');
var bottom = Util.Style._getIePixelBorder(element, 'borderBottom');
return new YAHOO.util.Region(top, right, bottom, left);
}
else
{
var left = (YUD.getComputedStyle(element, 'borderLeftWidth'));
var right = (YUD.getComputedStyle(element, 'borderRightWidth'));
var top = (YUD.getComputedStyle(element, 'borderTopWidth'));
var bottom = (YUD.getComputedStyle(element, 'borderBottomWidth'));
return new YAHOO.util.Region(parseFloat(top),
parseFloat(right),
parseFloat(bottom),
parseFloat(left));
}
};
Util.Style.getPageOffset = function(element)
{
var region = YUD.getRegion(element);
return { x: region.left, y: region.top };
};
Util.Style.scrollIntoContainerView = function(element, container, opt_center)
{
var elementPos = Util.Style.getPageOffset(element);
var containerPos = Util.Style.getPageOffset(container);
var containerBorder = Util.Style.getBorderBox(container);
var relX = elementPos.x - containerPos.x - containerBorder.left;
var relY = elementPos.y - containerPos.y - containerBorder.top;
var spaceX = container.clientWidth - element.offsetWidth;
var spaceY = container.clientHeight - element.offsetHeight;
if (opt_center)
{
container.scrollLeft += relX - spaceX / 2;
container.scrollTop += relY - spaceY / 2;
}
else
{
container.scrollLeft += Math.min(relX, Math.max(relX - spaceX, 0));
container.scrollTop += Math.min(relY, Math.max(relY - spaceY, 0));
}
};
Util.Style.setStyles = function(element, stylesString)
{
if (YAHOO.env.ua.ie)
{
element.cssText = stylesString;
}
else
{
var propToSet = YAHOO.env.ua.webkit ? 'innerText' : 'innerHTML';
element[propToSet] = stylesString;
}
};
Util.Style.installStyles = function(doc, stylesString)
{
var styleSheet = null;
if (YAHOO.env.ua.ie)
{
styleSheet = doc.createStyleSheet();
Util.Style.setStyles(styleSheet, stylesString);
}
else
{
var head = doc.getElementsByTagName('head')[0];
styleSheet = doc.createElement('style');
Util.Style.setStyles(styleSheet, stylesString);
head.appendChild(styleSheet);
}
return styleSheet;
};

// FILE: util_promise.js (bd176adb) 3/7/2014 11:24:14 AM

Util.Promise = {};
(function (P, Q) {
P.defer = Q.defer;
})(Util.Promise, Q);

// FILE: util_event.js (49ece996) 3/7/2014 11:24:14 AM

Util.Event = { };
Util.Event.preventDefault = function(e)
{
e = e || window.event;
if (YAHOO.env.ua.ie && (e.ctrlKey || e.altKey)) {
try { e.keyCode = 0; } catch (ex) { }
}
e.cancelBubble = true;
e.returnValue = false;
if (e.stopPropagation)
{
e.stopPropagation();
e.preventDefault();
}
return false;
};
Util.Event.allowDefault = function(e)
{
if (!e) e = window.event;
if (e.cancelBubble)
{
e.cancelBubble = false;
}
if (e.returnValue)
{
e.returnValue = true;
}
return true;
};
Util.Event.doEventDispatch = function(elm)
{
var evt = null;
if (document.createEvent)
{
evt = document.createEvent('MouseEvents');
}
if (elm && elm.dispatchEvent && evt && evt.initMouseEvent)
{
var tmp1 = evt.initMouseEvent(
'click',
true,
true,
document.defaultView,
1,
0,
0,
0,
0,
false,
false,
false,
false,
0,
null);
return elm.dispatchEvent(evt);
}
return true;
};
Util.Event.selectLink = function(id, clickOnly)
{
var link = YUD.get(id);
if (link == null || link.getAttribute("disabled") == "disabled") return;
if (link.onclick)
{
link.onclick();
}
else
{
var clickSuccess = this.doEventDispatch(link, 'click');
if (!clickSuccess) return;
if (YAHOO.env.ua.gecko == 1.3 && clickOnly == true) return;
location.href = link.href;
}
};
Util.Event.linkFunction = function(id, func)
{
var el = document.getElementById(id);
var js = el.href.replace('javascript:', '');
el.href = '#';
YAHOO.util.Event.addListener(el, "click", func, js);
};
Util.Event.blockLink = function(id, blockClass, condition)
{
var button = YUD.get(id);
if (button == null) return;
var href = button.href;
button.execute = function()
{
location.href = href;
};
var interceptLink = function(e)
{
if (e != null && e.cancelBubble) return;
if (e != null) YUE.stopEvent(e);
if (YAHOO.util.Dom.hasClass(button, blockClass)) return;
if (typeof (Page_ClientValidate) == "function")
{
if (!Page_ClientValidate("")) return;
}
if (typeof (condition) == 'function')
{
if (!condition()) return;
}
YAHOO.util.Dom.addClass(button, blockClass);
button.execute();
setTimeout(function()
{
YAHOO.util.Dom.removeClass(button, blockClass);
}, 30000);
};
YAHOO.util.Event.addListener(button, "click", interceptLink);
};
Util.Event.selectBlockedLink = function(id)
{
var button = YAHOO.lang.isString(id) ? YUD.get(id) : id;
if (button == null) return;
var listeners = YAHOO.util.Event.getListeners(button, "click");
if (listeners == null) return;
for (var i = 0; i < listeners.length; ++i)
{
var listener = listeners[i];
listener.fn.call(button);
}
};
Util.Event.hasModifier = function(ev)
{
return (ev.ctrlKey || ev.altKey || ev.metaKey);
};
Util.Event.inTextInput = function(ev)
{
var target = YAHOO.util.Event.getTarget(ev);
return Util.Dom.isTextInput(target);
};
Util.Event.insertTab = function(e)
{
var o = YUE.getTarget(e);
var kC = e.keyCode ? e.keyCode : e.charCode ? e.charCode : e.which;
Util.log('textarea: check tab');
if (kC == 9 && !e.shiftKey && !e.ctrlKey && !e.altKey)
{
if (e.type == 'keypress')
{
Util.log('textarea: insert tab');
this.insertChar(o, '\t');
}
YUE.stopEvent(e);
return false;
}
return true;
};
Util.Event.insertChar = function(o, c)
{
var oS = o.scrollTop;
if (o.setSelectionRange)
{
var sS = o.selectionStart;
var sE = o.selectionEnd;
o.value = o.value.substring(0, sS) + c + o.value.substr(sE);
o.setSelectionRange(sS + 1, sS + 1);
o.focus();
}
else if (o.createTextRange)
{
document.selection.createRange().text = c;
}
o.scrollTop = oS;
};
Util.Event.Mouse = (function()
{
if ('ontouchstart' in window) {
return {
start: 'touchstart',
end: 'touchend',
move: 'touchmove',
click: 'click',
enter: 'touchenter',
leave: 'touchleave',
touchScreen: true
};
} else {
return {
start: 'mousedown',
end: 'mouseup',
move: 'mousemove',
click: 'click',
enter: 'mouseenter',
leave: 'mouseleave',
touchScreen: false
};
}
})();
Util.Event.normalize = function(evt) {
if ('ontouchstart' in window && evt.changedTouches) {
var touches = evt.changedTouches;
for (var i = 0, ii = touches.length; i < ii; i++) {
if (touches[i].target == evt.target) {
var oldevt = evt;
evt = touches[i];
evt.preventDefault = function() { return oldevt.preventDefault(); };
evt.stopPropagation = function() { return oldevt.stopPropagation(); };
break;
}
}
}
return evt;
};
Util.Event.Custom = function(context) {
Util.Event.Custom.superclass.constructor.call(this, '', context, true, YAHOO.util.CustomEvent.FLAT, false);
};
YAHOO.lang.extend(Util.Event.Custom, YAHOO.util.CustomEvent);
Util.Event.Custom.prototype.notify = function(s, args) {
var scope = s.getScope(this.scope);
var ret = s.fn.apply(scope, args);
if (s.listenOnce) {
this.unsubscribe(s.fn, s.obj);
}
return ret;
};
Util.Event.Custom.prototype.subscribeOnce = function(fn, obj, overrideContext) {
if (!fn) {
throw new Error("Invalid callback for subscriber to '" + this.type + "'");
}
var s = new YAHOO.util.Subscriber(fn, obj, overrideContext);
s.listenOnce = true;
if (this.fired) {
this.notify(s, this.firedWith);
} else {
this.subscribers.push(s);
}
};

// FILE: util_event_manager.js (050c9c06) 3/7/2014 11:24:14 AM

Util.EventManager = function(context)
{
this._globalContext = context || null;
this._events = new YAHOO.util.EventProvider();
};
Util.EventManager.prototype.subscribe = function(type, callback, overrideContext, cancellable)
{
if (!YAHOO.lang.isString(type)) return false;
if (!YAHOO.lang.isFunction(callback)) return false;
type = type.toLowerCase();
if (!this._events.hasEvent(type))
{
if (this._globalContext) this._events.createEvent(type, { scope: this._globalContext });
else this._events.createEvent(type);
}
var callbackEvent = function(args          )
{
var ret;
if (args) ret = callback.apply(this, args);
else ret = callback.call(this);
if (cancellable === true) return ret;
else return true;
};
this._events.subscribe(type, callbackEvent, null, overrideContext || this._globalContext);
return true;
};
Util.EventManager.prototype.notify = function(type, args          )
{
if (!YAHOO.lang.isString(type)) return false;
type = type.toLowerCase();
return this._events.fireEvent(type, args);
};
Util.EventManager.prototype.fire = function(type          )
{
var args = Array.prototype.slice.call(arguments, 1);
return this.notify(type, args);
};

// FILE: util_delay.js (8decf0e7) 3/7/2014 11:24:14 AM

Util.Delay = function(listener, interval, scope)
{
this._listener = listener;
this._interval = interval || 0;
this._scope = scope;
};
Util.Delay.prototype._timer = null;
Util.Delay.prototype.start = function(opt_interval)
{
this.stop();
this._timer = YAHOO.lang.later((opt_interval) ? opt_interval : this._interval, this, this._doAction);
};
Util.Delay.prototype.stop = function()
{
if (this.isActive())
{
this._timer.cancel();
}
this._timer = null;
};
Util.Delay.prototype.fire = function()
{
this.stop();
this._doAction();
};
Util.Delay.prototype.fireIfActive = function()
{
if (this.isActive())
{
this.fire();
}
};
Util.Delay.prototype.isActive = function()
{
return this._timer != null;
};
Util.Delay.prototype._doAction = function()
{
this._timer = null;
if (this._listener)
{
this._listener.call(this._scope);
}
};

// FILE: util_delay_conditional.js (96fc928d) 3/7/2014 11:24:14 AM

Util.ConditionalDelay = function(listener, scope)
{
this._listener = listener;
this._scope = scope;
this._delay = new Util.Delay(this._onTick, 0             , this          );
this.onSuccess = new YAHOO.util.CustomEvent('onSuccess', this._scope, false, YAHOO.util.CustomEvent.FLAT);
this.onFailure = new YAHOO.util.CustomEvent('onFailure', this._scope, false, YAHOO.util.CustomEvent.FLAT);
};
Util.ConditionalDelay.prototype._interval = 0;
Util.ConditionalDelay.prototype._runUntil = 0;
Util.ConditionalDelay.prototype._isDone = false;
Util.ConditionalDelay.prototype.start = function(interval, timeout)
{
this.stop();
this._isDone = false;
timeout = timeout || 0;
this._interval = Math.max(interval || 0, 0);
this._runUntil = timeout < 0 ? -1 : (Util.Date.now() + timeout);
this._delay.start(timeout < 0 ? this._interval : Math.min(this._interval, timeout));
};
Util.ConditionalDelay.prototype.stop = function()
{
this._delay.stop();
};
Util.ConditionalDelay.prototype.isActive = function()
{
return this._delay.isActive();
};
Util.ConditionalDelay.prototype.isDone = function()
{
return this._isDone;
};
Util.ConditionalDelay.prototype._onTick = function()
{
var successful = this._listener.call(this._scope);
if (successful)
{
this._isDone = true;
this.onSuccess.fire();
}
else
{
if (this._runUntil < 0)
{
this._delay.start(this._interval);
}
else
{
var timeLeft = this._runUntil - Util.Date.now();
if (timeLeft <= 0)
{
this.onFailure.fire();
}
else
{
this._delay.start(Math.min(this._interval, timeLeft));
}
}
}
};

// FILE: util_taskworkflow.js (2679350a) 3/7/2014 11:24:14 AM

Util.TaskWorkflow = function(globalContext)
{
var _tasks = [];
var _callback = null;
var _executer = (function()
{
var _stopped = false;
return {
wait: function()
{
_stopped = true;
},
resume: function(result)
{
var task;
_stopped = false;
if (_tasks.length > 0)
{
task = _tasks.shift();
result = task.func.apply(task.context, [_executer, result, task.obj]);
if (!_stopped)
{
_executer.resume(result);
}
}
else if (_callback && _callback.func)
{
_callback.func.apply(_callback.context, [_callback.obj]);
}
},
cancel: function()
{
_stopped = true;
_tasks = [];
_callback = null;
}
};
} ());
this.add = function(func, obj, overrideContext)
{
if (!YAHOO.lang.isFunction(func))
{
throw "expected function but was " + typeof (func);
}
var context = globalContext;
if (overrideContext)
{
if (overrideContext === true) context = obj;
else context = overrideContext;
}
_tasks.push({ func: func, context: context, obj: obj });
return this;
};
this.start = function(func, context, obj)
{
context = context || globalContext;
_callback = { func: func, context: context, obj: obj };
_executer.resume();
};
};
Util.TaskWorkflow.process = function()
{
var taskQueue = new Util.TaskWorkflow();
for (var i = 0; i < arguments.length; i++)
{
taskQueue.add(arguments[i]);
}
taskQueue.start();
};

// FILE: util_xhr.js (7e6b1b65) 3/7/2014 11:24:14 AM

Util.XhrManager = function(opt_timeoutInterval, opt_maxRetries, opt_scope)
{
this._timeoutInterval = opt_timeoutInterval;
this._maxRetries = YAHOO.lang.isNumber(opt_maxRetries) ? Math.max(0, opt_maxRetries) : 0;
this._requests = new Util.Structs.Map();
this._scope = opt_scope;
this.Events = new Util.EventManager(this);
};
Util.XhrManager.prototype.inProgress = function(id)
{
return this._requests.containsKey(id);
};
Util.XhrManager.prototype.getOutstandingCount = function()
{
return this._requests.getCount();
};
Util.XhrManager.prototype.createRequest = function(id, url, opt_method, opt_content, opt_callback, opt_scope, opt_timeout, opt_maxRetries)
{
var request = new Util.XhrManager.Request(
id,
url,
opt_method,
opt_content,
opt_callback,
opt_scope || this._scope,
(YAHOO.lang.isNumber(opt_timeout) ? opt_timeout : this._timeoutInterval),
(YAHOO.lang.isNumber(opt_maxRetries) ? opt_maxRetries : this._maxRetries));
return request;
};
Util.XhrManager.prototype.send = function(id, url, opt_method, opt_content, opt_callback, opt_scope, opt_timeout, opt_maxRetries)
{
var request = this.createRequest(id, url, opt_method, opt_content, opt_callback, opt_scope, opt_timeout, opt_maxRetries);
this.sendRequest(request);
return request;
};
Util.XhrManager.prototype.sendRequest = function(request)
{
var id = request.getId();
if (this.inProgress(id)) throw Error("XhrManager ID in use");
request.resetAttemptCount();
request.setCompleted(false);
request.setAborted(false);
this.Events.fire('onRequest', request);
this._requests.set(id, request);
this._retry(id);
};
Util.XhrManager.prototype._retry = function(id)
{
var request = this._requests.get(id);
if (!request) return false;
if (request.isCompleted() || request.hasReachedMaxRetries())
{
this._complete(id);
return false;
}
var xhr = this;
var processResponse = function(xhrObj, success)
{
request.setResponse(xhrObj);
if (success) success = (xhrObj.getAllResponseHeaders != '');
request.setSuccess(success);
if (success) xhr.Events.fire('onSuccess', request);
else xhr.Events.fire('onFailure', request);
if (!success && request.allowRetry())
{
xhr._retry(id);
}
else
{
xhr._complete(id);
}
};
var callbackYUI =
{
success: function(xhrObj) { processResponse(xhrObj, true); },
failure: function(xhrObj) { processResponse(xhrObj, false); }
};
if (request.getTimeout()) callbackYUI.timeout = request.getTimeout();
var transaction = YAHOO.util.Connect.asyncRequest(request.getMethod(), request.getUrl(), callbackYUI, request.getContent());
request.setTransaction(transaction);
request.increaseAttemptCount();
this.Events.fire('onSent', request);
return true;
};
Util.XhrManager.prototype._complete = function(id)
{
var request = this._requests.get(id);
if (request == null) return;
this._requests.remove(id);
request.setCompleted(true);
var ret = this.Events.fire('onComplete', request);
if (ret === false) return;
var callback = request.getCallback();
var scope = request.getScope();
if (YAHOO.lang.isFunction(callback))
{
if (YAHOO.lang.isObject(scope))
{
callback.apply(scope, [request]);
}
else
{
callback(request);
}
}
};
Util.XhrManager.prototype.abort = function(id)
{
var request = this._requests.get(id);
if (!request) return false;
request.setAborted(true);
this._requests.remove(id);
var transaction = request.getTransaction();
if (transaction)
{
YAHOO.util.Connect.abort(transaction);
}
this.Events.fire('onAbort', request);
return true;
};
Util.XhrManager.prototype.abortAll = function()
{
var requestIds = this._requests.getKeys();
Util.Array.each(requestIds, function(id)
{
this.abort(id);
});
};
Util.XhrManager.Request = function(id, url, opt_method, opt_content, opt_callback, opt_scope, opt_timeout, opt_maxRetries, opt_args)
{
this._id = id;
this._url = url;
this._method = YAHOO.lang.isString(opt_method) ? opt_method : 'GET';
this._content = opt_content || null;
this._callback = YAHOO.lang.isFunction(opt_callback) ? opt_callback : null;
this._scope = YAHOO.lang.isObject(opt_scope) ? opt_scope : null;
this._timeout = YAHOO.lang.isNumber(opt_timeout) ? opt_timeout : null;
this._maxRetries = YAHOO.lang.isNumber(opt_maxRetries) ? opt_maxRetries : 0;
this._args = opt_args;
this._attemptCount = 0;
this._completed = false;
this._succeeded = false;
this._aborted = false;
this._transaction = null;
this._response = null;
};
Util.XhrManager.Request.prototype.getId = function() { return this._id; };
Util.XhrManager.Request.prototype.getUrl = function() { return this._url; };
Util.XhrManager.Request.prototype.setUrl = function(url) { this._url = url; };
Util.XhrManager.Request.prototype.getMethod = function() { return this._method; };
Util.XhrManager.Request.prototype.setMethod = function(method) { this._method = method; };
Util.XhrManager.Request.prototype.getContent = function() { return this._content; };
Util.XhrManager.Request.prototype.setContent = function(content) { this._content = content; };
Util.XhrManager.Request.prototype.getCallback = function() { return this._callback; };
Util.XhrManager.Request.prototype.setCallback = function(callback) { this._callback = callback; };
Util.XhrManager.Request.prototype.getScope = function() { return this._scope; };
Util.XhrManager.Request.prototype.setScope = function(scope) { this._scope = scope; };
Util.XhrManager.Request.prototype.getTimeout = function() { return this._timeout; };
Util.XhrManager.Request.prototype.setTimeout = function(timeout) { this._timeout = timeout; };
Util.XhrManager.Request.prototype.clearTimeout = function() { this._timeout = null; };
Util.XhrManager.Request.prototype.getMaxRetries = function() { return this._maxRetries; };
Util.XhrManager.Request.prototype.setMaxRetries = function(retries) { this._maxRetries = retries; };
Util.XhrManager.Request.prototype.getArgs = function() { return this._args; };
Util.XhrManager.Request.prototype.setArgs = function(args) { this._args = args; };
Util.XhrManager.Request.prototype.getAttemptCount = function() { return this._attemptCount; };
Util.XhrManager.Request.prototype.increaseAttemptCount = function() { this._attemptCount++; };
Util.XhrManager.Request.prototype.resetAttemptCount = function() { this._attemptCount = 0; };
Util.XhrManager.Request.prototype.hasReachedMaxRetries = function() { return this._attemptCount > this._maxRetries; };
Util.XhrManager.Request.prototype.setCompleted = function(complete) { this._completed = complete; };
Util.XhrManager.Request.prototype.isCompleted = function() { return this._completed; };
Util.XhrManager.Request.prototype.setAborted = function(abort) { this._aborted = abort; };
Util.XhrManager.Request.prototype.isAborted = function() { return this._aborted; };
Util.XhrManager.Request.prototype.setTransaction = function(tid) { this._transaction = tid; };
Util.XhrManager.Request.prototype.getTransaction = function() { return this._transaction; };
Util.XhrManager.Request.prototype.setResponse = function(xhrObj) { this._response = xhrObj; };
Util.XhrManager.Request.prototype.getResponse = function() { return this._response; };
Util.XhrManager.Request.prototype.setSuccess = function(success) { this._succeeded = success; };
Util.XhrManager.Request.prototype.isSuccess = function() { return this._succeeded; };
Util.XhrManager.Request.prototype.getContentType = function()
{
var contentType = null;
var xhrObj = this.getResponse();
if (xhrObj && xhrObj.getResponseHeader)
{
contentType = xhrObj.getResponseHeader['Content-Type'];
}
return (YAHOO.lang.isString(contentType)) ? contentType : '';
};
Util.XhrManager.Request.prototype.getResponseText = function()
{
if (this.isCompleted())
{
var response = this.getResponse();
if (response) return response.responseText || null;
}
return null;
};
Util.XhrManager.Request.prototype.getResponseJson = function()
{
var contentType = this.getContentType();
var text = this.getResponseText();
if (text != null && text.length > 0 && contentType.indexOf('application/json') != -1)
{
return Util.XhrManager.parseJson(text);
}
return null;
};
Util.XhrManager.Request.prototype.getResponseXml = function()
{
var contentType = this.getContentType();
var response = this.getResponse();
if (this.isCompleted() && contentType.indexOf('text/xml') != -1)
{
if (response) return response.responseXML || null;
}
return null;
};
Util.XhrManager.Request.prototype.allowRetry = function()
{
var response = this.getResponse();
if (response)
{
if (response.getAllResponseHeaders == '') return true;
return (response.status == 0 || response.status == -1);
}
return false;
};
Util.XhrManager.parseJson = function(text)
{
var reISO = /^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/;
var reMsAjax = /^\/Date\((d|-|.*)\)[\/|\\]$/;
var parseDatesReviver = function(key, value)
{
if (typeof value === 'string')
{
var a = reISO.exec(value);
if (a) return new Date(Date.UTC(+a[1], +a[2] - 1, +a[3], +a[4], +a[5], +a[6]));
a = reMsAjax.exec(value);
if (a)
{
var b = a[1].split(/[-+,.]/);
return new Date(b[0] ? +b[0] : 0 - +b[1]);
}
}
return value;
};
return YAHOO.lang.JSON.parse(text, parseDatesReviver);
};

// FILE: util_browser.js (1e7746b6) 7/23/2014 4:30:37 PM

Util.Browser = {};
Util.Browser.isWindows = function() {
return (navigator.platform.indexOf("Windows") != -1 ||
navigator.platform.indexOf("Win32") != -1 ||
navigator.platform.indexOf("Win64") != -1);
};
Util.Browser.isLinux = function() {
return (navigator.platform.indexOf("X11") != -1 ||
navigator.platform.indexOf("Linux") != -1 ||
navigator.platform.indexOf("BSD") != -1);
};
Util.Browser.isMac = function() {
return (navigator.platform.indexOf("Macintosh") != -1 ||
navigator.platform.indexOf("MacPPC") != -1 ||
navigator.platform.indexOf("MacIntel") != -1);
};
Util.Browser.getWindowsNTVersion = function() {
var matches = navigator.userAgent.match(/Windows NT (\d+\.\d+)/);
var value;
if (matches && matches[1]) {
value = parseFloat(matches[1]);
}
return value || 0;
};
Util.Browser.getOSXVersion = function () {
var matches = navigator.userAgent.match(/Mac OS X (\d+\.\d+)/);
var value;
if (matches && matches[1]) {
value = parseFloat(matches[1]);
}
return value || 0;
};
Util.Browser.isMacPPC = function() {
return navigator.userAgent.indexOf('PPC Mac') != -1;
};
Util.Browser.getFirefoxVersion = function() {
if (YAHOO.env.ua.gecko > 0) {
switch (YAHOO.env.ua.gecko) {
case 1.7: return 1.0;
case 1.8: return 1.5;
case 1.81: return 2.0;
case 1.9: return 3.0;
case 1.91: return 3.5;
case 1.92: return 3.6;
case 1.93: return 3.7;
case 2.0: return 4.0;
default: return YAHOO.env.ua.gecko;
}
}
return 0;
};
Util.Browser.isFirefox = function() {
return (Util.Browser.getFirefoxVersion() > 0);
};
Util.Browser.isIE = function() {
return (YAHOO.env.ua.ie > 0);
};
Util.Browser.getIEDocMode = function() {
return (document.documentMode ? document.documentMode : 0);
};
Util.Browser.isChrome = function() {
return (YAHOO.env.ua.chrome > 0);
};
Util.Browser.isChromeOS = function() {
return (window.navigator.userAgent.indexOf('CrOS') > -1);
};
Util.Browser.getChromeVersion = function() {
return YAHOO.env.ua.chrome;
};
Util.Browser.isMobile = function() {
return (YAHOO.env.ua.mobile != null);
};
Util.Browser.isIOS = function() {
return (Util.Browser.getIOSVersion() > 0);
};
Util.Browser.getIOSVersion = function() {
return YAHOO.env.ua.ios;
};
Util.Browser.isAndroid = function() {
return (YAHOO.env.ua.android > 0);
};
Util.Browser.isTouchDevice = function() {
return 'ontouchstart' in window;
};
Util.Browser.supportsSVG = function() {
return document.implementation.hasFeature('http://www.w3.org/TR/SVG11/feature#BasicStructure', '1.1');
};
Util.Browser.supportsAudioOGG = function() {
if (Util.Browser.isIOS() || Util.Browser.isAndroid()) {
return false;
} else if (Util.Browser.isChrome() || Util.Browser.isFirefox()) {
return true;
} else {
return false;
}
};
Util.Browser.isSecure = function() {
var clientSideCheck = (navigator.userAgent.indexOf('AIRSecureBrowser') != -1 ||
navigator.userAgent.indexOf('AIRMobile') != -1);
var serverSideCheck = (typeof TDS == 'object' && typeof TDS.BrowserInfo == 'object') ? TDS.BrowserInfo.isSecure : false;
var extensionCheck = window.AIRSecureBrowserExtension ? true : false;
var chromeAppCheck = YUD.hasClass(document.body, 'browser_airsecurebrowser');
return clientSideCheck || serverSideCheck || extensionCheck || chromeAppCheck;
};
Util.Browser.getSecureVersion = function() {
var numberfy = function(s) {
var c = 0;
return parseFloat(s.replace(/\./g, function() {
return (c++ == 1) ? '' : '.';
}));
};
var ua = navigator.userAgent;
var ma = ua.match(/AIRSecureBrowser\/([^\s\)]*)/);
if (ma && ma[1]) {
return numberfy(ma[1]);
}
ma = ua.match(/AIRMobile[SecureBrowser]*\/([^\s\)]*)/);
if (ma && ma[1]) {
return numberfy(ma[1]);
}
return 0;
};
Util.Browser.getFlashVersion = function() {
return parseFloat(FlashDetect.major + '.' + FlashDetect.minor);
};
Util.Browser.resolveUrl = function(url, root) {
url = url || '';
root = root || document;
url = url.replace(/&amp;/g, '&');
url = url.split('&').join('&amp;').split('<').join('&lt;').split('"').join('&quot;');
var el = root.createElement('div');
el.innerHTML = '<a href="' + url + '">x</a>';
return el.firstChild.href;
};
Util.Browser.requestFullScreen = function(elem) {
if (!elem) {
elem = document.body;
}
if (elem.webkitRequestFullScreen) {
YUD.addClass(elem, 'fullScreenMode');
elem.webkitRequestFullScreen();
elem.addEventListener('webkitfullscreenchange', function() {
if (!document.webkitIsFullScreen) {
YUD.removeClass(elem, 'fullScreenMode');
removeEventListener(this);
}
});
}
else {
return;
}
};

// FILE: util_browser_feature.js (dc39706e) 3/7/2014 11:24:14 AM

(function(Browser) {
var lookup = {};
function add(name, fn) {
lookup[name] = fn;
}
function parseFeature(str) {
var data = str.split('(');
var name = data[0];
var version = data[1] ? (data[1].replace(')', '') * 1) : 0;
return {
name: name,
version: version
};
}
function parseFeatures(str) {
var features = [];
var groups = str.split('|');
for (var i = 0; i < groups.length; i++) {
features.push(parseFeature(groups[i]));
}
return features;
}
function checkSupported(feature) {
if (lookup[feature.name]) {
return lookup[feature.name](feature);
} else {
return false;
}
}
function supports(data) {
var features;
if (YAHOO.lang.isString(data)) {
features = parseFeatures(data);
} else if (YAHOO.lang.isArray(data)) {
features = data;
} else {
throw new Error('Invalid data provided for checking supported features.');
}
var supported = [];
var unsupported = [];
for (var i = 0; i < features.length; i++) {
var feature = features[i];
if (YAHOO.lang.isString(feature)) {
feature = {
name: feature,
version: 0
};
}
if (checkSupported(feature)) {
supported.push(feature.name);
} else {
unsupported.push(feature.name);
}
}
return {
supported: supported,
unsupported: unsupported
};
}
Browser.Feature = {
add: add,
supports: supports
};
})(Util.Browser);
(function(Feature) {
Feature.add('Flash', function(feature) {
var flashVer = Util.Browser.getFlashVersion();
return (flashVer >= feature.version);
});
Feature.add('SVG', function(feature) {
return Util.Browser.supportsSVG();
});
Feature.add('Audio', function(feature) {
return soundManager.canPlayMIME('audio/ogg') ||
soundManager.canPlayMIME('audio/m4a');
});
Feature.add('Recorder', function(feature) {
var recorder = TDS.SecureBrowser.getRecorder();
return recorder != null;
});
})(Util.Browser.Feature);

// FILE: util_cookies.js (7f2b939b) 3/7/2014 11:24:14 AM

Util.Browser.createCookie = function(name, value, days) {
var expires;
if (days) {
var date = new Date();
date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
expires = "; expires=" + date.toGMTString();
} else {
expires = "";
}
document.cookie = name + "=" + value + expires + "; path=/";
};
Util.Browser.readCookie = function(name) {
var nameEQ = name + "=";
var ca = document.cookie.split(';');
for (var i = 0; i < ca.length; i++) {
var c = ca[i];
while (c.charAt(0) == ' ') {
c = c.substring(1, c.length);
}
if (c.indexOf(nameEQ) == 0) {
return c.substring(nameEQ.length, c.length);
}
}
return null;
};
Util.Browser.eraseCookie = function(name) {
this.createCookie(name, "", -1);
};
Util.Browser.clearCookies = function() {
var cookies = document.cookie.split(";");
for (var i = 0; i < cookies.length; i++) {
var cookieName = cookies[i].split("=")[0];
Util.Browser.eraseCookie(cookieName);
}
};

// FILE: util_java.js (47e36526) 3/7/2014 11:24:14 AM

Util.Browser._getJREVersion = function(runApplet, codebase) {
var plugin = (navigator.mimeTypes && navigator.mimeTypes["application/x-java-applet"]) ? navigator.mimeTypes["application/x-java-applet"].enabledPlugin : 0;
if (!plugin) {
return -2;
}
var version = 0;
for (var i = 1; i < 7; i++) {
if (navigator.mimeTypes["application/x-java-applet;version=1." + i]) {
version = "1." + i;
for (var j = 1; j < 4; j++) {
if (navigator.mimeTypes["application/x-java-applet;version=1." + i + "." + j]) {
version = "1." + i + "." + j;
}
}
}
}
if (runApplet) {
var loadJREVersion = function() {
var applet = document.getElementById('DetectPluginApplet');
if (applet == null) {
var container = document.createElement('div');
container.style.visibility = "hidden";
container.innerHTML = '<applet id="DetectPluginApplet" name="DetectPluginApplet" code="DetectPluginApplet.class" codebase="' + codebase + '"></applet>';
try {
document.body.appendChild(container);
} catch(ex) {
return false;
}
}
applet = document.getElementById('DetectPluginApplet');
if (applet == null) {
return false;
}
try {
version = applet.getJREVersion();
} catch(ex) {
return false;
}
return true;
};
var loaded = loadJREVersion();
if (!loaded && Util.Browser.isWindows()) {
return -3;
}
}
return parseFloat(version);
};
Util.Browser.getJREVersion = function(runApplet, codebase) {
codebase = codebase || '../Shared/Applets/Utilities/';
try {
return this._getJREVersion(runApplet, codebase);
} catch(e) {
return -1;
}
};
Util.Browser.getJREVersionAsync = function(callback) {
var success = callback.success || function() {};
var failure = callback.failure || function() {};
var timeout = callback.timeout || 60000;
var codebase = callback.codebase || '../Shared/Applets/Utilities/';
var plugin = (navigator.mimeTypes && navigator.mimeTypes["application/x-java-applet"]) ?
navigator.mimeTypes["application/x-java-applet"].enabledPlugin : 0;
if (!plugin) {
failure(-2);
return false;
}
var getPluginVersion = function() {
var version = -1;
for (var i = 1; i < 7; i++) {
if (navigator.mimeTypes["application/x-java-applet;version=1." + i]) {
version = "1." + i;
for (var j = 1; j < 4; j++) {
if (navigator.mimeTypes["application/x-java-applet;version=1." + i + "." + j]) {
version = "1." + i + "." + j;
}
}
}
}
return parseFloat(version);
};
var getJREVersion = function() {
var version = -1;
var applet = document.getElementById('DetectPluginApplet');
if (applet == null) {
var container = document.createElement('div');
container.style.visibility = "hidden";
container.innerHTML = '<applet id="DetectPluginApplet" name="DetectPluginApplet" code="DetectPluginApplet.class" codebase="' + codebase + '"></applet>';
try {
document.body.appendChild(container);
} catch(ex) {
return version;
}
}
applet = document.getElementById('DetectPluginApplet');
if (applet == null) {
return version;
}
try {
version = applet.getJREVersion();
} catch(ex) {
return version;
}
return parseFloat(version);
};
var jreVersion = -1;
var pollCondition = function() {
jreVersion = getJREVersion();
return (jreVersion > -1);
};
var pollSuccess = function() {
success({ applet: jreVersion, plugin: getPluginVersion() });
};
var pollStart = function() {
var conditionalDelay = new Util.ConditionalDelay(pollCondition);
conditionalDelay.onSuccess.subscribe(function() {
pollSuccess();
});
conditionalDelay.onFailure.subscribe(function() {
failure(-3);
});
conditionalDelay.start(250, timeout);
};
setTimeout(function() {
if (pollCondition()) {
pollSuccess();
} else {
pollStart();
}
}, 0);
return true;
};

// FILE: util_querystring.js (a12fa7a7) 3/7/2014 11:24:14 AM

Util.QueryString = {};
Util.QueryString.reload = function(obj)
{
var currentUrl = window.location.href;
var currentQS = window.location.search;
var newQS = '?' + Util.QueryString.stringify(obj);
if (currentQS.length > 0)
{
currentUrl = currentUrl.replace(currentQS, newQS);
}
else
{
currentUrl = currentUrl + newQS;
}
window.location = currentUrl;
};
(function()
{
var QueryString = {},
stack = [],
L = YAHOO.lang;
QueryString.escape = encodeURIComponent;
QueryString.stringify = function(obj, c, name)
{
var begin, end, i, l, n, s,
sep = c && c.sep ? c.sep : "&",
eq = c && c.eq ? c.eq : "=",
aK = c && c.arrayKey ? c.arrayKey : false;
if (L.isNull(obj) || L.isUndefined(obj) || L.isFunction(obj))
{
return name ? QueryString.escape(name) + eq : '';
}
if (L.isBoolean(obj) || Object.prototype.toString.call(obj) === '[object Boolean]')
{
obj = obj.toString();
}
if (L.isNumber(obj) || L.isString(obj))
{
return QueryString.escape(name) + eq + QueryString.escape(obj);
}
if (L.isArray(obj))
{
s = [];
name = aK ? name + '[]' : name;
l = obj.length;
for (i = 0; i < l; i++)
{
s.push(QueryString.stringify(obj[i], c, name));
}
return s.join(sep);
}
for (i = stack.length - 1; i >= 0; --i)
{
if (stack[i] === obj)
{
throw new Error("QueryString.stringify. Cyclical reference");
}
}
stack.push(obj);
s = [];
begin = name ? name + '[' : '';
end = name ? ']' : '';
for (i in obj)
{
if (obj.hasOwnProperty(i))
{
n = begin + i + end;
s.push(QueryString.stringify(obj[i], c, n));
}
}
stack.pop();
s = s.join(sep);
if (!s && name)
{
return name + "=";
}
return s;
};
var pieceParser = function(eq)
{
return function parsePiece(key, val)
{
var sliced, numVal, head, tail, ret;
if (arguments.length !== 2)
{
key = key.split(eq);
return parsePiece(
QueryString.unescape(key.shift()),
QueryString.unescape(key.join(eq))
);
}
key = key.replace(/^\s+|\s+$/g, '');
if (L.isString(val))
{
val = val.replace(/^\s+|\s+$/g, '');
if (!isNaN(val))
{
numVal = +val;
if (val === numVal.toString(10))
{
val = numVal;
}
}
}
sliced = /(.*)\[([^\]]*)\]$/.exec(key);
if (!sliced)
{
ret = {};
if (key)
{
ret[key] = val;
}
return ret;
}
tail = sliced[2];
head = sliced[1];
if (!tail)
{
return parsePiece(head, [val]);
}
ret = {};
ret[tail] = val;
return parsePiece(head, ret);
};
};
var mergeParams = function(params, addition)
{
return (
(!params) ? addition
: (L.isArray(params)) ? params.concat(addition)
: (!L.isObject(params) || !L.isObject(addition)) ? [params].concat(addition)
: mergeObjects(params, addition)
);
};
var mergeObjects = function(params, addition)
{
for (var i in addition)
{
if (i && addition.hasOwnProperty(i))
{
params[i] = mergeParams(params[i], addition[i]);
}
}
return params;
};
QueryString.parse = function(qs, sep, eq)
{
if (qs == null) qs = window.location.search.substring(1);
if (qs == null || qs.length == 0) return {};
return Util.Array.reduce(
Util.Array.map(
qs.split(sep || "&"),
pieceParser(eq || "=")
),
{},
mergeParams
);
};
QueryString.unescape = function(s)
{
return decodeURIComponent(s.replace(/\+/g, ' '));
};
Util.QueryString = QueryString;
})();

// FILE: util_mobile.js (df9d80d7) 5/2/2014 12:55:58 PM

Util.Mobile = {};
(function(YAHOO) {
if (typeof YAHOO.util.DragDropMgr != 'object' || !Util.Browser.isTouchDevice()) {
return;
}
var Event = YAHOO.util.Event;
var DDM = YAHOO.util.DragDropMgr;
var DD = YAHOO.util.DragDrop;
var fixEvent = function(origFunc) {
return (function() {
var args = Array.prototype.slice.call(arguments, 0);
args[0] = Util.Event.normalize(args[0]);
origFunc.apply(this, args);
});
};
DDM.handleMouseDown = fixEvent(DDM.handleMouseDown);
DDM.handleMouseMove = fixEvent(DDM.handleMouseMove);
DDM.handleMouseUp = fixEvent(DDM.handleMouseUp);
DD.prototype.handleMouseDown = fixEvent(DD.prototype.handleMouseDown);
YUE.removeListener(DDM._shim, 'mouseup', DDM.handleMouseUp, DDM, true);
YUE.removeListener(DDM._shim, 'mousemove', DDM.handleMouseMove, DDM, true);
YUE.addListener(DDM._shim, 'touchend', DDM.handleMouseUp, DDM, true);
YUE.addListener(DDM._shim, 'touchstart', DDM.handleMouseMove, DDM, true);
YUE.removeListener(document, 'mouseup', DDM.handleMouseUp, DDM, true);
YUE.removeListener(document, 'mousemove', DDM.handleMouseMove, DDM, true);
YUE.addListener(document, 'touchend', DDM.handleMouseUp, DDM, true);
YUE.addListener(document, 'touchmove', DDM.handleMouseMove, DDM, true);
var replaceFunc = function(origFunc, newFunc) {
return (function() {
origFunc.apply(this, arguments);
newFunc.apply(this, arguments);
});
};
DD.prototype.init = replaceFunc(DD.prototype.init, function() {
YUE.removeListener(this._domRef || this.id, 'mousedown', this.handleMouseDown, this, true);
YUE.addListener(this._domRef || this.id, 'touchstart', this.handleMouseDown, this, true);
});
DD.prototype.setOuterHandleElId = replaceFunc(DD.prototype.setOuterHandleElId, function() {
YUE.removeListener(this.handleElId, 'mousedown', this.handleMouseDown, this, true);
YUE.addListener(this.handleElId, 'touchstart', this.handleMouseDown, this, true);
});
DD.prototype.unreg = replaceFunc(DD.prototype.unreg, function() {
YUE.removeListener(this.id, 'touchstart', this.handleMouseDown);
});
})(YAHOO);
(function(YAHOO) {
if (typeof YAHOO.widget.MenuManager != 'object' || !Util.Browser.isTouchDevice()) {
return;
}
var fixListener = function(obj, type, listener) {
YUE.removeListener(obj, listener.type, listener.fn);
YUE.on(document, type, function(ev) {
ev = Util.Event.normalize(ev);
ev = Util.Object.clone(ev);
ev.type = listener.type;
listener.fn.call(this, ev);
});
};
var fixMenuManager = function() {
var menu = new YAHOO.widget.Menu();
YAHOO.widget.MenuManager.addMenu(menu);
YAHOO.widget.MenuManager.removeMenu(menu);
var docListeners = YUE.getListeners(document);
if (docListeners == null) {
return;
}
for (var i = 0; i < docListeners.length; i++) {
var docListener = docListeners[i];
if (docListener.obj == YAHOO.widget.MenuManager) {
if (docListener.type == 'mousedown') {
fixListener(document, 'touchstart', docListener);
} else if (docListener.type == 'mouseup') {
fixListener(document, 'touchend', docListener);
} else if (docListener.type == 'click') {
fixListener(document, 'touchstart', docListener);
}
}
}
};
YUE.onDOMReady(fixMenuManager);
})(YAHOO);
(function(YAHOO) {
var DD = YAHOO.util.DD;
var DDM = YAHOO.util.DragDropMgr;
function drawBox(id, x, y, h, w) {
var el = document.getElementById(id);
if (el == null) {
el = document.createElement('box');
el.setAttribute('id', id);
el.style.position = 'absolute';
el.style.border = '3px solid red';
el.style.zIndex = '99999';
el.style.pointerEvents = 'none';
document.body.appendChild(el);
}
el.style.left = x + 'px';
el.style.top = y + 'px';
el.style.height = h + 'px';
el.style.width = w + 'px';
}
function removeBox(id) {
var el = document.getElementById(id);
if (el == null) {
Util.Dom.removeNode(el);
}
}
function getElDoc(element) {
return (element['nodeType'] === 9) ? element :
element['ownerDocument'] ||
element.document ||
document;
}
function docScrollX(node, doc) {
doc = doc || (node) ? getElDoc(node) : document;
var dv = doc.defaultView,
pageOffset = (dv) ? dv.pageXOffset : 0;
return Math.max(doc['documentElement'].scrollLeft, doc.body.scrollLeft, pageOffset);
}
function docScrollY(node, doc) {
doc = doc || (node) ? getElDoc(node) : document;
var dv = doc.defaultView,
pageOffset = (dv) ? dv.pageYOffset : 0;
return Math.max(doc['documentElement'].scrollTop, doc.body.scrollTop, pageOffset);
}
function getScrollLeft(node) {
return ('scrollLeft' in node) ? node.scrollLeft : docScrollX(node);
}
function getScrollTop(node) {
return ('scrollTop' in node) ? node.scrollTop : docScrollY(node);
}
DD.prototype.setScrollBuffer = function (value) {
this._scrollBuffer = value;
}
DD.prototype.getScrollBuffer = function () {
return this._scrollBuffer || 20;
}
DD.prototype.setScrollDelay = function (value) {
this._scrollDelay = value;
}
DD.prototype.getScrollDelay = function () {
return this._scrollDelay || 150;
}
DD.prototype.setScrollDirection = function (horizontal, vertical) {
this._scrollHorizontal = horizontal;
this._scrollVertical = vertical;
}
DD.prototype.isScrollHorizontal = function () {
return this._scrollHorizontal || false;
}
DD.prototype.isScrollVertical = function () {
return this._scrollVertical || false;
}
DD.prototype.isWindowScroll = function() {
return this._parentScroll == null || this._parentScroll == window;
};
DD.prototype.getParentScroll = function() {
return this._parentScroll || window;
};
DD.prototype.setParentScroll = function(element) {
this._parentScroll = element;
};
DD.prototype._getVPRegion = function() {
var el = this.getParentScroll(),
b = this.getScrollBuffer(),
ws = this.isWindowScroll(),
xy = ((ws) ? [] : YUD.getXY(el)),
width = ((ws) ? YUD.getViewportWidth() : el.offsetWidth),
height = ((ws) ? YUD.getViewportHeight() : el.offsetHeight),
top = ((ws) ? getScrollTop(el) : xy[1]),
left = ((ws) ? getScrollLeft(el) : xy[0]);
return {
top: top + b,
right: (width + left) - b,
bottom: (height + top) - b,
left: left + b
};
};
DD.prototype._initScroll = function() {
var scrollDelay = this.getScrollDelay();
this._cancelScroll();
this._scrollTimer = YAHOO.lang.later(scrollDelay, this, this._checkWinScroll, [true], true);
};
DD.prototype._cancelScroll = function() {
if (this._scrollTimer) {
this._scrollTimer.cancel();
delete this._scrollTimer;
}
};
DD.prototype._checkWinScroll = function(move) {
if (this != DDM.dragCurrent) {
this._cancelScroll();
return;
}
var dragEl = this.getDragEl(),
dragHeight = dragEl.offsetHeight,
dragWidth = dragEl.offsetWidth,
dragXY = YUD.getXY(dragEl),
dragBottom = dragXY[1] + dragHeight,
dragTop = dragXY[1],
dragRight = dragXY[0] + dragWidth,
dragLeft = dragXY[0];
var parentRegion = this._getVPRegion(),
parentEl = this.getParentScroll(),
parentScrollTop = getScrollTop(parentEl),
parentScrollLeft = getScrollLeft(parentEl),
ws = this.isWindowScroll(),
scroll = false,
b = this.getScrollBuffer(),
nt = dragTop,
nl = dragLeft,
st = parentScrollTop,
sl = parentScrollLeft;
if (this.isScrollHorizontal()) {
if (dragLeft <= parentRegion.left) {
scroll = true;
nl = dragXY[0] - ((ws) ? b : 0);
sl = parentScrollLeft - b;
}
if (dragRight >= parentRegion.right) {
scroll = true;
nl = dragXY[0] + ((ws) ? b : 0);
sl = parentScrollLeft + b;
}
}
if (this.isScrollVertical()) {
if (dragBottom >= parentRegion.bottom) {
scroll = true;
nt = dragXY[1] + ((ws) ? b : 0);
st = parentScrollTop + b;
}
if (dragTop <= parentRegion.top) {
scroll = true;
nt = dragXY[1] - ((ws) ? b : 0);
st = parentScrollTop - b;
}
}
if (st < 0) {
st = 0;
nt = dragXY[1];
}
if (sl < 0) {
sl = 0;
nl = dragXY[0];
}
if (nt < 0) {
nt = dragXY[1];
}
if (nl < 0) {
nl = dragXY[0];
}
if (move) {
this.alignElWithMouse(dragEl, nl, nt);
if (parentEl == window) {
parentEl.scrollTo(sl, st);
} else {
parentEl.scrollTop = st;
parentEl.scrollLeft = sl;
}
if (!st && !sl) {
this._cancelScroll();
}
} else {
if (scroll) {
this._initScroll();
} else {
this._cancelScroll();
}
}
};
DD.prototype.autoScroll = function(x, y, h, w) {};
DD.prototype.b4Drag = function(e) {
this.setDragElPos(YAHOO.util.Event.getPageX(e), YAHOO.util.Event.getPageY(e));
if (this.scroll) {
if (this._scrollTimer) {
this._cancelScroll();
}
this._checkWinScroll();
}
};
})(YAHOO);

// FILE: util_mozilla.js (672fe91e) 3/7/2014 11:24:14 AM

var Mozilla = {};
Mozilla.SecurityPrivilege =
{
Unavailable: 0,
Disabled: 1,
Available: 2
};
Mozilla.UniversalConnect =
{
Unknown: 0,
Denied: 1,
Allowed: 2
};
Mozilla._universalConnect = Mozilla.UniversalConnect.Unknown;
Mozilla._lastException = null;
Mozilla.allowPrivileged = function()
{
if (typeof (Components) == 'undefined')
{
return Mozilla.SecurityPrivilege.Unavailable;
}
try
{
if (typeof Components.classes == 'object')
{
return Mozilla.SecurityPrivilege.Available;
}
}
catch (ex)
{
Mozilla._lastException = ex;
var errorMessage = (typeof ex == 'string') ? ex : ex.message;
if (errorMessage.indexOf('Permission denied') != -1)
{
return Mozilla.SecurityPrivilege.Disabled;
}
}
return Mozilla.SecurityPrivilege.Unavailable;
};
Mozilla.execPrivileged = function(callback)
{
if (Mozilla._universalConnect == Mozilla.UniversalConnect.Denied) return false;
if (Mozilla._universalConnect == Mozilla.UniversalConnect.Unknown)
{
var securityPrivilege = Mozilla.allowPrivileged();
if (securityPrivilege == Mozilla.SecurityPrivilege.Unavailable)
{
Mozilla._universalConnect = Mozilla.UniversalConnect.Denied;
return false;
}
}
try
{
netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
Mozilla._universalConnect = Mozilla.UniversalConnect.Allowed;
}
catch (ex)
{
Mozilla._lastException = ex;
Mozilla._universalConnect = Mozilla.UniversalConnect.Denied;
return false;
}
if (typeof (callback) == 'function') callback();
return true;
};
Mozilla.getPreference = function(name)
{
var value;
Mozilla.execPrivileged(function()
{
value = Mozilla.preference(name);
});
return value;
};
Mozilla.setPreference = function(name, value)
{
var success = false;
Mozilla.execPrivileged(function()
{
Mozilla.preference(name, value);
success = true;
});
return success;
};
Mozilla.enableCaretMode = function(enable)
{
var allowed = Mozilla.execPrivileged(function()
{
if (typeof (enable) == 'undefined')
{
enable = !Mozilla.getPreference('accessibility.browsewithcaret');
}
Mozilla.setPreference('accessibility.warn_on_browsewithcaret', false);
Mozilla.setPreference('accessibility.browsewithcaret', enable);
});
return (allowed && enable);
};
Mozilla.inCaretMode = function()
{
return Mozilla.getPreference('accessibility.browsewithcaret');
};
Mozilla.enableTabFocus = function()
{
return Mozilla.setPreference('accessibility.tabfocus', 7);
};
Mozilla.preference = function(name, value)
{
if (typeof (navigator) == 'object' &&
typeof (navigator.preference) == 'function')
{
return navigator.preference(name, value);
}
var rv;
if (typeof (Components) != 'object' ||
typeof (Components.classes) != 'object') return rv;
var prefService = Components.classes["@mozilla.org/preferences-service;1"].getService(Components.interfaces.nsIPrefService);
var prefBranch = prefService.getBranch('');
if (YAHOO.lang.isUndefined(value))
{
var prefType = prefBranch.getPrefType(name);
switch (prefType)
{
case prefBranch.PREF_STRING: rv = prefBranch.getCharPref(name); break;
case prefBranch.PREF_INT: rv = prefBranch.getIntPref(name); break;
case prefBranch.PREF_BOOL: rv = prefBranch.getBoolPref(name); break;
default: return null;
}
}
else
{
if (YAHOO.lang.isString(value)) rv = prefBranch.setCharPref(name, value);
else if (YAHOO.lang.isNumber(value)) rv = prefBranch.setIntPref(name, value);
else if (YAHOO.lang.isBoolean(value)) rv = prefBranch.setBoolPref(name, value);
else if (YAHOO.lang.isNull(value)) rv = prefBranch.deleteBranch(name);
}
return rv;
};
Mozilla.enableScreenshots = function () {
var processEnable1 = Components.classes["@mozilla.org/process/util;1"]
.createInstance(Components.interfaces.nsIProcess);
if (processEnable1 == null) {
return false;
}
var processEnable2 = Components.classes["@mozilla.org/process/util;1"]
.createInstance(Components.interfaces.nsIProcess);
if (processEnable2 == null) {
return false;
}
var fileEnable1 = Components.classes["@mozilla.org/file/local;1"]
.createInstance(Components.interfaces.nsILocalFile);
if (fileEnable1 == null) {
return false;
}
var fileEnable2 = Components.classes["@mozilla.org/file/local;1"]
.createInstance(Components.interfaces.nsILocalFile);
if (fileEnable2 == null) {
return false;
}
try {
fileEnable1.initWithPath("/usr/bin/defaults");
} catch (err) {
return false;
}
try {
fileEnable2.initWithPath("/usr/bin/killall");
} catch (err) {
return false;
}
try {
processEnable1.init(fileEnable1);
} catch (err) {
return false;
}
var args = [];
args.push("write");
args.push("com.apple.screencapture");
args.push("location");
args.push("~/Desktop");
try {
processEnable1.run(true, args, args.length);
} catch (err) {
return false;
}
try {
processEnable2.init(fileEnable2);
} catch (err) {
return false;
}
args = [];
args.push("SystemUIServer");
try {
processEnable2.run(true, args, args.length);
} catch (err) {
return false;
}
return true;
};
Mozilla.disableScreenshots = function () {
var processDisable1 = Components.classes["@mozilla.org/process/util;1"]
.createInstance(Components.interfaces.nsIProcess);
if (processDisable1 == null) {
return false;
}
var processDisable2 = Components.classes["@mozilla.org/process/util;1"]
.createInstance(Components.interfaces.nsIProcess);
if (processDisable2 == null) {
return false;
}
var fileDisable1 = Components.classes["@mozilla.org/file/local;1"]
.createInstance(Components.interfaces.nsILocalFile);
if (fileDisable1 == null) {
return false;
}
var fileDisable2 = Components.classes["@mozilla.org/file/local;1"]
.createInstance(Components.interfaces.nsILocalFile);
if (fileDisable2 == null) {
return false;
}
try {
fileDisable1.initWithPath("/usr/bin/defaults");
} catch (err) {
return false;
}
try {
fileDisable2.initWithPath("/usr/bin/killall");
} catch (err) {
return false;
}
try {
processDisable1.init(fileDisable1);
} catch (err) {
return false;
}
var args = [];
args.push("write");
args.push("com.apple.screencapture");
args.push("location");
args.push("/tmp");
try {
processDisable1.run(true, args, args.length);
} catch (err) {
return false;
}
try {
processDisable2.init(fileDisable2);
} catch (err) {
return false;
}
args = [];
args.push("SystemUIServer");
try {
processDisable2.run(true, args, args.length);
} catch (err) {
return false;
}
return true;
};
(function (Mozilla, Components) {
function getWindowMediator() {
return Components.classes["@mozilla.org/appshell/window-mediator;1"].getService(Components.interfaces.nsIWindowMediator);
}
function getRecentWindow() {
var wm = getWindowMediator();
return wm.getMostRecentWindow("navigator:browser");
}
Mozilla.fullscreen = function () {
try {
return Mozilla.execPrivileged(function () {
var win = getRecentWindow();
if (win) {
win.moveTo(0, 0);
win.resizeTo(screen.width, screen.height);
win.BrowserFullScreen();
}
});
} catch (ex) {
return false;
}
};
Mozilla.moveWindowTo = function (x, y) {
try {
return Mozilla.execPrivileged(function () {
var win = getRecentWindow();
if (win) {
win.moveTo(x, y);
}
});
} catch (ex) {
return false;
}
};
Mozilla.resizeWindowTo = function (width, height) {
try {
return Mozilla.execPrivileged(function () {
var win = getRecentWindow();
if (win) {
win.resizeTo(width, height);
}
});
} catch (ex) {
return false;
}
};
})(window.Mozilla, window.Components);

// FILE: util_statistics.js (0de98978) 3/7/2014 11:24:14 AM

Util.Statistics =
{
MACHEP: 1.11022302462515654042E-16,
MAXLOG: 7.09782712893383996732E2,
MINLOG: -7.451332191019412076235E2,
MAXGAM: 171.624376956302725,
SQTPI: 2.50662827463100050242E0,
SQRTH: 7.07106781186547524401E-1,
LOGPI: 1.14472988584940017414
};
Util.Statistics.poisson = function(k        , x           )
{
if (k < 0 || x < 0) return 0.0;
return Util.Statistics.igamc((k + 1), x);
};
Util.Statistics.poissonc = function(k        , x           )
{
if (k < 0 || x < 0) return 0.0;
return Util.Statistics.igam((k + 1), x);
};
Util.Statistics.igamc = function(a           , x           )
{
var big = 4.503599627370496e15;
var biginv = 2.22044604925031308085e-16;
var ans, ax, c, yc, r, t, y, z;
var pk, pkm1, pkm2, qk, qkm1, qkm2;
if (x <= 0 || a <= 0) return 1.0;
if (x < 1.0 || x < a) return 1.0 - Util.Statistics.igam(a, x);
ax = a * Math.log(x) - x - Util.Statistics.lgamma(a);
if (ax < -Util.Statistics.MAXLOG) return 0.0;
ax = Math.exp(ax);
y = 1.0 - a;
z = x + y + 1.0;
c = 0.0;
pkm2 = 1.0;
qkm2 = x;
pkm1 = x + 1.0;
qkm1 = z * x;
ans = pkm1 / qkm1;
do
{
c += 1.0;
y += 1.0;
z += 2.0;
yc = y * c;
pk = pkm1 * z - pkm2 * yc;
qk = qkm1 * z - qkm2 * yc;
if (qk != 0)
{
r = pk / qk;
t = Math.abs((ans - r) / r);
ans = r;
}
else
t = 1.0;
pkm2 = pkm1;
pkm1 = pk;
qkm2 = qkm1;
qkm1 = qk;
if (Math.abs(pk) > big)
{
pkm2 *= biginv;
pkm1 *= biginv;
qkm2 *= biginv;
qkm1 *= biginv;
}
} while (t > Util.Statistics.MACHEP);
return ans * ax;
};
Util.Statistics.lgamma = function(x           )
{
var p, q, w, z;
var A = [
8.11614167470508450300E-4,
-5.95061904284301438324E-4,
7.93650340457716943945E-4,
-2.77777777730099687205E-3,
8.33333333333331927722E-2
];
var B = [
-1.37825152569120859100E3,
-3.88016315134637840924E4,
-3.31612992738871184744E5,
-1.16237097492762307383E6,
-1.72173700820839662146E6,
-8.53555664245765465627E5
];
var C = [
-3.51815701436523470549E2,
-1.70642106651881159223E4,
-2.20528590553854454839E5,
-1.13933444367982507207E6,
-2.53252307177582951285E6,
-2.01889141433532773231E6
];
if (x < -34.0)
{
q = -x;
w = Util.Statistics.lgamma(q);
p = Math.floor(q);
if (p == q) throw new Error("lgam: Overflow");
z = q - p;
if (z > 0.5)
{
p += 1.0;
z = p - q;
}
z = q * Math.sin(Math.PI * z);
if (z == 0.0) throw new Error("lgamma: Overflow");
z = Util.Statistics.LOGPI - Math.log(z) - w;
return z;
}
if (x < 13.0)
{
z = 1.0;
while (x >= 3.0)
{
x -= 1.0;
z *= x;
}
while (x < 2.0)
{
if (x == 0.0) throw new Error("lgamma: Overflow");
z /= x;
x += 1.0;
}
if (z < 0.0) z = -z;
if (x == 2.0) return Math.log(z);
x -= 2.0;
p = x * Util.Statistics.polevl(x, B, 5) / Util.Statistics.p1evl(x, C, 6);
return (Math.log(z) + p);
}
if (x > 2.556348e305) throw new Error("lgamma: Overflow");
q = (x - 0.5) * Math.log(x) - x + 0.91893853320467274178;
if (x > 1.0e8) return (q);
p = 1.0 / (x * x);
if (x >= 1000.0)
q += ((7.9365079365079365079365e-4 * p
- 2.7777777777777777777778e-3) * p
+ 0.0833333333333333333333) / x;
else
q += Util.Statistics.polevl(p, A, 4) / x;
return q;
};
Util.Statistics.igam = function(a           , x           )
{
var ans, ax, c, r;
if (x <= 0 || a <= 0) return 0.0;
if (x > 1.0 && x > a) return 1.0 - Util.Statistics.igamc(a, x);
ax = a * Math.log(x) - x - Util.Statistics.lgamma(a);
if (ax < -Util.Statistics.MAXLOG) return (0.0);
ax = Math.exp(ax);
r = a;
c = 1.0;
ans = 1.0;
do
{
r += 1.0;
c *= x / r;
ans += c;
} while (c / ans > Util.Statistics.MACHEP);
return (ans * ax / a);
};
Util.Statistics.polevl = function(x           , coef             , N        )
{
var ans;
ans = coef[0];
for (var i = 1; i <= N; i++)
{
ans = ans * x + coef[i];
}
return ans;
};
Util.Statistics.p1evl = function(x           , coef             , N        )
{
var ans;
ans = x + coef[0];
for (var i = 1; i < N; i++)
{
ans = ans * x + coef[i];
}
return ans;
};

// FILE: util_network.js (a3b129f7) 3/7/2014 11:24:14 AM

Util.Network = {};
Util.Network.BandWidthTester = function (config) {
this.sizeOfRequestinBytes = (typeof config.requestSizeinKiloBytes == 'number') ? config.requestSizeinKiloBytes * 1024 : 1;
this.iterCount = (typeof config.numIterations == 'number') ? config.numIterations : 1;
this.callBack = (typeof config.callBack == 'function') ? config.callBack : null;
this.url = (typeof config.url == 'string') ? config.url : 'Pages/API/Diagnostics.axd?size=' + this.sizeOfRequestinBytes;
this.alternateGETPOST = (typeof config.alternateGETPOST == 'boolean') ? config.alternateGETPOST : false;
this.latencyOffsetinms = (typeof config.latencyOffsetinms == 'number') ? config.latencyOffsetinms : 0;
this.downloadurl = (typeof config.downloadurl == 'string') ? config.downloadurl : this.url;
this.sizeOfDownloadRequestinBytes = this.sizeOfRequestinBytes;
this.sizeOfUploadRequestinBytes = 1000000;
this.uploadurl = (typeof config.uploadurl == 'string') ? config.uploadurl : 'Pages/API/Diagnostics.axd?size=' + this.sizeOfUploadRequestinBytes; ;
this.generateUploadData = (typeof config.generateUploadData == 'boolean') ? config.generateUploadData : false;
this.callBackScope = (typeof config.callBackScope == 'object') ? config.callBackScope : this;
this._currentStartTime = undefined;
this._currentMode = 'GET';
this._currenData = null;
this._modeStats = [];
this._modeStats['GET'] = { iterations: 0, successful: 0, aveLineSpeed: 0, aveTransactionTime: 0, minDelay: -1, maxDelay: -1, minLineSpeed: -1, maxLineSpeed: -1, rawResults: [] };
this._modeStats['POST'] = { iterations: 0, successful: 0, aveLineSpeed: 0, aveTransactionTime: 0, minDelay: -1, maxDelay: -1, minLineSpeed: -1, maxLineSpeed: -1, rawResults: [] };
this._YUIcallBack = { success: this._success, failure: this._failure, cache: false, scope: this };
};
Util.Network.BandWidthTester.prototype.run = function ()
{
var statsData = this._modeStats[this._currentMode];
if (statsData.iterations > this.iterCount) {
if (this.callBack != null)
this.callBack.call(this.callBackScope, this._modeStats);
return;
}
if (this.generateUploadData || this._currenData == null) {
var tmpArray = [];
for (var i = 0; i < this.sizeOfUploadRequestinBytes; i++) tmpArray.push('a');
this._currenData = tmpArray.join("");
}
this._currentStartTime = (new Date()).getTime();
if (this._currentMode == 'GET') {
YAHOO.util.Connect.asyncRequest('GET', this.downloadurl, this._YUIcallBack, null);
} else {
if (this._currenData != null && this._currenData.length >= this.sizeOfUploadRequestinBytes) {
YAHOO.util.Connect.asyncRequest('POST', this.uploadurl, this._YUIcallBack, this._currenData);
} else {
this._checkPoint(-1);
}
}
};
Util.Network.BandWidthTester.prototype._checkPoint = function(lineSpeed, transactionTime) {
var statsData = this._modeStats[this._currentMode];
statsData.iterations++;
if (lineSpeed > 0) {
statsData.successful++;
statsData.aveLineSpeed = (statsData.aveLineSpeed * (statsData.iterations - 1) + lineSpeed) / statsData.iterations;
statsData.aveTransactionTime = (statsData.aveTransactionTime * (statsData.iterations - 1) + transactionTime) / statsData.iterations;
if (statsData.minLineSpeed < 0 || statsData.minLineSpeed > lineSpeed) statsData.minLineSpeed = lineSpeed;
if (statsData.maxLineSpeed < 0 || statsData.maxLineSpeed < lineSpeed) statsData.maxLineSpeed = lineSpeed;
if (typeof transactionTime == 'number') {
if (statsData.minDelay < 0 || statsData.minDelay > transactionTime) statsData.minDelay = transactionTime;
if (statsData.maxDelay < 0 || statsData.maxDelay < transactionTime) statsData.maxDelay = transactionTime;
}
}
statsData.rawResults.push(lineSpeed);
if (this.alternateGETPOST || (statsData.iterations > this.iterCount)) {
this._currentMode = (this._currentMode == 'GET') ? 'POST' : 'GET';
}
statsData = this._modeStats[this._currentMode];
if (statsData.iterations >= this.iterCount) {
if (this.callBack && typeof this.callBack == 'function') this.callBack.call(this.callBackScope, this._modeStats);
} else {
this.run();
}
};
Util.Network.BandWidthTester.prototype._success = function (o) {
var endtime = (new Date()).getTime();
var millitime = (endtime - this._currentStartTime) + this.latencyOffsetinms;
var downloadtimeinSecs = millitime / 1000;
var linespeed = 0;
if (this._currentMode == 'GET') {
linespeed = this.sizeOfDownloadRequestinBytes / 1000 / downloadtimeinSecs;
} else if (this._currentMode == 'POST') {
linespeed = this.sizeOfUploadRequestinBytes / 1000 / downloadtimeinSecs;
}
if (!this.generateUploadData) this._currenData = o.responseText;
this._checkPoint(linespeed, millitime);
};
Util.Network.BandWidthTester.prototype._failure = function(o)
{
this._checkPoint(-1);
};
Util.Network.CapacityCalculator = function(config)
{
this._veryLow = .999;
this._moderate = .85;
this._high = .6;
this._risk = 'Unknown';
this._probability = 0.0;
this._recommendedNumber = -1;
};
Util.Network.CapacityCalculator.prototype.GetRisk = function()
{
return this._risk;
};
Util.Network.CapacityCalculator.prototype.GetRecommendedStudentCount = function()
{
return this._recommendedNumber;
};
Util.Network.CapacityCalculator.prototype.ProbabilityWithinCapacity = function(goodput, itemsize, students, responseTime)
{
var maxItems = this._MaxItemsPerSecond(goodput, itemsize);
this._probability = this._ProbabilityWithinCapacity_1(students, responseTime, maxItems);
this._risk = this._CalculateRisk(students);
switch (this._risk)
{
case 'High':
case 'NearCertain':
this._recommendedNumber = this._RecommendNumber(students, responseTime, maxItems);
break;
}
return this._probability;
};
Util.Network.CapacityCalculator.prototype._MaxItemsPerSecond = function(goodput, itemSize)
{
return goodput * 1000 / itemSize;
};
Util.Network.CapacityCalculator.prototype._ProbabilityWithinCapacity_1 = function(students, responseTime, maxItems)
{
var probability=0.0;
var max1 = Math.floor(maxItems);
if (max1 > 0) probability = this._ProbabilityWithinCapacityPerSecond_1(students, responseTime, max1);
else probability = this._ProbabilityBelowEquilibrium(students, responseTime, maxItems);
return probability;
};
Util.Network.CapacityCalculator.prototype._ProbabilityWithinCapacityPerSecond_1 = function(students, respTime, maxItems)
{
return Util.Statistics.poisson(maxItems, students / respTime);
};
Util.Network.CapacityCalculator.prototype._ProbabilityBelowEquilibrium = function(students, responseTime, maxItems)
{
var equilibriumTime = 1.0 / maxItems;
var meanResponses = equilibriumTime * students / responseTime;
return Util.Statistics.poisson(1, meanResponses);
};
Util.Network.CapacityCalculator.prototype._CalculateRisk = function(students)
{
if (this._probability == -1) this._risk = 'Unknown';
if (students == 1) this._risk = 'Moderate';
else if (this._probability < this._high) this._risk = 'NearCertain';
else if (this._probability < this._moderate) this._risk = 'High';
else if (this._probability < this._veryLow) this._risk = 'Moderate';
else this._risk = 'VeryLow';
return this._risk;
};
Util.Network.CapacityCalculator.prototype._RecommendNumber = function(students, responseTime, maxItems)
{
var recommendation = students;
var step = Math.ceil(.25 * students);
var direction = -1;
var lastRecommendation = students;
var p = this._ProbabilityWithinCapacity_1(students, responseTime, maxItems);
var dir = direction;
while ((p > this._veryLow) || (p < this._moderate))
{
if (dir != direction) step = Math.max(1, Math.round(.5 * step));
students = Math.max(1, students + dir * step);
p = this._ProbabilityWithinCapacity_1(students, responseTime, maxItems);
if (p > this._veryLow) dir = 1;
else if (p < this._moderate) dir = -1;
}
this._recommendedNumber = students;
return this._recommendedNumber;
};
Util.Network.AppletBandWidthTester = {
bandwidthTestApplet: null,
sectionDiagnosticsObject: null,
currentRunConfig: null,
run: function(testConfig) {
Util.Network.AppletBandWidthTester.bandwidthTestApplet.setDebugMode(testConfig.debugMode);
Util.Network.AppletBandWidthTester.bandwidthTestApplet.setPacketSize(testConfig.bufferSize);
Util.Network.AppletBandWidthTester.bandwidthTestApplet.setTotalNumberOfSimultaneousConnections(testConfig.numberOfSimultaneousConnections);
Util.Network.AppletBandWidthTester.currentRunConfig = testConfig;
var wereTestsStarted = Util.Network.AppletBandWidthTester.bandwidthTestApplet.asynchronousNetworkAction(1, testConfig.applicationURL);
if (!wereTestsStarted) {
var callbackFn = Util.Network.AppletBandWidthTester.currentRunConfig.onFailureCallbackFn;
var callbackContext = Util.Network.AppletBandWidthTester.currentRunConfig.owner;
callbackFn.call(callbackContext, 'TESTS_ALREADYRUNNING', "Bandwidth tests already running.");
}
return wereTestsStarted;
}
};
Util.Network.AppletBandWidthTester.init = function(diagnosticsSectionObject) {
var appletConfig =
{
id: 'BandwidthTestApplet',
codebase: window.javaFolder + 'AIRBandwidthTester/',
code: 'air/org/AIRBandwidthTest/NetworkApplet.class',
archive: 'AIRBandwidthTestApplet.jar',
callback: 'bandwidthTestAppletEventHandler'
};
Util.Network.AppletBandWidthTester.sectionDiagnosticsObject = diagnosticsSectionObject;
Util.Frame.injectApplet('BandwidthTestApplet', appletConfig);
return true;
};
function bandwidthTestAppletEventHandler(bandwidthTestApplet, event, data) {
if (event == 'BandwidthTestAppletInited') {
if (bandwidthTestApplet == null) return false;
Util.Network.AppletBandWidthTester.bandwidthTestApplet = bandwidthTestApplet;
Util.Network.AppletBandWidthTester.sectionDiagnosticsObject.setAppletSpeedTestClickHandler();
}
else if (event == 'AppletSpeedTestMeasurementsReady') {
var downloadMeasurements =  parseFloat(data[0]);
var uploadMeasurements = parseFloat(data[1]);
var callbackFn = Util.Network.AppletBandWidthTester.currentRunConfig.onSuccessCallbackFn;
var callbackContext = Util.Network.AppletBandWidthTester.currentRunConfig.owner;
callbackFn.call(callbackContext, downloadMeasurements, uploadMeasurements);
}
};

// FILE: util_workflow.js (78301f7b) 3/7/2014 11:24:14 AM

Util.Workflow = function()
{
this._activities = new Util.Structs.Map();
this._transitions = new Util.Structs.Map();
this._activeActivity = null;
this._transitionActivity = null;
this.Events = new Util.EventManager();
};
Util.Workflow.Approval =
{
Denied: 0,
Approved: 1,
Pending: 2
};
Util.Workflow.prototype._isActivity = function(activity)
{
return (activity && (activity instanceof Util.Workflow.Activity));
};
Util.Workflow.prototype.getActivity = function(id)
{
if (this._isActivity(id)) return id;
return this._activities.get(id);
};
Util.Workflow.prototype.addActivity = function(activity)
{
if (!this._isActivity(activity))
{
throw "expected activity object but was " + typeof (to);
}
var self = this;
activity.Events.subscribe('onRequest', function(action, data)
{
try
{
self._requestTransition(activity, action, data);
}
catch (ex)
{
TDS.Diagnostics.report(ex);
}
});
activity.Events.subscribe('onReady', function(data)
{
try
{
self._finishTransition(activity, data);
}
catch (ex)
{
TDS.Diagnostics.report(ex);
}
});
var id = activity.getId();
this._activities.set(id, activity);
};
Util.Workflow.prototype.getTransition = function(from, action)
{
var id = from + '_' + action;
return this._transitions.get(id);
};
Util.Workflow.prototype.addTransition = function(from, action, to)
{
var id = from + '_' + action;
this._transitions.set(id, { from: from, to: to });
};
Util.Workflow.prototype._requestTransition = function(fromActivity, action, data)
{
fromActivity = this.getActivity(fromActivity);
var transition = this.getTransition(fromActivity, action);
if (transition)
{
var toActivity = transition.to;
if (YAHOO.lang.isFunction(toActivity))
{
toActivity = toActivity(data);
}
toActivity = this.getActivity(toActivity);
if (toActivity)
{
if (YAHOO.lang.isFunction(toActivity.requestApproval))
{
this._approveTransition(toActivity, data);
}
else
{
this._beginTransition(toActivity, data);
}
}
}
};
Util.Workflow.prototype._approveTransition = function(activity, data)
{
activity._approvedAction = null;
var activityApproval = Util.Workflow.Approval.Approved;
var requestApproval = activity.requestApproval(data);
if (YAHOO.lang.isNumber(requestApproval))
{
activityApproval = requestApproval;
}
if (activityApproval == Util.Workflow.Approval.Approved)
{
this._beginTransition(activity, data);
}
else if (activityApproval == Util.Workflow.Approval.Pending)
{
activity._approvedAction = Util.bind(this._beginTransition, this, activity, data);
}
};
Util.Workflow.prototype._beginTransition = function(activity, data)
{
if (this._activeActivity == activity)
{
throw 'cannot transition to activity (' + activity + ') because it is already active';
}
if (this._transitionActivity != null)
{
throw 'cannot begin transition activity (' + activity + ') because there is a current one (' + this._transitionActivity + ') in progress';
}
this._transitionActivity = activity;
this.Events.fire('onRequest', activity);
if (!activity.hasVisited())
{
if (YAHOO.lang.isFunction(activity.init)) activity.init();
activity.markVisited();
}
var wait = false;
if (YAHOO.lang.isFunction(activity.load)) wait = activity.load(data);
if (wait !== true) this._finishTransition(activity);
};
Util.Workflow.prototype._finishTransition = function(activity, data)
{
if (this._transitionActivity == null)
{
throw 'cannot finalize transition activity (' + activity + ') because it is not in progress';
}
this.Events.fire('onReady', activity, data);
var previousActivity = null;
if (this._activeActivity)
{
this.Events.fire('onLeave', this._activeActivity);
if (YAHOO.lang.isFunction(this._activeActivity.leave))
{
this._activeActivity.leave();
}
previousActivity = this._activeActivity;
}
this._activeActivity = activity;
this.Events.fire('onEnter', this._activeActivity, data);
if (YAHOO.lang.isFunction(this._activeActivity.enter))
{
this._activeActivity.enter(data);
}
this._transitionActivity = null;
};
Util.Workflow.prototype.start = function(id)
{
var activity = this.getActivity(id);
try
{
this._beginTransition(activity);
}
catch (ex)
{
TDS.Diagnostics.report(ex);
}
};
Util.Workflow.Activity = function(id)
{
if (!YAHOO.lang.isString(id)) throw new Error('Activity must have a valid ID');
this.Events = new Util.EventManager(this);
this.request = function(action, data        )
{
this.Events.fire('onRequest', action, data);
};
this.requestApproved = function()
{
if (YAHOO.lang.isFunction(this._approvedAction)) this._approvedAction();
};
this.ready = function(data)
{
this.Events.fire('onReady', data);
};
this.getId = function() { return id; };
this.toString = function() { return this.getId(); };
this._visited = false;
this.markVisited = function() { this._visited = true; };
this.hasVisited = function() { return this._visited; };
};
Util.Workflow.extendActivity = function(activityClass)
{
YAHOO.lang.extend(activityClass, Util.Workflow.Activity);
};

// FILE: util_xml.js (111c3e8f) 3/7/2014 11:24:14 AM

Util.Xml = { };
Util.Xml.getNodeText = function(node) {
return (node) ? ((node.text) ? node.text : (node.textContent) ? node.textContent : null) : null;
};
Util.Xml.escapeHTMLEncode = function(str)
{
if (str == null) return '';
var div = document.createElement('div');
var text = document.createTextNode(str);
div.appendChild(text);
return div.innerHTML;
};
Util.Xml.getAttribute = function(node, name) {
return node.getAttribute(name);
};
Util.Xml.getAttributeBool = function(node, name)
{
return Util.Converters.parseBoolean(node.getAttribute(name));
};
Util.Xml.getAttributeInt = function(node, name)
{
return Util.Converters.parseInt(node.getAttribute(name));
};
Util.Xml.getCData = function(node, name)
{
var nodeText = Util.Dom.queryTag(name, node);
if (nodeText != null) {
return Util.Xml.getNodeText(nodeText);
}
return null;
};
Util.Xml.MAX_XML_SIZE_KB = 2 * 1024;
Util.Xml.MAX_ELEMENT_DEPTH = 256;
Util.Xml.createDocument = function(opt_rootTagName, opt_namespaceUri)
{
if (opt_namespaceUri && !opt_rootTagName) {
throw Error("Can't create document with namespace and no root tag");
}
if (document.implementation && document.implementation.createDocument) {
return document.implementation.createDocument(opt_namespaceUri || '', opt_rootTagName || '', null);
}
else if (typeof ActiveXObject != 'undefined') {
var doc = Util.Xml._createMsXmlDocument();
if (doc) {
if (opt_rootTagName) {
doc.appendChild(doc.createNode(Util.Dom.NodeType.ELEMENT, opt_rootTagName, opt_namespaceUri || ''));
}
return doc;
}
}
throw Error('Your browser does not support creating new documents');
};
Util.Xml.parseFromString = function(text, type)
{
type = type || 'text/xml';
var xmlDoc;
if (window.DOMParser) {
xmlDoc = (new window.DOMParser()).parseFromString(text, type);
} else {
xmlDoc = Util.Xml._createMsXmlDocument();
xmlDoc.loadXML(text);
}
var errorMsg = null;
if (xmlDoc.parseError && xmlDoc.parseError.errorCode != 0) {
errorMsg = 'XML Parsing Error: ' + xmlDoc.parseError.reason
+ ' at line ' + xmlDoc.parseError.line
+ ' at position ' + xmlDoc.parseError.linepos;
} else {
if (xmlDoc.documentElement) {
if (xmlDoc.documentElement.nodeName == 'parsererror') {
errorMsg = xmlDoc.documentElement.childNodes[0].nodeValue;
}
var errors = xmlDoc.getElementsByTagName('parsererror');
if (errors.length > 0) {
errorMsg = errors[0].textContent;
}
} else {
errorMsg = 'XML Parsing Error';
}
}
if (errorMsg) {
throw new Error(errorMsg);
}
return xmlDoc;
};
Util.Xml.serializeToString = function(node)
{
if (typeof XMLSerializer != 'undefined') {
return new XMLSerializer().serializeToString(node);
}
if (node.xml) {
return node.xml;
}
throw Error('Your browser does not support serializing XML documents');
};
Util.Xml._createMsXmlDocument = function() {
var doc = new ActiveXObject('Microsoft.XMLDOM');
doc.async = false;
doc.resolveExternals = false;
doc.validateOnParse = false;
try {
doc.setProperty('ProhibitDTD', true);
doc.setProperty('MaxXMLSize', Util.Dom.MAX_XML_SIZE_KB);
doc.setProperty('MaxElementDepth', Util.Dom.MAX_ELEMENT_DEPTH);
} catch (e) {
}
return doc;
};

// FILE: util_frame.js (267c99e2) 3/7/2014 11:24:14 AM

Util.Frame = { };
Util.Frame.DOCTYPE_HTML32 =              '<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">';
Util.Frame.DOCTYPE_HTML4_TRANSITIONAL =  '<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">';
Util.Frame.DOCTYPE_HTML4_STRICT =        '<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">';
Util.Frame.DOCTYPE_XHTML1_TRANSITIONAL = '<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">';
Util.Frame.DOCTYPE_XHTML1_STRICT =       '<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">';
Util.Frame.DOCTYPE_XHTML11 =             '<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">';
Util.Frame.DOCTYPE_MATHML =              '<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN" "http://www.w3.org/Math/DTD/mathml2/xhtml-math11-f.dtd"';
Util.Frame.DOCTYPE_HTML5 =               '<!DOCTYPE html>';
Util.Frame.createElement = function(id)
{
var frame;
if (YAHOO.env.ua.ie > 0 && Util.Browser.getIEDocMode() < 9)
{
frame = document.createElement('<iframe id="' + id + '" name="' + id + '">');
}
else
{
frame = document.createElement('iframe');
frame.setAttribute('id', id);
frame.setAttribute('name', id);
}
return frame;
};
Util.Frame.create = function(id, parent)
{
var iframe = Util.Frame.createElement(id);
YAHOO.util.Dom.addClass(iframe, 'contentFrame');
iframe.onLoading = new YAHOO.util.CustomEvent('loading', iframe, false, YAHOO.util.CustomEvent.FLAT);
iframe.onLoaded = new YAHOO.util.CustomEvent('loaded', iframe, false, YAHOO.util.CustomEvent.FLAT);
iframe.onAborted = new YAHOO.util.CustomEvent('aborted', iframe, false, YAHOO.util.CustomEvent.FLAT);
iframe.onBeforeShow = new YAHOO.util.CustomEvent('beforeShow', iframe, false, YAHOO.util.CustomEvent.FLAT);
iframe.onShow = new YAHOO.util.CustomEvent('show', iframe, false, YAHOO.util.CustomEvent.FLAT);
iframe.onBeforeHide = new YAHOO.util.CustomEvent('beforeHide', iframe, false, YAHOO.util.CustomEvent.FLAT);
iframe.onHide = new YAHOO.util.CustomEvent('hide', iframe, false, YAHOO.util.CustomEvent.FLAT);
iframe.timestamps =
{
createDate: new Date(),
attemptDate: null,
loadDate: null,
showDate: null,
hideDate: null,
abortDate: null
};
iframe.durationCounters =
{
loadTime: 0,
visitTime: 0
};
iframe.counters =
{
attemptCount: 0,
loadCount: 0,
showCount: 0,
hideCount: 0,
abortCount: 0
};
iframe.debug = function()
{
Util.dir(iframe.timestamps);
Util.dir(iframe.durationCounters);
Util.dir(iframe.counters);
};
var config = {
name: id,
border: '0'
};
for (var i in config)
{
if (YAHOO.lang.hasOwnProperty(config, i))
{
iframe.setAttribute(i, config[i]);
}
}
if (YAHOO.env.ua.ie) iframe.src = 'javascript:false;';
else iframe.src = 'javascript:;';
parent.appendChild(iframe);
this.addEnhancements(iframe);
return iframe;
};
Util.Frame.addEnhancements = function(iframe)
{
var enhancements =
{
abortTimer: null,
loadState: 0,
getDebugID: function()
{
return this.id.replace('iframe_', '')
},
_loadInit: function(timeout)
{
if (this.loadState == 1) return false;
this.loadState = 1;
var successCallback = function()
{
if (this.abortTimer != null) this.abortTimer.cancel();
YUE.removeListener(this, 'load', successCallback);
if (this.loadState == -1) return;
this.counters.loadCount++;
this.timestamps.loadDate = new Date();
this.durationCounters.loadTime = (this.timestamps.loadDate - this.timestamps.attemptDate);
this.loadState = 2;
this.onLoaded.fire(this);
};
var abortCallback = function()
{
YUE.removeListener(this, 'load', successCallback);
if (this.loadState == 2) return;
this.abort();
this.counters.abortCount++;
this.timestamps.abortDate = new Date();
this.loadState = -1;
this.onAborted.fire(this);
};
YUE.addListener(this, 'load', successCallback);
this.onLoading.fire(this);
if (timeout != null && timeout >= 0)
{
this.abortTimer = YAHOO.lang.later(timeout, this, abortCallback);
}
this.counters.attemptCount++;
this.timestamps.attemptDate = new Date();
return true;
},
abort: function()
{
try
{
var frameWin = this.getWindow();
frameWin.stop();
}
catch (ex) { };
},
load: function(url, timeout)
{
if (!this._loadInit(timeout)) return false;
Util.log('iframe ' + this.getDebugID() + ': formPost = ' + url);
var frameRequestsID = 'frameRequests';
var frameRequests = document.getElementById(frameRequestsID);
if (frameRequests == null)
{
frameRequests = document.createElement('div');
frameRequests.id = frameRequestsID;
document.body.appendChild(frameRequests);
YUD.setStyle(frameRequests, 'display', 'none');
}
var form = document.createElement("form");
frameRequests.appendChild(form);
form.enctype = form.encoding = "multipart/form-data";
form.setAttribute('action', url);
form.setAttribute('method', 'POST');
form.setAttribute('target', this.id);
form.submit();
return true;
},
loadHtml: function(html, timeout)
{
if (!this._loadInit(timeout)) return false;
var doc = this.getDocument();
doc.open();
doc.write(html);
doc.close();
return true;
},
isShowing: function()
{
if (this.tagName != 'IFRAME' || this.nodeName != 'IFRAME')
{
Util.log('iframe: show error this is not a iframe');
}
return !YAHOO.util.Dom.hasClass(this, 'contentFrameHide');
},
forceRedraw: function()
{
var body = this.getBody();
YUD.addClass(body, 'forceRedraw');
setTimeout(function()
{
YUD.removeClass(body, 'forceRedraw');
}, 1);
},
show: function()
{
if (this.isShowing())
{
Util.log('iframe: Trying to show a page that is currently showing.');
return false;
}
var allow = this.onBeforeShow.fire(this);
if (allow === false) return false;
this.timestamps.showDate = new Date();
this.counters.showCount++;
YAHOO.util.Dom.removeClass(this, 'contentFrameHide');
this.onShow.fire(this);
this.forceRedraw();
return true;
},
hide: function()
{
if (!this.isShowing())
{
Util.log('iframe: Trying to hide a page that is currently hidden.');
return false;
}
var allow = this.onBeforeHide.fire(this);
if (allow === false) return false;
this.timestamps.hideDate = new Date();
this.counters.hideCount++;
this.durationCounters.visitTime += (this.timestamps.hideDate - this.timestamps.showDate);
YAHOO.util.Dom.addClass(this, 'contentFrameHide');
this.onHide.fire(this);
return true;
},
getWindow: function()
{
return window[this.id];
},
getDocument: function()
{
var doc = null;
try
{
if (iframe.contentDocument)
{
doc = iframe.contentDocument;
}
else if (iframe.contentWindow)
{
doc = iframe.contentWindow.document;
}
else if (iframe.document)
{
doc = iframe.document;
}
}
catch (ex) { }
return doc;
},
getBody: function()
{
return this.getDocument().body;
},
havePermission: function()
{
try
{
this.getDocument();
return true;
}
catch (e)
{
return false;
}
}
};
YAHOO.mix(iframe, enhancements);
};
Util.Frame.BLANK_SOURCE = 'javascript:""';
Util.Frame.STYLES_ = 'border:0;vertical-align:bottom;';
Util.Frame.createBlank = function(opt_styles)
{
return (Util.Dom.Builder.createDom('iframe', {
'frameborder': 0,
'style': Util.Frame.STYLES_ + (opt_styles || ''),
'src': Util.Frame.BLANK_SOURCE
}));
};
Util.Frame.writeContent = function(iframe, content)
{
var doc = Util.Dom.getFrameContentDocument(iframe);
doc.open();
doc.write(content);
doc.close();
};
Util.Frame.createWithContent = function(parentElement, opt_headContents, opt_bodyContents, opt_styles, opt_quirks)
{
var contentBuf = [];
if (!opt_quirks)
{
contentBuf.push('<!DOCTYPE html>');
}
contentBuf.push('<html><head>', opt_headContents, '</head><body>', opt_bodyContents, '</body></html>');
var iframe = Util.Frame.createBlank(opt_styles);
parentElement.appendChild(iframe);
Util.Frame.writeContent(iframe, contentBuf.join(''));
return iframe;
};
Util.Frame.createHidden = function(id)
{
var frame = Util.Frame.createElement(id);
frame.setAttribute('border', '0');
frame.setAttribute('frameBorder', '0');
frame.setAttribute('width', '0');
frame.setAttribute('marginWidth', '0');
frame.setAttribute('height', '0');
frame.setAttribute('marginHeight', '0');
frame.setAttribute('leftMargin', '0');
frame.setAttribute('topMargin', '0');
frame.setAttribute('allowTransparency', 'false');
var style = 'width:0px; height:0px; border: 0px; visibility: hidden; display:block;';
frame.setAttribute('style', style);
frame.src = (YAHOO.env.ua.ie) ? 'javascript:false;' : 'javascript:;';
return frame;
};
Util.Frame.injectApplet = function(id, config)
{
var frame = Util.Frame.createHidden(id);
document.body.appendChild(frame);
var script_cookie = '<script type="text/javascript">function getCookies() { return document.cookie; }</script>';
var script_events = '<script type="text/javascript">function tdsFireEvent(id, name, event, data, sequenceNumber, logSeqNumber) { setTimeout(function() { if (typeof(parent.{callback}) != "function") return; parent.{callback}(document.getElementById(id), event, data, sequenceNumber, logSeqNumber); }, 0); }</script>';
script_events = YAHOO.lang.substitute(script_events, config);
var appletHtml = '<applet id="{id}" name="{id}" archive="{archive}" codebase="{codebase}" code="{code}" mayscript="true" scriptable="true"><param value="{id}" name="id"/></applet>';
appletHtml = YAHOO.lang.substitute(appletHtml, config);
var frameHtml = '<html><head>' + script_cookie + script_events + '</head><body>' + appletHtml + '</body></html>';
var frameDoc = frame.contentDocument ? frame.contentDocument : frame.contentWindow ? frame.contentWindow.document : frame.document;
frameDoc.open();
frameDoc.write(frameHtml);
frameDoc.close();
return frameDoc.getElementById(config.id);
};
Util.Frame.injectEmbed = function(id, type)
{
var frame = Util.Frame.createHidden(id);
document.body.appendChild(frame);
var embedHtml = '<embed type="{type}"></embed>';
embedHtml = YAHOO.lang.substitute(embedHtml, {
type: type
});
var frameHtml = '<html><head></head><body>' + embedHtml + '</body></html>';
var frameDoc = frame.contentDocument ? frame.contentDocument : frame.contentWindow ? frame.contentWindow.document : frame.document;
frameDoc.open();
frameDoc.write(frameHtml);
frameDoc.close();
return frameDoc.getElementsByTagName('embed')[0];
};
Util.Frame.createHtml = function(bodyHtml, options)
{
options = options || {};
var html = [];
if (!YAHOO.lang.isObject(options.docType))
{
options.docType = Util.Frame.DOCTYPE_XHTML1_TRANSITIONAL;
}
html.push(options.docType);
html.push('<html xmlns="http://www.w3.org/1999/xhtml">');
html.push('<head>');
html.push('<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />');
if (!YAHOO.lang.isObject(options.baseURI))
{
options.baseURI = document.baseURI || document.URL;
}
var frameURI = options.baseURI.replace(/[^/]*$/, '');
html.push('<base href="' + frameURI + '" />');
if (YAHOO.lang.isArray(options.scripts))
{
Util.Array.each(options.scripts, function(script)
{
html.push('<script type="text/javascript" src="' + script + '"></script>');
});
}
if (YAHOO.lang.isArray(options.styles))
{
Util.Array.each(options.styles, function(style)
{
html.push('<link type="text/css" rel="stylesheet" href="' + style + '" />');
});
}
html.push('</head>');
if (YAHOO.lang.isString(options.callbackName))
{
html.push('<body onload="setTimeout(function() { parent.' + options.callbackName + '(this); }, 0);"');
}
else
{
html.push('<body>');
}
if (YAHOO.lang.isString(bodyHtml)) html.push(bodyHtml);
html.push('</body></html>');
return html.join('');
};

// FILE: util_simulate.js (189493e1) 3/7/2014 11:24:14 AM

YAHOO.util.UserAction = {
simulateKeyEvent: function(target                 , type            ,
bubbles             , cancelable             ,
view            ,
ctrlKey             , altKey             ,
shiftKey             , metaKey             ,
keyCode         , charCode         )
{
target = YAHOO.util.Dom.get(target);
if (!target) {
throw new Error("simulateKeyEvent(): Invalid target.");
}
if (YAHOO.lang.isString(type)) {
type = type.toLowerCase();
switch (type) {
case "keyup":
case "keydown":
case "keypress":
break;
case "textevent":
type = "keypress";
break;
default:
throw new Error("simulateKeyEvent(): Event type '" + type + "' not supported.");
}
} else {
throw new Error("simulateKeyEvent(): Event type must be a string.");
}
if (!YAHOO.lang.isBoolean(bubbles)) {
bubbles = true;
}
if (!YAHOO.lang.isBoolean(cancelable)) {
cancelable = true;
}
if (!YAHOO.lang.isObject(view)) {
view = window;
}
if (!YAHOO.lang.isBoolean(ctrlKey)) {
ctrlKey = false;
}
if (!YAHOO.lang.isBoolean(altKey)) {
altKey = false;
}
if (!YAHOO.lang.isBoolean(shiftKey)) {
shiftKey = false;
}
if (!YAHOO.lang.isBoolean(metaKey)) {
metaKey = false;
}
if (!YAHOO.lang.isNumber(keyCode)) {
keyCode = 0;
}
if (!YAHOO.lang.isNumber(charCode)) {
charCode = 0;
}
var customEvent                 = null;
if (YAHOO.lang.isFunction(document.createEvent)) {
try {
customEvent = document.createEvent("KeyEvents");
customEvent.initKeyEvent(type, bubbles, cancelable, view, ctrlKey,
altKey, shiftKey, metaKey, keyCode, charCode);
} catch(ex           ) {
try {
customEvent = document.createEvent("Events");
} catch(uierror           ) {
customEvent = document.createEvent("UIEvents");
} finally {
customEvent.initEvent(type, bubbles, cancelable);
customEvent.view = view;
customEvent.altKey = altKey;
customEvent.ctrlKey = ctrlKey;
customEvent.shiftKey = shiftKey;
customEvent.metaKey = metaKey;
customEvent.keyCode = keyCode;
customEvent.charCode = charCode;
}
}
target.dispatchEvent(customEvent);
} else if (YAHOO.lang.isObject(document.createEventObject)) {
customEvent = document.createEventObject();
customEvent.bubbles = bubbles;
customEvent.cancelable = cancelable;
customEvent.view = view;
customEvent.ctrlKey = ctrlKey;
customEvent.altKey = altKey;
customEvent.shiftKey = shiftKey;
customEvent.metaKey = metaKey;
customEvent.keyCode = (charCode > 0) ? charCode : keyCode;
target.fireEvent("on" + type, customEvent);
} else {
throw new Error("simulateKeyEvent(): No event simulation framework present.");
}
}
};

// FILE: util_storage.js (cd3b910e) 3/7/2014 11:24:14 AM

(function(Util) {
function serialize(value) {
return JSON.stringify(value);
}
function deserialize(value) {
if (typeof value != 'string') {
return undefined;
}
try {
return JSON.parse(value);
} catch (ex) {
return value || undefined;
}
}
var Storage = function(api) {
this._api = api;
};
Storage.prototype.length = function () {
return this._api.length;
};
Storage.prototype.remove = function (key) {
this._api.removeItem(key);
};
Storage.prototype.setString = function (key, value) {
this._api.setItem(key, value);
};
Storage.prototype.set = function (key, value) {
if (value === undefined) {
this.remove(key);
} else {
this.setString(key, serialize(value));
}
};
Storage.prototype.getString = function (key) {
try {
return this._api.getItem(key);
} catch (ex) {
return undefined;
}
};
Storage.prototype.get = function (key) {
var json = this.getString(key);
if (json === undefined || json === null) {
return undefined;
}
try {
return deserialize(json);
} catch (ex) {
throw new Error('Invalid data for the key "' + key + '"');
}
};
Storage.prototype._key = function(index) {
return this._api.key(index);
};
Storage.prototype.keys = function(filter) {
var keys = [];
var i = 0, len = this.length();
for (; i < len; i++) {
var key = this._key(i);
if (key && (typeof filter != 'function' || filter(key))) {
keys.push(key);
}
}
return keys;
};
Storage.prototype.clear = function() {
if (this._api.clear) {
this._api.clear();
} else {
var keys = this.keys();
keys.forEach(function(key) {
this.remove(key);
}.bind(this));
}
};
Util.Storage = new Storage(sessionStorage);
})(Util);

// FILE: util_audio.js (32c7cf75) 3/7/2014 11:24:14 AM

if (typeof Util != 'object') Util = {};
if (typeof Util.Audio != 'object') Util.Audio = {};
(function(SM, Audio) {
SM.audioFormats.mp3.required = false;
var rebooted = false;
function setup(flashPath) {
SM.setup({
url: flashPath,
flashVersion: 9,
preferFlash: false,
useHTML5Audio: true
});
SM.ontimeout(function() {
console.warn('AudioManager Error: SM2 timeout');
if (!rebooted) {
rebooted = true;
setTimeout(function() {
SM.reboot();
}, 1000);
}
});
}
function parseSources(el) {
var sources = [];
if (el.nodeName == 'A') {
sources.push({
url: decodeURIComponent(el.href),
type: el.getAttribute('type')
});
} else if (el.nodeName == 'AUDIO') {
for (var i = 0; i < el.children.length; ++i) {
var source = el.children[i];
sources.push({
url: decodeURIComponent(source.src),
type: source.type
});
}
}
return sources;
};
function getPlayableSource(el) {
var sources = parseSources(el);
for (var i = 0; i < sources.length; i++) {
var source = sources[i];
var url = source.url ? source.url : null;
if (url && SM.canPlayURL(url)) {
return source;
}
}
return null;
}
function createSound(id, url) {
var config = {
id: id,
url: url
};
var sound = new Audio.Sound(config);
return sound;
}
function createSoundFromElement(id, el, config) {
var source = getPlayableSource(el);
if (source == null) return null;
config = config || {};
config.id = id;
config = YAHOO.lang.augmentObject(config, source);
var sound = new Audio.Sound(config);
return sound;
}
Audio.setup = setup;
Audio.onReady = SM.onready;
Audio.stopAll = SM.stopAll;
Audio.getPlayableSource = getPlayableSource;
Audio.createSound = createSound;
Audio.createSoundFromElement = createSoundFromElement;
})(soundManager, Util.Audio);

// FILE: util_audio_sound.js (e4f95a92) 3/7/2014 11:24:14 AM

(function(SM, Audio) {
var Sound = function(settings) {
this.onPlay = new YAHOO.util.CustomEvent('onPlay', this, false, YAHOO.util.CustomEvent.FLAT);
this.onStop = new YAHOO.util.CustomEvent('onStop', this, false, YAHOO.util.CustomEvent.FLAT);
this.onFinish = new YAHOO.util.CustomEvent('onFinish', this, false, YAHOO.util.CustomEvent.FLAT);
this.onIdle = new YAHOO.util.CustomEvent('onIdle', this, false, YAHOO.util.CustomEvent.FLAT);
this.onFailure = new YAHOO.util.CustomEvent('onFailure', this, false, YAHOO.util.CustomEvent.FLAT);
settings.onload = this._onLoad.bind(this);
settings.onplay = this._onPlay.bind(this);
settings.onstop = this._onStop.bind(this);
settings.onfinish = this._onFinish.bind(this);
settings.onfailure = this._onFailure.bind(this);
this._service = SM.createSound(settings);
};
Sound.prototype.getId = function() {
return this._service.id;
};
Sound.prototype.isPlaying = function() {
return (this._service.playState === 1);
};
Sound.prototype.play = function() {
var result = this._service.play();
if (result && result.readyState !== 2) {
return true;
} else {
return false;
}
};
Sound.prototype.stop = function() {
return this._service.stop();
};
Sound.prototype._onLoad = function(success) {
if (success === false) {
console.log('AUDIO FAILED: ' + this.getId());
YAHOO.lang.later(0, this.onFailure, this.onFailure.fire, this);
}
};
Sound.prototype._onPlay = function() {
console.log('AUDIO PLAY: ' + this.getId());
YAHOO.lang.later(0, this.onPlay, this.onPlay.fire, this);
};
Sound.prototype._onStop = function() {
console.log('AUDIO STOP: ' + this.getId());
YAHOO.lang.later(0, this.onStop, this.onStop.fire, this);
YAHOO.lang.later(0, this.onIdle, this.onIdle.fire, this);
};
Sound.prototype._onFinish = function() {
console.log('AUDIO FINISH: ' + this.getId());
YAHOO.lang.later(0, this.onFinish, this.onFinish.fire, this);
YAHOO.lang.later(0, this.onIdle, this.onIdle.fire, this);
};
Sound.prototype._onFailure = function() {
console.log('AUDIO FAILURE: ' + this.getId());
YAHOO.lang.later(0, this.onFailure, this.onFailure.fire, this);
};
Audio.Sound = Sound;
})(soundManager, Util.Audio);

// FILE: util_audio_queue.js (939c926b) 3/7/2014 11:24:14 AM

(function(YAHOO, Audio) {
var numInstances = 0;
var Queue = function() {
this._instance = ++numInstances;
this._isStarted = false;
this._sounds = [];
this._current = null;
this.onStart = new YAHOO.util.CustomEvent('onStart', this, false, YAHOO.util.CustomEvent.FLAT);
this.onStop = new YAHOO.util.CustomEvent('onStop', this, false, YAHOO.util.CustomEvent.FLAT);
};
Queue.prototype.getSounds = function() {
return this._sounds;
};
Queue.prototype.add = function(sound) {
this._log('Add', sound);
sound.onFailure.subscribe(this._onStop, this, true);
sound.onStop.subscribe(this._onStop, this, true);
sound.onIdle.subscribe(this._onFinish, this, true);
this._sounds.push(sound);
};
Queue.prototype.remove = function(sound) {
sound.onFailure.subscribe(this._onStop, this, true);
sound.onStop.unsubscribe(this._onStop, this, true);
sound.onIdle.unsubscribe(this._onFinish, this, true);
Util.Array.remove(this._sounds, sound);
};
Queue.prototype.clear = function() {
for (var i = 0; i < this._sounds.length; i++) {
this.remove(this._sounds[i]);
}
};
Queue.prototype.dispose = function() {
this._log('Dispose');
this.stop();
this.clear();
this.onStart.unsubscribeAll();
this.onStop.unsubscribeAll();
};
Queue.prototype.isStarted = function() {
return this._isStarted;
};
Queue.prototype.getCurrent = function() {
return this._current;
};
Queue.prototype.start = function() {
if (this._isStarted) {
return false;
}
if (this._sounds.length == 0) {
return false;
}
var played = this._play(this._sounds[0]);
if (played) {
this._log('Start');
this._isStarted = true;
this.onStart.fire(this);
}
return played;
};
Queue.prototype.stop = function() {
if (this._current) {
this._current.stop();
}
};
Queue.prototype._play = function(sound) {
if (sound.play()) {
this._current = sound;
return true;
} else {
return false;
}
};
Queue.prototype._onStop = function(sound) {
if (!this._isStarted) return;
if (this._current != sound) return;
this._setStopped();
};
Queue.prototype._onFinish = function(sound) {
if (!this._isStarted) return;
if (this._current != sound) return;
var inactiveIdx = this._sounds.indexOf(sound);
if (inactiveIdx == -1) return;
var nextSound = this._sounds[inactiveIdx + 1];
if (nextSound) {
if (!this._play(nextSound)) {
this._setStopped();
}
} else {
this._setStopped();
}
};
Queue.prototype._setStopped = function() {
if (!this._isStarted) return;
this._log('Stop');
this._isStarted = false;
this._current = null;
this.onStop.fire(this);
};
Queue.prototype._log = function(name, sound) {
var msg = 'AUDIO QUEUE ' + this._instance + ': ' + name;
if (sound) {
msg += ' - ' + sound.getId();
}
console.log(msg);
};
Audio.createQueue = function() {
return new Queue();
};
})(YAHOO, Util.Audio);

// FILE: util_xdm.js (7b7f6a8d) 3/7/2014 11:24:14 AM

if (typeof Util != 'object') Util = {};
(function (Util) {
var defaults = {
targetWindow: window,
targetOrigin: '*',
sourceOrigin: false
};
var id = 0;
var requests = {};
var responses = {};
var listeners = {};
var XDM = function (targetWindow, targetOrigin) {
return $.extend(XDM.bind(), {
targetWindow: targetWindow,
targetOrigin: targetOrigin,
post: postRequest
});
};
XDM.init = function (thisWindow) {
if (thisWindow.addEventListener) {
thisWindow.addEventListener('message', messageHandler, true);
}
return XDM;
};
XDM.addListener = function(name, callback) {
listeners[name] = callback;
};
XDM.removeListener = function (name) {
delete listeners[name];
};
function postRequest(requestName) {
var req = new Request(requestName);
req.targetWindow = this.targetWindow || defaults.targetWindow;
req.targetOrigin = this.targetOrigin || defaults.targetOrigin;
req.data = [].slice.call(arguments, 1);
req.send();
return req;
}
function messageHandler(evt) {
try {
var data = JSON.parse(evt.data);
} catch (ex) {
console.log('XDM: error parsing json data');
return;
}
if (data.type === 'request') {
console.log('MESSAGE REQUEST: ', data);
var response = new Response(data);
responses[response.id] = response.data;
response.targetWindow = evt.source;
response.targetOrigin = evt.origin === 'null' ? defaults.targetOrigin : evt.origin;
response.send();
}
else if (data.type === 'response') {
console.log('MESSAGE RESPONSE: ', data);
if (data.success) {
requests[data.id].resolve(data.data);
} else {
requests[data.id].reject(new XDM.Error(data.data));
}
delete requests[data.id];
}
}
function Request(name) {
this.init.apply(this, [].slice.call(arguments));
}
function Response(req) {
this.init(req);
}
Request.prototype.init = function(name) {
$.extend(this, $.Deferred());
this.id = ++id;
this.name = name;
this.data = [].slice.call(arguments);
this.type = 'request';
requests[id] = this;
};
Request.prototype.send = function() {
this.targetWindow = this.targetWindow || defaults.targetWindow;
this.targetOrigin = this.targetOrigin || defaults.targetOrigin;
this.targetWindow.postMessage(JSON.stringify(this), this.targetOrigin);
};
Request.prototype.toJSON = function() {
return {
id: this.id,
name: this.name,
type: this.type,
data: this.data
};
};
Request.create = function (obj) {
return $.extend(new Request(), obj);
};
Response.prototype.init = function(req) {
this.id = req.id;
this.name = req.name;
this.type = 'response';
try {
var response = Request.create(req);
var listener = listeners[req.name];
if (listener) {
this.data = listener.apply(this, response.data);
this.success = true;
} else {
throw new Error('Could not find the listener \'' + req.name + '\'');
}
} catch (error) {
this.data = new XDM.Error(error);
this.success = false;
}
};
Response.prototype.send = function() {
this.targetWindow = this.targetWindow || defaults.targetWindow;
this.targetOrigin = this.targetOrigin || defaults.targetOrigin;
this.targetWindow.postMessage(JSON.stringify(this), this.targetOrigin);
if (!this.success) {
throw this.data.error;
}
};
Response.prototype.toJSON = function() {
return {
id: this.id,
name: this.name,
type: this.type,
data: this.data,
success: this.success
};
};
XDM.Error = function (error) {
this.error = error;
$.extend(this, error);
this.name = error.name;
this.message = error.message;
this.number = error.number;
this.description = error.description;
this.fileName = error.fileName;
this.lineNumber = error.lineNumber;
this.stack = error.stack;
this.toString = function () {
return this.message;
};
};
Util.XDM = XDM;
})(Util);

// FILE: util_slider.js (24cde676) 5/2/2014 12:55:58 PM

(function (Util) {
function Slider(id, min, max) {
this._id = id;
this._min = min;
this._max = max;
this._element = null;
this._instance = null;
this._tickSize = 0;
this.onStart = new Util.Event.Custom(this);
this.onChange = new Util.Event.Custom(this);
this.onEnd = new Util.Event.Custom(this);
}
Slider.prototype.getId = function () {
return this._id;
};
Slider.prototype.getEl = function () {
return this._element;
};
Slider.prototype.getValue = function () {
if (this._instance) {
var rawValue = this._instance.getValue();
return Math.floor((rawValue / this._tickSize) + this._min);
}
return -1;
};
Slider.prototype.setValue = function (realValue) {
if (this._instance) {
this._instance.setValue((realValue - this._min) * this._tickSize, true);
}
};
Slider.prototype.increment = function () {
if (this._instance) {
var value = this._instance.getValue() + this._tickSize;
this._instance.setValue(value);
}
};
Slider.prototype.decrement = function () {
if (this._instance) {
var value = this._instance.getValue() - this._tickSize;
this._instance.setValue(value);
}
};
Slider.prototype.render = function (sliderWidth, thumbWidth) {
sliderWidth = sliderWidth || 195;
thumbWidth = thumbWidth || 23;
var maxThumbPos = sliderWidth - thumbWidth;
var container = document.createElement('div');
container.className = 'slide_controls_slider yui-h-slider';
container.style.width = sliderWidth + 'px';
var bgSlider = document.createElement('div');
bgSlider.id = 'slider_bg_' + this._id;
bgSlider.className = 'slide_controls_slider_bg';
bgSlider.setAttribute('tabindex', 0);
container.appendChild(bgSlider);
var thumbSlider = document.createElement('span');
thumbSlider.id = 'slider_image_' + this._id;
thumbSlider.className = 'slide_controls_img';
bgSlider.appendChild(thumbSlider);
this._element = container;
this._tickSize = Math.floor(maxThumbPos / (this._max - this._min));
this._instance = YAHOO.widget.Slider.getHorizSlider(bgSlider, thumbSlider, 0, maxThumbPos, this._tickSize);
this._instance.keyIncrement = this._tickSize;
this._instance.subscribe('slideStart', function () {
this.onStart.fire(this.getValue());
}.bind(this));
this._instance.subscribe('change', function () {
this.onChange.fire(this.getValue());
}.bind(this));
this._instance.subscribe('slideEnd', function () {
this.onEnd.fire(this.getValue());
}.bind(this));
return container;
};
Slider.create = function (id, min, max, width) {
var slider = new Slider(id, min, max);
slider.render(width);
return slider;
};
Util.Slider = Slider;
})(Util);

// FILE: air_mobile_2.js (8dc4e549) 7/23/2014 4:30:37 PM

if (typeof Summit != 'object') Summit = {};
if (typeof Summit.SecureBrowser != 'object') Summit.SecureBrowser = {};
Summit.SecureBrowser.Mobile = function () {
var AIRMobile = {
CMD_RECORD_AUDIO: "cmdRecordAudioSample",
CMD_INITIALIZE: "cmdInitialize",
CMD_GET_PROCESSES: "cmdGetNativeProcesses",
CMD_CHECK_GUIDED_ACCESS: "cmdCheckGuidedAccess",
CMD_CHECK_TTS: "cmdCheckTTS",
CMD_JAVASCRIPT_LOG: "cmdJavascriptLog",
CMD_SET_DEFAULT_URL: "cmdSetDefaultURL",
CMD_CHECK_ORIENTATION: "cmdCheckOrientation",
CMD_LOCK_ORIENTATION: "cmdLockOrientation",
CMD_SPEAK_TEXT: "cmdSpeakText",
CMD_STOP_SPEAKING: "cmdStopSpeaking",
CMD_PAUSE_SPEAKING: "cmdPauseSpeaking",
CMD_RESUME_SPEAKING: "cmdResumeSpeaking",
CMD_CHECK_SPEAK_STATUS: "cmdCheckSpeakStatus",
CMD_EXIT_APPLICATION: "cmdExitApplication",
CMD_RESTART_APPLICATION: "cmdRestartApplication",
CMD_SET_MIC_MUTE: "cmdSetMicMuted",
CMD_CLEAR_WEB_CACHE : "cmdRequestClearWebCache",
CMD_CLEAR_WEB_COOKIES : "cmdRequestClearCookies",
CMD_GET_MAC_ADDRESS : "cmdRequestGetMACAddress",
CMD_GET_IP_ADDRESS_LIST : "cmdRequestGetIPAddressList",
CMD_GET_START_TIME : "cmdRequestGetStartTime",
EVENT_CONNECTIVITY_CHANGED: "airMobile_connectivity_changed",
EVENT_DEFAULT_URL_CHANGED: "airMobile_default_url_changed",
EVENT_DEVICE_READY: "airMobile_device_ready",
EVENT_ENTER_BACKGROUND: "airMobile_enter_background",
EVENT_RETURN_FROM_BACKGROUND: "airMobile_return_from_background",
EVENT_GUIDED_ACCESS_CHANGED: "airMobile_guided_access_changed",
EVENT_RUNNING_PROCESSES_CHANGED: "airMobile_running_process_changed",
EVENT_TTS_CHANGED: "airMobile_tts_changed",
EVENT_TTS_SYNCHRONIZED: "airMobile_tts_synchronized",
EVENT_ORIENTATION_CHANGED: "airMobile_orientation_changed",
EVENT_KEYBOARD_CHANGED: "airMobile_keyboard_changed",
EVENT_MIC_MUTE_CHANGED: "airMobile_mic_mute_changed",
EVENT_MINI_APP_DETECTED : "airMobile_mini_app_detected",
EVENT_CLIPBOARD_CHANGED : "airMobile_clipboard_changed",
callbacks: {},
device: {
isReady: false,
apiVersion: -1.0,
defaultURL: "Unknown",
rootAccess: false,
model: "Unknown",
manufacturer: "Unknown",
operatingSystem: "Unknown",
operatingSystemVersion: "Unknown",
connectivityStatus: "Unknown",
guidedAccessEnabled: false,
textToSpeechEnabled: false,
ttsEngineStatus: "unavailable",
runningProcesses: [],
installedPackages: [],
screenResolution: "Unknown",
orientation: "Unknown",
lockedOrientation: "none",
keyboard: "unknown",
micMuted: false,
ipAddress : "unknown",
macAddress : "unknown",
startTime : "unknown",
ttsVoices : "unknown",
screenShotsEnabled: function() {
var isIOS, isAndroid;
isIOS = this.operatingSystem.toLowerCase() == "iphone os";
isAndroid = !isIOS;
if (isIOS) {
return this.guidedAccessEnabled ? false : true;
} else if (isAndroid) {
return false;
}
return true;
},
supportsFeature: function(_feature) {
var isIOS, isAndroid;
isIOS = this.operatingSystem.toLowerCase() == "iphone os";
isAndroid = this.operatingSystem.toLowerCase() == "android";
if (_feature == "guided_access")
{
return isIOS;
} else if (_feature == "text_to_speech")
{
return isIOS || isAndroid;
} else if (_feature == "running_processes")
{
return isIOS || isAndroid;
} else if (_feature == "installed_packages")
{
return isAndroid;
} else if (_feature == "mic_mute")
{
return isAndroid;
} else if (_feature == "tts_engine")
{
return isAndroid || isIOS;
} else if (_feature == "exit")
{
return isAndroid;
}
return false;
},
formattedDeviceInfo: function() {
var isiOS = this.operatingSystem.toLowerCase() == "iphone os";
return "Device: " + this.model + ", OS: " + this.operatingSystem + ", Version: " + this.operatingSystemVersion + (isiOS ? ", Jailbroken: " : ", Rooted: ") + (this.rootAccess ? "Yes" : "No") + ", Resolution: " + this.screenResolution;
}
},
checkGuidedAccessStatus: function(_identifier, _callback) {
return this.sendCommand(this.CMD_CHECK_GUIDED_ACCESS, _identifier, _callback);
},
checkRunningProcesses: function(_identifier, _callback) {
return this.sendCommand(this.CMD_GET_PROCESSES, _identifier, _callback);
},
checkTextToSpeechStatus: function(_identifier, _callback) {
return this.sendCommand(this.CMD_CHECK_TTS, _identifier, _callback);
},
checkOrientation: function(_identifier, _callback) {
return this.sendCommand(this.CMD_CHECK_ORIENTATION, _identifier, _callback);
},
requestOrientationLock: function(_orientation, _identifier, _callback) {
_identifier = _identifier == null ? this.UUID() : _identifier;
this.callbacks[_identifier] = _callback;
var params = {
identifier: _identifier,
orientation: _orientation
};
this.sendToApp(this.CMD_LOCK_ORIENTATION, JSON.stringify(params, null, true));
return _identifier;
},
recordAudio: function(_duration, _identifier, _callback) {
_identifier = _identifier == null ? this.UUID() : _identifier;
this.callbacks[_identifier] = _callback;
var params = {
identifier: _identifier,
duration: _duration
};
this.sendToApp(this.CMD_RECORD_AUDIO, JSON.stringify(params, null, true));
return _identifier;
},
setDefaultURL: function(_urlString, _identifier, _callback) {
var params = null;
if (_callback != null) {
_identifier = _identifier == null ? this.UUID() : _identifier;
this.callbacks[_identifier] = _callback;
params = {
identifier: _identifier,
url: _urlString
};
} else {
params = {
url: _urlString
};
}
this.sendToApp(this.CMD_SET_DEFAULT_URL, JSON.stringify(params, null, true));
return _identifier;
},
exitApplication: function(_identifier, _callback) {
return this.sendCommand(this.CMD_EXIT_APPLICATION, _identifier, _callback);
},
restartApplication: function(_identifier, _callback) {
return this.sendCommand(this.CMD_RESTART_APPLICATION, _identifier, _callback);
},
setMicMute: function(_muted, _identifier, _callback) {
var params = null;
if (_callback != null) {
_identifier = _identifier == null ? this.UUID() : _identifier;
this.callbacks[_identifier] = _callback;
params = {
identifier: _identifier,
muted: _muted
};
}
this.sendToApp(this.CMD_SET_MIC_MUTE, JSON.stringify(params, null, true));
return _identifier;
},
ntvOnMicMuteChanged: function(_parameters) {
var results, changed;
results = JSON.parse(_parameters, null);
changed = false;
if (this.device.micMuted != results.muted) {
changed = true;
this.device.micMuted = results.muted;
}
this.executeCallback(results);
if (changed == true) {
this.dispatchEvent(this.EVENT_MIC_MUTE_CHANGED);
}
return this.device.micMuted;
},
ntvOnRecordingComplete: function(_parameters) {
var results = JSON.parse(_parameters, null);
this.executeCallback(results);
return "Audio Received";
},
ntvOnConnectivityChanged: function(_parameters) {
var results = JSON.parse(_parameters, null);
if (results.status && results.status != this.device.connectivityStatus) {
this.device.connectivityStatus = results.status;
this.dispatchEvent(this.EVENT_CONNECTIVITY_CHANGED);
}
return this.device.connectivityStatus;
},
ntvOnDeviceReady: function(_parameters) {
var results = JSON.parse(_parameters, null);
this.device.isReady = true;
this.device.apiVersion = results.apiVersion != null ? results.apiVersion : -1.0;
this.device.model = results.model;
this.device.manufacturer = results.manufacturer;
this.device.operatingSystem = results.operatingSystem;
this.device.operatingSystemVersion = results.operatingSystemVersion;
this.device.runningProcesses = results.runningProcesses;
this.device.installedPackages = results.installedPackages;
this.device.rootAccess = results.rootAccess;
this.device.connectivityStatus = results.connectivity;
this.device.defaultURL = results.defaultURL;
this.device.textToSpeechEnabled = results.textToSpeech;
this.device.guidedAccessEnabled = results.guidedAccess;
this.device.screenResolution = results.screenResolution;
this.device.orientation = results.orientation;
this.device.lockedOrientation = results.lockedOrientation;
this.device.ttsEngineStatus = results.ttsEngineStatus;
this.device.keyboard = results.keyboard;
this.device.micMuted = results.muted;
this.device.ipAddress = results.ipAddress;
this.device.startTime = results.startTime;
this.device.macAddress = results.macAddress;
this.device.ttsVoices = results.availableTTSLanguages;
this.dispatchEvent(this.EVENT_DEVICE_READY);
return "OK";
},
ntvOnRequestNotSupported: function(_parameters) {
var response = JSON.parse(_parameters, null);
if (response.errorMessage == null) {
response.errorMessage = "Platform does not support feature";
}
this.executeCallback(response);
},
ntvOnGuidedAccessEnabled: function(_parameters) {
var results, changed;
results = JSON.parse(_parameters, null);
changed = results.enabled != this.device.guidedAccessEnabled;
this.device.guidedAccessEnabled = results.enabled;
this.executeCallback(results);
if (changed == true) {
this.dispatchEvent(this.EVENT_GUIDED_ACCESS_CHANGED);
}
return this.device.guidedAccessEnabled;
},
ntvOnTextToSpeechEnabled: function(_parameters) {
var results, changed;
results = JSON.parse(_parameters, null);
changed = this.device.textToSpeechEnabled != results.enabled;
if (changed == false) {
changed = this.device.ttsEngineStatus != results.ttsEngineStatus;
}
this.device.textToSpeechEnabled = results.enabled;
if (results.ttsEngineStatus != null) {
this.device.ttsEngineStatus = results.ttsEngineStatus;
}
this.executeCallback(results);
if (changed == true) {
this.dispatchEvent(this.EVENT_TTS_CHANGED);
}
return this.device.textToSpeechEnabled;
},
ntvOnTTSSynchronized: function(_parameters) {
var results = JSON.parse(_parameters, null);
if (results != null) {
this.dispatchMessageEvent(this.EVENT_TTS_SYNCHRONIZED, results);
}
},
ntvOnRunningProcessesUpdated: function(_parameters) {
var results, processes, added, removed;
results = JSON.parse(_parameters, null);
processes = results.runningProcesses;
added = diffArr(processes, this.device.runningProcesses);
removed = diffArr(this.device.runningProcesses, processes);
this.device.runningProcesses = processes;
this.executeCallback(results);
if (added.length > 0 || removed.length > 0) {
this.dispatchEvent(this.EVENT_RUNNING_PROCESSES_CHANGED);
}
return added.length > 0;
},
ntvApplicationEnterBackground: function() {
this.dispatchEvent(this.EVENT_ENTER_BACKGROUND);
return "OK";
},
ntvApplicationReturnFromBackground: function() {
this.dispatchEvent(this.EVENT_RETURN_FROM_BACKGROUND);
return "OK";
},
ntvOnSetDefaultURL: function(_parameters) {
var results, changed;
results = JSON.parse(_parameters, null);
changed = false;
if (results.url) {
changed = results.url != AIRMobile.device.defaultURL;
AIRMobile.device.defaultURL = results.url;
}
this.executeCallback(results);
if (changed) {
this.dispatchEvent(this.EVENT_DEFAULT_URL_CHANGED);
}
return this.device.defaultURL;
},
ntvMiniAppLaunched : function(){
this.dispatchEvent(this.EVENT_MINI_APP_DETECTED);
return "OK";
},
ntvOnOrientationChanged: function(_parameters) {
var results, changed;
results = JSON.parse(_parameters, null);
changed = false;
if (results.orientation) {
changed = results.orientation != AIRMobile.device.orientation;
AIRMobile.device.orientation = results.orientation;
}
this.executeCallback(results);
if (changed) {
this.dispatchEvent(this.EVENT_ORIENTATION_CHANGED);
}
return this.device.orientation;
},
ntvOnOrientationLockChanged: function(_parameters) {
var results, orientationChanged;
results = JSON.parse(_parameters, null);
orientationChanged = false;
if (results.lockedOrientation) {
AIRMobile.device.lockedOrientation = results.lockedOrientation;
}
if (results.orientation) {
orientationChanged = results.orientation != AIRMobile.device.orientation;
AIRMobile.device.orientation = results.orientation;
}
this.executeCallback(results);
if (orientationChanged) {
this.dispatchEvent(this.EVENT_ORIENTATION_CHANGED);
}
return this.device.lockedOrientation;
},
ntvOnKeyboardChanged: function(_parameters) {
var results = JSON.parse(_parameters, null);
if (results.keyboard) {
this.device.keyboard = results.keyboard;
}
this.dispatchEvent(this.EVENT_KEYBOARD_CHANGED);
return results.keyboard;
},
ntvOnClipboardContentsChanged: function(_parameters) {
var results = JSON.parse(_parameters, null);
return this.dispatchMessageEvent(this.EVENT_CLIPBOARD_CHANGED, results.contents);
},
dispatchEvent: function(_eventName) {
var result, event;
result = false;
if (_eventName && _eventName.length > 0) {
event = document.createEvent("Event");
event.initEvent(_eventName, true, true);
document.dispatchEvent(event);
result = true;
}
return result;
},
dispatchMessageEvent: function(_eventName, _message) {
var result, origin, event;
result = false;
if (_eventName && _eventName.length > 0) {
origin = window.location.protocol + "//" + window.location.host;
event = document.createEvent("MessageEvent");
event.initMessageEvent(_eventName, true, true, _message, origin, 12, window, null);
document.dispatchEvent(event);
result = true;
}
return result;
},
executeCallback: function(_responseObject) {
var callback, result;
callback = this.callbacks[_responseObject.identifier];
result = false;
if (callback != null) {
callback(_responseObject);
delete this.callbacks[_responseObject.identifier];
result = true;
} else if (_responseObject.identifier != null) {
console.warn("No callback for identifier: " + _responseObject.identifier);
}
return result;
},
log: function(_parameters) {
this.sendToApp(this.CMD_JAVASCRIPT_LOG, _parameters);
},
sendToApp: function(_key, _value) {
var iframe = document.createElement("IFRAME");
iframe.setAttribute("src", _key + ":##airMobile_msgsnd##" + _value);
document.documentElement.appendChild(iframe);
iframe.parentNode.removeChild(iframe);
iframe = null;
},
sendCommand: function(_command, _identifier, _callback) {
var params = null;
if (_callback != null) {
_identifier = _identifier == null ? this.UUID() : _identifier;
this.callbacks[_identifier] = _callback;
params = {
identifier: _identifier
};
}
this.sendToApp(_command, JSON.stringify(params, null, true));
return _identifier;
},
UUID: function() {
return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
var r = Math.random() * 16 | 0,
v = c == 'x' ? r : (r & 0x3 | 0x8);
return v.toString(16);
});
},
listen: function(evnt, elem, func) {
if (elem.addEventListener)
{
elem.addEventListener(evnt, func, false);
} else if (elem.attachEvent)
{
return elem.attachEvent("on" + evnt, func);
}
},
initialize: function() {
var params = {
version: "2.0"
};
this.sendToApp(this.CMD_INITIALIZE, JSON.stringify(params, null, true));
},
security : {
isEnvironmentSecure : function() {
var isIOS = AIRMobile.device.operatingSystem.toLowerCase() == "iphone os";
var isAndroid = !isIOS;
if (isAndroid || (!AIRMobile.device.screenShotsEnabled() && AIRMobile.device.guidedAccessEnabled)) {
return true;
}else {
return false;
}
},
enableLockdown : function() {
},
clearCache : function() {
AIRMobile.sendCommand(AIRMobile.CMD_CLEAR_WEB_CACHE, null, null);
},
clearCookies : function() {
AIRMobile.sendCommand(AIRMobile.CMD_CLEAR_WEB_COOKIES, null, null);
},
getMACAddress : function() {
return AIRMobile.device.macAddress;
},
getIPAddressList : function() {
return AIRMobile.device.ipAddress;
},
getProcessList : function() {
return AIRMobile.device.runningProcesses;
},
close : function(_restart) {
if (!_restart) {
AIRMobile.exitApplication(null, null);
}else {
AIRMobile.restartApplication(null, null);
}
},
getStartTime : function() {
return AIRMobile.device.startTime;
},
getDeviceInfo : function() {
var deviceInfo;
deviceInfo = ('Manufacturer=' + AIRMobile.device.manufacturer);
deviceInfo += ('|HWVer=' + AIRMobile.device.model);
deviceInfo += ('|SWVer=' + AIRMobile.device.operatingSystemVersion);
return deviceInfo;
}
},
tts : {
speak: function(_textToSpeak, _options, _callback) {
var params = null;
var _identifier = null;
if (_callback != null) {
_identifier = AIRMobile.UUID();
AIRMobile.callbacks[_identifier] = _callback;
params = {
identifier: _identifier,
textToSpeak: _textToSpeak
};
if (_options != null) {
params.options = _options;
}
}
if (AIRMobile.device.operatingSystem.toLowerCase() == "iphone os") {
AIRMobile.sendToApp(AIRMobile.CMD_SPEAK_TEXT, encodeURIComponent(JSON.stringify(params, null, true)));
} else {
AIRMobile.sendToApp(AIRMobile.CMD_SPEAK_TEXT, JSON.stringify(params, null, true));
}
return _identifier;
},
stop : function(_identifier, _callback) {
return AIRMobile.sendCommand(AIRMobile.CMD_STOP_SPEAKING, _identifier, _callback);
},
getStatus : function() {
return AIRMobile.device.ttsEngineStatus;
},
pause : function() {
return AIRMobile.sendCommand(AIRMobile.CMD_PAUSE_SPEAKING, null, null);
},
resume : function() {
return AIRMobile.sendCommand(AIRMobile.CMD_RESUME_SPEAKING, null, null);
},
getVoices : function(){
return AIRMobile.device.ttsVoices;
},
},
};
AIRMobile.listen("load", window, function() {
AIRMobile.initialize();
});
AIRMobile.recorder = {
EVENT_INITIALIZING: "INITIALIZING",
EVENT_READY: "READY",
EVENT_ERROR: "ERROR",
EVENT_START: "START",
EVENT_INPROGRESS: "INPROGRESS",
EVENT_END: "END",
EVENT_PLAYBACK_START: "PLAYBACK_START",
EVENT_PLAYBACK_END: "PLAYBACK_END",
EVENT_PLAYBACK_PAUSED: "PLAYBACK_PAUSED",
EVENT_PLAYBACK_RESUMED: "PLAYBACK_RESUMED",
EVENT_PLAYBACK_STOPPED: "PLAYBACK_STOPPED",
EVENT_PLAYBACK_ERROR: "PLAYBACK_ERROR",
STATUS_IDLE: "IDLE",
STATUS_ACTIVE: "ACTIVE",
STATUS_INITIALIZING: "INITIALIZING",
STATUS_ERROR: "ERROR",
STATUS_STOPPING: "STOPPING",
PLAYBACK_STATE_IDLE: "IDLE",
PLAYBACK_STATE_PLAYING: "PLAYING",
PLAYBACK_STATE_PAUSED: "PAUSED",
CMD_INITIALIZE_RECORDER: "cmdInitializeRecorder",
CMD_END_AUDIO_CAPTURE: "cmdEndAudioCapture",
CMD_START_AUDIO_CAPTURE: "cmdStartAudioCapture",
CMD_PLAY_AUDIO: "cmdPlaybackAudio",
CMD_STOP_PLAYBACK: "cmdStopAudioPlayback",
CMD_PAUSE_PLAYBACK: "cmdPauseAudioPlayback",
CMD_RESUME_PLAYBACK: "cmdResumeAudioPlayback",
CMD_REQUEST_AUDIO_FILE_LIST: "cmdRequestAudioFileList",
CMD_REQUEST_AUDIO_FILE: "cmdRequestAudioFile",
CMD_CLEAR_AUDIO_CACHE: "cmdRequestClearAudioCache",
status: "unknown",
playbackStatus: "IDLE",
capabilities: null,
initialize: function(_eventListener) {
this.status = this.STATUS_INITIALIZING;
AIRMobile.listen(AIRMobile.recorder.EVENT_INITIALIZING, document, _eventListener);
AIRMobile.listen(AIRMobile.recorder.EVENT_READY, document, _eventListener);
AIRMobile.listen(AIRMobile.recorder.EVENT_ERROR, document, _eventListener);
AIRMobile.dispatchEvent(this.EVENT_INITIALIZING);
var params = {
identifier: AIRMobile.UUID()
};
AIRMobile.sendToApp(AIRMobile.recorder.CMD_INITIALIZE_RECORDER, JSON.stringify(params, null, true));
return params.identifier;
},
getStatus: function() {
return this.status;
},
getCapabilities: function() {
if (this.status == "unknown") {
throw new Error("Recorder not initialized");
}
return this.capabilities;
},
startCapture: function(_options, _eventListener) {
if (this.status == AIRMobile.recorder.STATUS_IDLE) {
var errorMessage = this.errorMessageForOptions(_options);
if (errorMessage == null) {
_options.identifier = AIRMobile.UUID();
if(!_options.filename)
{
_options.filename = _options.identifier;
}
AIRMobile.listen(this.EVENT_START, document, _eventListener);
AIRMobile.listen(this.EVENT_END, document, _eventListener);
AIRMobile.listen(this.EVENT_INPROGRESS, document, _eventListener);
AIRMobile.listen(this.EVENT_ERROR, document, _eventListener);
this.status = this.STATUS_ACTIVE;
AIRMobile.dispatchEvent(this.EVENT_START);
AIRMobile.sendToApp(AIRMobile.recorder.CMD_START_AUDIO_CAPTURE, JSON.stringify(_options, null, true));
} else {
throw new Error(errorMessage);
}
} else {
throw new Error("Invalid state for recording");
}
return _options.identifier;
},
stopCapture: function() {
var params = {
identifier: AIRMobile.UUID()
};
if (this.status == AIRMobile.recorder.STATUS_ACTIVE) {
AIRMobile.sendToApp(AIRMobile.recorder.CMD_END_AUDIO_CAPTURE, JSON.stringify(params, null, true));
} else {
throw new Error("Recorder not recording");
}
return params.identifier;
},
play: function(_audioData, _eventListener) {
if(_audioData.type == 'filename' && _audioData.data == null)
{
_audioData.data = _audioData.filename;
}
var params = {
identifier: AIRMobile.UUID(),
audioInfo: _audioData
};
if(this.playbackStatus == this.PLAYBACK_STATE_IDLE)
{
AIRMobile.listen(AIRMobile.recorder.EVENT_PLAYBACK_START, document, _eventListener);
AIRMobile.listen(AIRMobile.recorder.EVENT_PLAYBACK_END, document, _eventListener);
AIRMobile.listen(AIRMobile.recorder.EVENT_PLAYBACK_PAUSED, document, _eventListener);
AIRMobile.listen(AIRMobile.recorder.EVENT_PLAYBACK_RESUMED, document, _eventListener);
AIRMobile.listen(AIRMobile.recorder.EVENT_PLAYBACK_STOPPED, document, _eventListener);
AIRMobile.listen(AIRMobile.recorder.EVENT_PLAYBACK_ERROR, document, _eventListener);
AIRMobile.sendToApp(this.CMD_PLAY_AUDIO, JSON.stringify(params, null, true));
return params.identifier;
}
else
{
throw new Error("Audio is already playing");
}
return null;
},
stopPlay: function() {
var params = {
identifier: AIRMobile.UUID()
};
if (this.playbackStatus != this.PLAYBACK_STATE_PLAYING && this.playbackStatus != this.PLAYBACK_STATE_PAUSED) {
AIRMobile.sendToApp(this.CMD_STOP_PLAYBACK, JSON.stringify(params, null, true));
throw new Error("Playback has not begun");
}
AIRMobile.sendToApp(this.CMD_STOP_PLAYBACK, JSON.stringify(params, null, true));
},
pausePlay: function() {
var params = {
identifier: AIRMobile.UUID()
};
if (this.playbackStatus != this.PLAYBACK_STATE_PLAYING) {
throw new Error("Playback has not begun");
}
AIRMobile.sendToApp(this.CMD_PAUSE_PLAYBACK, JSON.stringify(params, null, true));
},
resumePlay: function() {
var params = {
identifier: AIRMobile.UUID()
};
if (this.playbackStatus != this.PLAYBACK_STATE_PAUSED) {
throw new Error("Playback is not paused");
}
AIRMobile.sendToApp(this.CMD_RESUME_PLAYBACK, JSON.stringify(params, null, true));
},
retrieveAudioFile: function(_fileIdentifier, _callback) {
var identifier, params;
if (_callback != null) {
identifier = AIRMobile.UUID();
AIRMobile.callbacks[identifier] = _callback;
params = {
identifier: identifier,
filename: _fileIdentifier
};
}
AIRMobile.sendToApp(this.CMD_REQUEST_AUDIO_FILE, JSON.stringify(params, null, true));
},
clearAudioFileCache: function(_callback) {
var identifier, params;
if (_callback != null) {
identifier = AIRMobile.UUID();
AIRMobile.callbacks[identifier] = _callback;
params = {
identifier: identifier,
};
}
AIRMobile.sendToApp(this.CMD_CLEAR_AUDIO_CACHE, JSON.stringify(params, null, true));
},
retrieveAudioFileList: function(_callback) {
var identifier, params;
if (_callback != null) {
identifier = AIRMobile.UUID();
AIRMobile.callbacks[identifier] = _callback;
params = {
identifier: identifier
};
}
AIRMobile.sendToApp(this.CMD_REQUEST_AUDIO_FILE_LIST, JSON.stringify(params, null, true));
},
errorMessageForOptions: function(_options) {
var results, deviceID, capabilities, device;
results = true;
deviceID = _options.captureDevice;
capabilities = AIRMobile.recorder.getCapabilities();
if (this.isValidDevice(deviceID)) {
device = this.getDevice(deviceID);
if (!this.isValidOption(device.channelCounts, _options.channelCount)) {
return "Invalid channel count for device";
} else if (!this.isValidOption(device.sampleRates, _options.sampleRate)) {
return "Invalid sample rate for device";
} else if (!this.isValidOption(device.sampleSizes, _options.sampleSize)) {
return "Invalid sample size for device";
} else if (!this.isValidOption(device.formats, _options.encodingFormat)) {
return "Invalid format for device";
}
} else {
return "The recording device specified does not exist." + deviceID;
}
return null;
},
getDevice: function(_deviceID) {
var device, capabilities, dev;
device = null;
capabilities = AIRMobile.recorder.getCapabilities();
for (var i = 0; i < capabilities.supportedInputDevices.length; i++) {
dev = capabilities.supportedInputDevices[i];
if (dev.id == _deviceID) {
device = dev;
}
}
return device;
},
isValidDevice: function(_deviceID) {
var valid, capabilities, device;
valid = false;
if (_deviceID != null) {
capabilities = AIRMobile.recorder.getCapabilities();
for (var i = 0; i < capabilities.supportedInputDevices.length; i++) {
device = capabilities.supportedInputDevices[i];
if (device.id == _deviceID) {
valid = true;
}
}
}
return valid;
},
isValidOption: function(_options, _selection) {
var found = false;
for (var i = 0; i < _options.length; i++) {
var option = _options[i];
if (option == _selection) {
found = true;
}
}
return found;
}
};
AIRMobile.ntvOnPlaybackStateChanged = function(_parameters) {
var results = JSON.parse(_parameters, null);
if (results.playbackState == "playing") {
AIRMobile.recorder.playbackStatus = AIRMobile.recorder.PLAYBACK_STATE_PLAYING;
AIRMobile.dispatchEvent(AIRMobile.recorder.EVENT_PLAYBACK_START);
} else if (results.playbackState == "stopped") {
AIRMobile.recorder.playbackStatus = AIRMobile.recorder.PLAYBACK_STATE_IDLE;
AIRMobile.dispatchEvent(AIRMobile.recorder.EVENT_PLAYBACK_STOPPED);
} else if (results.playbackState == "paused") {
AIRMobile.recorder.playbackStatus = AIRMobile.recorder.PLAYBACK_STATE_PAUSED;
AIRMobile.dispatchEvent(AIRMobile.recorder.EVENT_PLAYBACK_PAUSED);
} else if (results.playbackState == "resumed") {
AIRMobile.recorder.playbackStatus = AIRMobile.recorder.PLAYBACK_STATE_PLAYING;
AIRMobile.dispatchEvent(AIRMobile.recorder.EVENT_PLAYBACK_RESUMED);
} else if (results.playbackState == "end") {
AIRMobile.recorder.playbackStatus = AIRMobile.recorder.PLAYBACK_STATE_IDLE;
AIRMobile.dispatchEvent(AIRMobile.recorder.EVENT_PLAYBACK_END);
} else if (results.playbackState == "error") {
AIRMobile.recorder.playbackStatus = AIRMobile.recorder.PLAYBACK_STATE_IDLE;
AIRMobile.dispatchEvent(AIRMobile.recorder.EVENT_PLAYBACK_ERROR);
}
};
AIRMobile.ntvOnRecorderInitialized = function(_parameters) {
var results = JSON.parse(_parameters, null);
var message = null;
if (results.state == null) {
results.state = AIRMobile.recorder.EVENT_ERROR;
}
if (results.state == AIRMobile.recorder.EVENT_ERROR) {
message = results.message != null ? results.message : "An error occured initializing the recorder";
} else if (results.state == AIRMobile.recorder.EVENT_READY) {
AIRMobile.recorder.capabilities = results.capabilities;
AIRMobile.recorder.status = this.recorder.STATUS_IDLE;
}
if (message != null) {
this.dispatchMessageEvent(results.state, message);
} else {
this.dispatchEvent(results.state);
}
};
AIRMobile.ntvOnRecorderUpdate = function(_parameters) {
var results = JSON.parse(_parameters, null);
if (results.updateType == AIRMobile.recorder.EVENT_START) {
AIRMobile.recorder.status = AIRMobile.recorder.STATUS_ACTIVE;
} else if (results.updateType == AIRMobile.recorder.EVENT_INPROGRESS) {
AIRMobile.recorder.status = AIRMobile.recorder.STATUS_ACTIVE;
} else if (results.updateType == AIRMobile.recorder.EVENT_END) {
AIRMobile.recorder.status = AIRMobile.recorder.STATUS_IDLE;
} else if (results.updateType == AIRMobile.recorder.EVENT_ERROR) {
AIRMobile.recorder.status = AIRMobile.recorder.STATUS_ERROR;
}
if (results.updateType == AIRMobile.recorder.EVENT_END) {
var messageData = JSON.stringify(results.data, null, true);
AIRMobile.dispatchMessageEvent(results.updateType, messageData);
} else {
AIRMobile.dispatchEvent(results.updateType);
}
};
AIRMobile.ntvOnAudioFileDataRetrieved = function(_parameters) {
var results = JSON.parse(_parameters, null);
AIRMobile.executeCallback(results);
};
AIRMobile.ntvOnAudioFileListRetrieved = function(_parameters) {
var results = JSON.parse(_parameters, null);
AIRMobile.executeCallback(results);
};
var console = {
log: function(log) {
setTimeout(function() {
AIRMobile.log(JSON.stringify({
type: "info",
value: log
}, null, true));
}, 100);
},
error: function(log) {
setTimeout(function() {
AIRMobile.log(JSON.stringify({
type: "error",
value: log
}, null, true));
}, 100);
},
warn: function(log) {
setTimeout(function() {
AIRMobile.log(JSON.stringify({
type: "warn",
value: log
}, null, true));
}, 100);
},
debug: function(log) {
setTimeout(function() {
AIRMobile.log(JSON.stringify({
type: "debug",
value: log
}, null, true));
}, 100);
},
info: function(log) {
setTimeout(function() {
AIRMobile.log(JSON.stringify({
type: "info",
value: log
}, null, true));
}, 100);
}
};
var diffArr = function(a, b) {
return a.filter(function(i) {
return !(b.indexOf(i) > -1);
});
};
window.AIRMobile = AIRMobile;
this.getNativeBrowser = function () { return AIRMobile; };
}

// FILE: factory.js (c3c9a9d8) 3/7/2014 11:24:13 AM

TDS = window.TDS || {};
TDS.SecureBrowser = TDS.SecureBrowser || {};
(function(SB) {
var sbImpl = null,
sbRecImpl = null;
function initialize() {
if (Util.Browser.isSecure()) {
if (Util.Browser.isIOS()) {
sbImpl = new TDS.SecureBrowser.Mobile.iOS();
} else if (Util.Browser.isAndroid()) {
sbImpl = new TDS.SecureBrowser.Mobile.Android();
} else if (Util.Browser.isChrome()) {
sbImpl = new TDS.SecureBrowser.Chrome();
} else {
sbImpl = new TDS.SecureBrowser.Firefox();
}
} else if (Util.Browser.isChrome()) {
sbImpl = new TDS.SecureBrowser.Chrome();
}
if (sbImpl == null) {
sbImpl = new TDS.SecureBrowser.Base();
}
if (Util.Browser.isSecure()) {
if (Util.Browser.isIOS() || Util.Browser.isAndroid()) {
sbRecImpl = new TDS.SecureBrowser.Mobile.Recorder();
}
}
if (navigator.plugins) {
for (var i = 0; i < navigator.plugins.length; i++) {
var plugin = navigator.plugins[i];
if (plugin.name &&
(plugin.name.indexOf('AIR Audio') == 0               ||
plugin.name == 'libaudiorecorder.so'                   ||
plugin.name == 'libnpAIRAudio.so'                  )) {
sbRecImpl = new TDS.SecureBrowser.Firefox.Recorder();
break;
}
}
}
sbImpl.initialize();
}
SB.initialize = initialize;
SB.getImplementation = function() {
return sbImpl;
};
SB.getRecorder = function() {
return sbRecImpl;
};
})(TDS.SecureBrowser);

// FILE: base.js (ef42597d) 7/23/2014 4:30:37 PM

TDS = window.TDS || {};
TDS.SecureBrowser = TDS.SecureBrowser || {};
TDS.SecureBrowser.Base = function () {
this.Events = {
onSecurityBreach: new YAHOO.util.CustomEvent('onSecurityBreach', this, false, YAHOO.util.CustomEvent.FLAT),
};
};
TDS.SecureBrowser.Base.prototype.initialize = function () { };
TDS.SecureBrowser.Base.prototype.isEnvironmentSecure = function () { return true; };
TDS.SecureBrowser.Base.prototype.clearCache = function () { return false; };
TDS.SecureBrowser.Base.prototype.clearCookies = function () { return false; };
TDS.SecureBrowser.Base.prototype.clearHistory = function () {
this.clearCache();
this.clearCookies();
};
TDS.SecureBrowser.Base.prototype.emptyClipBoard = function () { return false; };
TDS.SecureBrowser.Base.prototype.getMACAddress = function() { return null; };
TDS.SecureBrowser.Base.prototype.getIPAddressList = function (bypassCache) { return []; };
TDS.SecureBrowser.Base.prototype.getIPAddress = function (bypassCache) {
var addressList = this.getIPAddressList();
if (addressList != null && addressList.length > 0) return addressList[0];
return null;
};
TDS.SecureBrowser.Base.prototype.loadProcessList = function () { return false; };
TDS.SecureBrowser.Base.prototype.getProcessList = function () { return []; };
TDS.SecureBrowser.Base.prototype.getForbiddenApps = function () {
var currentForbiddenApps = [];
if (typeof (TDS) != 'object' ||
typeof (TDS.Config) != 'object' ||
typeof (TDS.Config.forbiddenApps) != 'object' ||
(TDS.Config.forbiddenApps == null)) {
return currentForbiddenApps;
}
var processList = this.getProcessList();
if (processList) {
Util.Array.each(processList, function (processName) {
var matchingApp = Util.Array.find(TDS.Config.forbiddenApps, function (forbiddenApp) {
return Util.String.equals(forbiddenApp.name, processName, {
trim: true,
ignoreCase: true
});
});
if (matchingApp != null) {
currentForbiddenApps.push(matchingApp);
}
});
}
return currentForbiddenApps;
};
TDS.SecureBrowser.Base.prototype.fixFocus = function () {
return false;
};
TDS.SecureBrowser.Base.prototype.close = function () {
if (typeof TDS.logout == 'function') TDS.logout();
return false;
};
TDS.SecureBrowser.Base.prototype.getAppStartTime = function () {
if (window.sessionStorage.getItem("appStartTime") != null) {
return Date.parse(window.sessionStorage.getItem("appStartTime"));
}
return null;
};
TDS.SecureBrowser.Base.prototype.setAppStartTime = function (timestamp, forceSet) {
if (forceSet || this.getAppStartTime() == null) {
window.sessionStorage.setItem("appStartTime", timestamp);
}
};
TDS.SecureBrowser.Base.prototype.isSpacesEnabled = function () {
return false;
};
TDS.SecureBrowser.Base.prototype.javaSetup = function() {
return false;
};
TDS.SecureBrowser.Base.prototype.getRunTime = function () {
return null;
};
TDS.SecureBrowser.Base.prototype.enableLockDown = function(lockDown) {
return false;
};
TDS.SecureBrowser.Base.prototype.mute = function() {
return false;
};
TDS.SecureBrowser.Base.prototype.unmute = function() {
return false;
};
TDS.SecureBrowser.Base.prototype.isMuted = function() {
return false;
};
TDS.SecureBrowser.Base.prototype.enablePermissiveMode = function (enabled) { };
TDS.SecureBrowser.Base.prototype.enableChromeMode = function (enabled) {
};
TDS.SecureBrowser.Base.prototype.getVolume = function () {
return -1;
};
TDS.SecureBrowser.Base.prototype.setVolume = function (percent) {
return false;
};

// FILE: base.recorder.js (bfcc1bd9) 3/7/2014 11:24:13 AM

(function(SB) {
var Event = {
DEVICE_INITIALIZING: "INITIALIZING",
DEVICE_READY: "READY",
DEVICE_ERROR: "ERROR",
CAPTURE_START: "START",
CAPTURE_INPROGRESS: "INPROGRESS",
CAPTURE_END: "END",
PLAYBACK_START: "PLAYBACK_START",
PLAYBACK_END: "PLAYBACK_END",
PLAYBACK_PAUSED: "PLAYBACK_PAUSED",
PLAYBACK_RESUMED: "PLAYBACK_RESUMED",
PLAYBACK_STOPPED: "PLAYBACK_STOPPED",
PLAYBACK_ERROR: "PLAYBACK_ERROR",
STATUS_IDLE: "IDLE",
STATUS_ACTIVE: "ACTIVE",
STATUS_INITIALIZING: "INITIALIZING",
STATUS_ERROR: "ERROR",
STATUS_STOPPING: "STOPPING"
};
var Recorder = function() {
};
Recorder.Event = Event;
Recorder.prototype.initialize = function(eventListener) {
};
Recorder.prototype.getStatus = function() {
return 'UNKNOWN';
};
Recorder.prototype.getCapabilities = function() {
return null;
};
Recorder.prototype.getDefaultOptions = function() {
return {};
};
Recorder.prototype.startCapture = function(options, eventListener) {
};
Recorder.prototype.stopCapture = function() {
};
Recorder.prototype.play = function(audioData, eventListener) {
};
Recorder.prototype.stopPlay = function() {
};
Recorder.prototype.pausePlay = function() {
};
Recorder.prototype.resumePlay = function() {
};
Recorder.prototype.loadAudioFile = function(fileIdentifier, callback) {
};
Recorder.prototype.retrieveAudioFileList = function(fileIdentifier, callback) {
};
Recorder.prototype.retrieveAudioFile = function(fileIdentifier, callback) {
};
Recorder.prototype.clearAudioFileCache = function(callback) {
};
Recorder.prototype.getLogs = function() {
return [];
};
SB.Base.Recorder = Recorder;
})(TDS.SecureBrowser);

// FILE: firefox.js (812c369e) 7/23/2014 4:30:37 PM

TDS.SecureBrowser.Firefox = function () {
TDS.SecureBrowser.Firefox.superclass.constructor.call(this);
this.runtime = null;
this._ignoringBreachEvents = null;
};
YAHOO.lang.extend(TDS.SecureBrowser.Firefox, TDS.SecureBrowser.Base);
TDS.SecureBrowser.Firefox.prototype.initialize = function () {
try {
if (typeof (Runtime) == 'function') {
this.runtime = new Runtime();
} else {
var success = Mozilla.execPrivileged(function () {
var sbClass = Components.classes["@mozilla.org/securebrowser;1"];
if (sbClass) {
this.runtime = sbClass.createInstance(Components.interfaces.mozISecureBrowser);
}
}.bind(this));
if (!success) {
console.log('SB runtime component failed to load');
}
}
if (!this.runtime) return;
YUE.on(window, 'beforeunload', this.dispose.bind(this));
this.enableSecurityBreachDetection();
}
catch (ex) { }
};
TDS.SecureBrowser.Firefox.prototype.dispose = function () {
if (this.runtime != null) {
delete this.runtime;
this.runtime = null;
}
this.disableSecurityBreachDetection();
};
TDS.SecureBrowser.Firefox.prototype._hasAPI = function () {
return (typeof (SecureBrowser) != 'undefined');
};
TDS.SecureBrowser.Firefox.prototype._hasRuntime = function () {
return (this.runtime != null);
};
TDS.SecureBrowser.Firefox.prototype.clearCache = function () {
try {
if (this._hasAPI()) {
SecureBrowser.clearCache();
return true;
}
}
catch (ex) { }
return false;
};
TDS.SecureBrowser.Firefox.prototype.clearCookies = function () {
try {
if (this._hasAPI()) {
SecureBrowser.clearCookies();
return true;
}
}
catch (ex) { }
return false;
};
TDS.SecureBrowser.Firefox.prototype.emptyClipBoard = function () {
try {
if (this._hasAPI()) {
SecureBrowser.emptyClipBoard();
return true;
}
}
catch (ex) { }
return false;
};
TDS.SecureBrowser.Firefox.prototype.getMACAddress = function () {
var mac = null;
try {
if (this._hasRuntime()) {
mac = this.runtime.getMACAddress();
mac.toUpperCase();
}
}
catch (e) { }
return mac;
};
TDS.SecureBrowser.Firefox.prototype. _getIPAddressList = function(bypassCache)
{
if (!this._hasRuntime()) return null;
if (!YAHOO.util.Lang.isBoolean(bypassCache)) bypassCache = false;
var dnsService = Components.classes["@mozilla.org/network/dns-service;1"].getService(Components.interfaces.nsIDNSService);
var record = dnsService.resolve(dnsService.myHostName, bypassCache);
var addressList = [];
while (record.hasMore())
{
var address = record.getNextAddrAsString();
addressList.push(address);
}
return addressList;
};
TDS.SecureBrowser.Firefox.prototype.getIPAddressList = function (bypassCache) {
var addressList = null;
try {
addressList = this._getIPAddressList(bypassCache);
}
catch (ex) { }
return addressList;
};
TDS.SecureBrowser.Firefox.prototype.getProcessList = function (allowDups) {
var processList = [];
if (this._hasRuntime()) {
try {
var processString = this.runtime.getRunningProcessList();
processList = processString.split(',');
}
catch (e) { }
}
for (var i = 0; i < processList.length; i++) {
processList[i] = YAHOO.lang.trim(processList[i]).toLowerCase();
}
processList = (allowDups === true) ? processList : Util.Array.unique(processList);
return processList;
};
TDS.SecureBrowser.Firefox.prototype.fixFocus = function () {
var stopIgnoringBreachEvents = function () {
this._ignoringBreachEvents = null;
Util.log("Resuming breach detection");
};
if (this._ignoringBreachEvents) {
clearTimeout(this._ignoringBreachEvents);
}
this._ignoringBreachEvents = setTimeout(stopIgnoringBreachEvents.bind(this), 1000);
Util.log("Suspending breach detection");
try {
netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
var wm = Components.classes["@mozilla.org/appshell/window-mediator;1"].getService(Components.interfaces.nsIWindowMediator);
var w = wm.getMostRecentWindow("navigator:browser");
var hiddenWindowRef = w.openDialog("chrome://bmakiosk/content/hiddenWindow.xul", "hidden", "alwaysLowered=yes,titlebar=no");
setTimeout(function () {
if (hiddenWindowRef != null) {
hiddenWindowRef.close();
}
hiddenWindowRef = null;
}, 1);
Util.log('SecureBrowser: Fixed focus success');
return true;
}
catch (ex) {
Util.log('SecureBrowser: Fixed focus failed - ' + ex);
}
return false;
};
TDS.SecureBrowser.Firefox.prototype.close = function () {
try {
this.javaTearDown();
} catch(ex) {
}
if (Util.Browser.isMac() && (Util.Browser.getOSXVersion() >= 10.8) && (Util.Browser.getSecureVersion() <= 6.2)) {
var screenshotsEnabled = Mozilla.enableScreenshots();
if (screenshotsEnabled) Util.log('Screenshots are enabled.');
else Util.log('Screenshots are not enabled.');
}
try { SecureBrowser.CloseWindow(); } catch (ex) { }
try {
this.focus(); self.opener = this; window.open('', '_parent', ''); window.close();
}
catch (ex) { }
};
TDS.SecureBrowser.Firefox.prototype.getAppStartTime = function () {
try {
var startTimePref = Mozilla.getPreference("bmakiosk.startup.timestamp");
if (startTimePref != null) return Date.parse(startTimePref);
} catch (e) {
}
if (window.sessionStorage.getItem("appStartTime") != null) {
return Date.parse(window.sessionStorage.getItem("appStartTime"));
}
return null;
};
TDS.SecureBrowser.Firefox.prototype.isSpacesEnabled = function() {
var prefValue = Mozilla.getPreference('bmakiosk.spaces.enabled');
return (YAHOO.lang.isBoolean(prefValue)) ? prefValue : false;
};
TDS.SecureBrowser.Firefox.prototype.javaSetup = function () {
var hostURL = window.location.hostname;
var protocol = window.location.protocol;
var serverURL = protocol + "//" + hostURL;
this._grantAppletFromURLFullPrivileges(serverURL);
var appStartTime = Util.SecureBrowser.getAppStartTime();
var javaMarkerFile = ".securebrowser_" + (appStartTime == null ? "0" : appStartTime);
var folderDeleteStatus = this._deleteSunFolder(false, true, javaMarkerFile);
if (!folderDeleteStatus.hadError && folderDeleteStatus.folderdeleted) {
var certFileURL = TDS.resolveBaseUrl('Shared/Applets/trusted.certs.bin');
var trustedCertsFiles = this._getTrustedCertStores();
if (!trustedCertsFiles.hadError) {
for (var i = 0; i < trustedCertsFiles.returnValue.length; i++) {
var certStore = trustedCertsFiles.returnValue[i];
this._downloadFile(certFileURL, certStore);
}
}
}
if (!folderDeleteStatus.hadError && folderDeleteStatus.folderdeleted) {
var deploymentPropertiesFileUrl = TDS.resolveBaseUrl('Shared/Applets/deployment.properties.bin');
var deploymentPropertiesFiles = this._getDeploymentPropertiesFile();
if (!deploymentPropertiesFiles.hadError) {
for (var i = 0; i < deploymentPropertiesFiles.returnValue.length; i++) {
var deploymentPropertiesFile = deploymentPropertiesFiles.returnValue[i];
this._downloadFile(deploymentPropertiesFileUrl, deploymentPropertiesFile);
}
}
}
};
TDS.SecureBrowser.Firefox.prototype.javaTearDown = function () {
this._deleteSunFolder(true, false, null);
};
TDS.SecureBrowser.Firefox.prototype._getSunFolderList = function () {
try {
netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
} catch (e) {
return { hadError: true, errorString: "UniversalXPConnect denied. Exception = " + e.message };
}
var sunDir = [];
try {
var platform = navigator.platform.toLowerCase();
if (platform.indexOf('win') >= 0) {
var appDataCurrent = DirIO.get('AppData');
if (appDataCurrent.path.toLowerCase().indexOf('appdata') < 0) {
sunDir[0] = appDataCurrent.path + DirIO.sep + "Sun";
} else {
sunDir[0] = appDataCurrent.parent.path + DirIO.sep + "LocalLow" + DirIO.sep + "Sun";
}
} else if (platform.indexOf('linux') >= 0) {
var homeDir = DirIO.get("Home");
sunDir[0] = homeDir.path + DirIO.sep + ".java";
} else if (platform.indexOf('mac') >= 0) {
var homeDir = DirIO.get("Home");
sunDir[0] = homeDir.path + DirIO.sep + "Library" + DirIO.sep + "Caches" + DirIO.sep + "Java Applets";
sunDir[1] = homeDir.path + DirIO.sep + "Library" + DirIO.sep + "Caches" + DirIO.sep + "Java";
sunDir[2] = homeDir.path + DirIO.sep + "Library/Application\ Support/Oracle/Java/Deployment";
}
} catch (e) {
return { hadError: true, errorString: "Could not determine Sun folder. Exception = " + e.message };
}
return { hadError: false, returnValue: sunDir };
};
TDS.SecureBrowser.Firefox.prototype._getTrustedCertStores = function () {
var sunFolderListHolder = this._getSunFolderList();
if (sunFolderListHolder.hadError) return { hadError: true, errorString: "Could not determine Sun folder." };
var certStoreList = [];
var platform = navigator.platform.toLowerCase();
for (var i = 0; i < sunFolderListHolder.returnValue.length; i++) {
if (platform.indexOf('win') >= 0) {
certStoreList.push(sunFolderListHolder.returnValue[i] + DirIO.sep + 'Java' + DirIO.sep + 'Deployment' + DirIO.sep + 'security' + DirIO.sep + 'trusted.certs');
} else if (platform.indexOf('linux') >= 0) {
certStoreList.push(sunFolderListHolder.returnValue[i] + DirIO.sep + 'deployment' + DirIO.sep + 'security' + DirIO.sep + 'trusted.certs');
} else if (platform.indexOf('mac') >= 0) {
certStoreList.push(sunFolderListHolder.returnValue[i] + DirIO.sep + 'security' + DirIO.sep + 'trusted.certs');
}
}
return { hadError: false, returnValue: certStoreList };
};
TDS.SecureBrowser.Firefox.prototype._getDeploymentPropertiesFile = function () {
var sunFolderListHolder = this._getSunFolderList();
if (sunFolderListHolder.hadError) return { hadError: true, errorString: "Could not determine Sun folder." };
var depPropFilesList = [];
var platform = navigator.platform.toLowerCase();
for (var i = 0; i < sunFolderListHolder.returnValue.length; i++) {
if (platform.indexOf('win') >= 0) {
depPropFilesList.push(sunFolderListHolder.returnValue[i] + DirIO.sep + 'Java' + DirIO.sep + 'Deployment' + DirIO.sep + 'deployment.properties');
} else if (platform.indexOf('linux') >= 0) {
depPropFilesList.push(sunFolderListHolder.returnValue[i] + DirIO.sep + 'deployment' + DirIO.sep + 'deployment.properties');
} else if (platform.indexOf('mac') >= 0) {
depPropFilesList.push(sunFolderListHolder.returnValue[i] + DirIO.sep + 'deployment.properties');
}
}
return { hadError: false, returnValue: depPropFilesList };
};
TDS.SecureBrowser.Firefox.prototype._deleteSunFolder = function (forceDelete, recreateandMarkFolder, markerName) {
try {
netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
} catch (e) {
return { hadError: true, errorString: "UniversalXPConnect denied. Exception = " + e.message };
}
try {
var sunDir = [];
var platform = navigator.platform.toLowerCase();
if (platform.indexOf('win') >= 0) {
var appDataCurrent = DirIO.get('AppData');
if (appDataCurrent.path.toLowerCase().indexOf('appdata') < 0) {
sunDir[0] = appDataCurrent.path + DirIO.sep + "Sun";
} else {
sunDir[0] = appDataCurrent.parent.path + DirIO.sep + "LocalLow" + DirIO.sep + "Sun";
}
} else if (platform.indexOf('linux') >= 0) {
var homeDir = DirIO.get("Home");
sunDir[0] = homeDir.path + DirIO.sep + ".java";
} else if (platform.indexOf('mac') >= 0) {
var homeDir = DirIO.get("Home");
sunDir[0] = homeDir.path + DirIO.sep + "Library" + DirIO.sep + "Caches" + DirIO.sep + "Java Applets";
sunDir[1] = homeDir.path + DirIO.sep + "Library" + DirIO.sep + "Caches" + DirIO.sep + "Java";
sunDir[2] = homeDir.path + DirIO.sep + "Library/Application\ Support/Oracle/Java/Deployment";
}
var folderCreatedBySB = true;
var markerFileName = (navigator.userAgent.indexOf('AIRSecureBrowser') != -1) ? '.SecureBrowser' : '.' + navigator.appCodeName;
if (markerName != null) markerFileName = markerName;
for (var counter1 = 0; counter1 < sunDir.length; counter1++) {
var fileIn = FileIO.open(sunDir[counter1] + DirIO.sep + markerFileName);
if (!fileIn.exists()) {
folderCreatedBySB = false;
}
}
if (folderCreatedBySB && !forceDelete) {
return { hadError: false, errorString: "No need to delete the Sun folder. This browser created it" };
}
for (var counter1 = 0; counter1 < sunDir.length; counter1++) {
var directory = DirIO.open(sunDir[counter1]);
if (directory && directory.exists()) {
var filesInDir = DirIO.read(directory, true);
for (var counter2 = 0; filesInDir && counter2 < filesInDir.length; counter2++) {
var tmpFile = FileIO.open(filesInDir[counter2]);
if (tmpFile.isFile())
tmpFile.permissions = 438;
}
directory.remove(true);
}
}
if (recreateandMarkFolder) {
for (var counter1 = 0; counter1 < sunDir.length; counter1++) {
var directory = DirIO.open(sunDir[counter1]);
DirIO.create(directory);
var fileIn = FileIO.open(sunDir[counter1] + DirIO.sep + markerFileName);
FileIO.create(fileIn);
}
}
} catch (e) {
return { hadError: true, errorString: "UniversalXPConnect granted but still could not drop Sun folder. Exception = " + e.message };
}
if (recreateandMarkFolder)
return { hadError: false, errorString: "Successfully dropped and recreated the Sun folder(s)", folderdeleted: true };
else
return { hadError: false, errorString: "Successfully dropped the Sun folder(s)", folderdeleted: true };
};
TDS.SecureBrowser.Firefox.prototype._grantAppletFromURLFullPrivileges = function (siteURL) {
try {
netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
} catch (e) {
return { hadError: true, errorString: "UniversalXPConnect denied. Exception = " + e.message };
}
var homeDir, javaPolicyFile;
try {
homeDir = DirIO.get("Home");
javaPolicyFile = FileIO.open(homeDir.path + DirIO.sep + ".java.policy");
if (!javaPolicyFile || !javaPolicyFile.exists()) {
FileIO.create(javaPolicyFile);
FileIO.write(javaPolicyFile, "// Created by SB for ELPA \n");
}
} catch (e) {
return { hadError: true, errorString: "UniversalXPConnect obtained but still could not create/open .java.policy file. Exception = " + e.message };
}
var fileUpdated = false;
try {
var contents = FileIO.read(javaPolicyFile);
if (!siteURL.match("/$")) {
siteURL += "/";
}
var policyString = 'grant codebase "' + siteURL + '-" { permission java.security.AllPermission; };';
if (contents.indexOf(policyString) == -1) {
contents += policyString;
contents += "\n";
fileUpdated = true;
}
if (fileUpdated) {
FileIO.write(javaPolicyFile, contents);
}
} catch (e) {
return { hadError: true, errorString: "Could not update .java.policy file. Exception = " + e.message };
}
return { hadError: false, errorString: ".java.policy file successfully updated" };
};
TDS.SecureBrowser.Firefox.prototype._downloadFile = function (sourceURL, localDestPath) {
try {
netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
} catch (e) {
return { hadError: true, errorString: "UniversalXPConnect denied. Exception = " + e.message };
}
try {
var obj_URI = Components.classes["@mozilla.org/network/io-service;1"].getService(Components.interfaces.nsIIOService).newURI(sourceURL, null, null);
var objTargetFile = FileIO.open(localDestPath);
if (!objTargetFile.exists()) {
FileIO.create(objTargetFile);
}
var obj_Persist = Components.classes["@mozilla.org/embedding/browser/nsWebBrowserPersist;1"].createInstance(Components.interfaces.nsIWebBrowserPersist);
var nsIWBP = Components.interfaces.nsIWebBrowserPersist;
var flags = nsIWBP.PERSIST_FLAGS_REPLACE_EXISTING_FILES;
obj_Persist.persistFlags = flags | nsIWBP.PERSIST_FLAGS_FROM_CACHE;
obj_Persist.saveURI(obj_URI, null, null, null, null, objTargetFile);
} catch (e) {
return { hadError: true, errorString: "UniversalXPConnect denied. Exception = " + e.message };
}
return { hadError: false, errorString: sourceURL + "successfully saved to " + localDestPath };
};
TDS.SecureBrowser.Firefox.prototype._hasNativeMute = function () {
var winVer = Util.Browser.getWindowsNTVersion();
return (winVer >= 6.0 && typeof this.runtime.systemMute == 'boolean');
};
TDS.SecureBrowser.Firefox.prototype.mute = function () {
try {
if (this._hasRuntime()) {
if (this._hasNativeMute()) {
console.log('mute native');
this.runtime.systemMute = true;
return true;
} else if (this.runtime.systemVolume != null) {
console.log('mute volume');
Util.Storage.set('tds-mutedVolume', this.runtime.systemVolume);
this.runtime.systemVolume = 0;
return true;
}
}
} catch (ex) {
console.error(ex);
}
return false;
};
TDS.SecureBrowser.Firefox.prototype.unmute = function () {
try {
if (this._hasRuntime()) {
if (this._hasNativeMute()) {
console.log('unmute native');
this.runtime.systemMute = false;
return true;
} else if (this.runtime.systemVolume === 0) {
var mutedVolume = Util.Storage.get('tds-mutedVolume');
if (mutedVolume) {
console.log('unmute volume: ' + mutedVolume);
this.runtime.systemVolume = mutedVolume;
return true;
}
}
}
} catch (ex) {
console.error(ex);
}
return false;
};
TDS.SecureBrowser.Firefox.prototype.isMuted = function () {
try {
if (this._hasRuntime()) {
if (this._hasNativeMute()) {
return (this.runtime.systemMute === true);
} else {
return (this.runtime.systemVolume === 0);
}
}
} catch (ex) {
console.error(ex);
}
return false;
};
TDS.SecureBrowser.Firefox.prototype.getVolume = function (checkMute) {
try {
if (this._hasRuntime()) {
if (checkMute && this.isMuted()) {
return 0;
} else {
return this.runtime.systemVolume * 10;
}
}
} catch (ex) {
console.error(ex);
}
return -1;
};
TDS.SecureBrowser.Firefox.prototype.setVolume = function (percent, checkMute) {
try {
if (this._hasRuntime()) {
var level = Math.round(percent / 10);
console.log('set volume: ' + level);
this.runtime.systemVolume = level;
if (checkMute && percent > 0 && this.isMuted()) {
this.unmute();
}
return true;
}
} catch (ex) {
console.error(ex);
}
return false;
};
TDS.SecureBrowser.Firefox.prototype.enablePermissiveMode = function (enabled) {
var changed = false;
try {
if (this._hasRuntime() &&
typeof this.runtime.permissive == 'boolean') {
this.runtime.permissive = enabled;
changed = true;
}
}
catch (ex) { }
if (changed && Util.Browser.isMac()) {
var availWidth = screen.availWidth;
var availHeight = screen.availHeight;
Mozilla.resizeWindowTo(availWidth, availHeight);
}
return changed;
};
TDS.SecureBrowser.Firefox.prototype.enableChromeMode = function (enabled) {
try {
if (typeof SecureBrowser == 'object' &&
typeof SecureBrowser.showChrome == 'function') {
SecureBrowser.showChrome(enabled);
return true;
}
}
catch (ex) {}
return false;
};
TDS.SecureBrowser.Firefox.prototype.enableSecurityBreachDetection = function () {
var self = this;
var observer =
{
QueryInterface: function(iid) {
if (iid.equals(Components.interfaces.nsISupports) ||
iid.equals(Components.interfaces.nsIObserver))
return this;
throw Components.results.NS_ERROR_NO_INTERFACE;
},
observe: function(subject, topic, data) {
if (topic == "sb-security-breach" && !self._ignoringBreachEvents) {
Util.log('Security breach detected!');
var notification = { type: 'sb-security-breach', message: 'Event from SB' };
self.Events.onSecurityBreach.fire(notification);
}
}
};
try {
netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
var os = Components.classes["@mozilla.org/observer-service;1"].getService(Components.interfaces.nsIObserverService);
os.addObserver(observer, "sb-security-breach", false);
Util.log('Listening for sb-security-breach events');
} catch(e) {
Util.log(e.message);
}
};
TDS.SecureBrowser.Firefox.prototype.disableSecurityBreachDetection = function () {
try {
netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
var os = Components.classes["@mozilla.org/observer-service;1"].getService(Components.interfaces.nsIObserverService);
var observers = os.enumerateObservers('sb-security-breach');
while (observers.hasMoreElements()) {
os.removeObserver(observers.getNext(), 'sb-security-breach');
}
Util.log('Removing all observers for sb-security-breach events');
} catch (e) {
Util.log(e.message);
}
};

// FILE: firefox.recorder.js (fb7be3d0) 7/23/2014 4:30:37 PM

(function (SB) {
var logs = [];
function addLog(msg) {
var log = {
timestamp: new Date(),
message: msg
};
logs.push(log);
}
var Event = SB.Base.Recorder.Event;
var api = null;
var currentListener = null;
var currentFile = null;
function isPPC() {
return (Util.Browser.getSecureVersion() >= 5.6 &&
Util.Browser.getSecureVersion() <= 5.9);
}
var observerService = null;
function getEventType(type) {
switch (type) {
case 'AUDIOERROR': return Event.DEVICE_ERROR;
case 'PLAYSTART': return Event.PLAYBACK_START;
case 'PLAYSTOP': return Event.PLAYBACK_STOPPED;
case 'PLAYPAUSED': return Event.PLAYBACK_PAUSED;
case 'PLAYRESUMED': return Event.PLAYBACK_RESUMED;
default: return type;
}
}
function getAudioFileList() {
var listValue = Util.Storage.get('recorder-list');
if (listValue) {
return listValue;
} else {
return [];
}
}
function getAudioFile(filename) {
return Util.Storage.get('recorder-data-' + filename);
}
function setAudioFile(fileIdentifier, obj) {
var list = getAudioFileList();
list.push(fileIdentifier);
Util.Storage.set('recorder-list', list);
if (!Util.String.contains(obj.data, '"filename"')) {
obj.data = obj.data.replace('"qualityIndicator"', '"filename" : "' + fileIdentifier + '",\n"qualityIndicator"');
}
obj.data = obj.data.replace(/\n/g, '');
Util.Storage.setString('recorder-data-' + fileIdentifier, obj.data);
}
var recordTimer = null;
function startRecordTimer(duration            ) {
recordTimer = YAHOO.lang.later(duration * 1000, this, checkRecordTimer);
}
function stopRecordTimer() {
if (recordTimer) {
recordTimer.cancel();
recordTimer = null;
}
}
function checkRecordTimer() {
recordTimer = null;
if (api.getStatus() == 'ACTIVE') {
api.stopCapture();
}
}
function processEvent(evt) {
if (evt.type == 'AUDIOERROR') {
var status = api.getStatus();
addLog('Error: \'' + evt.detail + '\' (' + status + ')');
if (status == 'ERRORSTAT') {
console.error('SB Recorder Error: \'' + evt.detail + '\'');
} else {
console.warn('SB Recorder Warn: \'' + evt.detail + '\'');
return;
}
} else if (evt.type != 'INPROGRESS') {
console.log('SB Recorder Event: \'' + evt.type + '\'');
addLog('Event: \'' + evt.type + '\'');
}
var obj = {
type: getEventType(evt.type),
data: (evt.detail || null)
};
if (typeof currentListener == 'function') {
(function (eventListener) {
setTimeout(function () {
eventListener(obj);
}, 0);
})(currentListener);
}
if (obj.type == 'END') {
stopRecordTimer();
setAudioFile(currentFile, obj);
}
}
var eventNames = [
'INITIALIZING', 'READY', 'AUDIOERROR',
'START', 'INPROGRESS', 'END',
'PLAYSTART', 'PLAYSTOP', 'PLAYPAUSED', 'PLAYRESUMED'
];
var AudioRecorderObserver = {
observe: function (subject, topic, data) {
var obj = { type: topic };
if (topic == "END") {
obj = { type: topic, data: "", detail: data };
}
processEvent(obj);
}
};
function addListeners(doc) {
if (isPPC()) {
for (var i = 0; i < eventNames.length; i++) {
observerService.addObserver(AudioRecorderObserver, eventNames[i], false);
}
} else {
for (var i = 0; i < eventNames.length; i++) {
YUE.addListener(doc, eventNames[i], processEvent, this, true);
}
}
}
function removeListeners(doc) {
if (isPPC()) {
for (var i = 0; i < eventNames.length; i++) {
observerService.removeObserver(AudioRecorderObserver, eventNames[i]);
}
} else {
for (var i = 0; i < eventNames.length; i++) {
YUE.removeListener(doc, eventNames[i], processEvent, this, true);
}
}
}
function createAPI() {
addLog('API: Creating');
var embed = Util.Frame.injectEmbed('recorderFrame', 'application/airaudio');
if (isPPC()) {
var embedDoc = Util.Dom.getOwnerDocument(embed);
var embedWin = Util.Dom.getWindow(embedDoc);
var embedComponents = embedWin.Components;
observerService = embedComponents.classes["@mozilla.org/observer-service;1"].getService(embedComponents.interfaces.nsIObserverService);
embedWin.AudioRecorderObserverService = observerService;
}
addListeners(Util.Dom.getOwnerDocument(embed));
addLog('API: Created');
return embed;
}
function removeAPI() {
addLog('API: Removing');
try {
api.clean();
} catch(ex) {
console.error(ex);
}
var apiDoc = Util.Dom.getOwnerDocument(api);
var apiWin = Util.Dom.getWindow(apiDoc);
removeListeners(apiDoc);
Util.Dom.removeNode(api);
if (apiWin.frameElement) {
Util.Dom.removeNode(apiWin.frameElement);
}
api = null;
addLog('API: Removed');
}
function Recorder() {
Recorder.superclass.constructor.call(this);
}
YAHOO.lang.extend(Recorder, TDS.SecureBrowser.Base.Recorder);
Recorder.prototype.getNative = function() {
return api;
};
Recorder.prototype.dispose = function() {
removeAPI();
};
Recorder.prototype.getLogs = function () {
return logs;
};
Recorder.prototype.initialize = function (eventListener) {
var delay = 0;
if (api) {
delay = 500;
try {
var status = api.getStatus();
if (status == 'ACTIVE') {
api.stopCapture();
} else if (status == 'PLAYING') {
api.stopPlay();
}
} catch(ex) {
console.error(ex);
}
}
currentListener = eventListener;
setTimeout(function () {
if (api) {
removeAPI();
}
setTimeout(function () {
addLog('API: Initialize');
api = createAPI();
if (api && api.initialize) {
api.initialize();
} else {
console.error('Could not call initialize on the recorder API.');
}
}, delay);
}, delay);
};
Recorder.prototype.getCapabilities = function () {
var str = api.getCapabilities();
if (str && str.length > 0) {
addLog('API: Capabilities: ' + str);
return JSON.parse(str);
} else {
return null;
}
};
Recorder.prototype.getStatus = function () {
return api.getStatus();
};
Recorder.prototype.startCapture = function (options, eventListener) {
currentListener = eventListener;
if (options.filename) {
currentFile = options.filename;
} else {
currentFile = Util.String.getUUID() + '.' + options.encodingFormat.toLowerCase();
}
if (options.captureLimit) {
if (options.captureLimit.size) {
options.captureLimit.type = 'size';
options.captureLimit.limit = options.captureLimit.size;
}
else if (options.captureLimit.duration) {
options.captureLimit.type = 'time';
options.captureLimit.limit = 99999;
}
}
var optionsStr = JSON.stringify(options);
addLog('Action: Start Capture \'' + currentFile + '\' (' + optionsStr + ')');
api.startCapture(optionsStr, eventListener);
if (options.captureLimit && options.captureLimit.duration > 0) {
startRecordTimer(options.captureLimit.duration);
}
};
Recorder.prototype.stopCapture = function () {
addLog('Action: Stop Capture');
api.stopCapture();
};
Recorder.prototype.play = function (audioData, eventListener) {
currentListener = eventListener;
if (audioData.type == 'filename') {
var audioFile = getAudioFile(audioData.filename);
if (audioFile == null) {
throw new Error('Could not find audio file: ' + audioData.filename);
}
audioData.data = audioFile.base64;
}
addLog('Action: Play \'' + audioData.filename + '\'');
api.play(JSON.stringify(audioData));
};
Recorder.prototype.stopPlay = function () {
addLog('Action: Stop Play');
api.stopPlay();
};
Recorder.prototype.pausePlay = function () {
addLog('Action: Pause Play');
api.pausePlay();
};
Recorder.prototype.resumePlay = function () {
addLog('Action: Resume Play');
api.resumePlay();
};
Recorder.prototype.loadAudioFile = function (fileIdentifier, base64, eventListener) {
var obj = {
data: '{ "base64": "' + base64 + '" }'
};
setAudioFile(fileIdentifier, obj);
if (eventListener) {
setTimeout(function () {
eventListener();
}, 0);
}
};
Recorder.prototype.retrieveAudioFileList = function (eventListener) {
var list = getAudioFileList();
if (eventListener) {
setTimeout(function () {
eventListener(list);
}, 0);
} else {
return list;
}
return true;
};
Recorder.prototype.retrieveAudioFile = function (fileIdentifier, eventListener) {
var data = getAudioFile(fileIdentifier);
if (eventListener) {
setTimeout(function () {
eventListener(data);
}, 0);
} else {
return data;
}
return true;
};
Recorder.prototype.clearAudioFileCache = function (eventListener) {
var list = getAudioFileList();
for (var i = 0; i < list.length; i++) {
Util.Storage.remove('recorder-data-' + list[i]);
}
Util.Storage.remove('recorder-list');
if (eventListener) {
setTimeout(function () {
eventListener();
}, 0);
}
};
SB.Firefox.Recorder = Recorder;
YUE.on(window, 'beforeunload', function () {
if(api && typeof api.clean == 'function') {
if(Util.Browser.isMacPPC()) {
var audioStatus = api.getStatus();
if(audioStatus=="ACTIVE") {
api.stopCapture();
var audioList = getAudioFileList();
var lastFileId = audioList.pop();
if(lastFileId) {
var audioData = {
type: 'filename',
filename: lastFileId
};
Recorder.prototype.play(audioData);
Recorder.prototype.stopPlay();
}
}
}
api.clean();
}
});
})(TDS.SecureBrowser);

// FILE: chrome.js (876c24ab) 5/2/2014 12:55:58 PM

TDS.SecureBrowser.Chrome = function () {
};
YAHOO.lang.extend(TDS.SecureBrowser.Chrome, TDS.SecureBrowser.Base);
TDS.SecureBrowser.Chrome.prototype.enableLockDown = function (lockDown) {
TDS.AppWindow.postMessage({ type: "CHROME COMMAND", command: "UI FULLSCREEN", params: { enable: lockDown, interval: 500 } }, "*");
};
TDS.SecureBrowser.Chrome.prototype.close = function () {
TDS.AppWindow.postMessage({ type: "CHROME COMMAND", command: "APP CLOSE", params: {} }, "*");
if (typeof TDS.logout == 'function') TDS.logout();
return false;
};
(function () {
TDS.AppWindow = window;
var bootstrap = function (event) {
if (event.data.type && event.data.type == "CHROME RESPONSE" && event.data.command == "APP WELCOME") {
TDS.AppWindow = event.source;
window.removeEventListener(bootstrap);
}
};
window.addEventListener("message", bootstrap, true);
})();

// FILE: mobile.android.js (166965b6) 7/23/2014 4:30:37 PM

TDS.SecureBrowser.Mobile = TDS.SecureBrowser.Mobile || {};
TDS.SecureBrowser.Mobile.Android = function () {
TDS.SecureBrowser.Mobile.Android.superclass.constructor.call(this);
this._config = { pausedSinceLaunch: false, keyboardChanged: false, clipboardChanged: false };
this._airMobile = (new Summit.SecureBrowser.Mobile()).getNativeBrowser();
this._airMobile.initialize();
};
YAHOO.lang.extend(TDS.SecureBrowser.Mobile.Android, TDS.SecureBrowser.Base);
TDS.SecureBrowser.Mobile.Android.prototype.initialize = function () {
var sb = this._airMobile;
var config = this._config;
sb.listen(sb.EVENT_DEVICE_READY, window.document, function () {
sb.listen(sb.EVENT_RETURN_FROM_BACKGROUND, window.document, function () {
config.pausedSinceLaunch = true;
});
if (sb.device.keyboard != 'com.air.mobilebrowser/.softkeyboard.SoftKeyboard') {
config.keyboardChanged = true;
}
sb.listen(sb.EVENT_KEYBOARD_CHANGED, window.document, function () {
config.keyboardChanged = true;
});
sb.listen(sb.EVENT_CLIPBOARD_CHANGED, window.document, function () {
config.clipboardChanged = true;
});
sb.listen(sb.EVENT_MINI_APP_DETECTED, window.document, function () {
config.pausedSinceLaunch = true;
});
});
};
TDS.SecureBrowser.Mobile.Android.prototype.isEnvironmentSecure = function () {
return (!this._config.pausedSinceLaunch && !this._config.keyboardChanged && !this._config.clipboardChanged);
};
TDS.SecureBrowser.Mobile.Android.prototype.getRunTime = function () {
return this._airMobile;
}

// FILE: mobile.ios.js (f5be6da3) 7/23/2014 4:30:37 PM

TDS.SecureBrowser.Mobile = TDS.SecureBrowser.Mobile || {};
TDS.SecureBrowser.Mobile.iOS = function () {
TDS.SecureBrowser.Mobile.iOS.superclass.constructor.call(this);
this._guidedAccessMode = 'unknown';
this._processes = [];
this._backgroundThreshold = 5;
this._airMobile = (new Summit.SecureBrowser.Mobile()).getNativeBrowser();
this._airMobile.initialize();
};
YAHOO.lang.extend(TDS.SecureBrowser.Mobile.iOS, TDS.SecureBrowser.Base);
TDS.SecureBrowser.Mobile.iOS.prototype.loadProcessList = function () {
this.setProcessList();
};
TDS.SecureBrowser.Mobile.iOS.prototype.getProcessList = function () {
this.setProcessList();
return this._processes;
};
TDS.SecureBrowser.Mobile.iOS.prototype.setBackgroundThreshold = function (value) {
this._backgroundThreshold = value;
};
TDS.SecureBrowser.Mobile.iOS.prototype.initialize = function () {
var secBrowser = this._airMobile;
var guidedAccessMode = this._guidedAccessMode;
var backgroundThreshold = this._backgroundThreshold;
var startTimeBackground = null;
var hasBeenBackgrounded = false;
this.getGuidedAccessMode = function () { return guidedAccessMode; };
this.getHasBeenBackgrounded = function () { return hasBeenBackgrounded; };
this.setProcessList = function () { this._processes = secBrowser.device.runningProcesses; };
var isLockedDown = true;
this.setLockDown = function (lockdown) {
isLockedDown = lockdown;
if (!lockdown) {
hasBeenBackgrounded = false;
}
};
secBrowser.checkGuidedAccessStatus(null, function (results) {
if (results.enabled) {
guidedAccessMode = 'true';
} else {
guidedAccessMode = 'false';
}
Util.log("access mode recorded is .. " + guidedAccessMode);
});
secBrowser.listen(secBrowser.EVENT_GUIDED_ACCESS_CHANGED, document, function () {
if (secBrowser.device.guidedAccessEnabled) {
guidedAccessMode = 'true';
} else {
guidedAccessMode = 'false';
}
Util.log("access mode now is changed to ... " + guidedAccessMode);
});
secBrowser.listen(secBrowser.EVENT_ENTER_BACKGROUND, document, function () {
if (isLockedDown) {
startTimeBackground = (new Date()).getTime();
}
Util.log("the browser has been pushed to the background");
});
secBrowser.listen(secBrowser.EVENT_RETURN_FROM_BACKGROUND, document, function () {
if (isLockedDown) {
if (startTimeBackground != null) {
var endTimeBackground = (new Date()).getTime();
if ((endTimeBackground - startTimeBackground) > (backgroundThreshold * 1000)) {
hasBeenBackgrounded = true;
}
startTimeBackground = null;
}
}
Util.log("the browser has been put to the background");
});
};
TDS.SecureBrowser.Mobile.iOS.prototype.enableLockDown = function (lockDown) {
this.setLockDown(lockDown);
};
TDS.SecureBrowser.Mobile.iOS.prototype.isEnvironmentSecure = function () {
return ((this.getGuidedAccessMode() == 'true') && (!this.getHasBeenBackgrounded()));
};
TDS.SecureBrowser.Mobile.iOS.prototype.getRunTime = function () {
return this._airMobile;
};

// FILE: mobile.recorder.js (bb927f14) 3/7/2014 11:24:13 AM

(function(SB) {
function Recorder() {
Recorder.superclass.constructor.call(this);
}
YAHOO.lang.extend(Recorder, TDS.SecureBrowser.Base.Recorder);
Recorder.prototype.initialize = function(eventListener) {
AIRMobile.recorder.initialize(eventListener);
};
Recorder.prototype.getCapabilities = function() {
return AIRMobile.recorder.getCapabilities(event);
};
Recorder.prototype.getDefaultOptions = function() {
return {
captureDevice: 0,
sampleRate: 48000,
channelCount: 1,
sampleSize: 16,
encodingFormat: 'opus'
};
};
Recorder.prototype.getStatus = function() {
return AIRMobile.recorder.getStatus();
};
Recorder.prototype.startCapture = function(options, eventListener) {
options = YAHOO.lang.augmentObject(this.getDefaultOptions(), (options || {}));
AIRMobile.recorder.startCapture(options, eventListener);
};
Recorder.prototype.stopCapture = function() {
AIRMobile.recorder.stopCapture();
};
Recorder.prototype.play = function(audioData, eventListener) {
AIRMobile.recorder.play(audioData, eventListener);
};
Recorder.prototype.stopPlay = function() {
AIRMobile.recorder.stopPlay();
};
Recorder.prototype.pausePlay = function() {
AIRMobile.recorder.pausePlay();
};
Recorder.prototype.resumePlay = function() {
AIRMobile.recorder.resumePlay();
};
Recorder.prototype.retrieveAudioFileList = function(callback) {
if (!callback) {
throw new Error('This recorder does not support sync api call.');
}
AIRMobile.recorder.retrieveAudioFileList(function(event) {
callback(event.files);
});
};
Recorder.prototype.retrieveAudioFile = function(fileIdentifier, callback) {
if (!callback) {
throw new Error('This recorder does not support sync api call.');
}
AIRMobile.recorder.retrieveAudioFile(function(event) {
callback(event.audioInfo);
});
};
Recorder.prototype.clearAudioFileCache = function(callback) {
AIRMobile.recorder.clearAudioFileCache(callback);
};
SB.Mobile.Recorder = Recorder;
})(TDS.SecureBrowser);

// FILE: util_securebrowser.js (52d4751b) 3/7/2014 11:24:14 AM

(function() {
TDS.SecureBrowser.initialize();
Util.SecureBrowser = TDS.SecureBrowser.getImplementation();
})();
(function(SB, Mozilla) {
SB.fixUserAgent = function() {
var ua = navigator.userAgent;
if (ua.indexOf('AIRSecureBrowser/5.5') != -1 && ua.indexOf('Firefox/3.6.28') == -1) {
Mozilla.setPreference('general.useragent.extra.kiosk', '5.5 Firefox/3.6.28');
} else if (ua.indexOf('AIRSecureBrowser/5.6') != -1 && ua.indexOf('Firefox/3.6.28') == -1) {
Mozilla.setPreference('general.useragent.extra.kiosk', '5.6 Firefox/3.6.28');
}
};
})(Util.SecureBrowser, Mozilla);

// FILE: loader.js (0a473287) 3/7/2014 11:24:13 AM

var ResourceLoader = function()
{
this._status = ResourceLoader.Status.NEW;
this._events = new YAHOO.util.EventProvider();
for (var key in ResourceLoader.Status)
{
this._events.createEvent(ResourceLoader.Status[key], { scope: this });
}
};
ResourceLoader.Status =
{
NEW: 'NEW',
LOADING: 'LOADING',
COMPLETE: 'COMPLETE',
ERROR: 'ERROR',
ABORT: 'ABORT'
};
ResourceLoader.extend = function(subclass)
{
YAHOO.lang.extend(subclass, ResourceLoader);
};
ResourceLoader.prototype.getStatus = function() { return this._status; };
ResourceLoader.prototype.setStatus = function(status)
{
this._status = status;
this._events.fireEvent(status);
};
ResourceLoader.prototype.setStatusAsync = function(status)
{
YAHOO.lang.later(0, this, this.setStatus, status);
};
ResourceLoader.prototype.subscribe = function(status, callback, overrideContext)
{
this._events.subscribe(status, callback, null, overrideContext || this);
};
ResourceLoader.prototype.load = function() {};
ResourceLoader.prototype.abort = function() {};

// FILE: collection.js (6281374d) 3/7/2014 11:24:13 AM

ResourceLoader.Collection = function()
{
ResourceLoader.Collection.superclass.constructor.call(this);
this._loaders = [];
};
ResourceLoader.extend(ResourceLoader.Collection);
ResourceLoader.Collection.prototype.hasLoaders = function() { return this._loaders.length > 0; };
ResourceLoader.Collection.prototype.getLoaders = function() { return this._loaders; };
ResourceLoader.Collection.prototype.add = function(loader)
{
if (!(loader instanceof ResourceLoader))
{
throw new Error('You can only add a loader instance to a loader collection.');
}
this._loaders.push(loader);
};
ResourceLoader.Collection.prototype.load = function()
{
this.setStatus(ResourceLoader.Status.LOADING);
for (var i = 0; i < this._loaders.length; i++)
{
var loader = this._loaders[i];
loader.subscribe(ResourceLoader.Status.COMPLETE, this._checkFinished, this);
loader.subscribe(ResourceLoader.Status.ERROR, this._checkFinished, this);
loader.subscribe(ResourceLoader.Status.ABORT, this._checkFinished, this);
loader.load();
}
this._checkFinished();
};
ResourceLoader.Collection.prototype._checkFinished = function()
{
var completed = 0;
for (var i = 0; i < this._loaders.length; i++)
{
var status = this._loaders[i].getStatus();
if (status == ResourceLoader.Status.NEW ||
status == ResourceLoader.Status.LOADING)
{
return;
}
if (status == ResourceLoader.Status.COMPLETE)
{
completed++;
}
}
if (this._loaders.length == completed)
{
this.setStatusAsync(ResourceLoader.Status.COMPLETE);
}
else
{
this.setStatusAsync(ResourceLoader.Status.ERROR);
}
};

// FILE: dependency.js (9cb2dc41) 3/7/2014 11:24:13 AM

ResourceLoader.Dependency = function(parentLoader, childLoader)
{
ResourceLoader.Dependency.superclass.constructor.call(this);
this._parentLoader = parentLoader;
this._childLoader = childLoader;
};
ResourceLoader.extend(ResourceLoader.Dependency);
ResourceLoader.Dependency.prototype.load = function()
{
this.setStatus(ResourceLoader.Status.LOADING);
var eventMapper = function(fromLoader, toLoader, status)
{
fromLoader.subscribe(status, function() { toLoader.setStatus(status); }, toLoader);
};
eventMapper(this._parentLoader, this, ResourceLoader.Status.ERROR);
eventMapper(this._parentLoader, this, ResourceLoader.Status.ABORT);
this._parentLoader.subscribe(ResourceLoader.Status.COMPLETE, function()
{
this._childLoader.load();
}, this);
eventMapper(this._childLoader, this, ResourceLoader.Status.ERROR);
eventMapper(this._childLoader, this, ResourceLoader.Status.ABORT);
eventMapper(this._childLoader, this, ResourceLoader.Status.COMPLETE);
this._parentLoader.load();
};

// FILE: conditional.js (11e63107) 3/7/2014 11:24:13 AM

ResourceLoader.Conditional = function(listener, interval, timeout)
{
ResourceLoader.Conditional.superclass.constructor.call(this);
this._conditionalDelay = new Util.ConditionalDelay(listener, this);
this._interval = interval;
this._timeout = timeout;
};
ResourceLoader.extend(ResourceLoader.Conditional);
ResourceLoader.Conditional.prototype.load = function()
{
this.setStatus(ResourceLoader.Status.LOADING);
this._conditionalDelay.onSuccess.subscribe(function()
{
this.setStatus(ResourceLoader.Status.COMPLETE);
});
this._conditionalDelay.onFailure.subscribe(function()
{
this.setStatus(ResourceLoader.Status.ERROR);
});
this._conditionalDelay.start(this._interval, this._timeout);
};

// FILE: image.js (b32281d8) 3/7/2014 11:24:13 AM

ResourceLoader.Image = function(src, timeoutInterval, retriesMax)
{
ResourceLoader.Image.superclass.constructor.call(this);
if (YAHOO.lang.isString(src))
{
this._img = new Image();
this._src = src;
}
else
{
this._img = src;
this._src = this._img.src;
}
this._timeoutInterval = timeoutInterval || 0;
this._timeoutObj = null;
this._retriesMax = retriesMax || 0;
this._retries = 0;
};
ResourceLoader.extend(ResourceLoader.Image);
ResourceLoader.Image.prototype.getElement = function() { return this._img; };
ResourceLoader.Image.prototype.load = function()
{
if (this._img.id == '') this._img.id = YAHOO.util.Dom.generateId();
this._attachEvents();
if (this._img.src == '') this._img.src = this._src;
this.setStatus(ResourceLoader.Status.LOADING);
this._startTimer();
return true;
};
ResourceLoader.Image.prototype._onEvent = function(evt)
{
this._stopTimer();
var eventType = evt.type;
if (eventType == 'readystatechange')
{
if (this._img.readyState == 'complete')
{
eventType = 'load';
}
else
{
return;
}
}
if (typeof this._img.naturalWidth == 'undefined')
{
if (eventType == 'load')
{
this._img.naturalWidth = this._img.width;
this._img.naturalHeight = this._img.height;
}
else
{
this._img.naturalWidth = 0;
this._img.naturalHeight = 0;
}
}
this._removeEvents();
if (eventType == 'load') this.setStatus(ResourceLoader.Status.COMPLETE);
else this.setStatus(ResourceLoader.Status.ERROR);
};
ResourceLoader.Image.prototype._attachEvents = function()
{
var loadEvent = YAHOO.env.ua.ie ? 'readystatechange' : 'load';
YUE.addListener(this._img, loadEvent, this._onEvent, this, true);
YUE.addListener(this._img, 'abort', this._onEvent, this, true);
YUE.addListener(this._img, 'error', this._onEvent, this, true);
};
ResourceLoader.Image.prototype._removeEvents = function()
{
var loadEvent = YAHOO.env.ua.ie ? 'readystatechange' : 'load';
YUE.removeListener(this._img, loadEvent, this._onEvent);
YUE.removeListener(this._img, 'abort', this._onEvent);
YUE.removeListener(this._img, 'error', this._onEvent);
};
ResourceLoader.Image.prototype._startTimer = function()
{
this._stopTimer();
if (this._timeoutInterval > 0)
{
this._timeoutObj = YAHOO.lang.later(this._timeoutInterval, this, this._onTimeout);
}
};
ResourceLoader.Image.prototype._stopTimer = function()
{
if (this._timeoutObj != null)
{
this._timeoutObj.cancel();
this._timeoutObj = null;
}
};
ResourceLoader.Image.prototype._onTimeout = function()
{
if (this.getStatus() != ResourceLoader.Status.LOADING) return;
if (this._retries < this._retriesMax)
{
this._retry();
}
else
{
this._removeEvents();
this.setStatus(ResourceLoader.Status.ABORT);
}
};
ResourceLoader.Image.prototype._retry = function()
{
this._retries++;
this._img.src = this._src;
this._startTimer();
};
ResourceLoader.ImageCollection = function()
{
ResourceLoader.ImageCollection.superclass.constructor.call(this);
};
YAHOO.lang.extend(ResourceLoader.ImageCollection, ResourceLoader.Collection);
ResourceLoader.ImageCollection.prototype.addImage = function(url)
{
this.add(new ResourceLoader.Image(url));
};
ResourceLoader.ImageCollection.prototype.getImage = function(url)
{
var imageLoaders = this.getLoaders();
for (var i = 0; i < imageLoaders.length; i++)
{
var image = imageLoaders[i].getElement();
if (image.src == url) return image;
}
return null;
};
ResourceLoader.ImageCollection.prototype.getErrors = function()
{
var imageErrors = [];
var imageLoaders = this.getLoaders();
for (var i = 0; i < imageLoaders.length; i++)
{
var imageLoader = imageLoaders[i];
if (imageLoader.getStatus() != ResourceLoader.Status.COMPLETE)
{
imageErrors.push(imageLoader.getElement());
}
}
return imageErrors;
};
ResourceLoader.ImageCollection.prototype.load = function(callbackSuccess, callbackFailure)
{
if (YAHOO.lang.isFunction(callbackSuccess))
{
this.subscribe(ResourceLoader.Status.COMPLETE, callbackSuccess, this);
}
if (YAHOO.lang.isFunction(callbackFailure))
{
this.subscribe(ResourceLoader.Status.ERROR, callbackFailure, this);
this.subscribe(ResourceLoader.Status.ABORT, callbackFailure, this);
}
ResourceLoader.ImageCollection.superclass.load.call(this);
};

// FILE: binary.js (eb78b02e) 3/7/2014 11:24:13 AM

ResourceLoader.Binary = function(url, timeoutInterval, retriesMax)
{
ResourceLoader.Binary.superclass.constructor.call(this);
this._url = url;
this._active = false;
this._inSend = false;
this._inOpen = false;
this._inAbort = false;
this._timeoutInterval = timeoutInterval || 0;
this._timeoutObj = null;
this._retriesMax = retriesMax || 0;
this._retries = 0;
this._xhr = null;
this._response = null;
};
ResourceLoader.extend(ResourceLoader.Binary);
ResourceLoader.Binary.prototype.getResponse = function() { return this._response; };
ResourceLoader.Binary.prototype.load = function()
{
this._send();
this.setStatus(ResourceLoader.Status.LOADING);
return true;
};
ResourceLoader.Binary.prototype._ieProgId = null;
ResourceLoader.Binary.prototype._getProgId = function()
{
if (!this._ieProgId && typeof XMLHttpRequest == 'undefined' && typeof ActiveXObject != 'undefined')
{
var ACTIVE_X_IDENTS = ['MSXML2.XMLHTTP.6.0', 'MSXML2.XMLHTTP.3.0', 'MSXML2.XMLHTTP', 'Microsoft.XMLHTTP'];
for (var i = 0; i < ACTIVE_X_IDENTS.length; i++)
{
var candidate = ACTIVE_X_IDENTS[i];
try
{
new ActiveXObject(candidate);
this._ieProgId = candidate;
return candidate;
}
catch (e)
{
}
}
throw Error('Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed');
}
return this._ieProgId;
};
ResourceLoader.Binary.prototype._createInstance = function()
{
var progId = this._getProgId();
if (progId)
{
return new ActiveXObject(progId);
}
else
{
return new XMLHttpRequest();
}
};
ResourceLoader.Binary.prototype._send = function()
{
if (this._xhr) throw Error('Xhr Object is active with another request');
this._active = true;
this._xhr = this._createInstance();
this._xhr.onreadystatechange = Util.bind(this._onReadyStateChange, this);
this._inOpen = true;
this._xhr.open('GET', this._url, true);
this._inOpen = false;
this._xhr.setRequestHeader('X-TDS-Loader', 'binary');
if (this._timeoutObj) this._timeoutObj.cancel();
if (this._timeoutInterval > 0)
{
this._timeoutObj = YAHOO.lang.later(this._timeoutInterval, this, this._timeout);
}
this._inSend = true;
this._xhr.send(null);
this._inSend = false;
};
ResourceLoader.Binary.prototype._timeout = function()
{
if (this._xhr)
{
var allowRetry = (this._retries < this._retriesMax);
this._abort(allowRetry);
if (allowRetry)
{
this._retries++;
this._send();
}
}
};
ResourceLoader.Binary.prototype._abort = function(preventEvent)
{
if (this._xhr && this._active)
{
this._active = false;
this._inAbort = true;
this._xhr.abort();
this._inAbort = false;
if (!preventEvent) this.setStatus(ResourceLoader.Status.ABORT);
this._cleanUpXhr();
}
};
ResourceLoader.Binary.prototype._onReadyStateChange = function()
{
if (!this._active) return;
if (this._xhr.readyState != 4) return;
if (this._inSend)
{
YAHOO.lang.later(0, this._onReadyStateChange, this);
return;
}
this._active = false;
var httpStatus = this._xhr.status;
var httpHeaders = this._xhr.getAllResponseHeaders();
if (((httpStatus >= 200 && httpStatus < 300) || httpStatus === 1223) && httpHeaders != '')
{
var response = {};
this._response = response;
response.status = httpStatus;
response.contentLength = this._xhr.getResponseHeader('Content-Length');
response.contentType = this._xhr.getResponseHeader('Content-Type');
response.content = (typeof this._xhr.responseBody == 'unknown') ?
this._xhr.responseBody :
this._xhr.responseText;
this.setStatus(ResourceLoader.Status.COMPLETE);
}
else
{
this.setStatus(ResourceLoader.Status.ERROR);
}
this._cleanUpXhr();
};
ResourceLoader.Binary.prototype._cleanUpXhr = function()
{
if (this._xhr)
{
var xhr = this._xhr;
this._xhr = null;
if (this._timeoutObj)
{
this._timeoutObj.cancel();
this._timeoutObj = null;
}
try
{
xhr.onreadystatechange = function () {};
}
catch (e) {}
}
};

// FILE: script.js (8cca61ce) 3/7/2014 11:24:13 AM

ResourceLoader.Script = function(url          , win, timeout)
{
ResourceLoader.Script.superclass.constructor.call(this);
this._url = url;
this._win = win;
this._timeout = timeout || 0;
this._id = null;
};
ResourceLoader.extend(ResourceLoader.Script);
ResourceLoader.Script.prototype.load = function()
{
this.setStatus(ResourceLoader.Status.LOADING);
var loader = this;
var config =
{
onSuccess: function() { this.setStatus(ResourceLoader.Status.COMPLETE); },
onFailure: function() { this.setStatus(ResourceLoader.Status.ERROR); },
onTimeout: function() { this.setStatus(ResourceLoader.Status.ABORT); },
scope: loader
};
if (this._win != null) config.win = this._win;
if (this._timeout > 0) config.timeout = this._timeout;
this._id = YAHOO.util.Get.script(this._url, config);
};
ResourceLoader.Script.prototype.abort = function()
{
YAHOO.util.Get.abort(this._id);
};

// FILE: xhr.js (3991be33) 3/7/2014 11:24:13 AM

ResourceLoader.Xhr = function(url, opt_method, opt_content, opt_timeout, opt_maxRetries)
{
ResourceLoader.Xhr.superclass.constructor.call(this);
this._manager = new Util.XhrManager(0, 0, true);
this._request = this._manager.createRequest(url, url, opt_method, opt_content, this._onCompleted, this, opt_timeout, opt_maxRetries);
};
ResourceLoader.extend(ResourceLoader.Xhr);
ResourceLoader.Xhr.prototype.load = function()
{
this.setStatus(ResourceLoader.Status.LOADING);
this._manager.sendRequest(this._request);
};
ResourceLoader.Xhr.prototype._onCompleted = function()
{
if (this._request.isSuccess()) this.setStatus(ResourceLoader.Status.COMPLETE);
else this.setStatus(ResourceLoader.Status.ERROR);
};

// FILE: messages_legacy.js (d1d386c0) 3/7/2014 11:24:13 AM

(function() {
function getDisplayMessage(translation)
{
if (translation == null) return '';
var clientMessage = translation.getClientMessage();
if (YAHOO.lang.isString(clientMessage)) {
return clientMessage;
} else {
return translation.getParentMessage().getDefaultMessage();
}
}
function format(text, params) {
if (params == null) return text;
for (var i = 0, l = params.length; i < l; ++i) {
var reg = new RegExp("\\{" + i + "\\}", "g");
text = text.replace(reg, params[i]);
}
return text;
}
function get(defaultMessage, params) {
var translation = null;
if (TDS.messages != null) {
translation = TDS.messages.findTranslation(defaultMessage);
}
if (translation == null) {
return defaultMessage;
}
var text = getDisplayMessage(translation);
if (params) {
text = format(text, params);
}
return text;
}
function getAlt(key, alt) {
var message = get(key);
if (message == key && YAHOO.lang.isString(alt)) {
return alt;
} else {
return message;
}
}
function has(key) {
return (key != get(key));
}
var regex = /\#(\S+)\#/g;
function parse(text) {
return text.replace(regex, function(match, key) {
return getAlt(key, match);
});
}
window.Messages = {
get: get,
getAlt: getAlt,
has: has,
parse: parse,
format: format
};
})();
Messages.setContent = function (node, key) {
node.setAttribute('i18n-content', key);
Util.Dom.setTextContent(node, Messages.get(key));
};
Messages.setHTMLContent = function (node, key) {
node.setAttribute('i18n-content', key);
node.innerHTML = Messages.get(key);
};
(function() {
function getDisplayMessage(translation, params) {
if (translation == null) {
return '';
}
var clientMessage = translation.getClientMessage();
var messageID = translation.getParentMessage().getMessageId();
if (clientMessage != null && clientMessage.length > 0) {
if (params) {
clientMessage = Messages.format(clientMessage, params);
}
return clientMessage + ' [Message Code: ' + messageID + ']';
} else {
var defaultMessage = translation.getParentMessage().getDefaultMessage();
return defaultMessage + ' [Message Code: ' + messageID + ']';
}
}
function get(defaultMessage, params) {
var translation = null;
if (TDS.messages != null) {
translation = TDS.messages.findTranslation(defaultMessage);
}
if (translation == null) {
return defaultMessage;
} else {
return getDisplayMessage(translation, params);
}
}
function getAlt(key, alt) {
var message = get(key);
if (message == key && alt) {
return alt;
} else {
return message;
}
}
window.ErrorCodes = {
get: get,
getAlt: getAlt
};
})();

// FILE: messages_system.js (eb8fb3be) 3/7/2014 11:24:13 AM

if (typeof TDS == 'undefined') TDS = {};
TDS.Messages = { };
TDS.Messages.MessageTranslation = function(message                         , clientMessage, languageCode, subject, gradeCode)
{
this._message = message;
this._clientMessage = clientMessage;
this._languageCode = languageCode || null;
this._subject = subject || null;
this._gradeCode = gradeCode || null;
};
TDS.Messages.MessageTranslation.prototype.getParentMessage = function() { return this._message; };
TDS.Messages.MessageTranslation.prototype.getClientMessage = function() { return this._clientMessage; };
TDS.Messages.MessageTranslation.prototype.getLanguage = function() { return this._languageCode; };
TDS.Messages.MessageTranslation.prototype.getSubject = function() { return this._subject; };
TDS.Messages.MessageTranslation.prototype.getGrade = function() { return this._gradeCode; };
TDS.Messages.Message = function(context                                , messageId        , defaultMessage           )
{
this._context = context;
this._messageId = messageId;
this._defaultMessage = defaultMessage;
this._translationList = [];
this._translation3D = null;
};
TDS.Messages.Message.prototype.getParentContext = function() { return this._context; };
TDS.Messages.Message.prototype.getMessageId = function() { return this._messageId; };
TDS.Messages.Message.prototype.getDefaultMessage = function() { return this._defaultMessage; };
TDS.Messages.Message.prototype.getTranslations = function() { return this._translationList; };
TDS.Messages.Message.prototype.addTranslation = function(clientMessage, languageCode, gradeCode, subject)
{
var translation = new TDS.Messages.MessageTranslation(this, clientMessage, languageCode, gradeCode, subject);
this._translationList.push(translation);
return translation;
};
TDS.Messages.Message.prototype.initTranslationIndex = function(translation3D)
{
this._translation3D = translation3D;
};
TDS.Messages.Message.prototype.setTranslationIndex = function(messageIndex                 , translationIndex        )
{
var langIdx = messageIndex.getLanguageIndex();
var subjectIdx = messageIndex.getSubjectIndex();
var gradeIdx = messageIndex.getGradeIndex();
this._translation3D[langIdx][subjectIdx][gradeIdx] = translationIndex;
};
TDS.Messages.Message.prototype.getTranslationByIndex = function(messageIndex                 )
{
var langIdx = messageIndex.getLanguageIndex();
var subjectIdx = messageIndex.getSubjectIndex();
var gradeIdx = messageIndex.getGradeIndex();
var index = this._translation3D[langIdx, subjectIdx, gradeIdx];
if (!YAHOO.lang.isNumber(index)) index = 0;
return this._translationList[index];
};
TDS.Messages.Message.prototype.getTranslationByLang = function(languageCode)
{
var translations = this.getTranslations();
var translation = Util.Array.find(translations, function(translation)
{
return (translation.getLanguage() == languageCode);
});
if (translation != null) return translation;
if (translation == null && translations.length > 0) return translations[0];
return null;
};
TDS.Messages.Message.prototype.toString = function() { return this.getDefaultMessage(); };
TDS.Messages.MessageContext = function(contextName)
{
this._name = contextName;
this._messagesLookup = new Util.Structs.Map();
};
TDS.Messages.MessageContext.prototype.getName = function() { return this._name; };
TDS.Messages.MessageContext.prototype.addMessage = function(messageId        , defaultMessage           )
{
var message = new TDS.Messages.Message(this, messageId, defaultMessage);
this._messagesLookup.set(defaultMessage, message);
return message;
};
TDS.Messages.MessageContext.prototype.getMessages = function()
{
return this._messagesLookup.getValues();
};
TDS.Messages.MessageContext.prototype.getMessage = function(defaultMessage           )
{
return this._messagesLookup.get(defaultMessage);
};
TDS.Messages.MessageContext.prototype.toString = function() { return this.getName(); };
TDS.Messages.MessageSystem = function()
{
this._languages = [];
this._messageIndexer = new TDS.Messages.MessageIndexer();
this._messageContexts = new Util.Structs.Map();
};
TDS.Messages.MessageSystem.prototype.hasLanguage = function(language)
{
return (this._languages.indexOf(language) != -1);
};
TDS.Messages.MessageSystem.prototype._getLanguage = function() { return 'ENU'; };
TDS.Messages.MessageSystem.prototype.getIndexer = function() { return this._messageIndexer; };
TDS.Messages.MessageSystem.prototype.addContext = function(context           )
{
var messageContext = new TDS.Messages.MessageContext(context);
this._messageContexts.set(context, messageContext);
return messageContext;
};
TDS.Messages.MessageSystem.prototype.getContexts = function() { return this._messageContexts.getValues(); };
TDS.Messages.MessageSystem.prototype.getContext = function(context           )
{
return this._messageContexts.get(context);
};
TDS.Messages.MessageSystem.prototype.getTranslation = function(context, defaultMessage, languageCode, subject, gradeCode)
{
var messageContext = this.getContext(context);
if (messageContext != null)
{
var message = messageContext.getMessage(defaultMessage);
if (message != null)
{
return message.getTranslationByLang(languageCode);
}
}
return null;
};
TDS.Messages.MessageSystem.prototype.findTranslation = function(defaultMessage)
{
var translation = null;
var language = this._getLanguage();
var contexts = this.getContexts();
for (var i = 0; i < contexts.length; i++)
{
var context = contexts[i];
translation = this.getTranslation(context.getName(), defaultMessage, language, null, null);
if (translation != null) break;
}
return translation;
};
TDS.Messages.MessageSystem.prototype.getTextByContext = function(context, defaultMessage)
{
var language = this._getLanguage();
var translation = this.getTranslation(context, defaultMessage, language, null, null);
if (translation) return translation.getClientMessage();
return defaultMessage;
};
TDS.Messages.MessageSystem.prototype.getTemplateData = function()
{
var language = this._getLanguage();
var templateData = {};
Util.Array.each(this.getContexts(), function(messageContext)
{
Util.Array.each(messageContext.getMessages(), function(message)
{
var translation = message.getTranslationByLang(language);
templateData[message.getDefaultMessage()] = translation.getClientMessage();
});
});
return templateData;
};

// FILE: messages_indexer.js (a1020c19) 3/7/2014 11:24:13 AM

TDS.Messages.MessageIndex = function(langIdx        , subjectIdx        , gradeIdx        )
{
this._langIdx = langIdx;
this._subjectIdx = subjectIdx;
this._gradeIdx = gradeIdx;
};
TDS.Messages.MessageIndex.prototype.getLanguageIndex = function() { return this._langIdx; };
TDS.Messages.MessageIndex.prototype.getSubjectIndex = function() { return this._subjectIdx; };
TDS.Messages.MessageIndex.prototype.getGradeIndex = function() { return this._gradeIdx; };
TDS.Messages.MessageIndexer = function()
{
this._languageDictionary = new Util.Structs.Map();
this._subjectDictionary = new Util.Structs.Map();
this._gradeDictionary = new Util.Structs.Map();
this.init();
};
TDS.Messages.MessageIndexer.prototype.init = function()
{
this._languageDictionary.clear();
this._subjectDictionary.clear();
this._gradeDictionary.clear();
this._languageDictionary.set('ENU', 0);
this._subjectDictionary.set('DefaultSubject', 0);
this._gradeDictionary.set('DefaultGrade', 0);
};
TDS.Messages.MessageIndexer.prototype.addLanguage = function(language)
{
if (!YAHOO.lang.isString(language)) return 0;
if (this._languageDictionary.containsKey(language))
{
return this._languageDictionary.get(language);
}
this._languageDictionary.set(language, this._languageDictionary.getCount());
return this._languageDictionary.getCount() - 1;
};
TDS.Messages.MessageIndexer.prototype.addSubject = function(subject)
{
if (!YAHOO.lang.isString(subject)) return 0;
if (this._subjectDictionary.containsKey(subject))
{
return this._subjectDictionary.get(subject);
}
this._subjectDictionary.set(subject, this._subjectDictionary.getCount());
return this._subjectDictionary.getCount() - 1;
};
TDS.Messages.MessageIndexer.prototype.addGrade = function(grade)
{
if (!YAHOO.lang.isString(grade)) return 0;
if (this._gradeDictionary.containsKey(grade))
{
return this._gradeDictionary.get(grade);
}
this._gradeDictionary.set(grade, this._gradeDictionary.getCount());
return this._gradeDictionary.getCount() - 1;
};
TDS.Messages.MessageIndexer.prototype.createIndexer3D = function()
{
var i1 = (this._languageDictionary.getCount() > 0) ? this._languageDictionary.getCount() : 1;
var i2 = (this._subjectDictionary.getCount() > 0) ? this._subjectDictionary.getCount() : 1;
var i3 = (this._gradeDictionary.getCount() > 0) ? this._gradeDictionary.getCount() : 1;
return Util.Array.createMultiDimArray(i1, i2, i3);
};
TDS.Messages.MessageIndexer.prototype.getLanguageIndex = function(language)
{
if (!YAHOO.lang.isString(language) || this._languageDictionary.getCount() == 0) return 0;
if (this._languageDictionary.containsKey(language))
{
return this._languageDictionary.get(language);
}
return 0;
};
TDS.Messages.MessageIndexer.prototype.getSubjectIndex = function(subject)
{
if (!YAHOO.lang.isString(subject) || this._subjectDictionary.getCount() == 0) return 0;
if (this._subjectDictionary.containsKey(subject))
{
return this._subjectDictionary.get(subject);
}
return 0;
};
TDS.Messages.MessageIndexer.prototype.getGradeIndex = function(grade)
{
if (!YAHOO.lang.isString(grade) || this._gradeDictionary.getCount() == 0) return 0;
if (this._gradeDictionary.containsKey(grade))
{
return this._gradeDictionary.get(grade);
}
return 0;
};
TDS.Messages.MessageIndexer.prototype.get = function(language, subject, grade)
{
var langIdx = this.getLanguageIndex(language);
var subjectIdx = this.getSubjectIndex(subject);
var gradeIdx = this.getGradeIndex(grade);
return new TDS.Messages.MessageIndex(langIdx, subjectIdx, gradeIdx);
};

// FILE: messages_loader.js (330b4aa1) 3/7/2014 11:24:13 AM

TDS.Messages.MessageLoader = function(messageSystem)
{
this._messageSystem = messageSystem || new TDS.Messages.MessageSystem();
};
TDS.Messages.MessageLoader.prototype.getMessageSystem = function() { return this._messageSystem; };
TDS.Messages.MessageLoader.prototype.load = function(json)
{
if (json.c_l != null && !this._messageSystem.hasLanguage(json.c_l))
{
this._messageSystem._languages.push(json.c_l);
}
Util.Array.each(json.c_a, this.loadContext, this);
};
TDS.Messages.MessageLoader.prototype.loadContext = function(jsonContext)
{
if (jsonContext == null) return;
var messageContext = this._messageSystem.getContext(jsonContext.c);
if (messageContext == null)
{
messageContext = this._messageSystem.addContext(jsonContext.c);
}
Util.Array.each(jsonContext.m_a, function(jsonMessage)
{
var message = messageContext.getMessage(jsonMessage.m);
if (message == null)
{
message = messageContext.addMessage(jsonMessage.id, jsonMessage.m);
}
Util.Array.each(jsonMessage.t_a, function(jsonTranslation)
{
message.addTranslation(jsonTranslation.t, jsonTranslation.l, jsonTranslation.s, jsonTranslation.g);
});
});
};
TDS.Messages.MessageLoader.prototype.buildIndex = function()
{
var messageIndexer = this._messageSystem.getIndexer();
Util.Array.each(this._messageSystem.getContexts(), function(messageContext)
{
Util.Array.each(messageContext.getMessages(), function(message)
{
Util.Array.each(message.getTranslations(), function(translation)
{
messageIndexer.addLanguage(translation.getLanguage());
messageIndexer.addSubject(translation.getSubject());
messageIndexer.addGrade(translation.getGrade());
});
});
});
Util.Array.each(this._messageSystem.getContexts(), function(messageContext)
{
Util.Array.each(messageContext.getMessages(), function(message)
{
message.initTranslationIndex(messageIndexer.createIndexer3D());
var translationIndex = 0;
Util.Array.each(message.getTranslations(), function(translation)
{
var messageIndex = messageIndexer.get(translation.getLanguage(), translation.getSubject(), translation.getGrade());
message.setTranslationIndex(messageIndex, translationIndex);
translationIndex++;
});
});
});
};

// FILE: messages_template.js (32cae42c) 3/7/2014 11:24:13 AM

TDS.Messages.Template = (function () {
var hasText = function(element) {
var text = Util.Dom.getTextContent(element);
if (text == null) {
return false;
}
text = YAHOO.lang.trim(text);
return (text.length > 0);
};
var handlers = {
'i18n-content': function(element, key, dictionary) {
var replacement = dictionary[key];
if (YAHOO.lang.isString(replacement)) {
element.innerHTML = replacement;
}
else if (!hasText(element)) {
element.innerHTML = key;
}
},
'i18n-text': function(element, key, dictionary) {
var replacement = dictionary[key];
if (YAHOO.lang.isString(replacement)) {
Util.Dom.setTextContent(element, replacement);
} else if (!hasText(element)) {
Util.Dom.setTextContent(element, key);
}
},
'i18n-button': function(element, key, dictionary) {
var replacement = dictionary[key];
if (YAHOO.lang.isString(replacement)) {
replacement = replacement.replace('<span>', '');
replacement = replacement.replace('</span>', '');
Util.Dom.setTextContent(element, replacement);
} else if (!hasText(element)) {
Util.Dom.setTextContent(element, key);
}
},
'i18n-options': function(element, key, dictionary) {
var options = dictionary[key];
options.forEach(function(values) {
var option = (typeof values == 'string') ? new Option(values) : new Option(values[1], values[0]);
element.appendChild(option);
});
},
'i18n-values': function (element, attributeAndKeys, dictionary) {
var parts = attributeAndKeys.replace(/\s/g, '').split(/;/);
for (var j = 0; j < parts.length; j++) {
var attributeAndKeyPair = parts[j].match(/^([^:]+):(.+)$/);
if (attributeAndKeyPair) {
var propName = attributeAndKeyPair[1];
var propExpr = attributeAndKeyPair[2];
if (propExpr in dictionary) {
var value = dictionary[propExpr];
if (propName.charAt(0) == '.') {
var path = propName.slice(1).split('.');
var targetObject = element;
while (targetObject && path.length > 1) {
targetObject = targetObject[path.shift()];
}
if (targetObject) {
targetObject[path] = value;
if (path == 'innerHTML') {
process(element, dictionary);
}
}
} else {
element.setAttribute(propName, value);
}
} else {
Util.log('i18n-values: Missing value for "' + propExpr + '"');
}
}
}
}
};
var attributeNames = Util.Object.keys(handlers);
var selector = '[' + attributeNames.join('],[') + ']';
function process(node, dictionary) {
var elements = YAHOO.util.Selector.query(selector, node);
for (var element, i = 0; element = elements[i]; i++) {
for (var j = 0; j < attributeNames.length; j++) {
var name = attributeNames[j];
var attribute = element.getAttribute(name);
if (attribute != null) {
handlers[name](element, attribute, dictionary);
}
}
}
}
return {
process: process
};
})();
TDS.Messages.Template.processLanguage = function(node) {
var templateData = TDS.messages.getTemplateData();
TDS.Messages.Template.process(node || document, templateData);
};

// FILE: tds_acc.js (01831886) 5/2/2014 12:55:57 PM

function Accommodations(id, label)
{
this._position = null;
this._id = null;
this._label = null;
this._types = [];
this._typeLookup = new Util.Structs.Map();
this._valuesLookup = new Util.Structs.Map();
this._toolDependencies = [];
this.setId(id);
this.setLabel(label);
this.each = function(fn, scope) { return Util.Array.each(this.getTypes(), fn, scope); };
this.find = function(fn, scope) { return Util.Array.find(this.getTypes(), fn, scope); };
this.filter = function(fn, scope) { return Util.Array.filter(this.getTypes(), fn, scope); };
this.onCreateType = new YAHOO.util.CustomEvent('onCreateType', this, false, YAHOO.util.CustomEvent.FLAT);
this.onRemoveType = new YAHOO.util.CustomEvent('onRemoveType', this, false, YAHOO.util.CustomEvent.FLAT);
this.onCreateValue = new YAHOO.util.CustomEvent('onCreateValue', this, false, YAHOO.util.CustomEvent.FLAT);
this.onRemoveValue = new YAHOO.util.CustomEvent('onRemoveValue', this, false, YAHOO.util.CustomEvent.FLAT);
this.onUpdateValues = new YAHOO.util.CustomEvent('onUpdateValues', this, false, YAHOO.util.CustomEvent.FLAT);
this.onSelectValue = new YAHOO.util.CustomEvent('onSelectValue', this, false, YAHOO.util.CustomEvent.FLAT);
this.onDeselectValue = new YAHOO.util.CustomEvent('onDeselectValue', this, false, YAHOO.util.CustomEvent.FLAT);
};
Accommodations.create = function(json)
{
var accommodations = new Accommodations();
accommodations.importJson(json);
return accommodations;
};
Accommodations.prototype.getPosition = function() { return this._position; };
Accommodations.prototype.setPosition = function(position) { this._position = position; };
Accommodations.prototype.getId = function() { return this._id; };
Accommodations.prototype.setId = function(id)
{
if (YAHOO.lang.isString(id))
{
this._id = id;
}
else if (!YAHOO.lang.isString(this._id))
{
this._id = 'default';
}
};
Accommodations.prototype.getLabel = function() { return this._label; };
Accommodations.prototype.setLabel = function(label) { this._label = YAHOO.lang.isString(label) ? label : null; };
Accommodations.prototype.createType = function(name, label, isVisible, isSelectable, allowChange, studentControl, dependsOn)
{
if (!YAHOO.lang.isString(name)) throw Error('Cannot create acc type because the name is not a valid string.');
var accType = this.getType(name);
if (accType == null)
{
accType = new Accommodations.Type(this, name, label, isVisible, isSelectable, allowChange, studentControl, dependsOn);
this._types.push(accType);
this._typeLookup.set(name, accType);
this.onCreateType.fire(accType);
}
return accType;
};
Accommodations.prototype.createTypeFromObject = function(obj)
{
if (obj instanceof Accommodations.Type)
{
var dependsOnType = obj.getDependsOnTool();
var dependsOnTypeName = (dependsOnType == null) ? null : dependsOnType.getName();
return this.createType(obj.getName(), obj.getLabel(), obj.isVisible(), obj.isSelectable(), obj.allowChange(), obj.studentControl(), dependsOnTypeName);
}
else
{
return this.createType(obj.name, obj.label, obj.isVisible, obj.isSelectable, obj.allowChange, obj.studentControl, obj.dependsOn);
}
};
Accommodations.prototype.removeType = function(typeName)
{
var accType = this.getType(typeName);
if (accType == null) return false;
accType.each(function(accValue)
{
accType.removeValue(accValue.getCode());
});
Util.Array.remove(this._types, accType);
this._typeLookup.remove(accType.getName());
this.onRemoveType.fire(accType);
return true;
};
Accommodations.prototype.getTypes = function()
{
return this._types.slice(0);
};
Accommodations.prototype.hasType = function(typeName)
{
return this._typeLookup.containsKey(typeName);
};
Accommodations.prototype.getType = function(typeName)
{
return this._typeLookup.get(typeName);
};
Accommodations.prototype.hasValue = function(valueCode)
{
return this._valuesLookup.containsKey(valueCode);
};
Accommodations.prototype.getValue = function(valueCode)
{
return this._valuesLookup.get(valueCode);
};
Accommodations.prototype.findCode = function(typeName, valueCode, requireSelected)
{
var accType = this.getType(typeName);
if (!accType) return null;
return accType.find(function(accValue)
{
if (requireSelected && accValue.isSelected() !== true) return false;
if (valueCode == accValue.getCode()) return true;
var splitCodes = accValue.getCodes();
for (var i = 0; i < splitCodes.length; i++)
{
if (valueCode == splitCodes[i]) return true;
}
return false;
});
};
Accommodations.prototype.getValues = function(includeDeactivated)
{
var filteredValues = [];
this.each(function(accType)
{
Util.Array.each(accType.getValues(includeDeactivated), function(accValue)
{
filteredValues.push(accValue);
});
});
return filteredValues;
};
Accommodations.prototype.getSelected = function()
{
var filteredValues = [];
this.each(function(accType)
{
Util.Array.each(accType.getSelected(), function(accValue)
{
filteredValues.push(accValue);
});
});
return filteredValues;
};
Accommodations.prototype.selectCodes = function(typeName, codes)
{
var valuesToSelect = [];
if (!YAHOO.lang.isArray(codes)) {
return valuesToSelect;
}
var accType = this.getType(typeName);
Util.Array.each(codes, function(code) {
var accValue = this.getValue(code);
if (accValue) {
valuesToSelect.push(accValue);
}
}, this);
if (accType) {
Util.Array.each(accType.getValues(), function (value) {
if (valuesToSelect.indexOf(value) == -1) {
value.deselect();
}
}, this);
}
Util.Array.each(valuesToSelect, function(value) {
value.select();
}, this);
return valuesToSelect;
};
Accommodations.prototype.selectDefaults = function()
{
var accTypes = this.getTypes();
var accPartition = Util.Array.partition(accTypes, function(accType)
{
return (accType.getDependsOnTool() == null);
});
var selectDefaultCodes = function(accType)
{
var accValue = accType.getDefault();
if (accValue) this.selectCodes(accType.getName(), [accValue.getCode()]);
};
Util.Array.each(accPartition.matches, selectDefaultCodes, this);
Util.Array.each(accPartition.rejects, selectDefaultCodes, this);
};
Accommodations.prototype.clearDependencies = function()
{
this._toolDependencies = [];
this.each(function(accType)
{
accType.clearDependsOnTool();
});
};
Accommodations.prototype.selectAll = function()
{
this.clearDependencies();
this.each(function(accType)
{
this.selectCodes(accType.getName(), accType.getCodes());
}, this);
};
Accommodations.prototype.getSelectedEncoded = function()
{
var accStrings = [];
Util.Array.each(this.getSelected(), function(accValue)
{
var accType = accValue.getParentType();
var name = accType.getName();
var code = encodeURIComponent(accValue.getCode());
var accString = encodeURIComponent(name + '=' + code);
accStrings.push(accString);
});
return accStrings.join('&');
};
Accommodations.prototype.getSelectedDelimited = function(encode, delimiter)
{
var accStrings = [];
Util.Array.each(this.getSelected(), function(accValue)
{
var code = accValue.getCode();
if (encode) code = encodeURIComponent(code);
accStrings.push(code);
});
return accStrings.join(delimiter || ';');
};
Accommodations.prototype.getSelectedJson = function()
{
var jsonTypes = [];
this.each(function(accType)
{
var jsonType =
{
type: accType.getName(),
codes: accType.getCodes(true)
};
if (jsonType.codes.length > 0)
{
jsonTypes.push(jsonType);
}
});
return jsonTypes;
};
Accommodations.prototype.isAnyVisible = function()
{
return (this.find(function(accType) { return accType.isVisible(); }) != null);
};
Accommodations.prototype.importJson = function(accJson, preSelect)
{
if (!YAHOO.lang.isObject(accJson)) return;
this.setPosition(accJson.position);
this.setId(accJson.id);
this.setLabel(accJson.label);
if (YAHOO.lang.isArray(accJson.dependencies))
{
for (var i = 0; i < accJson.dependencies.length; i++)
{
var jsonDependency = accJson.dependencies[i];
this.addDependency(jsonDependency.ifType, jsonDependency.ifValue, jsonDependency.thenType, jsonDependency.thenValue, jsonDependency.isDefault);
}
}
this.importJsonArray(accJson.types, preSelect);
};
Accommodations.prototype.importJsonArray = function(accTypes, preSelect)
{
if (!YAHOO.lang.isArray(accTypes)) return;
for (var i = 0; i < accTypes.length; i++)
{
var jsonType = accTypes[i];
var accType = this.createTypeFromObject(jsonType);
var jsonvalues = jsonType.values;
for (var j = 0; j < jsonvalues.length; j++)
{
var jsonValue = jsonvalues[j];
var accValue = accType.createValueFromObject(jsonValue);
if (preSelect) accValue.select();
}
}
};
Accommodations.prototype.exportJson = function()
{
var json = {};
json.position = this.getPosition();
json.id = this.getId();
json.label = this.getLabel();
json.types = [];
json.dependencies = [];
this.each(function(accType)
{
var accValues = accType.getValues();
if (accValues.length == 0) return;
var dependsOnType = accType.getDependsOnTool();
var dependsOnTypeName = (dependsOnType == null) ? null : dependsOnType.getName();
var jsonType =
{
name: accType.getName(),
label: accType.getLabel(),
isVisible: accType.isVisible(),
isSelectable: accType.isSelectable(),
allowChange: accType.allowChange(),
studentControl: accType.studentControl(),
dependsOn: dependsOnTypeName
};
json.types.push(jsonType);
jsonType.values = [];
Util.Array.each(accValues, function(accValue)
{
var jsonValue =
{
code: accValue.getCode(),
name: accValue.getName(),
label: accValue.getLabel(),
isDefault: (accValue == accType.getDefault()),
allowCombine: accValue.allowCombine(),
selected: accValue._selected
};
jsonType.values.push(jsonValue);
});
});
Util.Array.each(this.getDependencies(), function(dependency)
{
var jsonDependency =
{
ifType: dependency.ifType().getName(),
ifValue: dependency.ifValue().getCode(),
thenType: dependency.thenType().getName(),
thenValue: dependency.thenValue().getCode(),
isDefault: dependency.isDefault()
};
json.dependencies.push(jsonDependency);
});
return json;
};
Accommodations.prototype.clone = function()
{
var accommodations = new Accommodations();
var jsonTypes = this.exportJson();
accommodations.importJson(jsonTypes);
return accommodations;
};
Accommodations.prototype.unionWith = function(other)
{
var otherTypes = other.each(function(otherType)
{
var unionType = this.createTypeFromObject(otherType);
otherType.each(function(otherValue)
{
unionType.createValueFromObject(otherValue);
});
}, this);
};
Accommodations.prototype.replaceWith = function(other)
{
var otherTypes = other.each(function(otherType)
{
var replaceType = this.getType(otherType.name);
if (replaceType == null)
{
replaceType = this.createTypeFromObject(otherType);
}
else
{
var existingValues = replaceType.getValues();
Util.Array.each(existingValues, function(existingValue)
{
replaceType.removeValue(existingValue);
});
}
var otherValues = otherType.getValues();
Util.Array.each(otherValues, function(otherValue)
{
replaceType.createValueFromObject(otherValue);
});
}, this);
};
Accommodations.DOM_ID = 'data-accs-id';
Accommodations.prototype.applyCSS = function(el) {
var accsId = this.getId();
Util.log('ACCS CSS APPLY: ' + accsId);
var selectedValues = this.getSelected();
Util.Array.each(selectedValues, function(accValue)
{
Util.Array.each(accValue.getCodes(), function(code)
{
YUD.addClass(el, code);
});
});
el.setAttribute(Accommodations.DOM_ID, accsId);
};
Accommodations.prototype.removeCSS = function(el)
{
var accsId = this.getId();
Util.log('ACCS CSS REMOVE: ' + accsId);
var accValues = this.getValues();
Util.Array.each(accValues, function(accValue)
{
Util.Array.each(accValue.getCodes(), function(code)
{
YUD.removeClass(el, code);
});
});
el.setAttribute(Accommodations.DOM_ID, '');
};
Accommodations.prototype.createProps = function() {
return new Accommodations.Properties(this);
};
Accommodations.Dependency = function(parentAccommodations, ifTypeName, ifValueCode, thenTypeName, thenValueCode, thenIsDefault)
{
this.ifType = function() { return parentAccommodations.getType(ifTypeName); };
this.ifValue = function() { return parentAccommodations.getValue(ifValueCode); };
this.thenType = function() { return parentAccommodations.getType(thenTypeName); };
this.thenValue = function() { return parentAccommodations.getValue(thenValueCode); };
this.isDefault = function() { return (thenIsDefault === true); };
};
Accommodations.prototype.getDependencies = function()
{
return this._toolDependencies;
};
Accommodations.prototype.addDependency = function(ifType, ifValue, thenType, thenValue, isDefault)
{
var dependency = new Accommodations.Dependency(this, ifType, ifValue, thenType, thenValue, isDefault);
this._toolDependencies.push(dependency);
};
Accommodations.prototype.getTree = function()
{
var tree = new Util.Structs.TreeNode();
var accTypes = this.getTypes();
var results = Util.Array.partition(accTypes, function(accType)
{
return (accType.getDependsOnTool() == null);
});
Util.Array.each(results.matches, function(accType)
{
var rootNode = new Util.Structs.TreeNode(accType.getName(), accType);
tree.addChild(rootNode);
});
tree.forEachChild(function(node, index, children)
{
Util.Array.each(results.rejects, function(accType)
{
if (node.getValue() == accType.getDependsOnTool())
{
var childNode = new Util.Structs.TreeNode(accType.getName(), accType);
node.addChild(childNode);
}
});
});
return tree;
};
Accommodations.prototype.getTypesByDependency = function()
{
var tree = this.getTree();
var typeKeys = tree.getSubtreeKeys();
typeKeys = Util.Array.flatten(typeKeys);
return Util.Array.map(typeKeys, function(typeKey)
{
return this.getType(typeKey);
}, this);
};

// FILE: tds_acc_type.js (362a0cd6) 3/7/2014 11:24:06 AM

Accommodations.Type = function(parentAccommodations, name, label, isVisible, isSelectable, allowChange, studentControl, dependsOn)
{
this.getParentAccommodations = function() { return parentAccommodations; };
this.getName = function() { return name; };
this.getLabel = function()
{
if (typeof TDS == 'object' && TDS.messages != null)
{
var text = TDS.messages.getTextByContext('AccType', name);
if (text != name) return text;
}
return (label) ? label : name;
};
this.isVisible = function()
{
if (isVisible)
{
return (this.getValues().length > 0);
}
return false;
};
this.isSelectable = function() { return (isSelectable === true); };
this.allowChange = function() { return (allowChange === true); };
this.studentControl = function() { return (studentControl === true); };
this._dependsOnTypeName = dependsOn;
this._values = [];
var id = parentAccommodations.getId() + '-' + name.replace(/\s+/g, '').toLowerCase();
this.getControlId = function() { return 'accs-control-' + id; };
this.getId = function() { return 'accs-type-' + id; };
this.each = function(fn, scope) { return Util.Array.each(this.getValues(), fn, scope); };
this.find = function(fn, scope) { return Util.Array.find(this.getValues(), fn, scope); };
this.filter = function(fn, scope) { return Util.Array.filter(this.getValues(), fn, scope); };
this.some = function(fn, scope) { return Util.Array.some(this.getValues(), fn, scope); };
};
Accommodations.Type.prototype.createValue = function(code, name, label, isDefault, allowCombine)
{
if (!YAHOO.lang.isString(code)) throw Error('Cannot create acc value because the code is not a valid string.');
var accValue = this.getParentAccommodations().getValue(code);
if (accValue == null)
{
accValue = new Accommodations.Value(this, code, name, label, isDefault, allowCombine);
this._values.push(accValue);
this.getParentAccommodations()._valuesLookup.set(code, accValue);
this.getParentAccommodations().onCreateValue.fire(accValue);
}
return accValue;
};
Accommodations.Type.prototype.createValueFromObject = function(obj)
{
var accValue;
if (obj instanceof Accommodations.Value)
{
accValue = this.createValue(obj.getCode(), obj.getName(), obj.getLabel(), obj.isDefault(), obj.allowCombine());
accValue._selected = obj._selected;
}
else
{
accValue = this.createValue(obj.code, obj.name, obj.label, obj.isDefault, obj.allowCombine);
accValue._selected = obj.selected;
}
return accValue;
};
Accommodations.Type.prototype.removeValue = function(code)
{
var accValue = this.getParentAccommodations().getValue(code);
if (accValue != null)
{
accValue.deselect();
Util.Array.remove(this._values, accValue);
this.getParentAccommodations()._valuesLookup.remove(accValue.getCode());
this.getParentAccommodations().onRemoveValue.fire(accValue);
}
};
Accommodations.Type.prototype.getValues = function(includeDeactivated)
{
return Util.Array.filter(this._values, function(accValue)
{
if (includeDeactivated === true) return true;
return (accValue.isActive());
});
};
Accommodations.Type.prototype.getCodes = function(requireSelected)
{
var codes = [];
var values = this.getValues();
Util.Array.each(values, function(accValue)
{
if (requireSelected && accValue.isSelected() !== true) return;
codes.push(accValue.getCode());
});
return codes;
};
Accommodations.Type.prototype.getDefault = function()
{
var values = this.getValues(true);
var defaultValue = this.find(function(accValue)
{
var dependencyRule = accValue.getDependencyRule();
if (dependencyRule)
{
return dependencyRule.isDefault();
}
else
{
return accValue.isDefault();
}
});
if (defaultValue) return defaultValue;
else return this.getValues()[0];
};
Accommodations.Type.prototype.getSelected = function()
{
return Util.Array.filter(this.getValues(), function(accValue)
{
return accValue.isSelected();
});
};
Accommodations.Type.prototype.deselectAll = function()
{
return this.each(function(value)
{
value.deselect();
});
};
Accommodations.Type.prototype.isMultiSelect = function()
{
return this.some(function(value)
{
return value.allowCombine();
});
};
Accommodations.Type.prototype.isBoolSelect = function()
{
var values = this.getValues();
if (values.length != 2) return false;
var value1 = values[0].getName();
var value2 = values[1].getName();
return ((value1 == 'False' && value2 == 'True') || (value1 == 'True' && value2 == 'False'));
};
Accommodations.Type.prototype.hashCode = function()
{
var hashString = this.getCodes().join('|');
return Util.String.hashCode(hashString);
};
Accommodations.Type.prototype.toString = function() { return this.getName(); };
Accommodations.Type.prototype.getDependsOnTool = function()
{
if (YAHOO.lang.isString(this._dependsOnTypeName))
{
var accommodations = this.getParentAccommodations();
return accommodations.getType(this._dependsOnTypeName);
}
return null;
};
Accommodations.Type.prototype.clearDependsOnTool = function()
{
this._dependsOnTypeName = null;
};
Accommodations.Type.prototype.getDependentTypes = function()
{
var accommodations = this.getParentAccommodations();
var accTypes = accommodations.getTypes();
var dependentTypes = [];
Util.Array.each(accTypes, function(accType)
{
if (this === accType.getDependsOnTool())
{
if (dependentTypes.indexOf(accType) == -1)
{
dependentTypes.push(accType);
}
}
}, this);
return dependentTypes;
};

// FILE: tds_acc_value.js (b971fc25) 3/7/2014 11:24:06 AM

Accommodations.Value = function(parentType, code, name, label, isDefault, allowCombine)
{
this.getParentType = function() { return parentType; };
this.getCode = function() { return code; };
this.getCodes = function() { return code.split('&'); };
this.getName = function() { return name; };
this.allowCombine = function() { return (allowCombine === true); };
this.getLabel = function()
{
if (typeof TDS == 'object' && TDS.messages != null)
{
var text = TDS.messages.getTextByContext('AccValue', code);
if (text != code) return text;
}
return (label) ? label : name;
};
this._isDefault = isDefault;
this._selected = false;
this.toString = function() { return code; };
};
Accommodations.Value.prototype.isDefault = function() { return this._isDefault; };
Accommodations.Value.prototype.isSelected = function() { return this._selected; };
Accommodations.Value.prototype.select = function()
{
if (this._selected) return false;
if (!this.isActive()) return false;
var parentType = this.getParentType();
if (!this.allowCombine())
{
var selectedValues = parentType.getSelected();
Util.Array.each(selectedValues, function(selectedValue)
{
selectedValue.deselect();
});
}
this._selected = true;
var dependentTypes = parentType.getDependentTypes();
Util.Array.each(dependentTypes, function(dependentType)
{
Util.Array.each(dependentType.getValues(true), function(dependentValue)
{
dependentValue.deselect();
});
var dependentDefaultValue = dependentType.getDefault();
if (dependentDefaultValue) dependentDefaultValue.select();
});
parentType.getParentAccommodations().onSelectValue.fire(this);
return true;
};
Accommodations.Value.prototype.deselect = function()
{
if (!this._selected) return false;
this._selected = false;
this.getParentType().getParentAccommodations().onDeselectValue.fire(this);
return true;
};
Accommodations.Value.prototype.getDependencyRule = function()
{
var dependancyType = this.getParentType().getDependsOnTool();
if (dependancyType == null) return null;
var accommodations = this.getParentType().getParentAccommodations();
var dependancy = Util.Array.find(accommodations.getDependencies(), function(dependency)
{
var accIfType = dependency.ifType();
if (accIfType && accIfType == dependancyType)
{
var accIfValue = dependency.ifValue();
if (accIfValue && accIfValue.isSelected())
{
var accThenValue = dependency.thenValue();
return (accThenValue == this);
}
}
return false;
}, this);
return dependancy;
};
Accommodations.Value.prototype.isActive = function()
{
var dependancyType = this.getParentType().getDependsOnTool();
if (dependancyType != null)
{
return (this.getDependencyRule() != null);
}
return true;
};

// FILE: tds_acc_props.js (68c07eba) 7/23/2014 4:30:36 PM

Accommodations.Properties = function(accommodations)
{
this._accommodations = accommodations;
};
Accommodations.Properties.prototype.getSelectedValue = function(typeName)
{
if (this._accommodations == null) return null;
var accType = this._accommodations.getType(typeName);
if (accType != null)
{
var selectedValues = accType.getSelected();
if (selectedValues.length > 0)
{
return selectedValues[0];
}
}
return null;
};
Accommodations.Properties.prototype.getSelectedCode = function(type)
{
var selectedValue = this.getSelectedValue(type);
return (selectedValue) ? selectedValue.getCode() : null;
};
Accommodations.Properties.prototype.isSelected = function(type, code)
{
if (this._accommodations == null) return false;
var foundValue = this._accommodations.findCode(type, code, true);
return (foundValue != null);
};
Accommodations.Properties.prototype.existsAndNotEquals = function(type, code)
{
var selectedCode = this.getSelectedCode(type);
return (selectedCode != null && selectedCode != code);
};
Accommodations.Properties.prototype.getLanguage = function()
{
var language = this.getSelectedCode('Language');
return (language) ? language : 'ENU';
};
Accommodations.Properties.prototype.getLanguages = function()
{
var accType = this._accommodations.getType('Language');
return (accType != null) ? accType.getCodes() : ['ENU'];
};
Accommodations.Properties.prototype.hasBraille = function()
{
if (this.isSelected('Braille', 'TDS_Braille1')) return true;
var language = this.getLanguage();
return Util.String.endsWith(language, '-Braille');
};
Accommodations.Properties.prototype.getBrailleType = function() {
return this.getSelectedCode('Braille Type');
};
Accommodations.Properties.prototype.getCalculator = function() { return this.getSelectedCode('Calculator'); };
Accommodations.Properties.prototype.getColorChoice = function() { return this.getSelectedCode('Color Choices'); };
Accommodations.Properties.prototype.getFormula = function() { return this.getSelectedCode('Formula'); };
Accommodations.Properties.prototype.getFontSize = function() { return this.getSelectedCode('Font Size'); };
Accommodations.Properties.prototype.getFontType = function() { return this.getSelectedCode('Font Type'); };
Accommodations.Properties.prototype.hasGuideForRevision = function() { return this.isSelected('Guide to Revision', 'TDS_GfR1'); };
Accommodations.Properties.prototype.hasHighlighting = function() { return this.isSelected('Highlight', 'TDS_Highlight1'); };
Accommodations.Properties.prototype.hasMarkForReview = function() { return this.isSelected('Mark for Review', 'TDS_MfR1'); };
Accommodations.Properties.prototype.hasPrintItem = function() { return this.isSelected('Print on Request', 'TDS_PoD_Item'); };
Accommodations.Properties.prototype.hasPrintStimulus = function() { return this.isSelected('Print on Request', 'TDS_PoD_Stim'); };
Accommodations.Properties.prototype.getPrintSize = function() { return this.getSelectedCode('Print Size'); };
Accommodations.Properties.prototype.getPeriodicTable = function() { return this.getSelectedCode('Periodic Table'); };
Accommodations.Properties.prototype.hasStrikethrough = function() { return this.isSelected('Strikethrough', 'TDS_ST1'); };
Accommodations.Properties.prototype.hasTutorial = function () { return this.isSelected('Tutorial', 'TDS_T1'); };
Accommodations.Properties.prototype.hasASIVoiceGuidance = function() { return this.isSelected('Scaffolding Voice Guidance', 'TDS_ASIGuide1'); };
Accommodations.Properties.prototype.hasTTSInstruction = function() { return this.isSelected('TTS', 'TDS_TTS_Inst'); };
Accommodations.Properties.prototype.hasTTSItem = function() { return this.isSelected('TTS', 'TDS_TTS_Item'); };
Accommodations.Properties.prototype.hasTTSStimulus = function() { return this.isSelected('TTS', 'TDS_TTS_Stim'); };
Accommodations.Properties.prototype.hasTTS = function()
{
return this.existsAndNotEquals('TTS', 'TDS_TTS0');
};
Accommodations.Properties.prototype.hasTTSPausing = function () {
return this.isSelected('TTS Pausing', 'TDS_TTSPause1');
};
Accommodations.Properties.prototype.hasCalculator = function()
{
return this.existsAndNotEquals('Calculator', 'TDS_Calc0');
};
Accommodations.Properties.prototype.hasColorChoice = function()
{
return this.existsAndNotEquals('Color Choices', 'TDS_CC0');
};
Accommodations.Properties.prototype.hasFormula = function()
{
return this.existsAndNotEquals('Formula', 'TDS_F0');
};
Accommodations.Properties.prototype.hasPeriodicTable = function()
{
return this.existsAndNotEquals('Periodic Table', 'TDS_PT0');
};
Accommodations.Properties.prototype.hasStudentComments = function()
{
return this.existsAndNotEquals('Student Comments', 'TDS_SC0');
};
Accommodations.Properties.prototype.getStudentComments = function()
{
return this.getSelectedCode('Student Comments');
};
Accommodations.Properties.prototype.getNavigationDropdown = function()
{
return this.getSelectedCode('Navigation Dropdown');
};
Accommodations.Properties.prototype.getTTXBusinessRules = function()
{
return this.getSelectedCode('TTX Business Rules');
};
Accommodations.Properties.prototype.showFeedback = function()
{
return this.isSelected('Feedback', 'LPN_FB1');
};
Accommodations.Properties.prototype.showExpandablePassages = function()
{
return this.isSelected('Expandable Passages', 'TDS_ExpandablePassages1');
};
Accommodations.Properties.prototype.hasAudioControl = function () {
return this.existsAndNotEquals('TTS Audio Adjustments', 'TDS_TTSAA0');
};
Accommodations.Properties.prototype.showVoicePackControl = function () {
return this.isSelected('TTS Audio Adjustments', 'TDS_TTSAA_SelectVP');
};
Accommodations.Properties.prototype.showVolumeControl = function () {
return this.isSelected('TTS Audio Adjustments', 'TDS_TTSAA_Volume');
};
Accommodations.Properties.prototype.showPitchControl = function () {
return this.isSelected('TTS Audio Adjustments', 'TDS_TTSAA_Pitch');
};
Accommodations.Properties.prototype.showRateControl = function () {
return this.isSelected('TTS Audio Adjustments', 'TDS_TTSAA_Rate');
};
Accommodations.Properties.prototype.blockPausing = function () {
return this.isSelected('Block Pausing', 'TDS_BP1');
};
Accommodations.Properties.prototype.hasResponseReset = function () {
return this.isSelected('Item Response Reset', 'TDS_ItemReset1');
};
Accommodations.Properties.prototype.isTestShellClassic = function () {
return this.isSelected('Test Shell', 'TDS_TS_Classic');
};
Accommodations.Properties.prototype.isTestShellModern = function () {
return this.isSelected('Test Shell', 'TDS_TS_Modern');
};
Accommodations.Properties.prototype.isTestShellAccessibility = function () {
return this.isSelected('Test Shell', 'TDS_TS_Accessibility');
};
Accommodations.Properties.prototype.requirePageVisit = function () {
return this.isSelected('Require Page Visit', 'TDS_RPV1');
};
Accommodations.Properties.prototype.hasASL = function () {
return this.isSelected('American Sign Language', 'TDS_ASL1');
};
Accommodations.Properties.prototype.hideTestScore = function () {
return this.isSelected('Suppress Score', 'TDS_SS1');
};
Accommodations.Properties.prototype.showItemScoreReportSummary = function () {
return this.isSelected('Item Score Report', 'TDS_ISR_Summary');
};
Accommodations.Properties.prototype.showItemScoreReportResponses = function () {
return this.isSelected('Item Score Report', 'TDS_ISR_SumViewResp');
};
Accommodations.Properties.prototype.isPermissiveModeEnabled = function () {
return this.isSelected('Permissive Mode', 'TDS_PM1');
};
Accommodations.Properties.prototype.hasFullScreenEnabled = function () {
return this.isSelected('Fullscreen', 'TDS_FS_On') ||
this.isSelected('Fullscreen', 'TDS_FS_Pass');
};
Accommodations.Properties.prototype.hasFullScreenPassword = function () {
return this.isSelected('Fullscreen', 'TDS_FS_Pass');
};
Accommodations.Properties.prototype.hasSoundPlayCheck = function ()
{
return this.isSelected('Hardware Checks', 'TDS_HWPlayback');
};
Accommodations.Properties.prototype.hasRecorderCheck = function()
{
return this.isSelected('Hardware Checks', 'TDS_HWRecording');
};
Accommodations.Properties.prototype.hasSoundCheck = function()
{
return this.existsAndNotEquals('Hardware Checks', 'TDS_HW0');
};
Accommodations.Properties.prototype.isAutoMute = function ()
{
return this.isSelected('Mute System Volume', 'TDS_Mute1');
};
Accommodations.Properties.prototype.hasMaskingEnabled = function () {
return this.isSelected('Masking', 'TDS_Masking1');
};
Accommodations.Properties.prototype.isAudioRewindEnabled = function () {
return this.isSelected('Audio Playback Controls', 'TDS_APC_PSP');
};
Accommodations.Properties.prototype.isPaginatedItemGroupsEnabled = function () {
return this.isSelected('Paginate Item Groups', 'TDS_PIG1');
};
Accommodations.Properties.prototype.hasReverseContrast = function () {
return this.isSelected('Color Choices', 'TDS_CCInvert');
};
Accommodations.Properties.prototype.getTestProgressIndicator = function () {
return this.getSelectedCode('Test Progress Indictator') || 'TDS_TPI_Responses';
};
Accommodations.Properties.prototype.hasSystemVolumeControl = function () {
return this.isSelected('System Volume Control', 'TDS_SVC1');
};
Accommodations.Properties.prototype.isDictionaryEnabled = function () {
return this.existsAndNotEquals('Dictionary', 'TDS_Dict0');
};
Accommodations.Properties.prototype.getDictionary = function () {
return this.getSelectedCode('Dictionary');
};
Accommodations.Properties.prototype.getDictionaryOptions = function () {
var accType = this._accommodations.getType('Dictionary Options');
return (accType != null) ? accType.getCodes() : [];
};
Accommodations.Properties.prototype.isThesaurusEnabled = function () {
return this.existsAndNotEquals('Thesaurus', 'TDS_TH0');
};
Accommodations.Properties.prototype.getThesaurus = function () {
return this.getSelectedCode('Thesaurus');
};
Accommodations.Properties.prototype.getThesaurusOptions = function () {
var accType = this._accommodations.getType('Thesaurus Options');
return (accType != null) ? accType.getCodes() : [];
};
Accommodations.Properties.prototype.isTTSTrackingEnabled = function () {
return this.existsAndNotEquals('TTS Tracking', 'TDS_TTSTracking0');
};
Accommodations.Properties.prototype.isSecurityBreachDetectionEnabled = function () {
return this.isSelected('Enhanced Security Options', 'TDS_ESO_DetectBrowserBreach') && !this.isPermissiveModeEnabled();
};

// FILE: tds_acc_manager.js (431c0630) 3/7/2014 11:24:05 AM

Accommodations.Manager =
{
_mapOfAccommodations: new Util.Structs.Map(),
_current: null,
onChange: new YAHOO.util.CustomEvent('onChange', Accommodations.Manager, false, YAHOO.util.CustomEvent.FLAT)
};
Accommodations.Manager.clear = function() {
this._mapOfAccommodations.clear();
this._current = null;
};
Accommodations.Manager.add = function(accommodations) {
var id = accommodations.getId();
this._mapOfAccommodations.set(id, accommodations);
if (this._current == null) {
this.setDefault(id);
this.setCurrent(id);
}
};
Accommodations.Manager.get = function(id) {
return this._mapOfAccommodations.get(id);
};
Accommodations.Manager.getProperties = function(id) {
var accommodations = this.get(id);
return new Accommodations.Properties(accommodations);
};
Accommodations.Manager.setDefault = function(id) {
if (YAHOO.lang.isString(id)) {
this._default = id;
}
};
Accommodations.Manager.getDefault = function() {
return this.get(this._default);
};
Accommodations.Manager.getDefaultProperties = function() {
var accommodations = this.getDefault();
return new Accommodations.Properties(accommodations);
};
Accommodations.Manager.getDefaultProps = Accommodations.Manager.getDefaultProperties;
Accommodations.Manager.setCurrent = function (id) {
if (!YAHOO.lang.isString(id)) return;
if (id == this._current) return;
if (this.get(id) == null) return;
var accsPrevious = this.getCurrent();
this._current = id;
var accsCurrent = this.getCurrent();
this.onChange.fire({
previous: accsPrevious,
current: accsCurrent
});
};
Accommodations.Manager.getCurrent = function() {
return this.get(this._current);
};
Accommodations.Manager.getCurrentProperties = function() {
var accommodations = this.getCurrent();
return new Accommodations.Properties(accommodations);
};
Accommodations.Manager.getCurrentProps = Accommodations.Manager.getCurrentProperties;
Accommodations.Manager.addJson = function(json) {
if (YAHOO.lang.isArray(json)) {
Util.Array.each(json, Accommodations.Manager.addJson, this);
} else {
var accommodations = Accommodations.create(json);
accommodations.selectAll();
this.add(accommodations);
}
};
Accommodations.Manager.updateCSS = function(el, newId) {
var newAccs = Accommodations.Manager.get(newId);
if (newAccs == null) return;
var currentId = el.getAttribute(Accommodations.DOM_ID);
if (currentId != newId) {
if (currentId != null) {
var currentAccs = Accommodations.Manager.get(currentId);
if (currentAccs) {
currentAccs.removeCSS(el);
}
}
newAccs.applyCSS(el);
}
};

// FILE: tds_acc_renderer.js (d6e2b316) 3/7/2014 11:24:05 AM

Accommodations.Renderer = function(accommodations, parentContainer)
{
this._accommodations = accommodations;
this._parentContainer = YAHOO.util.Dom.get(parentContainer);
};
Accommodations.Renderer.prototype.getDoc = function()
{
return this._parentContainer.ownerDocument;
};
Accommodations.Renderer.prototype.getContainer = function()
{
var containerId = 'accs-container-' + this._accommodations.getId();
return this.getDoc().getElementById(containerId);
};
Accommodations.Renderer.prototype.getForm = function()
{
var formId = 'accs-form-' + this._accommodations.getId();
return this.getDoc().forms[formId];
};
Accommodations.Renderer.prototype.bind = function()
{
var renderer = this;
this._accommodations.onSelectValue.subscribe(function(accValue)
{
Util.log('AccSelect: ' + accValue);
var dependentTypes = accValue.getParentType().getDependentTypes();
Util.Array.each(dependentTypes, function(dependentType)
{
renderer.renderAccommodationType(dependentType);
});
});
};
Accommodations.Renderer.prototype.init = function()
{
var container = this.getContainer();
if (container == null)
{
var containerId = 'accs-container-' + this._accommodations.getId();
container = HTML.DIV({ id: containerId });
this._parentContainer.appendChild(container);
}
var form = this.getForm();
if (form == null)
{
var formId = 'accs-form-' + this._accommodations.getId();
form = HTML.FORM({ id: formId, name: formId });
container.appendChild(form);
}
};
Accommodations.Renderer.prototype.render = function()
{
this.init();
var accTypes = this._accommodations.getTypes();
var accParentTypes = Util.Array.filter(accTypes, function(accType)
{
return (accType.getDependsOnTool() == null);
});
Util.Array.each(accParentTypes, function(accParentType)
{
this.renderAccommodationType(accParentType);
Util.Array.each(accParentType.getDependentTypes(), this.renderAccommodationType, this);
}, this);
return true;
};
Accommodations.Renderer.hideInvisible = true;
Accommodations.Renderer.hideUnselectable = true;
Accommodations.Renderer.prototype.renderAccommodationType = function(accType)
{
var doc = this.getDoc();
var form = this.getForm();
var accContainer = doc.getElementById(accType.getControlId());
var accTypeHash = accType.hashCode();
if (accContainer != null)
{
Util.Dom.removeChildren(accContainer);
}
if (accContainer == null)
{
accContainer = doc.createElement('div');
accContainer.setAttribute('id', accType.getControlId());
form.appendChild(accContainer);
}
accContainer.className = '';
if (accType.getDependsOnTool() != null)
{
YUD.addClass(accContainer, 'dependency');
}
if ((Accommodations.Renderer.hideInvisible && !accType.isVisible()) ||
(Accommodations.Renderer.hideUnselectable && !accType.isSelectable()))
{
YUD.setStyle(accContainer, 'display', 'none');
return;
}
else
{
YUD.setStyle(accContainer, 'display', 'block');
}
var label = doc.createElement('label');
label.setAttribute('for', accType.getId());
label.setAttribute('i18n-text', accType.getId());
var labelText = doc.createTextNode(accType.getLabel() + ': ');
label.appendChild(labelText);
accContainer.appendChild(label);
if (accType.isBoolSelect())
{
YUD.addClass(accContainer, 'checkbox');
this.renderCheckBox(accType, accContainer);
}
else if (accType.isMultiSelect())
{
YUD.addClass(accContainer, 'multiselect');
this.renderMultiSelect(accType, accContainer);
}
else
{
YUD.addClass(accContainer, 'singleselect');
this.renderSingleSelect(accType, accContainer);
}
var clear = doc.createElement('span');
YUD.addClass(clear, 'clear');
accContainer.appendChild(clear);
};
Accommodations.Renderer.prototype.renderCheckBox = function(accType, container)
{
var renderer = this;
var doc = this.getDoc();
var accValues = accType.getValues();
var trueCode = accValues[1].getCode();
var checkbox = doc.createElement('input');
checkbox.setAttribute('id', accType.getId());
checkbox.setAttribute('name', accType.getId());
checkbox.setAttribute('type', 'checkbox');
checkbox.setAttribute('tabindex', 0);
checkbox.value = accValues[1].getCode();
Util.Array.each(accValues, function(accValue)
{
if (accValue.isSelected() && accValue.getCode() == checkbox.value)
{
checkbox.checked = true;
}
});
if (!accType.isSelectable() || accType.getValues().length <= 1)
{
checkbox.disabled = true;
}
YUE.on(checkbox, 'click', function()
{
renderer.save();
});
container.appendChild(checkbox);
return checkbox;
};
Accommodations.Renderer.prototype.renderSingleSelect = function(accType, container)
{
var renderer = this;
var doc = this.getDoc();
var accValues = accType.getValues();
var select = doc.createElement('select');
select.id = accType.getId();
select.name = accType.getId();
select.setAttribute('tabindex', 0);
if (accType.isMultiSelect())
{
select.setAttribute('multiple', 'multiple');
}
var optIdx = 0;
Util.Array.each(accValues, function(accValue)
{
if (accType.isMultiSelect())
{
if (accValue.getCode() == 'None' || accValue.getCode().indexOf('_None') != -1) return;
}
var optionLabel = accValue.getLabel() || accValue.getCode();
var optionValue = accValue.getCode();
var option = select.options[optIdx] = new Option(optionLabel, optionValue);
option.selected = accValue.isSelected();
optIdx++;
});
if (!accType.isSelectable() || accType.getValues().length <= 1)
{
select.disabled = true;
}
YUE.on(select, 'change', function()
{
renderer.save();
});
container.appendChild(select);
return select;
};
Accommodations.Renderer.prototype.renderMultiSelect = function(accType, container)
{
var renderer = this;
var accommodations = this._accommodations;
var doc = this.getDoc();
var form = this.getForm();
var valueContainer = doc.createElement('div');
YUD.addClass(valueContainer, 'values');
var clickEvent = function(clickedCheckbox, clickedValue)
{
var checkboxes = form[accType.getId()];
if (!clickedCheckbox.checked)
{
var defaultValue = accType.getDefault();
var defaultCheckbox = null;
for (var i = 0; i < checkboxes.length; i++)
{
var checkbox = checkboxes[i];
if (defaultValue.getCode() == checkbox.value) defaultCheckbox = checkbox;
if (checkbox.checked) return;
}
defaultCheckbox.checked = true;
return;
}
if (clickedValue.allowCombine())
{
Util.Array.each(checkboxes, function(checkbox)
{
var accValue = accommodations.getValue(checkbox.value);
if (!accValue.allowCombine())
{
checkbox.checked = false;
}
});
return;
}
Util.Array.each(checkboxes, function(checkbox)
{
if (clickedCheckbox.value != checkbox.value)
{
checkbox.checked = false;
}
});
};
var accValues = accType.getValues();
Util.Array.each(accValues, function(accValue)
{
var valueLabel = doc.createElement('label');
if (!accType.isSelectable()) YUD.addClass(valueLabel, 'disabled');
valueContainer.appendChild(valueLabel);
var valueCB = doc.createElement('input');
valueCB.setAttribute('name', accType.getId());
valueCB.setAttribute('type', 'checkbox');
valueCB.value = accValue.getCode();
if (accValue.allowCombine()) YUD.addClass(valueCB, 'allowCombine');
if (accValue.isSelected()) valueCB.checked = true;
if (!accType.isSelectable() || accType.getValues().length <= 1)
{
valueCB.disabled = true;
}
YUE.on(valueCB, 'click', function()
{
clickEvent(valueCB, accValue);
renderer.save();
});
valueLabel.appendChild(valueCB);
var labelText = doc.createTextNode(accValue.getLabel());
valueLabel.appendChild(labelText);
});
container.appendChild(valueContainer);
};
Accommodations.Renderer.prototype.save = function()
{
var form = this.getForm();
var accTypes = this._accommodations.getTypes();
Util.Array.each(accTypes, function(accType)
{
var accValues = accType.getValues();
var formElement = form[accType.getId()];
if (formElement == null) return;
if (accType.isBoolSelect())
{
var accValue = formElement.checked ? accValues[1] : accValues[0];
this._accommodations.selectCodes(accType.getName(), [accValue.getCode()]);
}
else if (accType.isMultiSelect())
{
var selectedCodes = [];
var checkboxes = form[accType.getId()];
Util.Array.each(checkboxes, function(checkbox)
{
if (checkbox.checked) selectedCodes.push(checkbox.value);
});
this._accommodations.selectCodes(accType.getName(), selectedCodes);
}
else
{
this._accommodations.selectCodes(accType.getName(), [formElement.value]);
}
}, this);
};

// FILE: tds_acc_dialog.js (df61ff4b) 7/23/2014 4:30:36 PM

Accommodations.Dialog = function(accommodations, parentContainer, width, height)
{
this.onCancel = new YAHOO.util.CustomEvent('onCancel', this, true, YAHOO.util.CustomEvent.FLAT);
this.onBeforeSave = new YAHOO.util.CustomEvent('onBeforeSave', this, true, YAHOO.util.CustomEvent.FLAT);
this.onSave = new YAHOO.util.CustomEvent('onSave', this, true, YAHOO.util.CustomEvent.FLAT);
this._parentContainer = YAHOO.util.Dom.get(parentContainer);
this._yuiDialog = null;
this._width = width || 350;
this._height = height || 400;
this._accommodations = accommodations;
this._renderer = null;
};
Accommodations.Dialog.instance = null;
Accommodations.Dialog.prototype._init = function()
{
var accDialog = this;
YAHOO.util.Dom.setStyle(this._parentContainer, 'display', '');
var handleSubmit = function()
{
this.hide();
accDialog.onBeforeSave.fire(accDialog._accommodations);
accDialog._renderer.save();
accDialog.onSave.fire(accDialog._accommodations);
};
var handleCancel = function()
{
this.hide();
accDialog.onCancel.fire();
};
var dialog = new YAHOO.widget.Dialog(this._parentContainer,
{
modal: true,
visible: false,
draggable: false,
close: false,
postmethod: 'none'
});
this._yuiDialog = dialog;
TDS.Dialog.fixTabIndex(dialog);
dialog.cfg.queueProperty("buttons",
[
{ text: 'Submit', handler: handleSubmit, isDefault: true },
{ text: 'Cancel', handler: handleCancel }
]);
dialog.beforeShowEvent.subscribe(function()
{
var buttons = dialog.getButtons();
buttons[0].set('label', Messages.getAlt("Global.Button.Submit", "Submit"));
buttons[1].set('label', Messages.getAlt("Global.Button.Cancel", "Cancel"));
});
var rendererElement = YUD.getElementsByClassName('bd', 'div', dialog.innerElement)[0];
this._renderer = new Accommodations.Renderer(this._accommodations, rendererElement);
};
Accommodations.Dialog.prototype.show = function()
{
if (this._yuiDialog == null) this._init();
this._renderer.render();
this._yuiDialog.render();
this._yuiDialog.changeContentEvent.fire();
this._yuiDialog.show();
};
YUE.onDOMReady(function()
{
TDS.ToolManager.init();
var panel = TDS.ToolManager.createPanel('panel-hack', 'hack', 'Header', 'Footer');
YUD.setStyle(panel.element, 'display', 'none');
});

// FILE: config.js (feb7fe1c) 5/2/2014 12:55:58 PM

TTS = window.TTS || {};
TTS.Config = {
PlayDelay: 200,
DefaultManager: 'TTS.Manager',
DefaultToSelection: true,
DefaultLanguage: 'ENU',
NoInit: false,
Debug: false,
i18n: {
ESN:{
option: 'opciÃ³n'
},
ENU: {
option: 'option'
}
},
isTrackingEnabled: function () {
return false;
},
shouldSanitizeTextForTTS: function() {
var ttxRule = TDS.getAccommodationProperties() != null ? TDS.getAccommodationProperties().getTTXBusinessRules() : null;
if (ttxRule != null && ttxRule.indexOf("TDS_TTX_M") != -1) {
return true;
}
return false;
},
getText: function(key, lang){
lang = lang || 'ENU';
return TTS.Config.i18n[lang] ? TTS.Config.i18n[lang][key] : key;
},
User: {
reset: function(){
TTS.Config.User.setVolume(TTS.Config.UserSet.Volume);
TTS.Config.User.setRate(TTS.Config.UserSet.Rate);
TTS.Config.User.setPitch(TTS.Config.UserSet.Pitch);
TTS.Config.User.setVoice('', [TTS.Config.Lang.ESN.Code, TTS.Config.Lang.ENU.Code]);
},
getVoice: function(lang){
return TTS.Config.User.getLocalStorage('Voice', lang);
},
setVoice: function(val, langs){
langs = langs || [TTS.Config.Lang.ENU.Code];
for(var k in langs){
var lang = langs[k];
TTS.getInstance().setVoice(val, lang);
}
TTS.Config.User.setLocalStorage('Voice', val, langs);
},
getRate: function(){
return TTS.Config.User.getLocalStorage('Rate');
},
setRate: function(val){
TTS.getInstance().setRate(val);
TTS.Config.User.setLocalStorage('Rate', val);
},
getPitch: function(){
return TTS.Config.User.getLocalStorage('Pitch');
},
setPitch: function(val){
TTS.getInstance().setPitch(val);
TTS.Config.User.setLocalStorage('Pitch', val);
},
getVolume: function(){
return TTS.Config.User.getLocalStorage('Volume');
},
setVolume: function(val){
TTS.getInstance().setVolume(val);
TTS.Config.User.setLocalStorage('Volume', val);
},
resetToDefaults: function(cfg){
cfg = cfg || TTS.Config.UserSet;
TTS.Config.User.setVolume(cfg.Volume);
TTS.Config.User.setRate(cfg.Rate);
TTS.Config.User.setPitch(cfg.Pitch);
},
getKey: function(val, lang){
lang = lang || TTS.Config.Lang.ENU.Code;
return 'TTS_' + val + '_' + lang;
},
getLocalStorage: function(str, lang){
lang = lang || TTS.Config.Lang.ENU.Code;
var key = TTS.Config.User.getKey(str, lang);
var ret = null;
if(window.Util && Util.Storage){
ret = Util.Storage.get(key);
}
if(typeof ret == 'undefined' || ret == null){
ret = TTS.Config.User.Store[key];
}
if(typeof ret == 'undefined' || ret == null){
ret = TTS.Config.UserSet[str];
}
TTS.Config.Debug && console.log("TTS: Get this value (str, lang, key, ret)", str, lang, key, ret);
return ret;
},
setLocalStorage: function(str, val, langs){
if(typeof langs == 'string'){
langs = [langs];
}else if(!langs){
langs = [TTS.Config.Lang.ENU.Code];
}
for(var i = 0; i < langs.length; ++i){
var lang = langs[i];
var key  = TTS.Config.User.getKey(str, lang);
TTS.Config.Debug && console.log("TTS: SET this local store value (str, lang, key)", str, lang, key, val);
if(window.Util && Util.Storage){
Util.Storage.set(key, val);
}else{
TTS.Config.User.Store[key] = val;
}
}
},
Store: {}
},
UserSet: {
ShowVoicePacks: true,
ShowAdjustments: true,
ShowVolume: true,
MinVolume: 20,
MaxVolume: 10,
Volume: 10,
ShowPitch: true,
MinPitch: 0,
MaxPitch: 20,
Pitch: 10,
ShowRate: true,
MinRate: 0,
MaxRate: 20,
Rate: 10,
TickSize: 20,
LengthInPixels: 200
},
Lang:{
ENU: {
Code: 'ENU',
Enabled: true,
Label: 'English'
},
ESN: {
Code: 'ESN',
Enabled: true,
Label: 'EspaÃ±ol'
}
},
DefaultVoices: [
{ name: "MS_EN-US_DAVID", priority: 3, language: "ENU" },
{ name: "MS_EN-US_ZIRA", priority: 3, language: "ENU" },
{ name: "MS_EN-GB_HAZEL", priority: 4, language: "ENU" },
{ name: "MSSam", priority: 3, language: "ENU" },
{ name: "MSAnna", priority: 3, language: "ENU" },
{ name: "MS-Anna", priority: 3, language: "ENU" },
{ name: "MSMike", priority: 3, language: "ENU" },
{ name: "MSMary", priority: 3, language: "ENU" },
{ name: "MICHAEL", priority: 2, language: "ENU" },
{ name: "MICHELLE", priority: 2, language: "ENU" },
{ name: "VW Julie", priority: 1, language: "ENU" },
{ name: "Julie", priority: 1, language: "ENU" },
{ name: "Kate", priority: 1, language: "ENU" },
{ name: "Paul", priority: 1, language: "ENU" },
{ name: "Cepstral_Marta", priority: 1, language: "ESN" },
{ name: "Cepstral_David", priority: 1, language: "ENU" },
{ name: "Cepstral_Miguel", priority: 2, language: "ESN" },
{ name: "Violeta", priority: 2, language: "ESN" },
{ name: "kal_diphone", priority: 3, language: "ENU" },
{ name: "el_diphone",  priority: 3, language: "ESN" },
{ name: "ked_diphone", priority: 4, language: "ENU" },
{ name: "cmu_us_awb_arctic_hts", priority: 5, language: "ENU" },
{ name: "cmu_us_slt_arctic_hts", priority: 6, language: "ENU" },
{ name: "cmu_us_jmk_arctic_hts", priority: 7, language: "ENU" },
{ name: "cmu_us_bdl_arctic_hts", priority: 8, language: "ENU" },
{ name: "Agnes", priority: 9, language: "ENU" },
{ name: "Alex", priority: 11, language: "ENU" },
{ name: "Bruce", priority: 16, language: "ENU" },
{ name: "Fred", priority: 20, language: "ENU" },
{ name: "Junior", priority: 23, language: "ENU" },
{ name: "Kathy", priority: 24, language: "ENU" },
{ name: "Princess", priority: 26, language: "ENU" },
{ name: "Ralph", priority: 27, language: "ENU" },
{ name: "Vicki", priority: 29, language: "ENU" },
{ name: "Victoria", priority: 30, language: "ENU" },
{ name: "Rosa Infovox iVox HQ", priority: 1, language: "ESN" },
{ name: "Heather Infovox iVox HQ", priority: 1, language: "ENU" },
{ name: "Javier", priority: 9, language: "ESN" },
{ name: "Monica", priority: 9, language: "ESN" },
{ name: "Paulina", priority: 9, language: "ESN" },
{ name: "native", priority: 9, language: "ENU" },
{ name: "Chrome OS US English Voice", priority: 9, language: "ENU" },
{ name: "Chrome OS US English", priority: 9, language: "ENU" },
{ name: "android", priority: 9, language: "ENU" }
],
getVoices: function () {
if (window.TDS && TDS.Config && TDS.Config.voicePacks && TDS.Config.voicePacks.length) {
return TDS.Config.voicePacks;
} else {
return TTS.Config.DefaultVoices;
}
}
};

// FILE: util.js (b31fa09d) 3/7/2014 11:24:14 AM

YUD = YAHOO.util.Dom;
TTS.Util = {
createDiv: function(strOrHtml) {
var newdiv = document.createElement('div');
newdiv.innerHTML = strOrHtml || '';
return newdiv;
},
getSub: function(elmObj, attrTag, lang) {
if (!elmObj) {
return null;
}
lang = lang || 'ENU';
attrTag = attrTag || 'ssml';
if (elmObj.nodeName == 'SPAN') {
if (YUD.hasClass(elmObj, 'tts') || YUD.hasClass(elmObj, 'TTS')) {
if (elmObj.attributes != null && elmObj.attributes.getNamedItem("ssml") != null) {
var ssmlType = elmObj.attributes.getNamedItem("ssml").nodeValue;
if (ssmlType == "sub") {
var ssmlAlias = "";
if (elmObj.attributes.getNamedItem(attrTag) != null) {
ssmlAlias = elmObj.attributes.getNamedItem(attrTag).nodeValue;
}
return ssmlAlias + " ";
}
}
}
} else if (elmObj.nodeName == 'INPUT') {
if (YUD.hasClass(elmObj, 'tts')) {
if (elmObj.attributes != null && elmObj.attributes.getNamedItem(lang) != null) {
return elmObj.attributes.getNamedItem(lang).nodeValue + ' ';
}
}
}
return null;
},
ignore: function (node) {
return (node && YUD.getAttribute(node, 'data-tts-skip') == 'true');
},
sanitizeLang: function (lang) {
if (lang == 'ENU') {
return 'en-us';
} else if (lang == 'ESN') {
return 'es-mx';
}
return lang;
},
markLang: function (node, lang) {
if (node && node.nodeType != 3 && lang) {
YUD.setAttribute(node, 'lang', lang);
}
},
isLang: function (node, lang) {
lang = TTS.Util.sanitizeLang(lang);
if (TTS.Util.getLang(node) == lang) {
return true;
}
return false;
},
getLang: function (node) {
if (node) {
if (node.nodeType == 3) {
return TTS.Util.getLang(node.parentNode);
} else {
return YUD.getAttribute(node, 'lang');
}
}
return null;
},
hasAlt: function (node) {
if (node && node.nodeType != 3) {
if (YUD.hasClass(node, 'hasAlt') || YUD.hasClass(node, 'contextAreaAlt')) {
return true;
}
}
return false;
},
hasLanguageAttr: function (node) {
if (node && node.nodeType == Node.ELEMENT_NODE && YUD.hasClass(node, 'languagedivider')) {
return node;
}
return null;
},
hasLanguageAttributes: function (domNodesArray) {
for (var i = 0; i < domNodesArray.length; ++i) {
var domNode = domNodesArray[i];
if (domNode != null && domNode.nodeType == Node.ELEMENT_NODE) {
if (YUD.hasClass(domNode, 'languagedivider')) {
return domNode;
}
}
}
return null;
},
bubble: function (node, match, results) {
results = results || {};
if (node && typeof match == 'function') {
if (match(node)) {
results.node = node;
} else if (node.parentNode && node.nodeName != "BODY" && node.nodeName != 'IFRAME') {
TTS.Util.bubble(node.parentNode, match, results);
}
}
return results.node;
},
dfs: function (nodes, match, results) {
if (!nodes) {
return null;
}
results = results || {};
for (var i = 0; i < nodes.length; ++i) {
var node = nodes[i];
if (results.node) {
break;
} else if (match(node)) {
results.node = node;
break;
} else {
TTS.Util.dfs(node.childNodes, match, results);
}
}
return results.node;
},
cleanText: function (text, addHacks) {
text = text.replace(/"/g, " ");
text = text.replace(/\u201C/g, " ");
text = text.replace(/\u201D/g, "{silence}");
text = text.replace(/\u2019/g, "'");
if (TTS.Config.shouldSanitizeTextForTTS()) {
text = text.replace(/[^\u0000-\u0081\u00C1\u00E1\u00C9\u00E9\u00CD\u00ED\u00D1\u00F1\u00D3\u00F3\u00DA\u00FA\u00DC\u00FC\u00AB\u00BB\u00BF\u00A1\u2047]+/g, "");
}
if (text != '' && addHacks) {
text = TTS.Util.addTagsAndHacks(text);
}
text = text.replace(/(\r\n|\n|\r)/gm, " ").replace(/\s+/gm, ' ');
return text;
},
addTagsAndHacks: function(text) {
text = text.replace(/{silence}/g, "{silence:200}");
if (Util.Browser.isWindows()) {
text = text.replace(/{silence:([0-9]+)}/g, ',<silence msec="$1"/>');
text = '<bookmark mark="start"/>' + text;
} else if (Util.Browser.isMac()) {
text = text.replace(/{silence:([0-9]+)}/g, "[[slnc $1]]");
text = "[[sync 0x000000A1]] " + text + " [[sync 0x000000A2]]";
} else {
text = text.replace(/{silence:([0-9]+)}/g, " ; ");
text = text.trim();
}
return text;
}
};

// FILE: tts.js (ae652cfe) 3/7/2014 11:24:14 AM

TTS.Status = {
NotSupported: 'NotSupported',
Uninitialized: 'Uninitialized',
Initializing: 'Initializing',
Stopped: 'Stopped',
Playing: 'Playing',
Paused: 'Paused',
Unknown: 'Unknown'
};
TTS.VoicePack = function(voicename, priority, language, available, isDefault) {
this.Voicename = voicename;
this.Priority = priority;
this.Language = language;
this.Available = available;
this.IsDefault = isDefault;
};
TTS.Manager = {
Events: {
onServiceLoad: new YAHOO.util.CustomEvent('onServiceLoad', TTS.Manager, false, YAHOO.util.CustomEvent.FLAT),
onInitSuccess: new YAHOO.util.CustomEvent('onInitSuccess', TTS.Manager, false, YAHOO.util.CustomEvent.FLAT),
onInitFailure: new YAHOO.util.CustomEvent('onInitFailure', TTS.Manager, false, YAHOO.util.CustomEvent.FLAT),
onStatusChange: new YAHOO.util.CustomEvent('onStatusChange', TTS.Manager, false, YAHOO.util.CustomEvent.FLAT),
onVolumeChange: new YAHOO.util.CustomEvent('onVolumeChange', TTS.Manager, false, YAHOO.util.CustomEvent.FLAT),
onPitchChange: new YAHOO.util.CustomEvent('onPitchChange', TTS.Manager, false, YAHOO.util.CustomEvent.FLAT),
onRateChange: new YAHOO.util.CustomEvent('onRateChange', TTS.Manager, false, YAHOO.util.CustomEvent.FLAT),
onVoiceChange: new YAHOO.util.CustomEvent('onVoiceChange', TTS.Manager, false, YAHOO.util.CustomEvent.FLAT),
onError: new YAHOO.util.CustomEvent('onError', TTS.Manager, false, YAHOO.util.CustomEvent.FLAT),
onWord: new YAHOO.util.CustomEvent('onWord', TTS.Manager, false, YAHOO.util.CustomEvent.FLAT),
onLog: new YAHOO.util.CustomEvent('onLog', TTS.Manager, false, YAHOO.util.CustomEvent.FLAT)
},
_debugging: false,
_service: null,
_lastStatus: TTS.Status.Uninitialized,
_lastVolume: -1,
_lastPitch: -1,
_lastRate: -1,
_lastVoice: null,
_lastVoiceLanguage: null,
_serviceEvents: ['play', 'pause', 'resume', 'stop', 'setVolume', 'setVoice'],
_statusPollingTimer: null,
_statusPollingInterval: 0,
_statusPollingIntervalActive: 500,
_statusPollingIntervalIdle: 30000,
_statusPollingMinActive: 3000,
_statusPollingDateActive: null,
_volumeFix: false,
_knownVoicePacks: [],
_knownLanguages: {},
_initialized: false
};
TTS.Manager._addKnownLanguage = function(languageCode) {
languageCode = languageCode.toUpperCase();
TTS.Manager._knownLanguages[languageCode] = languageCode;
};
TTS.Manager.isKnownLanguage = function(languageCode) {
languageCode = languageCode.toUpperCase();
if (TTS.Manager._knownLanguages[languageCode] != null) {
return true;
}
return false;
};
TTS.Manager.log = function(message) {
if (TTS.Manager._debugging) {
Util.log(message);
}
TTS.Manager.Events.onLog.fire(message);
};
TTS.Manager.init = function (forceInit) {
TTS.Manager.Events.onServiceLoad.subscribe(function (service) {
var initSuccess = false;
initSuccess = TTS.Manager._initService(service);
if (!initSuccess) {
TTS.Manager._lastStatus = TTS.Status.NotSupported;
TTS.Manager.Events.onInitFailure.fire();
} else {
TTS.Manager._initialized = true;
}
});
if (forceInit != true) {
if (TTS.Manager.getStatus() != TTS.Status.Uninitialized) {
return;
}
} else {
TTS.Manager._service = null;
delete TTS.Manager._service;
TTS.Manager._changeStatus(TTS.Status.Uninitialized);
TTS.Manager.Events.onServiceLoad.unsubscribeAll();
}
try {
var service = null;
if (YAHOO.lang.isFunction(TTSService_SB) && YAHOO.lang.isFunction(window.Runtime)) {
service = new TTSService_SB();
} else if (typeof TTSService_Applet != 'undefined' && YAHOO.lang.isFunction(TTSService_Applet)) {
service = new TTSService_Applet();
} else if (Util.Browser.isSecure() && (Util.Browser.isAndroid() || (Util.Browser.isIOS() && (Util.Browser.getSecureVersion() >= 2)))) {
service = new TTSService_Generic();
}
else if (Util.Browser.isSecure() && Util.Browser.isChrome()) {
service = new TTSService_Chrome();
}
if (!service || !service.isSupported()) {
TTS.Manager._changeStatus(TTS.Status.NotSupported);
return false;
}
TTS.Manager._service = service;
TTS.Manager.log('initializing');
TTS.Manager._changeStatus(TTS.Status.Initializing);
if (!service.load()) {
return false;
}
} catch (ex) {
console.error("Failed to load a service.", ex);
TTS.Manager.log(ex);
}
return;
};
TTS.Manager._initService = function() {
TTS.Manager._initializeAvailableVoices();
TTS.Manager._updateStatus();
TTS.Manager.loadUserSettings();
TTS.Manager.Events.onInitSuccess.fire();
TTS.Manager._lastVolume = TTS.Manager.getVolume();
TTS.Manager.Events.onVolumeChange.fire(TTS.Manager._lastVolume);
TTS.Manager._lastPitch = TTS.Manager.getPitch();
TTS.Manager.Events.onPitchChange.fire(TTS.Manager._lastPitch);
TTS.Manager._lastRate = TTS.Manager.getRate();
TTS.Manager.Events.onRateChange.fire(TTS.Manager._lastRate);
TTS.Manager._lastVoice = TTS.Manager.getVoice();
TTS.Manager.Events.onVoiceChange.fire(TTS.Manager._lastVoice);
var service = TTS.Manager._service;
if (service && service.subscribe) {
TTS.Manager._service.subscribe(TTS.Manager.Events.onWord);
}
return true;
};
TTS.Manager._serviceFuncExists = function(functionName) {
if (TTS.Manager._service == null) {
return false;
}
return (typeof(TTS.Manager._service[functionName]) == 'function');
};
TTS.Manager.getStatus = function() {
if (!TTS.Manager._serviceFuncExists('getStatus')) {
return TTS.Manager._lastStatus;
}
try {
return TTS.Manager._service.getStatus();
} catch(ex) {
return TTS.Status.Unknown;
}
};
TTS.Manager.play = function(text, language) {
language = language || 'ENU';
var played = false;
try {
if (text == null || text.length == 0) {
return false;
}
if (!TTS.Manager._serviceFuncExists('play')) {
return false;
}
if (!TTS.Manager.isLanguageSupported(language)) {
return false;
}
var currentStatus = TTS.Manager.getStatus();
if (currentStatus == TTS.Status.Playing) {
return false;
}
if (currentStatus == TTS.Status.Unknown) {
TTS.Manager.stop();
}
TTS.Manager.setVoiceForLanguage(language);
played = TTS.Manager._service.play(text);
if (currentStatus != TTS.Status.Unknown) {
TTS.Manager._statusPollingDateActive = new Date();
TTS.Manager._statusPollingInterval = TTS.Manager._statusPollingIntervalActive;
TTS.Manager._updateStatus();
}
} catch(ex) {
console.error("Failed to play the sound.", ex);
TTS.Manager.log(ex);
}
return played;
};
TTS.Manager.stop = function() {
if (!TTS.Manager._serviceFuncExists('stop')) {
return false;
}
var currentStatus = TTS.Manager.getStatus();
if (currentStatus != TTS.Status.Playing && currentStatus != TTS.Status.Unknown && currentStatus != TTS.Status.Paused) {
return false;
}
try {
return TTS.Manager._service.stop();
} catch(ex) {
TTS.Manager.log(ex);
return false;
}
};
TTS.Manager.pause = function() {
if (!TTS.Manager._serviceFuncExists('pause')) {
return false;
}
if (TTS.Manager.getStatus() != TTS.Status.Playing) {
return false;
}
return TTS.Manager._service.pause();
};
TTS.Manager.resume = function() {
if (!TTS.Manager._serviceFuncExists('resume')) {
return false;
}
if (TTS.Manager.getStatus() != TTS.Status.Paused) {
return false;
}
return TTS.Manager._service.resume();
};
TTS.Manager.getVoices = function () {
if (!TTS.Manager._serviceFuncExists('getVoices')) {
return [];
}
var voices = TTS.Manager._service.getVoices();
TTS.Config.Debug && console.log("getVoice call returned.", voices, TTS.Manager._service);
return voices;
};
TTS.Manager.getVoice = function() {
if (!TTS.Manager._serviceFuncExists('getVoice')) {
return null;
}
return TTS.Manager._service.getVoice();
};
TTS.Manager.loadUserSettings = function () {
try {
if (!Util || !Util.Storage) {
return;
}
TTS.Manager.setVolume(TTS.Config.User.getVolume());
TTS.Manager.setPitch(TTS.Config.User.getPitch());
TTS.Manager.setRate(TTS.Config.User.getRate());
var langCodes = TTS.Manager.getKnownLanguageCodes();
for (var i = 0; i < langCodes.length; i++) {
var langVoicePref = TTS.Config.User.getVoice(langCodes[i]);
if (langVoicePref) {
TTS.Config.Debug && console.log("Setting a user prference for the language.", langVoicePref);
var voicePacks = TTS.Manager.getVoicesForLanguage(langCodes[i]);
for (var j = 0; j < voicePacks.length; j++) {
var voicePack = voicePacks[j];
if (voicePack.ServiceVoiceName == langVoicePref) {
TTS.Manager.setAsPrefferredVoicePack(voicePack);
TTS.Manager.setVoice(voicePack.ServiceVoiceName);
}
}
}
}
} catch (e) {
console.error("Failed to load user settings.", e);
}
};
TTS.Manager.setVoice = function(name) {
if (!TTS.Manager._serviceFuncExists('setVoice')) {
return null;
}
if (!YAHOO.util.Lang.isString(name)) {
throw new Error('Invalid voice name');
}
try {
TTS.Manager._service.setVoice(name);
TTS.Manager.Events.onVoiceChange.fire(name);
} catch(ex) {
console.error("Failed to set the voice.", name);
}
};
TTS.Manager.getVolume = function() {
if (!TTS.Manager._serviceFuncExists('getVolume')) {
return -1;
}
return TTS.Manager._service.getVolume();
};
TTS.Manager.setVolume = function(level) {
if (!TTS.Manager._serviceFuncExists('setVolume')) {
return false;
}
if (!YAHOO.util.Lang.isNumber(level)) {
throw new Error('Invalid volume level: value=' + level + ' type=' + typeof level);
}
try {
TTS.Manager._service.setVolume(level);
TTS.Manager.Events.onVolumeChange.fire(level);
} catch(ex) {
console.error("Failed to set the volume.", ex, level);
}
};
TTS.Manager.increaseVolume = function() {
var current = TTS.Manager.getVolume();
if (current == 10) {
return false;
} else {
TTS.Manager.setVolume(current + 1);
}
return true;
};
TTS.Manager.decreaseVolume = function() {
var current = TTS.Manager.getVolume();
if (current == 0) {
return false;
} else {
TTS.Manager.setVolume(current - 1);
}
return true;
};
TTS.Manager.getPitch = function() {
if (!TTS.Manager._serviceFuncExists('getPitch')) {
return -1;
}
return TTS.Manager._service.getPitch();
};
TTS.Manager.setPitch = function(level) {
if (!TTS.Manager._serviceFuncExists('setPitch')) {
return false;
}
if (!YAHOO.util.Lang.isNumber(level)) {
throw new Error('Invalid pitch level: value=' + level + ' type=' + typeof level);
}
try {
TTS.Manager._service.setPitch(level);
TTS.Manager.Events.onPitchChange.fire(level);
} catch(ex) {
console.error("Failed to set the pitch", ex, level);
TTS.Manager.log(ex);
}
};
TTS.Manager.getRate = function() {
if (!TTS.Manager._serviceFuncExists('getRate')) {
return -1;
}
return TTS.Manager._service.getRate();
};
TTS.Manager.setRate = function(level) {
if (!TTS.Manager._serviceFuncExists('setRate')) {
return false;
}
if (!YAHOO.util.Lang.isNumber(level)) {
throw new Error('Invalid rate level: value=' + level + ' type=' + typeof level);
}
try {
TTS.Manager._service.setRate(level);
TTS.Manager.Events.onRateChange.fire(level);
} catch(ex) {
console.error("Failed to set the TTS Manager Rate information.", ex, level);
TTS.Manager.log(ex);
}
};
TTS.Manager.isAvailable = function() {
var ttsStatus = TTS.Manager.getStatus();
return ttsStatus == TTS.Status.Stopped || ttsStatus == TTS.Status.Playing || ttsStatus == TTS.Status.Paused;
};
TTS.Manager._updateStatus = function() {
if (TTS.Manager._statusPollingTimer != null) {
TTS.Manager._statusPollingTimer.cancel();
}
var currentStatus = TTS.Manager.getStatus();
if (currentStatus != TTS.Manager._lastStatus) {
this._changeStatus(currentStatus);
}
if (currentStatus == TTS.Status.Playing) {
TTS.Manager._statusPollingInterval = TTS.Manager._statusPollingIntervalActive;
} else if (currentStatus == TTS.Status.Stopped || currentStatus == TTS.Status.Paused) {
var diffPollingActive = (new Date() - (TTS.Manager._statusPollingDateActive || 0));
if (TTS.Manager._statusPollingMinActive == 0 || diffPollingActive > TTS.Manager._statusPollingMinActive) {
TTS.Manager._statusPollingDateActive = null;
TTS.Manager._statusPollingInterval = TTS.Manager._statusPollingIntervalIdle;
}
}
if (this._statusPollingInterval > 0) {
TTS.Manager._statusPollingTimer = YAHOO.lang.later(this._statusPollingInterval, TTS.Manager, TTS.Manager._updateStatus);
}
};
TTS.Manager._changeStatus = function(currentStatus) {
TTS.Manager._lastStatus = currentStatus;
if (currentStatus == TTS.Status.Playing && !TTS.Manager._volumeFix) {
if (!TTS.Manager._volumeFix) {
var volume = TTS.Manager._lastVolume > 0 ? TTS.Manager._lastVolume : 10;
TTS.Manager.setVolume(volume);
TTS.Manager._volumeFix = true;
}
}
TTS.Manager.Events.onStatusChange.fire(currentStatus);
};
TTS.Manager._initializeAvailableVoices = function () {
var availableVoices = TTS.Manager.getVoices();
TTS.Config.Debug && console.log("TTS.Manager Available Voices: ", availableVoices);
if (availableVoices == null || typeof (availableVoices) == 'undefined') {
return;
}
for (var counter1 = 0; counter1 < TTS.Manager._knownVoicePacks.length; ++counter1) {
var voicePackElement = TTS.Manager._knownVoicePacks[counter1];
for (var counter2 = 0; counter2 < availableVoices.length; ++counter2) {
var availableVoice = availableVoices[counter2];
var availableVoiceLower = availableVoice.toLowerCase();
var voicePackVoiceNameLower = voicePackElement.Voicename.toLowerCase();
if (availableVoiceLower.indexOf(voicePackVoiceNameLower, 0) >= 0) {
voicePackElement.Available = true;
voicePackElement.ServiceVoiceName = availableVoice;
break;
}
}
}
var defaultVoice = TTS.Manager.getVoice();
for (var counter1 = 0; counter1 < TTS.Manager._knownVoicePacks.length; ++counter1) {
var voicePackElement = TTS.Manager._knownVoicePacks[counter1];
if (defaultVoice.indexOf(voicePackElement.Voicename, 0) >= 0) {
voicePackElement.IsDefault = true;
voicePackElement.Priority = 1;
} else {
voicePackElement.IsDefault = false;
voicePackElement.Priority = voicePackElement.Priority + 1;
}
}
};
TTS.Manager.clearVoicePacks = function() {
TTS.Manager._knownVoicePacks = [];
};
TTS.Manager.registerVoicePack = function (voicename, priority, language) {
TTS.Manager._knownVoicePacks.push(new TTS.VoicePack(voicename, priority, language, false, false));
TTS.Manager._addKnownLanguage(language);
};
TTS.Manager.getVoicesForLanguage = function (language) {
var availableVoices = TTS.Manager.getVoices();
var availableVoicesForLanguage = [];
if (availableVoices == null || typeof (availableVoices) == 'undefined') {
return;
}
for (var counter = 0; counter < TTS.Manager._knownVoicePacks.length; ++counter) {
var voicePackElement = TTS.Manager._knownVoicePacks[counter];
if (voicePackElement.Language == language && voicePackElement.Available) {
availableVoicesForLanguage.push(voicePackElement);
}
}
return availableVoicesForLanguage;
};
TTS.Manager.getVoiceForLanguage = function(language) {
var defaultVoice = null;
var selectedVoice = new TTS.VoicePack(null, 100, null, false, false);
for (var counter1 = 0; counter1 < TTS.Manager._knownVoicePacks.length; ++counter1) {
var thisVoice = TTS.Manager._knownVoicePacks[counter1];
if (thisVoice.IsDefault) {
defaultVoice = thisVoice;
}
if (thisVoice.Language == language && thisVoice.Available) {
if (selectedVoice.Priority > thisVoice.Priority) {
selectedVoice = thisVoice;
}
}
}
if (!selectedVoice.Available) {
selectedVoice = defaultVoice;
}
return selectedVoice;
};
TTS.Manager.setVoiceForLanguage = function (language) {
var selectedVoice = TTS.Manager.getVoiceForLanguage(language);
if (!selectedVoice || selectedVoice == TTS.Manager.getCurrentVoicePack()) {
return;
} else {
if (selectedVoice.Language == TTS.Manager.getCurrentVoicePack().Language) {
if (selectedVoice.ServiceVoiceName != TTS.Manager.getCurrentVoicePack().ServiceVoiceName) {
selectedVoice = TTS.Manager.getCurrentVoicePack();
}
}
}
TTS.Manager.setVoice(selectedVoice.ServiceVoiceName);
TTS.Manager._lastVoiceLanguage = language;
};
TTS.Manager.getCurrentVoicePack = function() {
var voiceName = TTS.Manager.getVoice();
for (var i = 0; i < TTS.Manager._knownVoicePacks.length; i++) {
var voicePack = TTS.Manager._knownVoicePacks[i];
if (voiceName.toLowerCase().indexOf(voicePack.Voicename.toLowerCase()) >= 0) {
return voicePack;
}
}
return null;
};
TTS.Manager.isLanguageSupported = function(languageCode) {
for (var counter1 = 0; counter1 < TTS.Manager._knownVoicePacks.length; ++counter1) {
var thisVoice = TTS.Manager._knownVoicePacks[counter1];
if (thisVoice.Language == languageCode && thisVoice.Available) {
return true;
}
}
return false;
};
TTS.Manager.getKnownLanguageCodes = function() {
var languages = [];
for (var lang in TTS.Manager._knownLanguages) {
languages.push(lang);
}
return languages;
};
TTS.Manager.setAsPrefferredVoicePack = function (voicePack) {
if (voicePack.Available) {
voicePack.Priority = 0;
}
};
TTS.Manager.Events.onStatusChange.subscribe(function(currentStatus) {
var getStatusName = function(status) {
if (status == TTS.Status.Stopped) {
return 'Stopped';
} else if (status == TTS.Status.Playing) {
return 'Playing';
} else if (status == TTS.Status.Paused) {
return 'Paused';
}
return 'Uninitialized';
};
TTS.Manager.log('status change: \'' + getStatusName(currentStatus) + '\'');
});
TTS.Manager.Events.onVolumeChange.subscribe(function(volume) {
TTS.Manager.log('volume change - ' + volume);
});
TTS.Manager.Events.onVoiceChange.subscribe(function(voice) {
TTS.Manager.log('voice change - \'' + voice + '\'');
});
TTSManager = TTS.Manager;
TTSStatus = TTS.Status;

// FILE: control.js (3d9d0bd0) 5/2/2014 12:55:58 PM

(function() {
var TDS = window.TDS || {};
TTS = window.TTS || {};
TTS.version = 1.0;
TTS.Store = TTS.Store || {
count: 0,
Instances: {}
};
TTS.Singleton = null;
TTS.getInstance = function(NoInit) {
if (!TTS.Singleton) {
var cfg = JSON.parse(JSON.stringify(TTS.Config));
cfg.NoInit = NoInit;
TTS.Singleton = new TTS.Control(cfg);
}
return TTS.Singleton;
};
TTS.Control = function(cfg) {
this.cfg = cfg || JSON.parse(JSON.stringify(TTS.Config));
if (!this.cfg.NoInit) {
this.init(this.cfg.cb);
}
TTS.Store.Instances[TTS.Store.count++] = this;
};
TTS.Control.prototype.init = function(cb) {
this.eventSubscribe(cb);
this.OSHacks();
this.BrowserHacks();
this.registerVoices(TTS.Config.getVoices());
this.getManager().init();
};
TTS.Control.prototype.runOnInit = function(cb) {
if (typeof cb != 'function') {
return;
}
var state = TTS.Manager.getStatus();
if (TTS.Manager._initialized || state == TTS.Status.NotSupported) {
cb(state);
} else {
this.getEventManager().onInitSuccess.subscribe(cb);
}
};
TTS.Control.prototype.isLanguageSupported = function(langCode) {
return TTS.Manager.isLanguageSupported(langCode);
};
TTS.Control.prototype.getVoicesForLanguage = function(lang) {
lang = lang || TTS.Config.Lang.ENU.Code;
return TTS.Manager.getVoicesForLanguage(lang);
};
TTS.Control.prototype.getVoiceForLanguage = function(lang) {
lang = lang || TTS.Config.Lang.ENU.Code;
return TTS.Manager.getVoiceForLanguage(lang);
};
TTS.Control.prototype.getStatus = function() {
return TTS.Manager.getStatus();
};
TTS.Control.prototype.getVoice = function() {
return TTS.Manager.getVoice();
};
TTS.Control.prototype.getVoices = function() {
return TTS.Manager.getVoices();
};
TTS.Control.prototype.registerVoices = function(voices) {
voices = voices || TTS.Config.getVoices();
if (!voices || !voices.length) {
return;
}
TTS.Manager.clearVoicePacks();
for (var i = 0; i < voices.length; i++) {
var voicePack = voices[i];
TTS.Manager.registerVoicePack(voicePack.name, voicePack.priority, voicePack.language);
}
if (TTS.Manager._initialized) {
TTS.Manager._initializeAvailableVoices();
}
};
TTS.Control.prototype.removeHighlighter = function() {
var eM = eM || this.getEventManager();
if (eM && eM.onWord && this.highObj) {
if (this.highCb) {
eM.onWord.unsubscribe(this.highCb);
}
if (this.stopCb) {
eM.onStatusChange.unsubscribe(this.stopCb);
}
delete this.highObj;
}
};
TTS.Control.prototype.setupHighlighter = function(toSpeak, debugStr) {
if (!TTS.Config.isTrackingEnabled()) {
return;
}
try {
TTS.Config.Debug && console.log("Create new highlighter with toSpeak, debugStr", toSpeak, debugStr);
this.removeHighlighter();
var highObj = new TTS.Highlighter(toSpeak.textInfo, debugStr);
this.highCb = highObj.highlightNext.bind(highObj);
this.stopCb = highObj.onPlayStop.bind(highObj);
var eM = this.getEventManager();
if (eM && eM.onWord) {
eM.onWord.subscribe(this.highCb);
eM.onStatusChange.subscribe(this.stopCb);
}
this.highObj = highObj;
} catch(e) {
console.error('Failed to setup a highlighter (toSpeak)', toSpeak, e);
}
return this.highObj;
};
TTS.Control.prototype.setManager = function(manager) {
this._manager = manager;
};
TTS.Control.prototype.getManager = function() {
if (!this._manager) {
this._manager = window[this.cfg.DefaultManager] || window.TTS.Manager;
}
return this._manager;
};
TTS.Control.prototype.BrowserHacks = function() {
TTS.Highlighter.prototype.getWords = this.getWordBoundaryHack();
};
TTS.Control.prototype.getWordBoundaryHack = function() {
var func = null;
if (Util.Browser.isChrome() && !Util.Browser.isWindows()) {
func = function(text) {
if (!text) {
return;
}
var arr = text.replace(/<.*?\/>/g, '').replace(/\s{2,}/g, ' ').replace(/[-\/\^\*{}\-_`~()]/g, "").split(/\s/g);
var fin = [];
for (var i = 0; i < arr.length; ++i) {
var word = arr[i];
var punct = word.match(/[\.!\?\#,]+/g);
if (word && punct && punct.length) {
fin.push(word.replace(/[\.!\?\#,]+/g, ''));
fin.push(punct[0]);
} else if (word != '' && word != 'undefined') {
fin.push(word);
}
}
return fin.filter(function(el) {
if (typeof el == 'string' && el != '' && !el.match(/\[/) && !el.match(/\]/)) {
return el;
}
});
};
} else {
func = function(text) {
if (!text) {
return;
}
var arr = text.replace(/<.*?\/>/g, '').replace(/\s{2,}/g, ' ').replace(/[\.,-\/!\^\*;:{}\-_`~()]/g, "").split(/\s/g);
var fin = [];
for (var i = 0; i < arr.length; ++i) {
var word = arr[i];
var punct = word.match(/[\#]+/g);
if (word && punct && punct.length) {
fin.push(word.replace(/[\#]+/g, ''));
fin.push(punct[0]);
} else if (word != '' && word != 'undefined') {
fin.push(word);
}
}
return fin.filter(function(el) {
if (typeof el == 'string' && el != '' && !el.match(/\[/) && !el.match(/\]/)) {
return el;
}
});
};
}
return func;
};
TTS.Control.prototype.OSHacks = function() {
if (Util.Browser.isLinux()) {
this.speak = function(text, language) {
TTS.Manager.play(text, language);
};
} else {
this.speak = function(text, language) {
setTimeout(function() {
TTS.Manager.play(text, language);
}, this.cfg.PlayDelay || 0);
};
}
};
TTS.Control.prototype.speak = function(dom, parseType, language, selection) {
console.warn("If this is in the message, then the TTS.Manager did not init correctly.");
};
TTS.Control.prototype.eventSubscribe = function(cb) {
var eventManager = this.getEventManager();
eventManager.onStatusChange.subscribe(function() {
TTS.Config.Debug && console.log("TTS Status Change.", TTS.Manager.getStatus());
}.bind(this));
eventManager.onInitSuccess.subscribe(function(cb) {
TTS.Config.Debug && console.log("Initializing TTS: Success.", TTS.Manager.getStatus());
if (typeof cb == 'function') {
cb();
}
this.initSuccess();
}.bind(this, cb));
eventManager.onInitFailure.subscribe(function() {
console.error("Initializing TTS: Failed.", TTS.Manager.getStatus());
if (typeof cb == 'function') {
cb();
}
}.bind(this, cb));
};
TTS.Control.prototype.initSuccess = function() {
try {
this.INIT_SUCCESS = true;
} catch(e) {
console.error("Failed to do post initialization processing.", e);
}
};
TTS.Control.prototype.getDefaultSpeechTarget = function() {
return this.speechTarget ? this.speechTarget : document.body;
};
TTS.Control.prototype.setDefaultSpeechTarget = function(el) {
this.speechTarget = el;
};
TTS.Control.prototype.play = function(speechTarget, parseType, language, selection) {
var toSpeak = null;
try {
this.stop();
this.removeHighlighter();
toSpeak = this.setupPlay(speechTarget, parseType, language, selection);
if (typeof speechTarget != 'string' && toSpeak && this.hasActualWords(toSpeak.text)) {
this.setupHighlighter(toSpeak, toSpeak.text);
}
this.speak(toSpeak.text, toSpeak.language);
} catch(e) {
console.error("Failed to play (speechTarget, parseType, language, toSpeak)",
speechTarget, parseType, language, selection, toSpeak, e
);
}
return toSpeak;
};
TTS.Control.prototype.setupPlay = function(speechTarget, parseType, language) {
var s = this.getSpeechTarget(speechTarget, parseType, language);
if (!s) {
TTS.Config.Debug && console.warn("Could not establish a speech target.", speechTarget, parseType, language);
return;
}
s.language = s.language || TTS.Config.DefaultLanguage;
return s;
};
TTS.Control.prototype.hasActualWords = function(text) {
var test = (this.getWordBoundaryHack())(text);
if (test && test.length > 0) {
return true;
}
return false;
};
TTS.Control.prototype.getPlayFunction = function(speechTarget, parseType, language) {
if (this.isLanguageSupported(language)) {
var s = this.setupPlay(speechTarget, parseType, language);
if (s && s.text && this.hasActualWords(s.text)) {
return function(parseContainer, language) {
TTS.getInstance().play(parseContainer, null, language);
}.bind(this, s.parser, language);
}
}
return false;
};
TTS.Control.prototype.getSpeechTarget = function(speechTarget, parseType, language) {
language = language || TTS.Config.DefaultLanguage;
var altLang = language == 'ENU' ? 'ESN' : 'ENU';
var parser = null;
if (speechTarget && speechTarget.$className == 'TTS.Parser.Container') {
parser = speechTarget;
}
if (!parser && speechTarget && parseType) {
parser = new TTS.Parser.Container(speechTarget, parseType, language, altLang);
}
if (!parser && typeof speechTarget == 'string') {
parser = new TTS.Parser.Container(speechTarget, TTS.Parser.Types.HTML, language, altLang);
parseType = TTS.Parser.Types.HTML;
}
var docTarget = speechTarget && speechTarget.body ? speechTarget : document;
var selection = this.getSelection(docTarget);
if (!parser && selection && selection.commonAncestorContainer) {
parser = new TTS.Parser.Container(docTarget, TTS.Parser.Types.Selection, language, altLang);
parseType = TTS.Parser.Types.Selection;
speechTarget = selection;
}
if (!parser && typeof speechTarget == 'object' && !speechTarget.TTS) {
if (!YAHOO.lang.isArray(speechTarget)) {
speechTarget = [speechTarget];
}
parser = new TTS.Parser.Container(speechTarget, TTS.Parser.Types.DOM, language, altLang);
parseType = TTS.Parser.Types.DOM;
}
if (parser) {
var textArr = parser.getPlayInfo(language);
var info = {
originalTarget: speechTarget,
parser: parser,
parseType: parseType,
textInfo: textArr,
text: parser.createPlayString(textArr, true),
language: language
};
TTS.Config.Debug && console.log("TTS.Control.getSpeechTarget(speechTarget, parseType, lang, ret:",
speechTarget, parseType, language, info
);
return info;
}
return null;
};
TTS.Control.prototype.getSelection = function(dom) {
var rng = dom && dom.body ? rangy.getSelection(dom) : rangy.getSelection();
rng = rng ? rng.getAllRanges() : null;
if (!rng || !rng.length) {
return false;
}
rng = rng[0];
if ((rng.startContainer == rng.endContainer) && (rng.startOffset == rng.endOffset)) {
return false;
}
return rng;
};
TTS.Control.prototype.isPlaying = function() {
var state = TTS.Manager.getStatus();
if (state == TTS.Status.NotSupported) {
return false;
}
return state == TTS.Status.Playing || state == TTS.Status.Unknown;
};
TTS.Control.prototype.isAvailable = function() {
return TTS.Manager.isAvailable();
};
TTS.Control.prototype.resume = function() {
TTS.Manager.resume();
};
TTS.Control.prototype.stop = function()
{
TTS.Manager.stop();
};
TTS.Control.prototype.pause = function() {
TTS.Manager.pause();
};
TTS.Control.prototype.getEventManager = function() {
return TTS.Manager.Events;
};
TTS.Control.prototype.setVoice = function(val, langs) {
TTS.Manager.setVoice(val);
};
TTS.Control.prototype.setVolume = function(val) {
TTS.Manager.setVolume(val);
};
TTS.Control.prototype.setRate = function(val) {
TTS.Manager.setRate(val);
};
TTS.Control.prototype.setPitch = function(val) {
TTS.Manager.setPitch(val);
};
})();

// FILE: highlighter.js (3d503875) 3/7/2014 11:24:14 AM

TTS = window.TTS || {};
TTS.Highlighter = function(textArr, debugStr){
this.wordQueue   = this.createIndex(textArr);
this.wordPointer = -1;
this.wordBoundaryCounter = 0;
this.playStr = debugStr || 'Not specified';
TTS.Config.Debug && console.log("Highlighter initialized with: ", textArr, this.wordQueue);
};
TTS.Highlighter.prototype.getOnlyWords = function(){
if(!this.wordQueue){return [];}
var words = [];
for(var i=0; i<this.wordQueue.length; ++i){
words.push(this.wordQueue[i].text);
}
return words;
};
TTS.Highlighter.prototype.parseWords = function(textArr){
var entry = null;
for(var i=0; i<textArr.length; i++){
entry = textArr[i];
entry.words = this.getWords(this.cleanse(entry.text));
}
};
TTS.Highlighter.prototype.mergeCrossBoundaryWords = function(textArr){
var entry = null;
for(var i=textArr.length-1; i > 0; --i){
var entry = textArr[i];
var prev  = textArr[i-1];
if(prev && this.detectCrossElementWord(prev, entry)){
var last  = prev.words.length-1;
var merge = entry.words.shift();
var start = prev.words[last];
prev.words[last] += merge;
if(entry.words.length == 0){
prev.lastNode = entry.lastNode || entry.node;
}else{
prev.lastNode = entry.node;
}
prev.endStr    = entry.endStr   || merge;
prev.startStr  = start;
}
}
};
TTS.Highlighter.prototype.createRanges = function(textArr){
var entry = null;
var wordArr = [];
for(var i=0; i<textArr.length; ++i){
entry = textArr[i];
for(var j=0; entry.words && j < entry.words.length; ++j){
var rng = null;
if(j+1 == entry.words.length && entry.lastNode){
rng = this.createCrossElRange(entry.node, entry.startStr, entry.lastNode, entry.endStr);
if(rng){
rng.crossEl = true;
}
}else{
rng = this.createRange(entry.words[j], entry.node, entry);
}
wordArr.push({
last: (j+1 == entry.words.length),
text: entry.words[j],
node: entry.node,
lastNode: entry.lastNode,
lastIndex: entry.lastIndex,
startStr: entry.startStr,
rng: rng
});
}
}
console.log("Done setting up array");
return wordArr;
};
TTS.Highlighter.prototype.cleanse = function(text){
if(typeof text != 'string' || !text.length > 1){
return '';
}
text = text.replace(/"/g, " ");
text = text.replace(/\u201C/g, " ");
text = text.replace(/\u201D/g, "");
return text;
};
TTS.Highlighter.prototype.createIndex = function(textArr){
if(!textArr || textArr.length < 1){return [];}
this.parseWords(textArr);
this.mergeCrossBoundaryWords(textArr);
return this.createRanges(textArr);
};
TTS.Highlighter.prototype.lastIndexOf = function(match, inStr){
var valid = -1;
if(inStr != null && match!= null){
valid = inStr.indexOf(match);
if(valid >= 0){
while(((valid + match.length) < inStr.length) && inStr.indexOf(match, valid+match.length) > 0){
valid = inStr.indexOf(match, valid+match.length);
}
}
}
return valid;
};
TTS.Highlighter.prototype.createCrossElRange = function(nodeStart, strStart, nodeEnd, strEnd){
var nodeValue = nodeStart.nodeValue;
if (nodeValue == null) {
nodeValue = nodeStart.innerHTML;
}
var index = this.lastIndexOf(strStart, nodeValue);
if(index == -1){
return;
}
var rng = rangy.createRange();
try{
rng.setStart(nodeStart, index);
rng.setEnd(nodeEnd, strEnd.length);
}catch(e){
TTS.Config.Debug && console.error(
"Cannot createCrossElRange with this information.",
"nodeStart, strStart, nodeEnd, strEnd, e",
nodeStart, strStart, nodeEnd, strEnd, e
);
rng.selectNode(nodeStart);
}
return rng;
};
TTS.Highlighter.prototype.createRange = function(str, node, entry){
var nodeValue = node.nodeValue;
if (nodeValue == null) {
nodeValue = node.innerHTML;
if(nodeValue == '' || nodeValue == null){
return;
}
}
var rng = rangy.createRange();
try{
var startIndex = !isNaN(entry.positionIndex) ? entry.positionIndex : 0;
var index = nodeValue.indexOf(str, startIndex);
if(index != -1){
if(node.nodeType != 3 && YUD.hasClass(node, 'TTS')){
rng.selectNode(node);
}else{
entry.positionIndex = index + (str.length);
rng.setStart(node, index);
rng.setEnd(node, index + str.length);
}
}else{
rng.selectNode(node);
}
}catch(e){
TTS.Config.Debug && console.error("Cannot create a range given this information.", str, node, entry, e);
rng.selectNode(node);
}
return rng;
};
TTS.Highlighter.prototype.detectCrossElementWord = function(a, b){
if(!a || !b || a.forceSpace || b.forceSpace){
return false;
}
var txtA = a && a.text ? a.text : '';
var txtB = b && b.text ? b.text : '';
if(txtA.match(/[\.!\?\#\s,]$/)){
return false;
}
if(txtB.match(/^[\.!\?\#\s,]/)){
return false;
}
return true;
};
TTS.Highlighter.prototype.clear = function() {
var sel = rangy.getSelection();
sel.removeAllRanges();
this.wordPointer = -1;
}
TTS.Highlighter.prototype.getWords = function(html) {
console.error("This is overriden on a per browser basis.  You should not see this message.");
}
TTS.Highlighter.prototype.highlight = function(info){
if(info && info.rng){
var sel = rangy.getSelection();
sel.setSingleRange(info.rng);
}
};
TTS.Highlighter.prototype.highlightPrev = function(){
if(this.wordPointer <= 0){
return false;
}
var word = this.wordQueue[--this.wordPointer];
if(this.highlight(word)){
return word;
}
return false;
};
TTS.Highlighter.prototype.highlightNext = function(){
this.wordBoundaryCounter++;
if(this.wordPointer >= this.wordQueue.length){
return false;
}
var word = this.wordQueue[++this.wordPointer];
if(this.highlight(word)){
return word;
}
return false;
};
TTS.Highlighter.prototype.onPlayStop = function(evt){
if(evt == 'Stopped'){
this.stop();
}
};
TTS.Highlighter.prototype.stop = function() {
this.clear();
};

// FILE: parser.js (46284674) 3/7/2014 11:24:14 AM

YUD = YAHOO.util.Dom;
TTS.Parser = {
Types: {
Selection: 'Selection',
DOM: 'DOM',
HTML: 'HTML',
TEXT: 'Text'
}
};
TTS.Parser.Container = function(obj, parserType, mainLang, altLang) {
this.$className = 'TTS.Parser.Container';
this.object = obj;
this.parserType = parserType;
this.mainLang = mainLang;
this.altLang = altLang;
this.getObject = function() {
return this.object;
};
this.getDOMFragForLanguage = function(language) {
return this.docFrags[language];
};
this.getLanguages = function() {
var languages = [this.mainLang];
if (this.altLang) {
languages.push(this.altLang);
}
return languages;
};
this.init();
};
TTS.Parser.Container.prototype.init = function() {
this.lookup = {};
this._id = 0;
this.docFrags = [];
this.prepareDOM();
};
TTS.Parser.Container.prototype.prepareDOM = function() {
var elementsToProcess,
parser;
if (this.parserType == TTS.Parser.Types.Selection) {
parser = new TTS.Parser.Selection(this.addLookup.bind(this));
elementsToProcess = parser.getElements(this.getObject());
} else if (this.parserType == TTS.Parser.Types.DOM) {
parser = new TTS.Parser.DOM();
elementsToProcess = parser.getElements(this.getObject());
} else if (this.parserType == TTS.Parser.Types.HTML) {
parser = new TTS.Parser.HTML();
elementsToProcess = parser.getElements(this.getObject());
} else {
elementsToProcess = [];
}
var languages = this.getLanguages();
var parentNodesStack = [];
for (var j = 0; j < languages.length; ++j) {
this.docFrags[languages[j]] = document.createDocumentFragment();
parentNodesStack[languages[j]] = [];
parentNodesStack[languages[j]].push(this.getDOMFragForLanguage(languages[j]));
}
this.sawLanguageDivider = TTS.Util.dfs(elementsToProcess, TTS.Util.hasLanguageAttr);
this.initialWalk(elementsToProcess, parentNodesStack, this.mainLang);
};
TTS.Parser.Container.prototype.initialWalk = function(elementsToProcess, parentNodeStack, language) {
for (var i = 0; i < elementsToProcess.length; ++i) {
var el = elementsToProcess[i];
this.walkDOM([el], parentNodeStack, language);
}
};
TTS.Parser.Container.prototype.walkDOM = function(arrayOfDOMNodes, parentNodesStack, languageDetected) {
var languageDividerNode = TTS.Util.hasLanguageAttributes(arrayOfDOMNodes);
for (var i = 0; i < arrayOfDOMNodes.length; ++i) {
var domNode = arrayOfDOMNodes[i];
if (domNode == null) {
continue;
}
if (domNode == languageDividerNode) {
languageDetected = this.altLang;
} else {
var nodeToAdd = domNode.cloneNode(false);
this.addLookup(nodeToAdd, domNode);
var lang = TTS.Util.getLang(domNode);
if (!lang) {
TTS.Util.markLang(domNode, languageDetected);
lang = languageDetected;
}
this.pushStackNode(nodeToAdd, parentNodesStack, lang);
this.walkDOM(domNode.childNodes, parentNodesStack, lang);
if (parentNodesStack && parentNodesStack[lang]) {
parentNodesStack[lang].pop();
}
if (this.doInputHack(nodeToAdd, parentNodesStack)) {
var langHack = (lang != this.mainLang) ? this.mainLang : this.altLang;
nodeToAdd = nodeToAdd.cloneNode(false);
this.pushStackNode(nodeToAdd, parentNodesStack, langHack);
if (parentNodesStack[langHack]) {
parentNodesStack[langHack].pop();
}
}
}
}
};
TTS.Parser.Container.prototype.getLookup = function() {
return this.lookup;
};
TTS.Parser.Container.prototype.addLookup = function(clone, original) {
if (!clone || !original) {
console.error("Trying to createa  lookup with nothing.", clone, original);
return;
}
if (this.lookup[original.id]) {
original = this.lookup[original.id];
clone.id = original.id;
} else {
clone.id = 'clone_' + (++this._id);
}
this.lookup[clone.id] = original;
};
TTS.Parser.Container.prototype.doInputHack = function(inp, stacks) {
if (inp && inp.nodeName != 'INPUT') {
return false;
}
var val = YUD.getAttribute(inp, 'value');
if (val == null) {
return false;
}
var langs = this.getLanguages();
for (var i = 0; i < langs.length; ++i) {
var lang = langs[i];
var ttsKey = YUD.getAttribute(inp, 'data-tts-prefix');
if (ttsKey == null) {
ttsKey = 'TDSTTS.Speak.Option' + val;
}
var msg = Messages.getAlt(ttsKey+ "." + lang, " ");
YUD.addClass(inp, 'tts');
YUD.setAttribute(inp, lang, msg);
}
return true;
};
TTS.Parser.Container.prototype.pushStackNode = function(node, stacks, lng) {
try {
if (node && stacks && lng && stacks[lng]) {
var stack = stacks[lng];
var p = stack[stack.length - 1];
p.appendChild(node);
stack.push(node);
}
} catch(e) {
console.error("Could not insert node, into stacks, with lang", node, stacks, lng);
}
};
TTS.Parser.Container.prototype.getPlayText = function(lang, doNotAddTags) {
var textArr = this.getPlayInfo(lang);
var playStr = this.createPlayString(textArr, doNotAddTags);
return playStr;
};
TTS.Parser.Container.prototype.getPlayInfo = function(lang) {
lang = lang || this.mainLang;
var text = "";
var obj = this.getDOMFragForLanguage(lang);
if (obj == null) {
return text;
}
var parser = new TTS.Parser.DOM();
parser.setLookup(this.getLookup());
return parser.parse([obj]);
};
TTS.Parser.Container.prototype.createPlayString = function(textArr, doNotAddTags) {
var text;
var fin = '';
for (var i = 0; i < textArr.length; ++i) {
var entry = textArr[i];
text = entry.text;
if (text != null && text != '') {
fin = this.concatText(fin, text);
}
if (entry.forceSpace) {
fin += ' ';
}
if (entry.forceSilence) {
fin += (entry.duration > 0) ? '{silence:' + entry.duration + '}' : '{silence}';
}
}
return TTS.Util.cleanText(fin, doNotAddTags);
};
TTS.Parser.Container.prototype.concatText = function(txt, toadd) {
if (toadd != null && toadd != '') {
if (txt.match(/[\.!\?\#,]$/)) {
txt = txt + " " + toadd;
} else {
txt += toadd;
}
}
return txt;
};
TTS.Parser.Text = function() {
this.getElements = function(text) {
return [TTS.Util.createDiv(text)];
};
};
TTS.Parser.HTML = function() {
this.getElements = function(htmlStr) {
return [TTS.Util.createDiv(htmlStr)];
};
};
TTS.Parser.Selection = function(lookupFn) {
this.addLookup = lookupFn;
};
TTS.Parser.Selection.prototype.getElements = function(obj) {
obj = obj || document;
var elementsToProcess = null;
var selection = obj.getSelection();
var commonAncestor = null;
var hasAltInAncestor = false;
var hasEmptySelection = true;
if (selection.rangeCount > 0) {
var sR = selection.getRangeAt(0);
commonAncestor = sR.commonAncestorContainer;
hasAltInAncestor = TTS.Util.bubble(commonAncestor, TTS.Util.hasAlt);
hasEmptySelection = false;
}
if (!hasAltInAncestor && !hasEmptySelection) {
var nodeToProcess = TTS.Util.bubble(commonAncestor, TTS.Util.getSub);
if (nodeToProcess == null) {
var docFrag = this.constructSelDocFrag(selection);
elementsToProcess = docFrag.childNodes;
} else {
elementsToProcess = [nodeToProcess];
}
} else {
elementsToProcess = [document.createElement('div')];
}
return elementsToProcess;
};
TTS.Parser.Selection.prototype.hasLanguageDividerInAncestry = function(node) {
while (node && !("BODY" == node.nodeName || "IFRAME" == node.nodeName)) {
var childNodesArray = node.childNodes;
var languageDivider = TTS.Util.hasLanguageAttributes(childNodesArray);
if (languageDivider != null) {
return node;
} else {
node = node.parentNode;
}
}
return null;
};
TTS.Parser.Selection.prototype.addNodesToDocFrag = function (selection, wouldBeParent, currentNode) {
var sR = selection.getRangeAt(0);
var nodeToAdd = null;
if (TTS.Util.hasLanguageAttributes(currentNode)) {
wouldBeParent.appendChild(currentNode);
} else if (selection.containsNode(currentNode, true)) {
if (sR.endContainer.nodeValue && sR.endContainer == currentNode) {
var text = "";
if (sR.endContainer == sR.startContainer) {
text = sR.endContainer.nodeValue.substring(sR.startOffset, sR.endOffset);
} else {
text = sR.endContainer.nodeValue.substring(0, sR.endOffset);
}
nodeToAdd = TTS.Util.createDiv(text);
TTS.Util.markLang(nodeToAdd, TTS.Util.getLang(sR.endContainer));
wouldBeParent.appendChild(nodeToAdd);
} else if (sR.startContainer.nodeValue && sR.startContainer == currentNode) {
var text = sR.startContainer.nodeValue.substring(
sR.startOffset,
sR.startContainer.nodeValue.length
);
nodeToAdd = TTS.Util.createDiv(text);
TTS.Util.markLang(nodeToAdd, TTS.Util.getLang(sR.startContainer));
wouldBeParent.appendChild(nodeToAdd);
} else {
nodeToAdd = currentNode.cloneNode(false);
wouldBeParent.appendChild(nodeToAdd);
}
this.addLookup(nodeToAdd, currentNode);
}
if (currentNode != null) {
for (var i = 0; i < currentNode.childNodes.length; ++i) {
this.addNodesToDocFrag(selection, nodeToAdd, currentNode.childNodes[i]);
}
}
};
TTS.Parser.Selection.prototype.constructSelDocFrag = function(selection) {
var sR = selection.getRangeAt(0);
var commonAncestor = sR.commonAncestorContainer;
var docFrag = document.createDocumentFragment();
var languageDividerParent = this.hasLanguageDividerInAncestry(commonAncestor);
if (languageDividerParent == null) {
this.addNodesToDocFrag(selection, docFrag, commonAncestor);
} else {
this.addNodesToDocFrag(selection, docFrag, languageDividerParent);
}
return docFrag;
};
TTS.Parser.DOM = function(filterOutContextAreaAlt                       ) {
this._filterOutContextAreaAlt = filterOutContextAreaAlt;
this.TEXT_NODE = 3;
this.ELEMENT_NODE = 1;
this.SHOULD_ADD_SPACE = {
H: true,
H2: true,
DT: true,
DD: true,
UL: true,
LI: true
};
this._processFurther = true;
this.textArr = [];
this.lookup = {};
};
TTS.Parser.DOM.prototype.getElements = function(obj) {
if (obj && obj.length) {
return obj;
} else if (obj) {
return [obj];
}
return [];
};
TTS.Parser.DOM.prototype.parse = function(domArray) {
for (var i = 0; i < domArray.length; i++) {
this.parseDOMNode(domArray[i]);
}
return this.textArr;
};
TTS.Parser.DOM.prototype.parseDOMNode = function(domNode) {
if (YUD.getAttribute(domNode, 'data-tts-skip') == 'true') {
return;
}
if (TTS.Util.hasAlt(domNode)) {
return;
}
this._processFurther = true;
this.elementTypeAttributesToParserDelegate(domNode.nodeName.toUpperCase(), domNode);
if (this._processFurther) {
var kids = domNode.childNodes;
for (var i = 0; i < kids.length; i++) {
var kid = kids[i];
if (kid.nodeType == this.TEXT_NODE) {
this.addText(kid.data, kid);
} else if (kid.nodeType == this.ELEMENT_NODE) {
this.elementTypeToParserDelegate(kid.nodeName.toUpperCase(), kid);
}
}
if (this.SHOULD_ADD_SPACE[domNode.nodeName]) {
this.forceSpace();
}
}
};
TTS.Parser.DOM.prototype.setLookup = function(lookup) {
this.lookup = lookup;
};
TTS.Parser.DOM.prototype.addText = function(text, node, selectAll) {
if (text != null && !TTS.Util.ignore(node)) {
text = text ? text.replace(/(\r\n|\n|\r)/gm, " ").replace(/\s+/gm, ' ') : '';
if (text != '') {
this.textArr.push({ text: text, node: this.lookup[node.id], selectAll: selectAll });
}
}
return text;
};
TTS.Parser.DOM.prototype.forceSpace = function() {
var last = this.textArr[this.textArr.length - 1];
if (last && !last.forceSpace) {
this.textArr.push({ text: ' ', forceSpace: true });
}
};
TTS.Parser.DOM.prototype.forceSilence = function (durationinMs) {
var last = this.textArr[this.textArr.length - 1];
if (last && !last.forceSilence) {
this.textArr.push({ text: ' ', forceSilence: true, duration: durationinMs });
}
};
TTS.Parser.DOM.prototype.elementTypeAttributesToParserDelegate = function(elmName, elmObj) {
var text = null;
if (elmName == "IMG") {
text = this.parseImageElementAttributes(elmObj);
} else if (elmName.toUpperCase() == 'MATH') {
this._processFurther = false;
text = this.parseMathMLElementAttributes(elmObj);
} else if (elmObj.nodeType == this.TEXT_NODE) {
text = elmObj.data;
} else {
var ssml = TTS.Util.getSub(elmObj, 'ssml_alias');
if (ssml != null) {
this._processFurther = false;
text = ssml;
}
}
this.addText(text, elmObj);
};
TTS.Parser.DOM.prototype.parseImageElementAttributes = function(imgElm) {
return (imgElm && imgElm.alt != null) ? imgElm.alt + ' ' : '';
};
TTS.Parser.DOM.prototype.parseMathMLElementAttributes = function(mathElm) {
if ("alt" in mathElm.attributes) {
var altText = mathElm.attributes["alt"].nodeValue;
if (altText != null) {
return altText;
}
}
return " ";
};
TTS.Parser.DOM.prototype.parseTableElementAttributes = function(table) {
var summary = YUD.getAttribute(table, 'summary');
if (summary != null) {
this.addText(summary + " ", table, true);
}
return (summary != null) ? summary : '';
};
TTS.Parser.DOM.prototype.elementTypeToParserDelegate = function(elmName, elmObj) {
if (elmName == "TABLE") {
return this.parseTableElement(elmObj);
}
return this.parseDOMNode(elmObj);
};
TTS.Parser.DOM.prototype.parseTableElement = function(tbElm) {
var tbNodes = tbElm.childNodes;
this.parseTableElementAttributes(tbElm);
for (var i = 0; i < tbNodes.length; i++) {
if (tbNodes[i].nodeName.toUpperCase() == "TBODY") {
this.parseTableBody(tbNodes[i]);
}
}
};
TTS.Parser.DOM.prototype.getSSMLOrProcess = function(elmObj, alternateProcessDelegate) {
var ssml = TTS.Util.getSub(elmObj, 'ssml_alias');
if (ssml) {
this.addText(ssml, elmObj);
return ssml;
}
if (typeof alternateProcessDelegate == 'function') {
return alternateProcessDelegate.call(this, elmObj);
}
return null;
};
TTS.Parser.DOM.prototype.parseTableBody = function (tbBody) {
if (TTS.Util.ignore(tbBody)) {
return null;
}
var tbNodes = tbBody.childNodes;
var txt = "";
for (var i = 0; i < tbNodes.length; ++i) {
var tn = tbNodes[i];
if (tn.nodeName.toUpperCase() == "TR") {
this.getSSMLOrProcess(tn, this.getTableRowText.bind(this));
}
}
return txt;
};
TTS.Parser.DOM.prototype.getTableRowText = function(tbRow) {
if (TTS.Util.ignore(tbRow)) {
return;
}
var tbNodes = tbRow.childNodes;
var node = null;
var name = null;
var content = null;
for (var i = 0; i < tbNodes.length; i++) {
node = tbNodes[i];
name = node && node.nodeName ? node.nodeName.toUpperCase() : '';
if (name == "TH" || name == "TD") {
this.getSSMLOrProcess(node, this.getTableCellText.bind(this));
this.forceSilence();
}
}
};
TTS.Parser.DOM.prototype.getTableCellText = function(cellNode) {
if (TTS.Util.ignore(cellNode)) {
return;
}
var cellChildren = cellNode.childNodes;
var txt = '';
for (var i = 0; i < cellChildren.length; i++) {
var cellChild = cellChildren[i];
if (cellChild.nodeType == this.TEXT_NODE) {
this.addText(cellChild.data, cellChild);
} else if (cellChild.nodeType == this.ELEMENT_NODE) {
if (cellChild.nodeName == 'IMG') {
this.addText(this.parseImageElementAttributes(cellChild), cellChild);
} else if (cellChild.nodeName.toUpperCase() == 'MATH') {
this.addText(this.parseMathMLElementAttributes(cellChild), cellChild);
} else {
this.getSSMLOrProcess(cellChild, this.getTableCellText.bind(this));
}
}
}
};

// FILE: securebrowser.js (831600ba) 5/2/2014 12:55:58 PM

function TTSService_SB()
{
this.runtime = null;
this.isSupported = function()
{
return (typeof (window.Runtime) == 'function');
};
this.load = function()
{
if (!this.isSupported()) return false;
this.runtime = new Runtime();
this.runtime.initialize();
this.osHacks();
setTimeout(function() { TTS.Manager.Events.onServiceLoad.fire(); }, 0);
return true;
};
this.osHacks = function(){
this.pluginWordBoundaryFunction = null;
if(Util.Browser.isLinux()){
this.pluginWordBoundaryFunction = null;
return;
}else if(Util.Browser.isWindows()){
this.pluginWordBoundaryFunction = 'SPEI_WORD_BOUNDARY';
}else if(Util.Browser.isMac()){
this.pluginWordBoundaryFunction = 'soWordCallBack';
}
};
this.subscribe = function(EventManager){
try{
if(!EventManager) return;
this.unregisterAll();
this.eM = EventManager;
var os = Components.classes["@mozilla.org/observer-service;1"].getService(
Components.interfaces.nsIObserverService
);
os.addObserver(this, 'sb-word-speak', false);
this.runtime.initializeListener(this.pluginWordBoundaryFunction);
}catch(e){
console.error("Failed to subscribe to EventManager firefox tts events", e);
}
};
this.unregisterAll = function(){
try{
var os = Components.classes["@mozilla.org/observer-service;1"].getService(
Components.interfaces.nsIObserverService
);
var deadButNotTruly = os.enumerateObservers('sb-word-speak');
while(deadButNotTruly.hasMoreElements()){
os.removeObserver(deadButNotTruly.getNext(), 'sb-word-speak');
}
}catch(e){
console.error("Remove listeners that may actually be listening.", e);
}
};
this.unregister = function(ref){
var os = Components.classes["@mozilla.org/observer-service;1"].getService(
Components.interfaces.nsIObserverService
);
os.removeObserver(ref || this, 'sb-word-speak', false);
};
this.observe = function (subject, topic, data) {
if(topic == 'sb-word-speak' && this.eM){
this.eM.fire({subject: subject, topic: topic, data: data});
}
};
this.getStatus = function()
{
if (this.runtime)
{
var currentStatus = this.runtime.status;
if (currentStatus == 'Stopped') return TTS.Status.Stopped;
else if (currentStatus == 'Playing') return TTS.Status.Playing;
else if (currentStatus == 'Paused') return TTS.Status.Paused;
else if (currentStatus == null || currentStatus == '') return TTS.Status.Unknown;
}
return TTS.Status.Uninitialized;
};
this.play = function(text)
{
if (!this.runtime) return false;
this.runtime.play(text);
return true;
};
this.pause = function()
{
if (!this.runtime) return false;
this.runtime.pause();
return true;
};
this.resume = function()
{
if (!this.runtime) return false;
this.runtime.resume();
return true;
};
this.stop = function()
{
if (!this.runtime) return false;
this.runtime.stop();
return true;
};
this.getVolume = function()
{
if (!this.runtime) return -1;
return Math.min(this.runtime.volume, 10);
};
this.setVolume = function(level)
{
if (!this.runtime) return false;
if (typeof(level) != 'number') return false;
if (level < 0 || level > 10) return false;
if (this.runtime.volume == level) return false;
this.runtime.volume = level;
return true;
};
this.getPitch = function()
{
if (!this.runtime) return -1;
return Math.min(this.runtime.pitch, 20);
};
this.setPitch = function (level) {
if (!this.runtime) return false;
if (typeof (level) != 'number') return false;
if (level < 0 || level > 20) return false;
var oldPitch = this.runtime.pitch;
this.runtime.pitch = level;
if (oldPitch != level)
return true;
return false;
};
this.getRate = function()
{
if (!this.runtime) return -1;
return Math.min(this.runtime.rate, 20);
};
this.setRate = function (level)
{
if (!this.runtime) return false;
if (typeof (level) != 'number') return false;
if (level < 0 || level > 20) return false;
var oldRate = this.runtime.rate;
this.runtime.rate = level;
if (oldRate != level)
return true;
return false;
};
this.getVoices = function()
{
if (!this.runtime) return null;
var voicesData = this.runtime.voices;
if (voicesData == null || voicesData.length == 0) return [];
return voicesData.split(',');
};
this.getVoice = function()
{
if (!this.runtime) return null;
return this.runtime.voiceName;
};
this.setVoice = function (voice) {
if (!this.runtime){return false;}
this.runtime.voiceName = voice;
return true;
};
var cleanup = function () {
if (this.runtime != null) {
delete this.runtime;
this.runtime = null;
}
};
YUE.on(window, 'beforeunload', cleanup.bind(this));
}

// FILE: chrome.js (92a0ebe0) 3/7/2014 11:24:14 AM

function TTSService_Chrome()
{
this.runtime = null;
this.voices = [];
this.status = TTS.Status.unknown;
this.currentVoice = null;
this.volume = 10;
this.rate = 10;
this.pitch = 10;
this.isSupported = function()
{
return Util.Browser.isChrome();
};
this.load = function()
{
if (!this.isSupported()) return false;
var thisObj = this;
this.status = TTS.Status.Initializing;
window.addEventListener("message", function (event) {
try{
if (event.data.type && (event.data.type == "CHROME RESPONSE" && event.data.status == "OK")) {
switch (event.data.command) {
case 'TTS INIT':
if (thisObj.status == TTS.Status.Initializing) {
thisObj.voices = event.data.result.split(',');
thisObj.currentVoice = thisObj.voices.length > 0 ? thisObj.voices[0] : "";
thisObj.status = TTS.Status.Stopped;
setTimeout(function() { TTS.Manager.Events.onServiceLoad.fire(); }, 2);
}
break;
case 'TTS STATUS':
thisObj.status = event.data.result;
break;
case 'TTS WORD':
thisObj.EventManager && thisObj.EventManager.fire({subject: 'TTS WORD', index: event.data.result});
break;
}
}
}catch(e){
console.error("Failed to add a message listener.", e);
}
}, false);
var nativeInit = function () {
if (this.status == TTS.Status.Initializing) {
TDS.AppWindow.postMessage({ type: "CHROME COMMAND", command: "TTS INIT", params: "" }, "*");
} else {
if(timer) clearInterval(timer);
}
};
nativeInit();
var timer = setInterval(nativeInit.bind(this), 1000);
return true;
};
this.subscribe = function(EventManager){
this.EventManager = EventManager;
};
this.getStatus = function () {
if (this.status == TTS.Status.Initializing)
return this.status;
var params = { type: "CHROME COMMAND", command: "TTS STATUS", params: "" };
TDS.AppWindow.postMessage(params, "*");
return this.status;
};
this.play = function(text)
{
console.log("We never actually get to the play?.", text, this.currentVoice);
var param = [text, {
rate: (this.rate / 10) * 1,
voiceName: this.currentVoice,
pitch: (this.pitch / 10) * 1,
volume: (this.volume / 10) * 1
}];
TDS.AppWindow.postMessage({ type: "CHROME COMMAND", command: "TTS SPEAK", params: param }, "*");
this.status = TTS.Status.Playing;
return true;
};
this.pause = function()
{
TDS.AppWindow.postMessage({ type: "CHROME COMMAND", command: "TTS PAUSE", params: "" }, "*");
return true;
};
this.resume = function()
{
TDS.AppWindow.postMessage({ type: "CHROME COMMAND", command: "TTS RESUME", params: "" }, "*");
return true;
};
this.stop = function()
{
TDS.AppWindow.postMessage({ type: "CHROME COMMAND", command: "TTS STOP", params: "" }, "*");
return true;
};
this.getVolume = function()
{
return this.volume;
};
this.setVolume = function(level)
{
this.volume = level;
return true;
};
this.getPitch = function()
{
return this.pitch;
};
this.setPitch = function (level) {
this.pitch = level;
return true;
};
this.getRate = function()
{
return this.rate;
};
this.setRate = function (level)
{
this.rate = level;
return true;
};
this.getVoices = function()
{
return this.voices;
};
this.getVoice = function()
{
return this.currentVoice;
};
this.setVoice = function (voice) {
this.currentVoice = voice;
return true;
};
}

// FILE: sb_generic.js (609c0be6) 3/7/2014 11:24:14 AM

function TTSService_Generic() {
var that = this;
this.status = TTS.Status.Uninitialized;
this.browserComponent = null;
this.rate = 20;
this.pitch = 20;
this.currentVolume = 10;
this.voicepacks = [];
this.currentVoice = 'eng';
this.pauseEnabled = (Util.Browser.getSecureVersion() < 2) ? false : true;
function convertDeviceStatusToTTStatus(deviceStatus) {
if ('idle' == deviceStatus)
return TTS.Status.Stopped;
else if ('playing' == deviceStatus)
return TTS.Status.Playing;
else if ('unavailable' == deviceStatus)
return TTS.Status.NotSupported;
else
return TTS.Status.Unknown;
};
this.isSupported = function () {
if (this.status != TTS.Status.NotSupported)
return true;
else
return false;
};
this.subscribe = function(EventManager){
};
this.loadVoices = function () {
this.voicepacks = [];
var voices = AIRMobile.tts.getVoices();
if (voices) {
for (var i = 0; i < voices.length; i++) {
var voice = voices[i];
if (voice.language) {
this.voicepacks.push(voice.language);
}
}
}
};
this.hasVoicepack = function (language) {
if (this.voicepacks.length == 0) return false;
for (var i = 0; i < this.voicepacks.length; i++) {
if (this.voicepacks[i] == language) {
return true;
}
}
return false;
};
this.load = function () {
this.browserComponent = Util.SecureBrowser.getRunTime();
this.browserComponent.checkTextToSpeechStatus(null, (function () {
var service = that;
return function (statusData) {
if (statusData.ttsEngineStatus == 'idle') {
service.status = TTS.Status.Stopped;
service.loadVoices();
} else {
service.status = TTS.Status.NotSupported;
}
TTS.Manager.Events.onServiceLoad.fire();
};
})());
this.browserComponent.listen(this.browserComponent.EVENT_TTS_CHANGED, document, function () {
var service = that;
var deviceStatus = service.browserComponent.device.ttsEngineStatus;
service.status = convertDeviceStatusToTTStatus(deviceStatus);
});
return true;
};
this.getStatus = function () {
return this.status;
};
this.play = function (text) {
try {
var options = {
language: this.currentVoice
};
if (this.browserComponent.tts.getVoices() == null) {
options = null;
}
this.browserComponent.tts.speak(text, options, function () {
var service = that;
service.status = convertDeviceStatusToTTStatus(service.browserComponent.device.ttsEngineStatus);
});
}
catch (ex) {
this.status = TTS.Status.Unknown;
return false;
}
return true;
};
this.pause = function () {
if (this.pauseEnabled) {
this.browserComponent.tts.pause();
this.status = TTS.Status.Paused;
return true;
} else {
this.stop();
}
};
this.resume = function () {
if (this.pauseEnabled) {
this.browserComponent.tts.resume();
this.status = TTS.Status.Playing;
return true;
} else {
return false;
}
};
this.stop = function () {
try {
this.browserComponent.tts.stop(null, (function () {
var service = that;
return function (data) {
service.status = convertDeviceStatusToTTStatus(data.ttsEngineStatus);
};
})());
}
catch (ex) {
this.status = TTS.Status.Stopped;
return false;
}
return true;
};
this.getVolume = function () {
return this.currentVolume;
};
this.setVolume = function (level) {
this.currentVolume = level;
return true;
};
this.getPitch = function () {
return this.pitch;
};
this.setPitch = function (level) {
this.pitch = level;
return true;
};
this.getRate = function () {
return this.rate;
};
this.setRate = function (level) {
this.rate = level;
return true;
};
this.getVoices = function () {
if (this.voicepacks.length == 0) {
return ['eng'];
} else {
return this.voicepacks;
}
};
this.getVoice = function () {
return this.currentVoice;
};
this.setVoice = function (voice) {
this.currentVoice = voice;
return true;
};
}

// FILE: ui.js (d48c5ae4) 3/7/2014 11:24:14 AM

TTS = window.TTS || {};
TTS.Config = TTS.Config || {};
TTS.Config.UI = function(cfg){
this.cfg = TTS.Config.UserSet || {};
this.setCfg(cfg);
this.DOM = {};
this.next = null;
this.back = null;
};
TTS.Config.UI.prototype.getCfg = function(){
return this.cfg;
};
TTS.Config.UI.prototype.setCfg = function(cfg){
if(!cfg){return;}
for(var key in cfg){
if(typeof cfg[key] != 'undefined' && typeof cfg[key] != 'function'){
this.cfg[key] = cfg[key];
}
}
};
TTS.Config.UI.prototype.init = function(){
var YUD = YAHOO.util.Dom;
this.section = TTS.Config.Lang.ENU.Code;
this.DOM = {
ENU:    YUD.get('englishTTSTest'),
ESN:    YUD.get('spanishTTSTest'),
ERROR:  YUD.get('checkErrorDiv'),
NONE:   YUD.get('ttsNotAvailable'),
ADJUST: YUD.get('TTS_Adjustments'),
RATE:   YUD.get('TTS_Adjust_Rate'),
VOLUME: YUD.get('TTS_Adjust_Volume'),
PITCH:  YUD.get('TTS_Adjust_Pitch'),
VOICE:      YUD.get('TTS_Select_VoicePack'),
VOICE_NAME: YUD.get('TTS_Voice_Name'),
NO_SUP: YUD.get('checkErrorDiv'),
NO_ESN: YUD.get('ESNVoicePack'),
NO_ENU: YUD.get('ENUVoicePack'),
DEFAULTS: YUD.get('TTS_Set_Defaults')
};
this.connectEvents();
this.buildSliders();
this.render();
};
TTS.Config.UI.prototype.connectEvents = function(){
var YUE = YAHOO.util.Event;
YUE.addListener('clickToHearEnglish', 'click',    this.runSpeechEnglish.bind(this));
YUE.addListener('btnSoundEnglishYes', 'click',    this.soundOK.bind(this));
YUE.addListener('btnSoundEnglishNo', 'click',     this.noSound.bind(this));
YUE.addListener('skipEnglish', 'click',           this.soundOK.bind(this));
YUE.addListener('logoutOnErrorButton', 'click',   this.gotoLogin.bind(this));
YUE.addListener('btnErrorTryAgain', 'click',      this.tryAgain.bind(this));
YUE.addListener('noAudioLogout', 'click',         this.gotoLogin.bind(this));
YUE.addListener('clickToHearSpanish', 'click',    this.runSpeechSpanish.bind(this));
YUE.addListener('btnSoundSpanishYes', 'click',    this.soundOK.bind(this));
YUE.addListener('btnSoundSpanishNo', 'click',     this.noSound.bind(this));
YUE.addListener('skipSpanish', 'click',           this.soundOK.bind(this));
YUE.addListener('continueNoAudio', 'click',       this.gotoInstructions.bind(this));
YUE.addListener('continueError', 'click',         this.soundOK.bind(this));
YUE.addListener('TTS_Set_Defaults', 'click',          this.reset.bind(this));
YUE.addListener('TTS_Select_VoicePack', 'change',     this.setVoicePack.bind(this));
};
TTS.Config.UI.prototype.buildSliders = function(){
TTS.Config.Debug && console.log("TTS: Build the sliders", this.cfg);
this.volumeSlider = YAHOO.widget.Slider.getHorizSlider(
'TTS_Adjust_Volume',
'volumeThumb',
0,
this.cfg.LengthInPixels,
this.cfg.TickSize
);
this.subscribeToEvents('Volume', this.volumeSlider, TTS.Config.User.getVolume());
this.pitchSlider = YAHOO.widget.Slider.getHorizSlider(
'TTS_Adjust_Pitch',
'pitchThumb',
this.cfg.MinPitch,
this.cfg.LengthInPixels,
this.cfg.TickSize
);
this.subscribeToEvents('Pitch', this.pitchSlider, TTS.Config.User.getPitch());
this.rateSlider = YAHOO.widget.Slider.getHorizSlider(
'TTS_Adjust_Rate',
'rateThumb',
this.cfg.MinRate,
this.cfg.LengthInPixels,
this.cfg.TickSize
);
this.subscribeToEvents('Rate', this.rateSlider, TTS.Config.User.getRate());
};
TTS.Config.UI.prototype.subscribeToEvents = function(property, thisSlider, defaultValue){
thisSlider.subscribe('change', function (newOffset) {
var val = this.calculateValue(property, newOffset);
document.getElementById(property + '_Value').innerHTML = val;
}.bind(this));
thisSlider.subscribe('slideEnd', function () {
try{
var language     = this.getLangCode();
var value = (TTS.Config.User['get' + property])();
if (thisSlider.valueChangeSource == 1 || thisSlider.valueChangeSource == 3) {
value = this.calculateValue(property, thisSlider.getValue());
var func = TTS.Config.User['set' + property];
if(typeof func == 'function'){
func(value);
this.changed();
}
}
document.getElementById(property + '_Value').innerHTML = value.toString();
}catch(e){
console.error('Slider Error: (property, value)', property, value, e);
}
}.bind(this));
};
TTS.Config.UI.prototype.calculateValue = function (property, inputValue){
var returnValue = inputValue;
switch (property) {
case 'Volume':
returnValue = parseInt(2 + (inputValue / this.cfg.TickSize) * 0.8); // volume is never supposed to be allowed    to go to 0 so we establish a floor of 2. Max volume is restricted to 10
break;
case 'Pitch':
returnValue = parseInt(inputValue / this.cfg.TickSize * 2); // the divide by 2 because the rate has a range      from 0-20
break;
case 'Rate':
returnValue = parseInt(inputValue / this.cfg.TickSize * 2); // the divide by 2 because the rate has a range      from 0-20
break;
default:
break;
}
return returnValue;
};
TTS.Config.UI.prototype.getLangCode = function(){
return YAHOO.util.Dom.hasClass(this.DOM.ESN, 'hidden') ? 'ENU' : 'ESN';
};
TTS.Config.UI.prototype.reset = function(){
TTS.Config.User.reset();
this.section = 'ENU';
this.changed(true);
this.render();
};
TTS.Config.UI.prototype.render = function(){
this.hideAll();
if(!this.renderErrors()){
this.renderSections();
this.renderSliders();
this.renderVoice();
this.show(this.DOM.DEFAULTS);
}
};
TTS.Config.UI.prototype.renderErrors = function(){
var state = TTS.getInstance().getStatus();
if(state == TTS.Status.NotSupported){
this.hideAll();
this.show(this.DOM.NONE);
return true;
}
var lang = this.section;
if(!TTS.getInstance().isLanguageSupported(lang)){
this.hideAll();
this.show(this.DOM.NO_SUP);
this.show(this.DOM['NO_' + lang]);
return true;
}
}
TTS.Config.UI.prototype.renderSections = function(){
this.show(this.DOM[this.section]);
this.cfg.ShowAdjust ? this.show(this.DOM.ADJUST) : this.hide(this.DOM.ADJUST);
};
TTS.Config.UI.prototype.changed = function(checked){
this.DOM.DEFAULTS.checked = checked;
};
TTS.Config.UI.prototype.renderSliders = function(){
var YUD = YAHOO.util.Dom;
var ctn = this.DOM.ADJUST;
this.cfg.ShowAdjustments ? this.show(ctn) : this.hide(ctn);
this.cfg.ShowVolume ? this.show(this.DOM.VOLUME) : this.hide(this.DOM.VOLUME.parentNode);
this.cfg.ShowRate   ? this.show(this.DOM.RATE)   : this.hide(this.DOM.RATE.parentNode);
this.cfg.ShowPitch  ? this.show(this.DOM.PITCH)  : this.hide(this.DOM.PITCH.parentNode);
var volume = TTS.Config.User.getVolume();
var rate   = TTS.Config.User.getRate();
var pitch  = TTS.Config.User.getPitch();
this.volumeSlider && this.volumeSlider.setValue(parseInt(volume * this.cfg.TickSize *2));
this.rateSlider   && this.rateSlider.setValue(parseInt(rate * this.cfg.TickSize / 2));
this.pitchSlider  && this.pitchSlider.setValue(parseInt(pitch * this.cfg.TickSize / 2));
};
TTS.Config.UI.prototype.show = function(els) {
if(!els){return;}
var YUD = YAHOO.util.Dom;
if(!YAHOO.lang.isArray(els)){
els = [els];
}
for(var key in els){
if(els[key] && typeof els[key] != 'function'){
YUD.removeClass(els[key], 'hidden');
}
}
};
TTS.Config.UI.prototype.hide = function(els) {
if(!els){return;}
var YUD = YAHOO.util.Dom;
if(!YAHOO.lang.isArray(els)){
els = [els];
}
for(var key in els){
if(els[key] && typeof els[key] != 'function'){
YUD.addClass(els[key], 'hidden');
}
}
};
TTS.Config.UI.prototype.hideAll = function(){
for(key in this.DOM){
YUD.addClass(this.DOM[key], 'hidden');
}
};
TTS.Config.UI.prototype.error = function(){
this.hideAll();
this.show(this.DOM.ERROR);
};
TTS.Config.UI.prototype.renderVoice = function(){
var langCode = this.getLangCode();
var ctrl     = TTS.getInstance();
var voices   = ctrl.getVoicesForLanguage(langCode);
var vPack    = ctrl.getVoiceForLanguage(langCode);
var voice    = vPack ? vPack.ServiceVoiceName : null;
if(this.cfg.ShowVoicePacks){
this.renderVoicePacks(voices, voice, langCode);
}else{
this.renderVoiceName(vPack, voice, langCode);
}
};
TTS.Config.UI.prototype.renderVoiceName = function(vPack, voice, langCode){
this.show(this.DOM.VOICE_NAME);
this.DOM.VOICE_NAME.innerHTML = vPack ? vPack.Voicename : '';
TTS.Config.User.setVoice(voice, langCode);
};
TTS.Config.UI.prototype.renderVoicePacks = function(voices, voice, langCode){
try{
var sel = this.DOM.VOICE;
sel.innerHTML = '';
this.show(this.DOM.VOICE);
for(var i=0; i<voices.length; ++i){
var vConfig = voices[i];
if(vConfig && vConfig.Available){
var option = document.createElement('option');
option.value     = vConfig.ServiceVoiceName;
option.innerHTML = vConfig.Voicename || vConfig.ServiceVoiceName;
if(voice == vConfig.ServiceVoiceName){
option.selected  = true;
TTS.Config.User.setVoice(voice, langCode);
}
sel.appendChild(option);
}
}
}catch(e){
console.error("failed to render the voice packs.", e);
}
};
TTS.Config.UI.prototype.setVoicePack = function(evt) {
this.changed();
TTS.Config.User.setVoice(this.DOM.VOICE.value);
};
TTS.Config.UI.prototype.runSpeechEnglish = function(){
TTS.Config.Debug && console.log("TTS: Run speech english");
TTS.getInstance().play(document.getElementById('englishMessageDiv'));
};
TTS.Config.UI.prototype.runSpeechSpanish = function(){
TTS.Config.Debug && console.log("TTS: Run speech Spanish");
TTS.getInstance().play(document.getElementById('spanishMessageDiv'), null, 'ESN');
};
TTS.Config.UI.prototype.stopSpeech = function(){
TTS.Config.Debug && console.log("TTS: Stop speech Spanish");
TTS.getInstance().stop();
};
TTS.Config.UI.prototype.nextLang = function(){
if(this.section == 'ENU' && TTS.Config.Lang.ESN.Enabled){
this.section  = 'ESN';
this.render();
return true;
}
};
TTS.Config.UI.prototype.prevLang = function(){
if(this.section == 'ESN'){
this.section  = 'ENU';
this.render();
return true;
}
};
TTS.Config.UI.prototype.soundOK = function(){
TTS.getInstance().stop();
if(!this.nextLang()){
this.gotoInstructions();
}
};
TTS.Config.UI.prototype.noSound = function() {
console.log("No sound playing");
this.error();
};
TTS.Config.UI.prototype.tryAgain = function(){
this.reset();
};
TTS.Config.UI.prototype.gotoInstructions = function(){
if(typeof this.next == 'function'){
this.next();
}
};
TTS.Config.UI.prototype.gotoLogin = function() {
console.log("Go to the login?");
if(typeof this.back == 'function'){
this.back();
}
};

// FILE: menu.js (f11f18cc) 5/2/2014 12:55:58 PM

(function(){
var YUD = YAHOO.util.Dom;
var CFG = {
PRI:{
Label: 'TDSTTS.Label.Speak',
cb: false
},
SEC:{
Label: 'TDSTTS.Label.Speak',
cb: false
},
PRI_OP: {
Label: 'TDSTTS.Label.SpeakStemAndOptionsPrimary',
cb: false
},
SEC_OP: {
Label: 'TDSTTS.Label.SpeakStemAndOptionsSecondary',
cb: false
},
SEL_PRI:{
Label: 'TDSTTS.Label.SpeakTextPrimary',
cb: false
},
SEL_SEC:{
Label: 'TDSTTS.Label.SpeakTextSecondary',
cb:  false
},
STOP:{
Label: 'TDSTTS.Label.StopSpeaking',
css: 'stopspeaking',
cb:  false
},
PAUSE:{
Label: 'TDSTTS.Label.PauseSpeaking',
css: 'pausespeaking',
cb: false
},
RESUME:{
Label: 'TDSTTS.Label.ResumeSpeaking',
css: 'resumespeaking',
cb: false
},
ORDER: [
'PRI', 'SEC', 'PRI_OP', 'SEC_OP', 'SEL_PRI', 'SEL_SEC', 'STOP', 'PAUSE', 'RESUME'
]
};
TTS.Menu = function(langs){
langs = langs || ['ENU', 'ESN'];
var ctrl = TTS.getInstance();
this.langs = langs;
this.pri = langs[0];
this.sec = langs[1];
this.hasPauseSupport = !Util.Browser.isChrome() &&
!Util.Browser.isIOS() &&
!(Util.Browser.getOSXVersion() >= 10.9 && Util.Browser.getSecureVersion() < 6.5) &&
!(Util.Browser.isAndroid() && Util.Browser.getSecureVersion() < 2);
this.reset();
};
TTS.Menu.prototype.reset = function(){
this.cfg = JSON.parse(JSON.stringify(CFG));
return this.cfg;
};
TTS.Menu.prototype.getMenuCfg = function(dom, selection, win, text, page, entity){
var cfg = this.reset();
var ctrl = TTS.getInstance();
if(!ctrl.isPlaying()){
if(!text){
this.checkDom(cfg, dom);
}else{
this.checkAlt(cfg, text);
}
this.checkSelection(cfg, dom, win || window);
}
this.checkServiceStates(cfg);
return cfg;
};
TTS.Menu.prototype.checkAlt = function(cfg, text){
var ctrl = TTS.getInstance();
cfg.PRI.cb = ctrl.getPlayFunction(text, TTS.Parser.Types.HTML, this.pri);
};
TTS.Menu.prototype.getGlobalMenuCfg = function(dom, selection){
};
TTS.Menu.prototype.checkSelection = function(cfg, dom, win){
var ctrl = TTS.getInstance();
var win  = win && win.document ? win.document : win;
if (!dom || !ctrl.getSelection(win)){
return;
}
var contain = new TTS.Parser.Container(win, TTS.Parser.Types.Selection, this.pri, this.sec);
cfg.SEL_PRI.cb = this.pri ? ctrl.getPlayFunction(contain, null, this.pri) : false;
cfg.SEL_SEC.cb = this.sec ? ctrl.getPlayFunction(contain, null, this.sec) : false;
};
TTS.Menu.prototype.checkDom = function(cfg, dom){
if(!dom){return;}
var ctrl = TTS.getInstance();
if(ctrl.isPlaying()){return;}
var contain = new TTS.Parser.Container(dom, TTS.Parser.Types.DOM, this.pri, this.sec);
cfg.PRI.cb = this.pri ? ctrl.getPlayFunction(contain, null, this.pri) : false;
cfg.PRI.Label = this.getDomTitle(dom, cfg.PRI.Label, this.pri);
cfg.PRI.contain = contain;
cfg.SEC.cb = this.sec ? ctrl.getPlayFunction(contain, null, this.sec) : false;
cfg.SEC.Label = this.getDomTitle(dom, cfg.SEC.Label, this.sec);
cfg.SEC.contain = contain;
};
TTS.Menu.prototype.addOptions = function(cfg, dom){
cfg = cfg || this.cfg;
var ctrl = TTS.getInstance();
if(ctrl.isPlaying()){return;}
var contain = new TTS.Parser.Container(dom, TTS.Parser.Types.DOM, this.pri, this.sec);
cfg.PRI_OP.cb = this.pri ? ctrl.getPlayFunction(contain, null, this.pri) : false;
cfg.PRI_OP.contain = contain;
cfg.SEC_OP.cb = this.sec ? ctrl.getPlayFunction(contain, null, this.sec) : false;
cfg.SEC_OP.contain = contain;
};
TTS.Menu.prototype.addFocusedOption = function(cfg, dom){
if(!dom){return;}
cfg = cfg || this.cfg;
var ctrl = TTS.getInstance();
if(ctrl.isPlaying()){return;}
var contain = new TTS.Parser.Container(dom, TTS.Parser.Types.DOM, this.pri, this.sec);
cfg.PRI.cb    = this.pri ? ctrl.getPlayFunction(contain, null, this.pri) : false;
cfg.PRI.Label = this.getDomTitle(dom, cfg.PRI.Label, this.pri);
cfg.PRI.contain = contain;
cfg.SEC.cb    = this.sec ? ctrl.getPlayFunction(contain, null, this.sec) : false;
cfg.SEC.Label = this.getDomTitle(dom, cfg.SEC.Label, this.sec);
cfg.SEC.contain = contain;
};
TTS.Menu.prototype.checkServiceStates = function(cfg){
var ctrl = TTS.getInstance();
if(ctrl.isPlaying()){
cfg.STOP.cb  =  function(){TTS.getInstance().stop();};
}
if(this.hasPauseSupport){
if(ctrl.isPlaying()){
cfg.PAUSE.cb =  function(){TTS.getInstance().pause();};
}else if(ctrl.getStatus() == TTS.Status.Paused){
cfg.RESUME.cb = function(){TTS.getInstance().resume();};
}
}
};
TTS.Menu.prototype.getDomTitle = function(dom, label, lang){
if(!dom){ return label; }
if(dom && dom.length && dom[0]){
dom = dom[0];
}
var key = 'TDSTTS.Label.Speak';
var mod = this.pri == lang ? 'Primary' : 'Secondary';
if (dom.title){
key += dom.title.replace(/\s+/g, '');
}else{
key += 'Question';
}
key += mod;
return key;
};
})();

// FILE: tds.js (71a63d7e) 5/2/2014 12:55:58 PM

if (typeof TDS == 'undefined') {
var TDS = {};
}
TDS._initialized = false;
TDS.buildNumber = 0;
TDS.baseUrl = '';
TDS.messages = null;
TDS.globalAccommodations = null;
TDS.testeeCheckin = null;
TDS.clientStylePath = null;
TDS.isProxyLogin = false;
TDS.isDataEntry = false;
TDS.isReadOnly = false;
TDS.isSIRVE = false;
TDS.inPTMode = false;
TDS.showItemScores = false;
TDS.isMonolith = false;
TDS.Settings = {};
TDS.Debug = {
ignoreForbiddenApps: false
};
TDS.init = function () {
if (TDS._initialized) {
return;
}
TDS.Config.load();
if (TDS.messages) {
TDS.messages._getLanguage = TDS.getLanguage;
TDS.Messages.Template.processLanguage();
}
TDS._initialized = true;
Util.log('TDS INIT');
};
TDS.getAccommodations = function () {
if (typeof LoginShell == 'object' && LoginShell.segmentsAccommodations != null) {
return LoginShell.segmentsAccommodations[0];
}
if (typeof ContentManager == 'object') {
var page = ContentManager.getCurrentPage();
if (page) {
return page.getAccommodations();
}
}
var accommodations = Accommodations.Manager.getCurrent();
if (accommodations) {
return accommodations;
}
return TDS.globalAccommodations;
};
TDS.getAccs = TDS.getAccommodations;
TDS.getAccommodationProperties = function() {
var accommodations = TDS.getAccommodations();
return new Accommodations.Properties(accommodations);
};
TDS.getAccProps = TDS.getAccommodationProperties;
TDS.getLanguages = function() {
var accGlobalProps = new Accommodations.Properties(TDS.globalAccommodations);
return accGlobalProps.getLanguages();
};
TDS.getLanguage = function() {
var accProps = TDS.getAccommodationProperties();
return accProps.getLanguage();
};
TDS.resolveBaseUrl = function(path) {
var url = TDS.baseUrl + (path || '');
return Util.Browser.resolveUrl(url);
};
TDS.redirect = function(url) {
if (TDS.Dialog) {
TDS.Dialog.showProgress();
}
if (TDS.isProxyLogin && typeof TDS.CLS.LogoutComponent == 'object') {
TDS.CLS.LogoutComponent.PageUnloadEvent.unsubscribeAll();
}
var raw = Util.String.isHttpProtocol(url);
if (raw !== true) {
url = this.baseUrl + url;
}
setTimeout(function() {
top.window.location.href = url;
}, 1);
};
TDS.redirectError = function(key, header, context) {
var url = TDS.baseUrl + 'Pages/Notification.xhtml';
if (YAHOO.lang.isString(key)) {
var message = Messages.get(key);
url += '?messageKey=' + encodeURIComponent(message);
}
if (YAHOO.lang.isString(header)) {
url = url + "&header=" + encodeURIComponent(header);
}
if (YAHOO.lang.isString(context)) {
url = url + "&context=" + encodeURIComponent(context);
}
top.location.href = url;
};
TDS.redirectTestShell = function(page) {
var redirectUrl;
var accProps = TDS.getAccommodationProperties();
if (accProps.hasBraille() || accProps.isTestShellAccessibility()) {
redirectUrl = 'Pages/TestShellAccessibility.xhtml';
} else if (accProps.isTestShellClassic()) {
redirectUrl = 'Pages/TestShell.xhtml';
} else {
redirectUrl = 'Pages/TestShellModern.xhtml';
}
if (page) {
redirectUrl += '?page=' + page;
}
TDS.redirect(redirectUrl);
};
TDS.getLoginUrl = function() {
var url;
if (typeof TDS.Student == 'object') {
url = TDS.Student.Storage.getReturnUrl();
}
if (url == null) {
url = TDS.baseUrl;
url += 'Pages/LoginShell.xhtml?logout=true';
}
return url;
};
TDS.logout = function() {
var url = TDS.getLoginUrl();
TDS.redirect(url);
};
TDS.logoutProctor = function(exl) {
TDS.redirect('Pages/Proxy/logout.xhtml?exl=' + exl, false);
};
if (typeof TDS.Config == 'undefined') {
TDS.Config = {};
}
TDS.Config.load = function() {
TDS.Config._setStyles();
TDS.Config._loadGlobalAccs();
TDS.Config._loadTestAccs();
TDS.Config._loadMessages();
TDS.Config._loadManifest();
};
TDS.Config._loadManifest = function() {
if (typeof TDS.Config.resourceManifest != 'object') {
return;
}
if (typeof ContentManager != 'object' ||
typeof ContentManager.Renderer != 'object') {
return;
}
var manifestFormatter = function(resourceKey) {
var resourceFile = resourceKey;
if (YAHOO.lang.isString(TDS.Cache.id)) {
resourceFile += "?cid=" + TDS.Cache.id;
} else {
resourceFile += "?cid=1";
}
Util.Array.each(TDS.Config.resourceManifest, function(manifestEntry) {
if (manifestEntry.name == resourceKey) {
resourceFile += "&chksum=" + manifestEntry.chksum;
}
});
return resourceFile;
};
ContentManager.Renderer.setCustomFormatter(manifestFormatter);
};
TDS.Config._setStyles = function() {
if (this.styles) {
Util.Array.each(this.styles, function (style) {
YUD.addClass(document.body, style);
});
}
};
TDS.Config._loadGlobalAccs = function() {
if (typeof Accommodations != 'function') {
return;
}
TDS.globalAccommodations = new Accommodations('global');
if (this.accs_global) {
TDS.globalAccommodations.importJson(this.accs_global);
TDS.globalAccommodations.selectDefaults();
}
};
TDS.Config._loadTestAccs = function() {
if (typeof Accommodations != 'function') {
return;
}
if (typeof TDS.Student == 'object') {
this.accs_segments = TDS.Student.Storage.getAccJson();
}
if (this.accs_segments == null) {
return;
}
for (var i = 0; i < this.accs_segments.length; i++) {
var accommodations = Accommodations.create(this.accs_segments[i]);
accommodations.selectAll();
Accommodations.Manager.add(accommodations);
};
};
TDS.Config._loadMessages = function() {
if (typeof TDS.Messages != 'object') {
return;
}
var messageLoader = new TDS.Messages.MessageLoader();
if (TDS.Config.messages) {
messageLoader.load(TDS.Config.messages);
}
TDS.messages = messageLoader.getMessageSystem();
};
(function() {
YAHOO.util.Event.onDOMReady(TDS.init);
YAHOO.util.Event.throwErrors = true;
if (typeof Util == 'object') {
Util.Dom.stopDragEvents();
}
})();
TDS.getPref = function(name, defaultValue                            ) {
if (typeof TDS.Config.preferences == 'object') {
var value = TDS.Config.preferences[name];
if (value !== undefined) {
return value;
}
}
return defaultValue;
};

// FILE: tds_diagnostics.js (6388131b) 5/2/2014 12:55:58 PM

if (typeof TDS != 'object') TDS = {};
(function(TDS) {
var loggers = [];
var sendCount = 0;
var sendLimit = 10;
var signatures = {};
var debugMode = false;
var Kit;
if (typeof window.CrashKit == 'object') {
Kit = window.CrashKit;
} else if (typeof window.TraceKit == 'object') {
Kit = window.TraceKit;
}
function setDebugMode(enabled) {
debugMode = enabled;
}
function registerLogger(fn) {
loggers.push(fn);
}
function report(ex, rethrow) {
if (Kit) {
if (typeof ex == 'string') {
try {
throw new Error(ex);
} catch (ex2) {
ex = ex2;
}
}
try {
Kit.report(ex);
return;
} catch (ex) {
}
}
if (typeof rethrow != 'boolean' || rethrow) {
throw ex;
}
};
function addErrorHandler(win) {
if (Kit) {
Kit.report.addErrorHandler(win);
}
};
function getUrl(name) {
return TDS.baseUrl + 'Pages/API/Global.axd/' + name;
}
function sendRequest(url, callback, data) {
YAHOO.util.Connect.asyncRequest('POST', url, callback, data);
}
function logServerError(message, details, completed) {
if (!message) {
return;
}
try {
message = encodeURIComponent(message);
details = details ? encodeURIComponent(details) : '';
var callback = {
timeout: 30000
};
if (typeof completed == 'function') {
callback.success = completed.bind(null, true);
callback.failure = completed.bind(null, false);
}
var url = getUrl('LogError');
sendRequest(url, callback, 'message=' + message + '&details=' + details);
} catch (ex) {
Util.log('logError failed: ' + ex.message);
}
};
function getServerDebugDetails() {
var details = 'TDS LOGS: ' + Util.getDebugLog();
details += '\n\n';
return details;
};
function logServerDebug(message) {
message = message || '';
var sendLog = function (message, showID) {
var details = getServerDebugDetails();
logServerError('JAVASCRIPT LOG DUMP: ' + message, details, showID);
};
sendLog(message, false);
};
function getExceptionSummary(stackInfo) {
var message = 'JS EXCEPTION: \n "' + stackInfo.message + '"';
if (stackInfo.mode != 'failed') {
try {
var urlPieces = stackInfo.stack[0].url.split('/');
var urlFile = urlPieces[urlPieces.length - 1];
if (urlFile) {
if (urlFile.toLowerCase().indexOf('scripthandler.axd') != -1) {
urlFile = 'scripthandler';
} else {
urlFile = urlFile.split('?')[0];
}
}
message += ' on line ' + stackInfo.stack[0].line + ' of the file ' + urlFile;
} catch (e) {
message += ' [error parsing stack]';
}
}
return message;
}
var DIVIDER = '#####';
function appendDivider(sb) {
sb.appendLine(DIVIDER);
}
function appendLoggers(sb) {
loggers.forEach(function (fn) {
try {
var logStr = fn();
if (logStr) {
sb.appendLine();
sb.appendLine(logStr);
sb.appendLine();
sb.appendLine(DIVIDER);
}
} catch (ex) {
}
});
}
function getExceptionDetails(stackInfo) {
var details = new Util.StringBuilder();
if (stackInfo.stack && stackInfo.stack.length > 0 && stackInfo.Name != "failed") {
stackInfo.stack.forEach(function (frame) {
details.appendFormat("FUNCTION: '{0}' {1} ({2})", frame.func, frame.url, frame.line);
details.appendLine();
details.appendLine("CONTEXT:");
if (frame.context && frame.context.length > 0) {
var row = 0;
frame.context.forEach(function (code) {
if (typeof code == 'string') {
if (code.length > 80) {
code = code.substring(0, 80);
}
if (!Util.String.endsWith(code, '\n')) {
code += '\n';
}
}
details.appendFormat("{0}: {1}", ++row, code);
});
}
details.appendLine();
});
}
appendDivider(details);
appendLoggers(details);
return details.toString();
}
function globalExceptionHandler(stackInfo) {
if (!stackInfo || !stackInfo.message) {
return;
}
if (debugMode) {
var summary = getExceptionSummary(stackInfo);
try {
TDS.Dialog.showAlert(summary);
} catch (e) {
alert(summary);
}
}
var stackHash = Util.String.hashCode(stackInfo.message);
if (signatures[stackHash]) {
return;
}
sendCount++;
if (sendCount > sendLimit) {
return;
}
signatures[stackHash] = true;
var serverMessage = 'JS EXCEPTION: ' + stackInfo.message;
var serverDetails;
try {
serverDetails = getExceptionDetails(stackInfo);
} catch (ex) {
serverDetails = 'JS PARSING ERROR: ' + ex.message;
}
logServerError(serverMessage, serverDetails);
console.warn(serverDetails);
};
TDS.Diagnostics = {
report: report,
addErrorHandler: addErrorHandler,
logServerError: logServerError,
logServerDebug: logServerDebug,
showError: setDebugMode.bind(null, true),
registerLogger: registerLogger,
appendDivider: appendDivider,
appendLoggers: appendLoggers
};
if (Kit) {
Kit.report.subscribe(globalExceptionHandler);
if (typeof window.TraceKit == 'object' && window.TraceKit === Kit) {
var traceKitWindowOnError = window.onerror;
Kit.report.addErrorHandler = function (win) {
if (win) {
win.onerror = traceKitWindowOnError;
}
}
TraceKit.linesOfContext = 6;
}
}
})(TDS);

// FILE: tds_ToolManager.js (8c0973ad) 5/2/2014 12:55:58 PM

if (typeof TDS == 'undefined') TDS = {};
TDS.ToolManager =
{
_timeout: 120,
_overlayManager: new YAHOO.widget.OverlayManager(),
_container: null,
Events: new Util.EventManager()
};
TDS.ToolManager.init = function()
{
this._container = YUD.get('tools');
if (this._container == null)
{
this._container = HTML.DIV({ id: 'tools' });
document.body.appendChild(this._container);
}
};
TDS.ToolManager.createPanel = function(id, name, header, footer, key, resize)
{
var panel = new YAHOO.widget.Dialog(id, {
draggable: true,
constraintoviewport: true,
close: true,
underlay: 'none',
visible: false,
zindex: 998
});
var htmlBody = [];
htmlBody.push('<iframe id="frame-' + id + '" frameborder="0" marginheight="0" marginwidth="0" height="100%" width="100%"></iframe>');
htmlBody.push('<div class="yui-panel-mask"></div>');
if (header) panel.setHeader(header);
panel.setBody(htmlBody.join(''));
if (footer) panel.setFooter(footer);
panel.getFrame = function()
{
return this.element.getElementsByTagName('iframe')[0];
};
panel.getMask = function()
{
return YUD.getElementsByClassName('yui-panel-mask', 'div', panel.element)[0];
};
panel.isShowing = function()
{
return TDS.ToolManager.isShowing(id);
};
panel.load = function()
{
TDS.ToolManager.loadKey(panel, key);
};
panel.renderEvent.subscribe(function()
{
panel.dd.useShim = true;
YUD.addClass(panel.innerElement, 'tool');
var className = 'tool-' + name;
YUD.addClass(panel.innerElement, className);
if (panel.innerElement && panel.innerElement.parentNode) {
YUD.addClass(panel.innerElement.parentNode, className + '-container');
}
panel.load();
}, panel, true);
panel.refresh = function()
{
panel.cfg.setProperty('width', YUD.getStyle(panel.innerElement, 'width'));
panel.cfg.setProperty('height', YUD.getStyle(panel.innerElement, 'height'));
};
TDS.ToolManager.Events.fire('onCreating', panel);
panel.render(this._container);
TDS.ToolManager.bottomLeft(panel);
if (resize) TDS.ToolManager.makeResize(panel);
panel.beforeShowEvent.subscribe(function()
{
panel.refresh();
});
panel.showEvent.subscribe(function()
{
TDS.ToolManager.Events.fire('onShow', panel);
setTimeout(function() { TDS.ToolManager._overlayManager.focus(panel); }, 0);
});
panel.beforeHideEvent.subscribe(function()
{
if (Util.Browser.isSecure() && !Util.Browser.isMac())
{
Util.SecureBrowser.fixFocus();
}
});
panel.hideEvent.subscribe(function()
{
TDS.ToolManager.Events.fire('onHide', panel);
Util.Dom.focusWindow(2);
});
this._overlayManager.register(panel);
TDS.ToolManager.Events.fire('onCreated', panel);
return panel;
};
TDS.ToolManager.bottomLeft = function(dialog)
{
dialog.refresh();
var nViewportOffset = 10,
elementWidth = dialog.element.offsetWidth,
elementHeight = dialog.element.offsetHeight,
viewPortWidth = YUD.getViewportWidth(),
viewPortHeight = YUD.getViewportHeight(),
x,
y;
x = nViewportOffset + YUD.getDocumentScrollLeft();
var footerOffset = (YUD.get('foot') ? YUD.get('foot').offsetHeight : 0);
if ((elementHeight + footerOffset) < viewPortHeight)
{
y = (viewPortHeight - elementHeight - footerOffset) + YUD.getDocumentScrollTop();
}
else
{
y = nViewportOffset + YUD.getDocumentScrollTop();
}
dialog.cfg.setProperty("xy", [parseInt(x, 10), parseInt(y, 10)]);
dialog.cfg.refireEvent("iframe");
if (YAHOO.UA.webkit) {
dialog.forceContainerRedraw();
}
};
TDS.ToolManager.loadFrameUrl = function(container, frame, url, success, abort)
{
var timer = null;
var onFrameLoaded = function()
{
Util.log('tool load: ' + url);
YUD.removeClass(container, 'yui-panel-loading');
if (timer) timer.cancel();
YUE.removeListener(frame, 'load', onFrameLoaded);
var frameDoc = Util.Dom.getFrameContentDocument(frame);
var allowAccess = true;
try { var test = frameDoc.URL; } catch (ex) { allowAccess = false; }
if (allowAccess)
{
if (frame.src == '' || frameDoc.URL == 'about:blank') return;
KeyManager.attachListener(frameDoc);
Util.Dom.copyCSSFrame(frame);
}
if (YAHOO.lang.isFunction(success)) success(frameDoc, allowAccess);
};
var onFrameAborted = function()
{
Util.log('tool abort: ' + url);
YUD.removeClass(container, 'yui-panel-loading');
YUE.removeListener(frame, 'load', onFrameLoaded);
var frameWin = Util.Dom.getFrameContentWindow(frame);
try { frameWin.stop(); }
catch (ex) { }
if (YAHOO.lang.isFunction(abort)) abort();
var errorMessage = 'Timeout occured loading content.';
var errorLink = '<a href="#" id=\"reload\">Click here to reload</a>';
frame.src = Util.Frame.BLANK_SOURCE;
Util.Frame.writeContent(frame, errorMessage + ' ' + errorLink);
var frameDoc = Util.Dom.getFrameContentDocument(frame);
YUE.addListener(frameDoc.getElementById('reload'), 'click', function(ev)
{
YUE.stopEvent(ev);
loadFrame();
});
};
var loadFrame = function()
{
YUD.addClass(container, 'yui-panel-loading');
YUE.addListener(frame, 'load', onFrameLoaded);
timer = YAHOO.lang.later((TDS.ToolManager._timeout * 1000), this, onFrameAborted);
frame.src = url;
};
loadFrame();
};
TDS.ToolManager.loadUrl = function(panel, url, fn)
{
var frame = panel.getFrame();
TDS.ToolManager.loadFrameUrl(panel.element, frame, url, function()
{
TDS.ToolManager.Events.fire('onLoaded', panel);
if (YAHOO.lang.isFunction(fn)) fn();
});
};
TDS.ToolManager.loadFrameKey = function(container, frame, messageKey, fn)
{
if (!messageKey) return;
var url;
if (Util.String.isHttpProtocol(messageKey)) {
url = messageKey;
} else if (Messages.has(messageKey)) {
url = Messages.get(messageKey);
url = TDS.baseUrl + 'Pages/' + url;
} else {
return;
}
this.loadFrameUrl(container, frame, url, fn);
};
TDS.ToolManager.loadKey = function(panel, messageKey)
{
var frame = panel.getFrame();
var onPanelLoaded = function()
{
TDS.ToolManager.Events.fire('onLoaded', panel);
};
var onPanelFailed = function()
{
TDS.ToolManager.Events.fire('onFailed', panel);
};
TDS.ToolManager.loadFrameKey(panel.element, frame, messageKey, onPanelLoaded, onPanelFailed);
};
TDS.ToolManager.get = function(id)
{
return this._overlayManager.find(id);
};
TDS.ToolManager.getAll = function() {
return this._overlayManager.overlays;
};
TDS.ToolManager.isShowing = function(id)
{
var panel = this.get(id);
return (panel) ? panel.cfg.getProperty("visible") : false;
};
TDS.ToolManager.hide = function(id)
{
var panel = this.get(id);
if (panel) panel.hide();
};
TDS.ToolManager.hideAll = function()
{
this._overlayManager.hideAll();
};
TDS.ToolManager.show = function(id)
{
var panel = this.get(id);
if (panel)
{
this.hideAll();
panel.show();
}
};
TDS.ToolManager.toggle = function(id)
{
var panel = this.get(id);
if (panel == null) return;
if (this.isShowing(panel))
{
this.hide(panel);
}
else
{
this.show(panel);
setTimeout(function () { panel.getFrame().focus(); }, 0);
}
};
TDS.ToolManager.makeResize = function(panel)
{
var mask = panel.getMask();
var frame = panel.getFrame();
var IE_QUIRKS = (YAHOO.env.ua.ie && document.compatMode == "BackCompat");
var IE_SYNC = (YAHOO.env.ua.ie == 6 || (YAHOO.env.ua.ie == 7 && IE_QUIRKS));
var PANEL_BODY_PADDING = (10 * 2);
var resize = new YAHOO.util.Resize(panel.id, {
autoRatio: false,
minWidth: 300,
minHeight: 100,
status: false,
proxy: true,
hover: true
});
if (YAHOO.env.ua.ie == 6)
{
YUD.setStyle(resize._handles.r, 'height', (panel.element.offsetHeight - 5) + 'px');
resize.on('startResize', function()
{
YUD.setStyle(mask, 'height', panel.body.offsetHeight + 'px');
YUD.setStyle(mask, 'width', panel.body.offsetWidth + 'px');
});
}
resize.on('resize', function(args)
{
var panelHeight = args.height;
var panelWidth = args.width;
if (!panelHeight)
{
panelHeight = resize._cache.height;
}
if (!panelWidth)
{
panelWidth = resize._cache.width;
}
var headerHeight = (this.header) ? this.header.offsetHeight : 0;
var footerHeight = (this.footer) ? this.footer.offsetHeight : 0;
var bodyHeight = (panelHeight - headerHeight - footerHeight);
var bodyContentHeight = (IE_QUIRKS) ? bodyHeight : bodyHeight - PANEL_BODY_PADDING;
var bodyContentWidth = (IE_QUIRKS) ? panelWidth : panelWidth - PANEL_BODY_PADDING;
YUD.setStyle(this.body, 'height', bodyContentHeight + 'px');
YUD.setStyle(this.body, 'width', bodyContentWidth + 'px');
if (YAHOO.env.ua.ie == 6)
{
YUD.setStyle(resize._handles.r, 'height', (this.element.offsetHeight - 5) + 'px');
YUD.setStyle(mask, 'height', bodyHeight + 'px');
YUD.setStyle(mask, 'width', panelWidth + 'px');
YUD.setStyle(frame, 'height', bodyContentHeight + 'px');
YUD.setStyle(frame, 'width', bodyContentWidth + 'px');
}
if (IE_SYNC)
{
this.sizeUnderlay();
this.syncIframe();
}
}, panel, true);
};
TDS.ToolManager.DragDrop = function(panel)
{
this._panel = panel;
this.init(panel.element, null, { scroll: false });
this.initFrame();
this.setHandleElId(panel.header);
this.useShim = true;
};
YAHOO.extend(TDS.ToolManager.DragDrop, YAHOO.util.DDProxy,
{
});
TDS.ToolManager.Events.subscribe('onLoaded', function(panel)
{
var panelFrame = panel.getFrame();
var panelDoc = Util.Dom.getFrameContentDocument(panelFrame);
YUD.batch(panelDoc.getElementsByTagName('a'), function(link)
{
if (link.href.length == 0) return;
var targetID = link.hash.substring(1);
if (targetID.length == 0) return;
var target = panelDoc.getElementById(targetID);
if (target == null) return;
YUE.on(link, 'click', function(evt)
{
YUE.stopEvent(evt);
target.scrollIntoView();
window.scrollTo(0, 0);
});
});
});

// FILE: tds_dialog.js (f10a4c22) 3/7/2014 11:24:14 AM

TDS = window.TDS || {};
(function(TDS) {
var CSS_SHOWING_PROGRESS = 'showingLoading';
var progressDialog = new YAHOO.widget.Panel("yuiProgressDialog", {
width: '240px',
fixedcenter: true,
close: false,
draggable: false,
modal: true,
visible: false
});
progressDialog.showEvent.subscribe(function() {
YUD.addClass(document.body, CSS_SHOWING_PROGRESS);
});
progressDialog.hideEvent.subscribe(function() {
YUD.removeClass(document.body, CSS_SHOWING_PROGRESS);
});
function setProgressMessage(html) {
if (html) {
html = html + '<br/>';
} else {
html = '';
}
progressDialog.setBody(html);
}
function showProgress(message) {
progressDialog.setHeader(Messages.get('Global.Label.PleaseWait'));
progressDialog.render(document.body);
progressDialog.show();
progressDialog.cfg.setProperty('zindex', 1004);
setProgressMessage(message);
}
function hideProgress() {
progressDialog.hide();
}
var dialog = new YAHOO.widget.SimpleDialog('yuiSimpleDialog', {
width: '250px',
fixedcenter: true,
modal: true,
visible: false,
draggable: false,
close: false,
postmethod: 'none',
usearia: true,
role: 'dialog'
});
dialog.showEvent.subscribe(function() {
YUD.addClass(document.body, 'showingDialog');
});
dialog.hideEvent.subscribe(function() {
YUD.removeClass(document.body, 'showingDialog');
});
function showObj(obj) {
hideProgress();
var buttons;
if (YAHOO.lang.isArray(obj.buttons)) {
buttons = obj.buttons;
} else {
buttons = [{ text: 'Global.Label.OK', handler: function() {
this.hide();
}}];
}
buttons.forEach(function (button) {
if (button.text) {
button.text = Messages.getAlt(button.text, button.altText);
}
});
var header;
if (obj.header) {
header = Messages.get(obj.header);
} else {
header = '';
}
var html;
if (obj.text) {
if (obj.altText) {
html = Messages.getAlt(obj.text, obj.altText);
} else {
html = Messages.get(obj.text);
}
if (html.indexOf('#') != -1) {
html = Messages.parse(html);
}
} else if (obj.bodyHtml) {
html = obj.bodyHtml;
} else {
html = '';
}
dialog.cfg.queueProperty('buttons', buttons);
dialog.setHeader(header);
dialog.setBody(html);
if (obj.formHtml) {
dialog.form.innerHTML = obj.formHtml;
if (obj.formHandler) {
YUE.on(dialog.form, 'submit', obj.formHandler);
}
}
dialog.render(document.body);
dialog.show();
dialog.cfg.setProperty('zindex', 1005);
}
function showDialog(header, message, buttons) {
showObj({
text: message,
header: header,
buttons: buttons
});
}
function showPrompt(message, funcYes, funcNo) {
var header = 'Global.Label.Warning';
var handleYes = function() {
this.hide();
if (YAHOO.lang.isFunction(funcYes)) {
funcYes();
}
};
var handleNo = function() {
this.hide();
if (YAHOO.lang.isFunction(funcNo)) {
funcNo();
}
};
var buttons = [
{ text: 'Global.Label.No', handler: handleNo, isDefault: true },
{ text: 'Global.Label.Yes', handler: handleYes }
];
showDialog(header, message, buttons);
}
function _showAlert(message, funcOk) {
var handleOk = function() {
this.hide();
if (YAHOO.lang.isFunction(funcOk)) {
funcOk();
}
};
var buttons = [
{ text: 'Global.Label.OK', handler: handleOk }
];
showDialog('Global.Label.Warning', message, buttons);
}
function showAlert(message, funcOk) {
_showAlert(message, funcOk);
}
function showWarning(message, funcOk) {
_showAlert(message, funcOk);
}
function showInput(message, cb) {
var getDialogInput = function() {
return Util.Dom.getElementByClassName('tds-dialogInput', 'input', dialog.form);
};
var handleOk = function () {
dialog.hide();
if (YAHOO.lang.isFunction(cb)) {
var dialogInput = getDialogInput();
if (dialogInput) {
cb(dialogInput.value);
}
}
};
var handleCancel = function () {
dialog.hide();
};
var buttons = [
{ text: 'Global.Label.Cancel', altText: 'Cancel', handler: handleCancel, isDefault: true },
{ text: 'Global.Label.Ok', altText: 'Ok', handler: handleOk }
];
var bodyHtml = '<span class="tds-dialogMessage">' + message + '</span>';
var formHtml = '<input class="tds-dialogInput" type="text"></input>';
showObj({
header: '&nbsp;',
bodyHtml: bodyHtml,
formHtml: formHtml,
formHandler: handleOk,
buttons: buttons,
});
var dialogInput = getDialogInput();
if (dialogInput) {
setTimeout(function() {
dialogInput.focus();
}, 0);
}
}
function fixTabIndex(dialog) {
dialog.beforeShowEvent.subscribe(function() {
this.setFirstLastFocusable();
for (var i = 0; i < dialog.focusableElements.length; i++) {
var focusableElement = dialog.focusableElements[i];
focusableElement.setAttribute('tabindex', 0);
}
});
dialog.showEvent.subscribe(function() {
dialog.focusDefaultButton();
});
dialog.beforeShowEvent.subscribe(function() {
var usearia = dialog.cfg.getProperty('usearia');
if (usearia) {
var id = dialog.body.id || YUD.generateId(dialog.body);
dialog.cfg.setProperty('describedby', id);
}
});
}
fixTabIndex(dialog);
TDS.Dialog = {
showProgress: showProgress,
hideProgress: hideProgress,
showObj: showObj,
show: showDialog,
showPrompt: showPrompt,
showAlert: showAlert,
showWarning: showWarning,
showInput: showInput,
fixTabIndex: fixTabIndex
};
})(TDS);

// FILE: tds_keyboard.js (764f9cd1) 3/7/2014 11:24:14 AM

var KeyEventResult =
{
Ignored: 0,
Stop: 1,
Matched: 2,
Allow: 3
};
function onglobalkeyevent(evt, type, key, keyCode, charCode)
{
var shiftKey = evt.shiftKey;
var ctrlKey = evt.ctrlKey;
var metaKey = evt.metaKey;
var altKey = evt.altKey;
var target = YUE.getTarget(evt);
var inTextInput = Util.Event.inTextInput(evt);
var inLoadingDialog = YAHOO.util.Dom.hasClass(document.body, 'showingLoading');
var inModalDialog = YAHOO.util.Dom.hasClass(document.body, 'showingDialog');
var keyObj =
{
type: type,
key: key,
keyCode: keyCode,
charCode: charCode,
shiftKey: shiftKey,
ctrlKey: ctrlKey,
altKey: altKey,
metaKey: metaKey,
target: target
};
KeyManager.onKeyEvent.fire(keyObj);
if (evt.ctrlKey && evt.altKey && evt.shiftKey && key == 'F10') return;
var stopEvent = function()
{
if (typeof Util == 'object') Util.Event.preventDefault(evt);
else YAHOO.util.Event.stopEvent(evt);
};
var isKeySafeForLanguage = function()
{
if (!inTextInput) return false;
if (typeof (TDS) != 'object') return false;
var currentLanguage = TDS.getLanguage();
if (currentLanguage == 'HAW' && evt.altKey)
{
switch (keyCode)
{
case 65:
case 69:
case 73:
case 79:
case 85:
case 222: return true;
}
}
return false;
};
var isKeyNavigational = function()
{
if (!evt.altKey && !evt.ctrlKey && evt.keyCode == 9) return true;
if (!Util.Event.hasModifier(evt))
{
if (keyCode == 13) return true;
}
if (!Util.Event.hasModifier(evt) || evt.shiftKey)
{
if (keyCode >= 37 && keyCode <= 40) return true;
}
if (isKeySafeForLanguage()) return true;
return false;
};
if (inLoadingDialog)
{
stopEvent();
return;
}
if (inModalDialog && !inTextInput)
{
if (!isKeyNavigational()) stopEvent();
return;
}
var keyResult;
if (typeof onkeyevent == 'function')
{
keyResult = onkeyevent(evt, type, key, keyCode, charCode, target);
}
if (!keyResult)
{
if (isKeyNavigational()) keyResult = KeyEventResult.Allow;
else keyResult = KeyEventResult.Ignored;
}
if (keyResult === KeyEventResult.Allow)
{
return;
}
else if (keyResult === KeyEventResult.Stop)
{
stopEvent();
}
else if (inTextInput)
{
if (Util.Event.hasModifier(evt) || keyResult === KeyEventResult.Matched)
{
stopEvent();
}
}
else if (keyResult !== KeyEventResult.Allow)
{
stopEvent();
}
}
var KeyManager =
{
onKeyEvent: new YAHOO.util.CustomEvent('onGlobalKeyEvent', KeyManager, false, YAHOO.util.CustomEvent.FLAT),
isWindows: false,
isMac: false,
isUnix: false,
attachListener: function(doc)
{
YAHOO.util.Event.addListener(doc, "keyup", this._onKeyUpDown, this, true);
YAHOO.util.Event.addListener(doc, "keydown", this._onKeyUpDown, this, true);
YAHOO.util.Event.addListener(doc, "keypress", this._onKeyPress, this, true);
},
preinit : function()
{
if (navigator.platform.indexOf("Windows") != -1 || navigator.platform.indexOf("Win32") != -1 || navigator.platform.indexOf("Win64") != -1)
{
this.isWindows = true;
}
else if (navigator.platform.indexOf("Macintosh") != -1 || navigator.platform.indexOf("MacPPC") != -1 || navigator.platform.indexOf("MacIntel") != -1)
{
this.isMac = true;
}
else if (navigator.platform.indexOf("X11") != -1 || navigator.platform.indexOf("Linux") != -1 || navigator.platform.indexOf("BSD") != -1)
{
this.isUnix = true;
}
this._lastUpDownType = {};
if (!this._identifierToKeyCodeMap)
{
this._identifierToKeyCodeMap = {};
for (var key in this._keyCodeToIdentifierMap) {
this._identifierToKeyCodeMap[this._keyCodeToIdentifierMap[key]] = parseInt(key, 10);
}
for (var key in this._specialCharCodeMap) {
this._identifierToKeyCodeMap[this._specialCharCodeMap[key]] = parseInt(key, 10);
}
}
if (YAHOO.env.ua.ie)
{
this._charCode2KeyCode =
{
13 : 13,
27 : 27
};
}
else if (YAHOO.env.ua.gecko)
{
this._keyCodeFix = {
12 : this._identifierToKeyCode("NumLock")
};
}
else if (YAHOO.env.ua.webkit)
{
if (YAHOO.env.ua.webkit < 525.13 )
{
this._charCode2KeyCode =
{
63289 : this._identifierToKeyCode("NumLock"),
63276 : this._identifierToKeyCode("PageUp"),
63277 : this._identifierToKeyCode("PageDown"),
63275 : this._identifierToKeyCode("End"),
63273 : this._identifierToKeyCode("Home"),
63234 : this._identifierToKeyCode("Left"),
63232 : this._identifierToKeyCode("Up"),
63235 : this._identifierToKeyCode("Right"),
63233 : this._identifierToKeyCode("Down"),
63272 : this._identifierToKeyCode("Delete"),
63302 : this._identifierToKeyCode("Insert"),
63236 : this._identifierToKeyCode("F1"),
63237 : this._identifierToKeyCode("F2"),
63238 : this._identifierToKeyCode("F3"),
63239 : this._identifierToKeyCode("F4"),
63240 : this._identifierToKeyCode("F5"),
63241 : this._identifierToKeyCode("F6"),
63242 : this._identifierToKeyCode("F7"),
63243 : this._identifierToKeyCode("F8"),
63244 : this._identifierToKeyCode("F9"),
63245 : this._identifierToKeyCode("F10"),
63246 : this._identifierToKeyCode("F11"),
63247 : this._identifierToKeyCode("F12"),
63248 : this._identifierToKeyCode("PrintScreen"),
3     : this._identifierToKeyCode("Enter"),
12    : this._identifierToKeyCode("NumLock"),
13    : this._identifierToKeyCode("Enter")
};
}
else
{
this._charCode2KeyCode =
{
13 : 13,
27 : 27
};
}
}
},
init: function(el)
{
this.preinit();
if (typeof el != 'object') { el = (YAHOO.env.ua.gecko) ? window : document; }
this.attachListener(el);
Util.log('keyboard: init');
},
isValidKeyIdentifier : function(keyIdentifier)
{
if (this._identifierToKeyCodeMap[keyIdentifier]) {
return true;
}
if (keyIdentifier.length != 1) {
return false;
}
if (keyIdentifier >= "0" && keyIdentifier <= "9") {
return true;
}
if (keyIdentifier >= "A" && keyIdentifier <= "Z") {
return true;
}
switch(keyIdentifier)
{
case "+":
case "-":
case "*":
case "/":
return true;
default:
return false;
}
},
__keyEvents :
{
keyup : 1,
keydown : 1,
keypress : 1,
keyinput : 1
},
_onKeyUpDown : function(domEvent)
{
if (YAHOO.env.ua.ie)
{
domEvent = window.event || domEvent;
var keyCode = domEvent.keyCode;
var charCode = 0;
var type = domEvent.type;
if (!(this._lastUpDownType[keyCode] == "keydown" && type == "keydown")) {
this._idealKeyHandler(keyCode, charCode, type, domEvent);
}
if (type == "keydown")
{
if (this._isNonPrintableKeyCode(keyCode) || keyCode == 8 || keyCode == 9) {
this._idealKeyHandler(keyCode, charCode, "keypress", domEvent);
}
}
this._lastUpDownType[keyCode] = type;
}
else if (YAHOO.env.ua.gecko)
{
var keyCode = this._keyCodeFix[domEvent.keyCode] || domEvent.keyCode;
var charCode = domEvent.charCode;
var type = domEvent.type;
if (this.isWindows)
{
var keyIdentifier = keyCode ? this._keyCodeToIdentifier(keyCode) : this._charCodeToIdentifier(charCode);
if (!(this._lastUpDownType[keyIdentifier] == "keypress" && type == "keydown")) {
this._idealKeyHandler(keyCode, charCode, type, domEvent);
}
this._lastUpDownType[keyIdentifier] = type;
}
else
{
this._idealKeyHandler(keyCode, charCode, type, domEvent);
}
}
else if (YAHOO.env.ua.webkit)
{
var keyCode = 0;
var charCode = 0;
var type = domEvent.type;
if (YAHOO.env.ua.webkit < 525.13 )
{
if (YAHOO.env.ua.webkit > 420)
{
if (!this._lastCharCodeForType) {
this._lastCharCodeForType = {};
}
var isSafariSpecialKey = this._lastCharCodeForType[type] > 63000;
if (isSafariSpecialKey)
{
this._lastCharCodeForType[type] = null;
return;
}
this._lastCharCodeForType[type] = domEvent.charCode;
}
if (type == "keyup" || type == "keydown")
{
if ( (domEvent.charCode == 3 || domEvent.charCode == 13) && domEvent.keyIdentifier != "Enter")
{
keyCode = domEvent.keyCode;
}
else
{
keyCode = this._charCode2KeyCode[domEvent.charCode] || domEvent.keyCode;
}
}
else
{
if (this._charCode2KeyCode[domEvent.charCode]) {
keyCode = this._charCode2KeyCode[domEvent.charCode];
} else {
charCode = domEvent.charCode;
}
}
this._idealKeyHandler(keyCode, charCode, type, domEvent);
}
else
{
keyCode = domEvent.keyCode;
if (!(this._lastUpDownType[keyCode] == "keydown" && type == "keydown")) {
this._idealKeyHandler(keyCode, charCode, type, domEvent);
}
if (type == "keydown")
{
if (this._isNonPrintableKeyCode(keyCode) || keyCode == 8 || keyCode == 9) {
this._idealKeyHandler(keyCode, charCode, "keypress", domEvent);
}
}
this._lastUpDownType[keyCode] = type;
}
}
else if (YAHOO.env.ua.opera)
{
this._idealKeyHandler(domEvent.keyCode, 0, domEvent.type, domEvent);
}
},
_onKeyPress : function(domEvent)
{
if (YAHOO.env.ua.ie)
{
domEvent = window.event || domEvent;
if (this._charCode2KeyCode[domEvent.keyCode]) {
this._idealKeyHandler(this._charCode2KeyCode[domEvent.keyCode], 0, domEvent.type, domEvent);
} else {
this._idealKeyHandler(0, domEvent.keyCode, domEvent.type, domEvent);
}
}
else if (YAHOO.env.ua.gecko)
{
var keyCode = this._keyCodeFix[domEvent.keyCode] || domEvent.keyCode;
var charCode = domEvent.charCode;
var type = domEvent.type;
if (this.isWindows)
{
var keyIdentifier = keyCode ? this._keyCodeToIdentifier(keyCode) : this._charCodeToIdentifier(charCode);
if (!(this._lastUpDownType[keyIdentifier] == "keypress" && type == "keydown")) {
this._idealKeyHandler(keyCode, charCode, type, domEvent);
}
this._lastUpDownType[keyIdentifier] = type;
}
else
{
this._idealKeyHandler(keyCode, charCode, type, domEvent);
}
}
else if (YAHOO.env.ua.webkit)
{
if (YAHOO.env.ua.webkit < 525.13 )
{
var keyCode = 0;
var charCode = 0;
var type = domEvent.type;
if (!YAHOO.env.ua.webkit > 420)
{
if (!this._lastCharCodeForType) {
this._lastCharCodeForType = {};
}
var isSafariSpecialKey = this._lastCharCodeForType[type] > 63000;
if (isSafariSpecialKey)
{
this._lastCharCodeForType[type] = null;
return;
}
this._lastCharCodeForType[type] = domEvent.charCode;
}
if (type == "keyup" || type == "keydown")
{
keyCode = this._charCode2KeyCode[domEvent.charCode] || domEvent.keyCode;
}
else
{
if (this._charCode2KeyCode[domEvent.charCode]) {
keyCode = this._charCode2KeyCode[domEvent.charCode];
} else {
charCode = domEvent.charCode;
}
}
this._idealKeyHandler(keyCode, charCode, type, domEvent);
}
else
{
if (this._charCode2KeyCode[domEvent.keyCode]) {
this._idealKeyHandler(this._charCode2KeyCode[domEvent.keyCode], 0, domEvent.type, domEvent);
} else {
this._idealKeyHandler(0, domEvent.keyCode, domEvent.type, domEvent);
}
}
}
else if (YAHOO.env.ua.opera)
{
if (this._keyCodeToIdentifierMap[domEvent.keyCode]) {
this._idealKeyHandler(domEvent.keyCode, 0, domEvent.type, domEvent);
} else {
this._idealKeyHandler(0, domEvent.keyCode, domEvent.type, domEvent);
}
}
},
_idealKeyHandler : function(keyCode, charCode, eventType, domEvent)
{
if (!keyCode && !charCode) {
return;
}
var keyIdentifier;
if (keyCode)
{
keyIdentifier = this._keyCodeToIdentifier(keyCode);
onglobalkeyevent(domEvent, eventType, keyIdentifier, keyCode, charCode);
}
else
{
keyIdentifier = this._charCodeToIdentifier(charCode);
onglobalkeyevent(domEvent, "keypress", keyIdentifier, keyCode, charCode);
}
var cancelled = (domEvent.returnValue == false);
if ( eventType == "keydown" && cancelled && (YAHOO.env.ua.webkit >= 525.13 || YAHOO.env.ua.ie) )
{
if (!(this._isNonPrintableKeyCode(keyCode) || keyCode == 8 || keyCode == 9))
{
if (!domEvent.shiftKey && charCode == 0 && this._IEkeyCodeToIdentifierMap[keyCode]) {
keyIdentifier = this._IEkeyCodeToIdentifierMap[keyCode];
}
else if (domEvent.shiftKey && keyIdentifier == 0 && this._IEShiftkeyCodeToIdentifierMap[keyCode]) {
keyIdentifier = this._IEShiftkeyCodeToIdentifierMap[keyCode];
}
onglobalkeyevent(domEvent, "keypress", keyIdentifier, keyCode, charCode);
}
}
},
_specialCharCodeMap :
{
8  : "Backspace",
9  : "Tab",
13 : "Enter",
27 : "Escape",
32 : "Space"
},
_keyCodeToIdentifierMap :
{
16 : "Shift",
17 : "Control",
18 : "Alt",
20 : "CapsLock",
224 : "Meta",
37 : "Left",
38 : "Up",
39 : "Right",
40 : "Down",
33 : "PageUp",
34 : "PageDown",
35 : "End",
36 : "Home",
45 : "Insert",
46 : "Delete",
112 : "F1",
113 : "F2",
114 : "F3",
115 : "F4",
116 : "F5",
117 : "F6",
118 : "F7",
119 : "F8",
120 : "F9",
121 : "F10",
122 : "F11",
123 : "F12",
144 : "NumLock",
44 : "PrintScreen",
145 : "Scroll",
19 : "Pause",
91 : "Win",
93 : "Apps"
},
_IEkeyCodeToIdentifierMap :
{
186 : ";",
187 : "=",
188 : ",",
190 : ".",
191 : "/",
219 : "[",
220 : "\\",
221 : "]",
222 : "'"
},
_IEShiftkeyCodeToIdentifierMap :
{
48 : ")",
49 : "!",
50 : "@",
51 : "#",
52 : "$",
53 : "%",
54 : "^",
55 : "&",
56 : "*",
57 : "(",
186 : ":",
187 : "+",
188 : "<",
190 : ">",
191 : "?",
219 : "{",
220 : "|",
221 : "}",
222 : "\""
},
_numpadToCharCode :
{
96 : "0".charCodeAt(0),
97 : "1".charCodeAt(0),
98 : "2".charCodeAt(0),
99 : "3".charCodeAt(0),
100 : "4".charCodeAt(0),
101 : "5".charCodeAt(0),
102 : "6".charCodeAt(0),
103 : "7".charCodeAt(0),
104 : "8".charCodeAt(0),
105 : "9".charCodeAt(0),
106 : "*".charCodeAt(0),
107 : "+".charCodeAt(0),
109 : "-".charCodeAt(0),
110 : ",".charCodeAt(0),
111 : "/".charCodeAt(0)
},
_charCodeA : "A".charCodeAt(0),
_charCodeZ : "Z".charCodeAt(0),
_charCode0 : "0".charCodeAt(0),
_charCode9 : "9".charCodeAt(0),
_isNonPrintableKeyCode : function(keyCode) {
return this._keyCodeToIdentifierMap[keyCode] ? true : false;
},
_isIdentifiableKeyCode : function(keyCode)
{
if (keyCode >= this._charCodeA && keyCode <= this._charCodeZ) {
return true;
}
if (keyCode >= this._charCode0 && keyCode <= this._charCode9) {
return true;
}
if (this._specialCharCodeMap[keyCode]) {
return true;
}
if (this._numpadToCharCode[keyCode]) {
return true;
}
if (this._isNonPrintableKeyCode(keyCode)) {
return true;
}
return false;
},
_keyCodeToIdentifier : function(keyCode)
{
if (this._isIdentifiableKeyCode(keyCode))
{
var numPadKeyCode = this._numpadToCharCode[keyCode];
if (numPadKeyCode) {
return String.fromCharCode(numPadKeyCode);
}
return (this._keyCodeToIdentifierMap[keyCode] || this._specialCharCodeMap[keyCode] || String.fromCharCode(keyCode));
}
else
{
return "Unidentified";
}
},
_charCodeToIdentifier : function(charCode) {
return this._specialCharCodeMap[charCode] || String.fromCharCode(charCode).toUpperCase();
},
_identifierToKeyCode : function(keyIdentifier) {
return this._identifierToKeyCodeMap[keyIdentifier] || keyIdentifier.charCodeAt(0);
}
};

// FILE: tds_button.js (e990cbe4) 3/7/2014 11:24:14 AM

if (typeof TDS != 'object') TDS = {};
TDS.Button = {};
TDS.Button.init = function()
{
var spans = YUD.getElementsByClassName('tds-button', 'span');
YUD.batch(spans, this.processButtonSpan);
}
TDS.Button.processButtonSpan = function(buttonSpan)
{
var button = buttonSpan.getElementsByTagName('button')[0];
YUE.on(button, 'focus', function(el)
{
YUD.addClass(buttonSpan, 'tds-button-focus');
});
YUE.on(button, 'blur', function(el)
{
YUD.removeClass(buttonSpan, 'tds-button-focus');
});
YUE.on(button, 'mouseover', function(el)
{
YUD.addClass(buttonSpan, 'tds-button-hover');
});
YUE.on(button, 'mouseout', function(el)
{
YUD.removeClass(buttonSpan, 'tds-button-hover');
});
}

// FILE: tds_aria.js (3cca8223) 3/7/2014 11:24:14 AM

if (typeof TDS != 'object') TDS = {};
TDS.ARIA = {};
TDS.ARIA.createLog = function()
{
var logDiv = YUD.get('log');
if (logDiv) return logDiv;
logDiv = HTML.DIV(
{
'id': 'log',
'className': 'element-invisible',
'role': 'log'
});
logDiv.setAttribute('aria-live', 'polite');
logDiv.setAttribute('aria-relevant', 'additions text');
logDiv.setAttribute('aria-atomic', 'true');
document.body.appendChild(logDiv);
return logDiv;
};
TDS.ARIA.writeLog = function(msg)
{
var logDiv = YUD.get('log');
if (logDiv == null)
{
logDiv = this.createLog();
}
var currentMsgDiv = YUD.getFirstChild(logDiv);
var msgDiv = HTML.P(null, msg);
if (currentMsgDiv)
{
logDiv.replaceChild(msgDiv, currentMsgDiv);
}
else
{
logDiv.appendChild(msgDiv);
}
Util.log('ARIA LOG: ' + msg);
};

// FILE: tds_xhr.js (be68b2ef) 3/7/2014 11:24:14 AM

if (typeof TDS != 'object') TDS = {};
TDS.XhrManager = function(opt_timeoutInterval, opt_maxRetries, opt_scope)
{
TDS.XhrManager.superclass.constructor.call(this, opt_timeoutInterval, opt_maxRetries, opt_scope);
this.Events.subscribe('onRequest', function(request)
{
var config = request.getArgs();
if (config && config.showProgress) {
this.Events.fire('onShowProgress');
}
});
this.Events.subscribe('onComplete', function(request)
{
var config = request.getArgs();
if (config && config.showProgress) {
this.Events.fire('onHideProgress');
}
});
this.Events.subscribe('onComplete', this.checkIfValid);
};
YAHOO.extend(TDS.XhrManager, Util.XhrManager);
TDS.XhrManager.JsonReply =
{
OK: 0,
Error: 1,
Denied: 2,
ReturnStatus: 3
};
TDS.XhrManager.prototype.getUrl = function(action, data)
{
return null;
};
TDS.XhrManager.prototype.createAction = function(action, data, callback, customConfig, parameters)
{
var url = this.getUrl(action, data);
parameters = parameters || {};
parameters.timestamp = Util.Date.now();
var querystring = Util.QueryString.stringify(parameters);
url += ((url.indexOf('?') == -1) ? '?' : '&') + querystring;
var method = 'POST';
var content = null;
if (YAHOO.lang.isString(data))
{
content = data;
}
else if (YAHOO.lang.isObject(data))
{
content = Util.QueryString.stringify(data);
}
var receiveActionCallback = function(request)
{
var json = request.getResponseJson();
if (YAHOO.lang.isObject(json) && YAHOO.lang.isFunction(callback))
{
callback(json.data, json);
}
};
var request = this.createRequest(action, url, method, content, receiveActionCallback);
var config =
{
showProgress: true,
showDialog: true,
showError: false,
allowRetry: true,
forceLogout: true
};
if (YAHOO.lang.isObject(customConfig))
{
config = YAHOO.lang.merge(config, customConfig);
}
request.setArgs(config);
return request;
};
TDS.XhrManager.prototype.sendAction = function(action, data, callback, customConfig, parameters)
{
var request = this.createAction(action, data, callback, customConfig, parameters);
try { this.sendRequest(request); }
catch (ex) { TDS.Diagnostics.report(ex); }
};
TDS.XhrManager.prototype.sendPromise = function (action, postData, queryData, customConfig) {
var url = this.getUrl(action, postData);
queryData = queryData || {};
queryData.timestamp = Util.Date.now();
var qs = Util.QueryString.stringify(queryData);
url += ((url.indexOf('?') == -1) ? '?' : '&') + qs;
var content = null;
if (YAHOO.lang.isString(postData)) {
content = postData;
} else if (YAHOO.lang.isObject(postData)) {
content = Util.QueryString.stringify(postData);
}
var defered = Util.Promise.defer();
var callback = function (request) {
var json = request.getResponseJson();
if (request.isSuccess() && YAHOO.lang.isObject(json)) {
defered.resolve(json.data);
} else {
defered.reject(request);
}
};
var request = this.createRequest(action, url, 'POST', content, callback);
var config = {
showProgress: true,
showDialog: true,
showError: false,
allowRetry: true,
forceLogout: true
};
if (YAHOO.lang.isObject(customConfig)) {
config = YAHOO.lang.merge(config, customConfig);
}
request.setArgs(config);
this.sendRequest(request);
return defered.promise;
};
TDS.XhrManager.prototype.checkIfValid = function(request)
{
if (request.isSuccess()) return true;
var config = request.getArgs();
if (config && !config.showDialog) return true;
var errorMessage = 'There was a problem with your request.';
var json = request.getResponseJson();
if (json && json.replyText)
{
errorMessage = json.replyText;
}
var retriable = ((config && config.allowRetry) && request.allowRetry());
var logout = (config && config.forceLogout);
this.Events.fire('onError', request, errorMessage, retriable, logout);
return false;
};

// FILE: tds_CLS.js (ada77e00) 3/7/2014 11:24:14 AM

if (typeof TDS == 'undefined') TDS = {};
TDS.CLS =
{
isCLSLogin: false,
loginPage: null,
logoutPage: null,
confirmExitPage: null,
defaultPage: null,
localDomains: null,
isProctorLoggedIn: false,
LogoutComponent: {},
PagesExcludedFromConfirm: ['logout.xhtml', 'clslogout.xhtml', 'replogin.xhtml', 'clslogin.xhtml', 'confirmexit.xhtml'],
getPopupBlockerCookie: function() { return 'TDS_Proctor_CheckPopup'; },
isScoreEntry: false
};
TDS.CLS.LogoutComponent = {
PageUnloadEvent: new YAHOO.util.CustomEvent('pageUnload', TDS.CLS.LogoutComponent, false, YAHOO.util.CustomEvent.FLAT),
confirmExit: function() {
var e = null;
if (arguments.length > 0)
e = arguments[0];
if (document.all)
e = event;
if (!e)
e = window.event;
if (e) {
if (e.target == document || e.target == null || e.clientX < 0 || e.clientY < 0) {
window.open(TDS.CLS.confirmExitPage, "ConfirmExit", 'height=600,width=800, toolbar=no, menubar=no, scrollbars=no, resizable=no,location=no, directories=no, status=no');
}
}
},
showCLSLogoutPrompt: function(logoutURL)
{
var handleNo = function()
{
this.hide();
};
var handleYes = function()
{
TDS.CLS.LogoutComponent.PageUnloadEvent.unsubscribeAll();
this.hide();
window.location = logoutURL + "?exl=true" ;
};
var buttons = [
{ text: Messages.get('Global.Label.No'), handler: handleNo, isDefault: true },
{ text: Messages.get('Global.Label.Yes'), handler: handleYes }
];
var logoutWarningMessage = "Are you sure you want to logout?";
TDS.Dialog.show(Messages.get('Global.Label.Warning'), Messages.getAlt('Global.Label.ShowCLSLogoutWarning', logoutWarningMessage), buttons);
},
checkForPopupBlocker: function()
{
var popupBlockerChecked = Util.Browser.readCookie(TDS.CLS.getPopupBlockerCookie());
if (popupBlockerChecked == null || popupBlockerChecked != 'true')
{
var popUnWin = window.open('abc.com','','width=1,height=1');
if(popUnWin){
popUnWin.close();
Util.Browser.createCookie(TDS.CLS.getPopupBlockerCookie(), 'true');
return;
}
else
{
var popupBlockerMessage = 'This site requires popup blockers to be disabled. Hit "Try Again" after disabling popup blocker or "Logout" to sign out from the site.';
var tryAgain = function()
{
this.hide();
TDS.CLS.LogoutComponent.PageUnloadEvent.unsubscribeAll();
window.location = TDS.CLS.defaultPage ;
};
var logoutHandler = function()
{
this.hide();
TDS.CLS.LogoutComponent.PageUnloadEvent.unsubscribeAll();
window.location = TDS.CLS.logoutPage + "?exl=true" ;
};
var buttons = [{ text: Messages.get('Try again'), handler: tryAgain, isDefault: true }, { text: Messages.get('Logout'), handler: logoutHandler, isDefault: false}];
TDS.Dialog.show(Messages.get('Global.Label.Warning'), Messages.getAlt('Global.Label.PopupBlockerMessage', popupBlockerMessage), buttons);
}
}
},
init: function()
{
var currentPage = (location.href).toLowerCase();
var applyLogoutHandlerAll = function(logoutButtons, ignoreLoggedIn)
{
if (logoutButtons != null)
{
for (var counter1 = 0; counter1 < logoutButtons.length; ++counter1)
{
if (ignoreLoggedIn)
{
YUE.addListener(logoutButtons[counter1], 'click', function(){window.location = TDS.CLS.logoutPage + "?exl=true" ;});
logoutButtons[counter1].style.display = 'block';
}
else if (TDS.CLS.isProctorLoggedIn)
{
YUE.addListener(logoutButtons[counter1], 'click', TDS.CLS.LogoutComponent.logout);
logoutButtons[counter1].style.display = 'block';
}
else
logoutButtons[counter1].style.display = 'none';
}
}
}
var allLogoutButtons=document.getElementsByName("goLogout");
applyLogoutHandlerAll(allLogoutButtons, false);
allLogoutButtons=document.getElementsByName("goLogoutAlways");
applyLogoutHandlerAll(allLogoutButtons, true);
var excludedPage = false;
for (var counter1 = 0; counter1 < TDS.CLS.PagesExcludedFromConfirm.length; ++counter1)
{
if (currentPage.indexOf(TDS.CLS.PagesExcludedFromConfirm[counter1]) >= 0)
{
excludedPage = true;
break;
}
}
if (!excludedPage && !Util.Browser.isSecure())
TDS.CLS.LogoutComponent.PageUnloadEvent.subscribe(TDS.CLS.LogoutComponent.confirmExit);
var linksForDisabling = YAHOO.util.Dom.getElementsByClassName('confirmexitCSS', 'a');
if (linksForDisabling != null)
{
for (var counter1 = 0; counter1 < linksForDisabling.length; ++counter1)
{
YUE.addListener(linksForDisabling[counter1], 'click', function(){TDS.CLS.LogoutComponent.PageUnloadEvent.unsubscribeAll();});
}
}
if (currentPage.indexOf('loginshell.xhtml') >= 0 && !Util.Browser.isSecure())
TDS.CLS.LogoutComponent.checkForPopupBlocker();
},
logout: function()
{
if (TDS.CLS.isCLSLogin)
{
TDS.CLS.LogoutComponent.showCLSLogoutPrompt(TDS.CLS.logoutPage);
}
else
{
TDS.CLS.LogoutComponent.PageUnloadEvent.unsubscribeAll();
window.location = TDS.CLS.logoutPage;
}
}
}

// FILE: tds_help.js (fbd9b700) 5/2/2014 12:55:58 PM

function onHelpLoad(frame, btnStartSpeaking, btnStopSpeaking, messageDiv, noTTSMessageDiv)
{
btnStartSpeaking = YUD.get(btnStartSpeaking);
btnStopSpeaking = YUD.get(btnStopSpeaking);
messageDiv = YUD.get(messageDiv);
noTTSMessageDiv = YUD.get(noTTSMessageDiv);
var tdsHelpFunctionality = new TDS.Help(frame, btnStartSpeaking);
var disableTTS = function()
{
var hasTTSInstrAccommmodation = tdsHelpFunctionality.hasTTSInstrAccommodationEnabled();
YUD.addClass(btnStartSpeaking, 'disabled');
YUD.addClass(btnStopSpeaking, 'disabled');
YUD.setStyle(messageDiv, 'display', 'none');
if (hasTTSInstrAccommmodation)
{
YUD.setStyle(noTTSMessageDiv, 'display', 'block');
}
else
{
YUD.setStyle(noTTSMessageDiv, 'display', 'none');
YUD.setStyle(btnStartSpeaking, 'display', 'none');
YUD.setStyle(btnStopSpeaking, 'display', 'none');
}
var startSpeakingEvt = Util.Browser.isMobile() ? 'touchstart' : 'click';
YUE.removeListener(btnStartSpeaking, startSpeakingEvt);
YUE.removeListener(btnStopSpeaking, 'click');
};
var initDisplay = function()
{
var enableTTSOnInstr = tdsHelpFunctionality.isEnabled();
if (enableTTSOnInstr)
{
YUD.removeClass(btnStartSpeaking, 'disabled');
YUD.removeClass(btnStopSpeaking, 'disabled');
var startSpeakingEvt = Util.Browser.isMobile() ? 'touchstart' : 'click';
YUE.addListener(btnStartSpeaking, startSpeakingEvt, function (evt) {
YUE.stopEvent(evt);
var handler = tdsHelpFunctionality.getStartSpeakingHandler();
handler(null, null, tdsHelpFunctionality.selection);
});
YUE.addListener(btnStopSpeaking, 'click', function () {
var handler = tdsHelpFunctionality.getStopSpeakingHandler();
handler();
});
}
else
{
disableTTS();
}
};
tdsHelpFunctionality.onReset.subscribe(function() {
initDisplay();
});
tdsHelpFunctionality.init();
initDisplay();
}
TDS.Help = function (contentFrame, btnStartTTS) {
this.onReset = new YAHOO.util.CustomEvent('onReset', TTS.Manager, false, YAHOO.util.CustomEvent.FLAT);
this.selection = null;
var frame = contentFrame;
var enabled = false;
var that = this;
if (frame && Util.Browser.isMobile()) {
var frameDoc = Util.Dom.getFrameContentDocument(frame);
if (frameDoc) {
YUE.addListener(frameDoc, 'selectionchange', function (evt) {
if (evt && evt.target != btnStartTTS) {
that.selection = rangy.getSelection(frameDoc);
}
});
}
}
this.init = function () {
shouldEnableTTS();
return enabled;
};
this.isEnabled = function () {
return enabled;
};
this.hasTTSInstrAccommodationEnabled = function () {
var accProps = TDS.getAccommodationProperties();
var language = accProps.getLanguage();
return accProps.hasTTSInstruction() && isTTSPossibleForLanguage(language);
};
this.getStartSpeakingHandler = function () {
return startSpeakingHandler;
};
this.getStopSpeakingHandler = function () {
return stopSpeakingHandler;
};
this.reset = function (fireResetEvent) {
enabled = checkEnabled();
if (fireResetEvent)
this.onReset.fire();
};
var isTTSPossibleForLanguage = function (language) {
if ("ENU" == language || "ESN" == language)
return true;
return false;
};
var checkEnabled = function () {
var accProps = TDS.getAccommodationProperties();
var language = accProps.getLanguage();
var ctrl = TTS.getInstance();
var languageSupported = ctrl.isLanguageSupported(language);
var ttsSupported = (ctrl.getStatus() != TTS.Status.NotSupported);
if (ttsSupported && languageSupported)
return true;
else
return false;
};
var shouldEnableTTS = function () {
if (that.hasTTSInstrAccommodationEnabled()) {
if (TTS.Manager.getStatus() != TTS.Status.Uninitialized) {
that.reset(true);
}
else {
TTS.Manager.Events.onInitFailure.subscribe(function () {
disable();
});
TTS.Manager.Events.onStatusChange.subscribe(function () {
if (TTS.Manager.getStatus() == TTS.Status.NotSupported){
disable();
}
});
TTS.Manager.Events.onInitSuccess.subscribe(function () {
that.reset(true);
});
YAHOO.util.Event.onDOMReady(function(){
TTS.getInstance();
});
}
}
return false;
};
var disable = function () {
enabled = false;
that.onReset.fire();
};
var startSpeakingHandler = function (evt, altFrame, touchSelected) {
if (enabled) {
var prepSelection = function(frame, language) {
var doc = Util.Dom.getFrameContentWindow(frame).document;
if (touchSelected) {
selected = touchSelected;
} else {
var selected = rangy.getSelection(doc);
}
var element = doc.getElementById('helpContent');
ctrl.languageManager.addLanguageTags(element, language);
var entity = {};
entity.getElement = function () { return element; };
ctrl.setCurrentDomEntity(entity);
return selected;
};
var language = TDS.getAccommodationProperties().getLanguage();
var ctrl = TTS.getInstance();
ctrl.stop();
var domWalker = null;
if (TTS.version && TTS.version > 1) {
var selection;
if (typeof altFrame != 'undefined' && altFrame != null) {
selection = prepSelection(altFrame, language);
} else {
selection = prepSelection(frame, language);
}
if (selection.getAllRanges().length) {
ctrl.playSelection(selection, language);
}
} else {
if (typeof altFrame != 'undefined' && altFrame != null) {
ctrl.play(Util.Dom.getFrameContentWindow(altFrame), TTS.Parser.Types.Selection, language);
} else {
ctrl.play(Util.Dom.getFrameContentWindow(frame), TTS.Parser.Types.Selection, language);
}
}
}
};
var stopSpeakingHandler = function (evt, altFrame) {
if (enabled) {
TTS.getInstance().stop();
}
};
};
TDS.ToolManager.Events.subscribe('onCreating', function(panel)
{
if (panel.id.indexOf('tool-Global.Path.Help') == -1) return;
var tdsHelpFunctionality = new TDS.Help(panel.getFrame());
var hasTTSInstrAccommmodation = tdsHelpFunctionality.hasTTSInstrAccommodationEnabled();
if (hasTTSInstrAccommmodation)
{
var startSpeaking =  function(){
var thatPanel = panel;
var handler = tdsHelpFunctionality.getStartSpeakingHandler();
handler(null, thatPanel.getFrame());
};
var stopSpeaking = function(){
var thatPanel = panel;
var handler = tdsHelpFunctionality.getStopSpeakingHandler();
handler(null, thatPanel.getFrame());
};
var buttons = [
{ text: Messages.get('TDSContentJS.Label.StartSpeaking'), handler: startSpeaking, disabled: true},
{ text: Messages.get('TDSContentJS.Label.StopSpeaking'), handler: stopSpeaking, isDefault: true, disabled: true}
];
panel.cfg.queueProperty("buttons", buttons);
panel.renderEvent.subscribe(function() {
var helpMessage = Messages.get('TestInstructions.Label.Help');
helpMessage = helpMessage + Messages.get('TestInstructions.Label.NoTTSHelp');
var helpMessageElement = document.createElement('span');
helpMessageElement.innerHTML = helpMessage;
panel.appendToFooter(helpMessageElement);
});
var oninited = function(thatPanel) {
var enableTTSOnInstr = tdsHelpFunctionality.isEnabled();
if (thatPanel.getButtons() == null)
return;
for (var counter1 = 0; counter1 < thatPanel.getButtons().length; ++counter1)
{
var button = null;
var label = thatPanel.getButtons()[counter1].getAttributeConfig('label').value;
if (label == Messages.get('TDSContentJS.Label.StartSpeaking'))
{
button = thatPanel.getButtons()[counter1];
button.addClass('ttsHelpSpeakButtonClass');
}
else if (label == Messages.get('TDSContentJS.Label.StopSpeaking'))
{
button = thatPanel.getButtons()[counter1];
button.addClass('ttsHelpStopSpeakButtonClass');
}
if (button != null)
{
button.setAttributeConfig('disabled', enableTTSOnInstr);
if (!enableTTSOnInstr)
button.addClass('disabled');
else
button.removeClass('disabled');
}
}
if (enableTTSOnInstr)
{
YAHOO.util.Dom.addClass(panel.footer, 'hasTTS');
YAHOO.util.Dom.removeClass(panel.footer, 'noTTS');
}
else {
YAHOO.util.Dom.addClass(panel.footer, 'noTTS');
YAHOO.util.Dom.removeClass(panel.footer, 'hasTTS');
}
};
panel.showEvent.subscribe(function()
{
tdsHelpFunctionality.reset(false);
oninited(panel);
});
panel.hideEvent.subscribe(function()
{
TTS.Manager.stop();
});
tdsHelpFunctionality.onReset.subscribe(function(){oninited(panel);});
tdsHelpFunctionality.init();
YAHOO.util.Event.onDOMReady(function(){
TTS.getInstance();
});
}
});

// FILE: tds_cache.js (18a68aa4) 3/7/2014 11:24:14 AM

TDS.Cache = {};
TDS.Cache.id = null;
TDS.Cache.validate = false;
TDS.Cache._statusLookup = ['uncached', 'idle', 'checking', 'downloading', 'updateready', 'obsolete'];
TDS.Cache._eventLookup = ['cached', 'checking', 'downloading', 'error', 'noupdate', 'obsolete', 'progress', 'updateready'];
TDS.Cache._currentEvent = null;
TDS.Cache._count = 0;
TDS.Cache._shuttingDown = false;
TDS.Cache._shutDown = false;
TDS.Cache.Events = new Util.EventManager();
TDS.Cache.getCount = function() { return TDS.Cache._count; };
TDS.Cache.hasManifest = function()
{
return (document.getElementsByTagName('html')[0].getAttribute('manifest') != null);
};
TDS.Cache.isSupported = function()
{
return (typeof(window.applicationCache) == 'object');
};
TDS.Cache.isAvailable = function()
{
return (this.hasManifest() && this.isSupported());
};
TDS.Cache.getStatus = function()
{
if (this.isAvailable())
{
try
{
return TDS.Cache._statusLookup[window.applicationCache.status];
}
catch (ex)
{
}
}
return null;
};
TDS.Cache.getEvent = function() { return TDS.Cache._currentEvent; };
TDS.Cache.isBusy = function()
{
var status = this.getStatus();
var event = this.getEvent();
if (['checking', 'downloading'].indexOf(status) > -1) return true;
if (status == 'uncached' && event != null)
{
if (['checking', 'downloading', 'progress'].indexOf(event) > -1) return true;
}
return false;
};
TDS.Cache.enable = function()
{
Mozilla.execPrivileged(function()
{
Mozilla.setPreference('browser.cache.offline.enable', true);
});
};
TDS.Cache.disable = function()
{
Mozilla.execPrivileged(function()
{
Mozilla.setPreference('browser.cache.offline.enable', false);
});
};
TDS.Cache.init = function()
{
if (!this.isAvailable()) return false;
var cacheEvents = TDS.Cache._eventLookup;
for (var i = 0; i < cacheEvents.length; i++)
{
try
{
window.applicationCache.addEventListener(cacheEvents[i], TDS.Cache._handler, false);
}
catch (ex)
{
return false;
}
}
return true;
};
TDS.Cache._handler = function(evt)
{
TDS.Cache._currentEvent = evt.type;
if (evt.type == 'progress') TDS.Cache._count++;
TDS.Cache.Events.fire('onChange', evt);
if (TDS.Cache._shuttingDown) TDS.Cache._tryToShutdown();
};
TDS.Cache.stop = function()
{
if (TDS.Cache._shuttingDown) return;
TDS.Cache._shuttingDown = true;
TDS.Cache.Events.fire('onStop');
var success = TDS.Cache._tryToShutdown();
if (!success)
{
TDS.Cache._shuttingDown = true;
TDS.Cache.disable();
}
};
TDS.Cache._tryToShutdown = function()
{
if (TDS.Cache._shutDown) return false;
if (TDS.Cache.isAvailable() && TDS.Cache.isBusy()) return false;
TDS.Cache._shutDown = true;
setTimeout(function()
{
TDS.Cache.enable();
TDS.Cache.Events.fire('onShutdown');
}, 5000);
return true;
};
TDS.Cache.init();
TDS.Cache.checkObsolete = function()
{
var storageKey = 'tds.cache.id';
var storedCacheId = Mozilla.getPreference(storageKey);
if (storedCacheId != TDS.Cache.id)
{
if (YAHOO.lang.isString(TDS.Cache.id))
{
Util.log('checkObsolete: set=' + TDS.Cache.id);
Mozilla.setPreference(storageKey, TDS.Cache.id);
}
if (YAHOO.lang.isString(storedCacheId))
{
Util.log('checkObsolete: clearCache');
Util.SecureBrowser.clearCache();
}
}
};

// FILE: tds_zoom.js (9874be9b) 3/7/2014 11:24:14 AM

function ContentZoom(defaultDoc, defaultZoomCSS, page) {
this.page = page;
this.levels =
[
{ css: 'TDS_PS_L0', factor: 1 },
{ css: 'TDS_PS_L1', factor: 1.25 },
{ css: 'TDS_PS_L2', factor: 1.5 },
{ css: 'TDS_PS_L3', factor: 1.75 },
{ css: 'TDS_PS_L4', factor: 2 }
];
this.getLevel = function(zoomCSS) {
if (zoomCSS != null) {
for (var i = 0; i < this.levels.length; i++) {
if (this.levels[i].css == zoomCSS) {
return i;
}
}
}
return 0;
};
this.defaultLevel = this.getLevel(defaultZoomCSS);
this.previousLevel = -1;
this.currentLevel = this.defaultLevel;
this.getCSS = function() {
return this.levels[this.currentLevel].css;
};
this._documents = [];
this.addDocument = function(doc, cleanCSS         ) {
var currLevelObj = this.levels[this.currentLevel];
if (currLevelObj && cleanCSS) {
YUD.removeClass(doc.body, currLevelObj.css);
}
this._documents.push(doc);
};
this.addDocument(defaultDoc);
this.contentImages = true;
this._isContentImage = function(image) {
return YUD.hasClass(image, 'Image');
};
this._setDocumentLevel = function(doc, newLevel, forceChange) {
var currLevelObj = this.levels[this.currentLevel];
var newLevelObj = this.levels[newLevel];
if (!forceChange && this.currentLevel == newLevel && YUD.hasClass(doc.body, newLevelObj.css)) {
return false;
}
this._saveDimensions(doc);
YUD.removeClass(doc.body, currLevelObj.css);
YUD.addClass(doc.body, newLevelObj.css);
this._zoomImages(doc, newLevelObj.factor);
this._zoomFlash(doc, newLevelObj.factor);
return true;
};
this.setLevel = function (newLevel, forceChange) {
var levelChange = false;
if (newLevel == null) {
return levelChange;
}
if (typeof(newLevel) == 'string') {
newLevel = this.getLevel(newLevel);
}
if (this.page != null) {
ContentManager.firePageEvent('beforeZoom', this.page, null, true);
}
if (this._documents.length > 0) {
for (var i = 0; i < this._documents.length; i++) {
if (this._setDocumentLevel(this._documents[i], newLevel, forceChange)) {
levelChange = true;
}
}
} else {
levelChange = true;
}
this.previousLevel = this.currentLevel;
this.currentLevel = newLevel;
if (levelChange && this.page != null) {
ContentManager.firePageEvent('zoom', this.page, null, true);
}
return levelChange;
};
this.zoomIn = function() {
if (this.currentLevel < this.levels.length - 1) {
return this.setLevel(this.currentLevel + 1);
} else {
return false;
}
};
this.zoomOut = function() {
if (this.currentLevel > 0) {
return this.setLevel(this.currentLevel - 1);
} else {
return false;
}
};
this.reset = function (forceChange) {
this.setLevel(this.defaultLevel, forceChange);
};
this.refresh = function (forceChange) {
this.setLevel(this.currentLevel, forceChange);
};
this._zoomImages = function (doc, factor) {
if (doc == null || doc.images == null) {
return;
}
for (var i = 0; i < doc.images.length; i++) {
var image = doc.images[i];
if (this.contentImages && !this._isContentImage(image)) {
continue;
}
if (!this._hasAttribute(image, 'originalWidth')) {
continue;
}
image.width = image.getAttribute('originalWidth') * factor;
image.height = image.getAttribute('originalHeight') * factor;
}
};
this._zoomFlash = function(doc, factor) {
if (doc == null) {
return;
}
if (doc.embeds != null) {
for (var i = 0; i < doc.embeds.length; i++) {
var embed = doc.embeds[i];
if (embed.type != 'application/x-shockwave-flash') {
continue;
}
var flashContainer = embed.parentNode;
this._zoomElement(flashContainer, factor);
}
}
var objectTags = doc.getElementsByTagName('object');
if (objectTags != null) {
for (var i = 0; i < objectTags.length; i++) {
var objectTag = objectTags[i];
if (objectTag.type != 'application/x-shockwave-flash') {
continue;
}
if (objectTag.data != null && objectTag.data.indexOf('jwplayer') != -1) {
continue;
}
this._zoomElement(objectTag, factor);
}
;
}
};
this._zoomElement = function(el, factor) {
if (!this._hasAttribute(el, 'originalWidth')) {
return;
}
var width = (el.getAttribute('originalWidth') * factor);
var height = (el.getAttribute('originalHeight') * factor);
YUD.setStyle(el, 'width', width + 'px');
YUD.setStyle(el, 'height', height + 'px');
};
this._saveDimensions = function(doc) {
if (doc == null) {
return;
}
if (doc.images != null) {
for (var i = 0; i < doc.images.length; i++) {
var image = doc.images[i];
this._saveImageDimensions(image);
}
}
if (doc.embeds != null) {
for (var i = 0; i < doc.embeds.length; i++) {
var embed = doc.embeds[i];
if (embed.type == 'application/x-shockwave-flash') {
var flashContainer = embed.parentNode;
this._saveElementDimensions(flashContainer);
}
}
}
var objectTags = doc.getElementsByTagName('object');
if (objectTags != null) {
for (var i = 0; i < objectTags.length; i++) {
var objectTag = objectTags[i];
if (objectTag.type == 'application/x-shockwave-flash') {
this._saveElementDimensions(objectTag);
}
}
}
};
this._saveImageDimensions = function (image) {
if (image == null) {
return;
}
if (this.contentImages && !this._isContentImage(image)) {
return;
}
if (this._hasAttribute(image, "originalHeight")) {
return;
}
if (image.width > 0 && image.height > 0) {
image.setAttribute('originalWidth', image.width);
image.setAttribute('originalHeight', image.height);
}
};
this._saveElementDimensions = function (el) {
if (el == null) {
return;
}
if (this._hasAttribute(el, 'originalHeight')) {
return;
}
var width = 0, height = 0;
if (this._hasAttribute(el, 'width') &&
this._hasAttribute(el, 'height')) {
width = (YUD.getAttribute(el, 'width') * 1);
height = (YUD.getAttribute(el, 'height') * 1);
} else {
var region = YUD.getRegion(el);
if (region != null) {
width = region.width;
height = region.height;
}
}
if (width > 0 && height > 0) {
el.setAttribute('originalWidth', width);
el.setAttribute('originalHeight', height);
}
};
this._hasAttribute = function(ele, attr) {
if (ele.hasAttribute) {
return ele.hasAttribute(attr);
} else {
return ele.getAttribute(attr);
}
};
}

// FILE: tds_timeout.js (a6214d38) 3/7/2014 11:24:14 AM

function TimeoutIdle(waitMins, respondSecs, funcNoResponse)
{
if ( !(this instanceof arguments.callee) ) return new TimeoutIdle(waitMins, respondSecs);
this.message = ErrorCodes.get('IdleTimeout');
this.isStarted = false;
this.timerIdle = null;
this.waitMins = waitMins;
this.respondSecs = respondSecs;
this.Events = new Util.EventManager();
this.getIdleMilliseconds = function()
{
return this.waitMins * 60 * 1000;
};
this.getRespondMilliseconds = function()
{
return this.respondSecs * 1000;
};
this.start = function()
{
Util.log('timeout: start');
this.isStarted = true;
this.reset();
};
this.stop = function()
{
this.isStarted = false;
this.cancel();
};
this.reset = function()
{
if (!this.isStarted) return;
this.cancel();
this.timerIdle = YAHOO.lang.later(this.getIdleMilliseconds(), this, this.openDialog);
};
this.cancel = function()
{
if (this.timerIdle != null) this.timerIdle.cancel();
};
this.openDialog = function()
{
Util.log('timeout: openDialog');
this.stop();
this.timerIdle = YAHOO.lang.later(this.getRespondMilliseconds(), this, this.dialogNoResponse);
var that = this;
TDS.Dialog.showAlert(this.message, function()
{
that.cancel();
that.start();
});
};
this.dialogNoResponse = function()
{
Util.log('timeout: dialogNoResponse');
if (typeof (funcNoResponse) == 'function') funcNoResponse();
this.Events.fire('onTimeout');
};
this.addListeners = function(win)
{
YAHOO.util.Event.addListener(win, "keyup", this.reset, this, true);
YAHOO.util.Event.addListener(win, 'mousedown', this.reset, this, true);
};
this.addListeners(window);
if (this.message.indexOf('{0}') != -1)
{
this.message = this.message.replace('{0}', this.waitMins);
}
if (this.message.indexOf('{1}') != -1)
{
this.message = this.message.replace('{1}', this.respondSecs);
}
};

// FILE: audio.js (706a3056) 3/7/2014 11:24:06 AM

TDS = window.TDS || {};
TDS.Audio = TDS.Audio || {};
(function(Audio) {
Audio.isActive = function() {
if (Audio.Player && Audio.Player.isPlaying()) {
return true;
}
if (Audio.Recorder && (Audio.Recorder.isCapturing() || Audio.Recorder.isPlaying())) {
return true;
}
return false;
};
Audio.stopAll = function() {
if (Audio.Player && Audio.Player.isPlaying()) {
Audio.Player.stopAll();
}
if (Audio.Recorder) {
if (Audio.Recorder.isCapturing()) {
Audio.Recorder.stopCapture();
}
else if (Audio.Recorder.isPlaying()) {
Audio.Recorder.stopAudio();
}
}
};
})(TDS.Audio);

// FILE: java.js (f4128ba5) 3/7/2014 11:24:06 AM

TDS = window.TDS || {};
TDS.Audio = TDS.Audio || {};
(function(Audio) {
var appletPath = null;
var initialized = false;
var setupDelay = 1000;
var appletEl = null;
var appletTimer = null;
var appletInterval = 5000;
var processTimer = null;
var processTimeout = 30000;
var processFailed = false;
var socketTimeout = 90;
var playing = false;
var recording = false;
var activeID = null;
var callbacks = {};
var initCallbacks = [];
var loadCallbacks = [];
function isReady() {
return (appletEl != null);
}
function setApplet(applet) {
if (isReady()) return;
if (appletTimer) {
appletTimer.cancel();
}
if (processTimer) {
processTimer.cancel();
}
appletEl = applet;
var timeoutMillis = socketTimeout * 1000;
setTimeout(function() {
applet.setSocketParameters(timeoutMillis, timeoutMillis);
}, 0);
for (var i = 0; i < initCallbacks.length; i++) {
initCallbacks[i]();
}
}
function getAppletFrame() {
return document.getElementById('audioFrame');
}
function getApplet() {
var audioFrame = getAppletFrame();
if (audioFrame) {
var frameDoc = Util.Dom.getFrameContentDocument(audioFrame);
if (frameDoc) {
return frameDoc.getElementById('AIRAudio');
}
}
return null;
}
function injectApplet() {
var appletConfig = {
id: 'AIRAudio',
codebase: appletPath + 'AIRAudio',
code: 'AIRAudio/AudioApplet.class',
archive: 'AIRAudio_Combined.jar',
callback: 'tdsFireAudioEvent'
};
return Util.Frame.injectApplet('audioFrame', appletConfig);
}
function removeApplet() {
var audioFrame = getAppletFrame();
Util.Dom.removeNode(audioFrame);
};
function checkApplet() {
if (isReady()) return;
try {
var applet = getApplet();
if (applet && typeof applet.getCurrentState == 'function') {
if (applet.getCurrentState() == 'READY') {
console.log('AUDIO APPLET POLLING READY');
setApplet(applet);
}
}
} catch(ex) {
console.error(ex);
}
if (!isReady()) {
startAppletTimer();
}
}
function checkProcess() {
if (isReady()) return;
var javaRequired = false;
var javaFound = false;
if (Util.Browser.isWindows() && Util.Browser.isSecure()) {
javaRequired = true;
var processList = Util.SecureBrowser.getProcessList();
if (processList.length > 0) {
for (var i = 0; i < processList.length; i++) {
if (processList[i] == 'java.exe') {
javaFound = true;
break;
}
}
}
}
if (javaRequired && !javaFound) {
processFailed = true;
removeApplet();
injectApplet();
}
};
function startAppletTimer() {
appletTimer = window.YAHOO.lang.later(appletInterval, this, checkApplet);
}
function startProcessTimer() {
processTimer = window.YAHOO.lang.later(processTimeout, this, checkProcess);
}
var Java = {};
Java.Type = {
SOUNDCUE: 'SOUNDCUE',
CONTENTAUDIO: 'CONTENTAUDIO',
STUDENTRECORDING: 'STUDENTRECORDING',
UNKNOWN: 'UNKNOWN'
};
Java.Status = {
INITIALIZING: 'INITIALIZING',
READY: 'READY',
PLAYINPROGRESS: 'PLAYINPROGRESS',
CAPTUREINPROGRESS: 'CAPTUREINPROGRESS',
STOPPINGCAPTURE: 'STOPPINGCAPTURE',
PAUSED: 'PAUSED',
UNDEFINED: 'UNDEFINED'
};
Java.Format = {
SPX: 'SPX',
OGG: 'OGG',
WAVE: 'WAVE'
};
Java.Event = {
INITIALIZED: 'INITIALIZED',
LOAD_START: 'LOAD_START',
LOAD_COMPLETE: 'LOAD_COMPLETE',
LOAD_FAIL: 'LOAD_FAIL',
DECODE_START: 'DECODE_START',
DECODE_COMPLETE: 'DECODE_COMPLETE',
DECODE_FAIL: 'DECODE_FAIL',
RECORDING_START: 'RECORDING_START',
RECORDING_PROGRESS: 'RECORDING_PROGRESS',
RECORDING_STOPPING: 'RECORDING_STOPPING',
RECORDING_DONE: 'RECORDING_DONE',
RECORDING_FAIL: 'RECORDING_FAIL',
PLAYING_START: 'PLAYING_START',
PLAYING_FAIL: 'PLAYING_FAIL',
PLAYING_PROGRESS: 'PLAYING_PROGRESS',
PLAYING_DONE: 'PLAYING_DONE',
PLAYING_STOPPED: 'PLAYING_STOPPED',
PLAYING_PAUSED: 'PLAYING_PAUSED'
};
Java.setAppletPath = function(path) {
appletPath = path;
};
Java.initialize = function(eventListener) {
if (typeof eventListener == 'function') {
initCallbacks.push(eventListener);
}
if (initialized) return false;
appletPath = appletPath || window.javaFolder;
if (typeof appletPath != 'string') {
console.warn('Could not initialize java audio applet. No applet path set.');
return false;
}
YAHOO.lang.later(setupDelay, this, function() {
startAppletTimer();
startProcessTimer();
injectApplet();
});
initialized = true;
return true;
};
Java.isInitialized = function() {
return initialized;
};
Java.isReady = isReady;
Java.dispose = function() {
var audioFrame = document.getElementById('audioFrame');
if (audioFrame == null) return;
YUD.setStyle(audioFrame, 'display', 'none');
if (appletEl && appletEl.parentNode) {
appletEl.parentNode.removeChild(appletEl);
}
};
function processEvent(id, type) {
if (id == null) {
console.warn('AudioApplet: Invalid event audio ID');
return;
}
var data = null;
if (type == Java.Event.RECORDING_PROGRESS) {
data = id;
id = activeID;
} else {
console.log('AudioApplet: processEvent', arguments);
}
var failEvent = (type.indexOf('_FAIL') != -1);
var terminalEvent = (failEvent ||
type == Java.Event.PLAYING_DONE ||
type == Java.Event.PLAYING_STOPPED ||
type == Java.Event.RECORDING_DONE);
var loadListener = loadCallbacks[id];
if (loadListener) {
loadListener(id, type);
if (failEvent || type == Java.Event.DECODE_COMPLETE) {
delete loadListener[id];
}
return;
}
var eventListener = callbacks[id];
if (eventListener) {
eventListener(id, type, data);
}
if (terminalEvent) {
if (id == activeID) {
playing = false;
recording = false;
activeID = null;
}
delete callbacks[id];
}
}
window.tdsFireAudioEvent = function(applet, event, data, sequenceNumber, logSeqNumber) {
if (event == Java.Event.INITIALIZED) {
if (isReady()) return;
if (applet != null && typeof applet.getCurrentState == 'function') {
if (applet.getCurrentState() == 'READY') {
console.log('AUDIO APPLET EVENT READY');
setApplet(applet);
}
}
} else {
processEvent(data, event);
}
};
Java.isPlaying = function() {
return playing;
};
Java.isRecording = function() {
return recording;
};
Java.getState = function() {
return appletEl.getCurrentState();
};
Java.playAudioClip = function(audioID, format, type, eventListener) {
if (!isReady() || playing || recording) return false;
if (appletEl.playAudioClip(audioID, format, type)) {
playing = true;
activeID = audioID;
if (typeof eventListener == 'function') {
callbacks[audioID] = eventListener;
}
return true;
} else {
return false;
}
};
Java.stopAudioClip = function() {
if (!isReady()) return false;
return appletEl.stopAudioClip();
};
Java.startCapture = function(audioID, duration, format, eventListener) {
if (!isReady() || playing || recording) return false;
if (appletEl.startCapture(audioID, duration, format)) {
recording = true;
activeID = audioID;
if (typeof eventListener == 'function') {
callbacks[audioID] = eventListener;
}
return true;
} else {
return false;
}
};
Java.stopCapture = function() {
if (!isReady()) return false;
return appletEl.stopCapture();
};
Java.loadBase64Audio = function(audioID, format, type, base64, eventListener) {
if (!isReady()) return false;
appletEl.loadBase64Audio(audioID, format, type, base64);
if (typeof eventListener == 'function') {
loadCallbacks[audioID] = eventListener;
}
return true;
};
Java.retrieveBase64Audio = function(audioID, format) {
if (!isReady()) return null;
var base64 = appletEl.retrieveBase64Audio(audioID, format);
if (base64 != null && typeof (base64) == 'object') {
base64 = new String(base64).toString();
}
return base64;
};
Java.estimateQuality = function (audioID) {
if (!isReady()) return null;
return appletEl.estimateQuality(audioID);
};
Audio.Java = Java;
})(TDS.Audio);

// FILE: services.js (786b3a93) 3/7/2014 11:24:06 AM

TDS = window.TDS || {};
TDS.Audio = TDS.Audio || {};
TDS.Audio.Services = function() {
this._initialized = false;
this._list = [];
this._lookup = {};
};
TDS.Audio.Services.prototype.register = function(service) {
var name = service.getName();
console.info('AudioService Register: ' + name);
this._list.push(service);
this._lookup[name] = service;
};
TDS.Audio.Services.prototype.getList = function() {
return this._list;
};
TDS.Audio.Services.prototype.get = function(name) {
return this._lookup[name];
};
TDS.Audio.Services.prototype.remove = function(name) {
var service = this.getService(name);
Util.Array.remove(this._list, service);
delete this._lookup[name];
};
TDS.Audio.Services.prototype.prioritize = function(names          ) {
names = names || [];
for (var i = 0; i < this._list.length; i++) {
var name = this._list[i].getName();
if (names.indexOf(name) == -1) {
names.push(name);
}
}
Util.Array.sort(this._list, function(recA, recB) {
var idxA = names.indexOf(recA.getName());
var idxB = names.indexOf(recB.getName());
return idxA > idxB ? 1 : idxA < idxB ? -1 : 0;
});
return this._list;
};
TDS.Audio.Services.prototype.getSupported = function() {
var services = this.getList();
for (var i = 0; i < services.length; i++) {
var service = services[i];
if (service.isSupported()) {
return service;
}
}
return null;
};

// FILE: recorder.js (89dd107f) 3/7/2014 11:24:06 AM

TDS = window.TDS || {};
TDS.Audio = TDS.Audio || {};
(function(Audio) {
var services = new TDS.Audio.Services();
var service = null;
var Recorder = {};
function createEvent() {
return new Util.Event.Custom(Recorder);
}
Recorder.onDeviceInit = createEvent();
Recorder.onDeviceReady = createEvent();
Recorder.onDeviceError = createEvent();
Recorder.onDeviceException = createEvent();
Recorder.onCaptureLoad = createEvent();
Recorder.onCaptureStart = createEvent();
Recorder.onCaptureProgress = createEvent();
Recorder.onCaptureStop = createEvent();
Recorder.onPlayStart = createEvent();
Recorder.onPlayStop = createEvent();
var capturing = false;
var playing = false;
Recorder.onCaptureStop.subscribe(function() {
capturing = false;
});
Recorder.onPlayStop.subscribe(function() {
playing = false;
});
Recorder.onDeviceError.subscribe(function(id, detail) {
capturing = false;
playing = false;
reinitialize();
});
function processException(id, ex, fatal) {
setTimeout(function() {
Recorder.onDeviceException.fire(id, ex, fatal);
}, 0);
}
var deviceBroken = false;
Recorder.isDeviceBroken = function() {
return deviceBroken;
};
Recorder.onDeviceException.subscribe(function(id, ex, fatal) {
capturing = false;
playing = false;
if (ex) {
console.error(ex);
}
capturing = false;
playing = false;
if (fatal) {
deviceBroken = true;
}
else {
reinitialize();
}
});
Recorder.getServices = function() {
return services;
};
Recorder.getSupportedService = function() {
return service;
};
Recorder.isCapturing = function() {
return capturing;
};
Recorder.isPlaying = function() {
return playing;
};
Recorder.register = services.register.bind(services);
Recorder.isInitialized = function() {
return service && service.isReady();
};
Recorder.initialize = function() {
service = services.getSupported();
if (service) {
console.info('Recorder service initializing: ' + service.getName());
service.initialize();
return true;
} else {
console.warn('Recorder service not found');
return false;
}
};
function reinitialize() {
setTimeout(function() {
try {
Recorder.initialize();
} catch(ex) {
processException(id, ex, true);
}
}, 0);
}
Recorder.isReady = function() {
return service && service.isReady();
};
Recorder.startCapture = function(id, duration) {
if (capturing || playing) return false;
if (Recorder.isReady()) {
try {
return service.startCapture(id, duration) && (capturing = true);
} catch(ex) {
processException(id, ex);
}
}
return false;
};
Recorder.stopCapture = function() {
if (Recorder.isReady() && capturing) {
try {
return service.stopCapture() && (capturing = false);
} catch(ex) {
processException(null, ex);
}
}
return false;
};
Recorder.playAudio = function(id) {
if (capturing || playing) return false;
if (Recorder.isReady()) {
try {
return service.playAudio(id) && (playing = true);
} catch(ex) {
processException(id, ex);
}
}
return false;
};
Recorder.stopAudio = function() {
if (Recorder.isReady() && playing) {
try {
return service.stopAudio() && (playing = false);
} catch(ex) {
processException(null, ex);
}
}
return false;
};
Recorder.loadBase64Audio = function(id, base64) {
return (Recorder.isReady() && service.loadBase64Audio(id, base64));
};
Recorder.retrieveBase64Audio = function(id, eventListener) {
return (Recorder.isReady() && service.retrieveBase64Audio(id, eventListener));
};
Recorder.retrieveQuality = function (id, eventListener) {
return (Recorder.isReady() && service.retrieveQuality(id, eventListener));
};
Audio.Recorder = Recorder;
})(TDS.Audio);
(function(Diagnostics, Recorder) {
if (!Diagnostics) return;
function getLogs() {
var logFormatter = [];
var service = Recorder.getSupportedService();
if (service && service.getName() == 'sb') {
var logs = service.getLogs();
for (var i = 0; i < logs.length; i++) {
var log = logs[i];
logFormatter.push(Util.Date.formatTime(log.timestamp));
logFormatter.push(' - ');
logFormatter.push(log.message);
logFormatter.push('\n');
}
}
return logFormatter.join('');
}
Recorder.onDeviceError.subscribe(function(id, detail) {
var message = 'Recorder Error: ' + detail;
if (id) {
message += ' (' + id + ')';
}
Diagnostics.logServerError(message, getLogs());
});
Recorder.onDeviceException.subscribe(function(id, ex) {
if (ex) {
Diagnostics.report(ex);
}
});
})(TDS.Diagnostics, TDS.Audio.Recorder);

// FILE: recorder.sb.js (7576b94f) 3/7/2014 11:24:06 AM

(function(Audio) {
var Recorder = Audio.Recorder;
var SBEvent = TDS.SecureBrowser.Base.Recorder.Event;
var SBAPI = null;
var SBService = {};
var ready = false;
var defaultDuration = 30;
var defaultOptions = null;
function setDefaultOptions() {
var capabilities = SBAPI.getCapabilities();
var devices = capabilities.supportedInputDevices;
if (devices == null || devices.length == 0) {
throw new Error('There are no supported input devices.');
}
var device = devices[0];
var channelCount = device.channelCounts[0];
var sampleRate = device.sampleRates[0];
var sampleSize = device.sampleSizes[0];
defaultOptions = {
captureDevice: device.id,
channelCount: channelCount,
sampleRate: sampleRate,
sampleSize: sampleSize,
encodingFormat: 'OPUS',
qualityIndicator: true
};
console.log('SB Recorder Device: ', device);
}
SBService.getName = function() {
return 'sb';
};
SBService.isSupported = function() {
return (TDS.SecureBrowser.getRecorder() != null);
};
SBService.getLogs = function() {
return SBAPI.getLogs();
};
SBService.initialize = function() {
ready = false;
SBAPI = TDS.SecureBrowser.getRecorder();
Recorder.onDeviceInit.fire();
SBAPI.initialize(function(event) {
if (event.type == SBEvent.DEVICE_READY) {
try {
ready = true;
Recorder.onDeviceReady.fire();
} catch(ex) {
Recorder.onDeviceException.fire(null, ex, true);
}
}
else if (event.type == SBEvent.DEVICE_ERROR && Util.String.contains(event.data, 'Error during initialize')) {
Recorder.onDeviceException.fire(null, null, true);
}
});
};
SBService.isReady = function() {
return ready;
};
SBService.startCapture = function(id, duration) {
if (defaultOptions == null) {
setDefaultOptions();
}
var options = JSON.parse(JSON.stringify(defaultOptions));
options = YAHOO.lang.augmentObject(options, {
filename: id,
captureLimit: {
duration: (YAHOO.lang.isNumber(duration) ? duration : defaultDuration)
},
progressFrequency: {
type: 'time',
interval: 99999
}
});
console.log('SB Recorder Capture: ', options);
SBAPI.startCapture(options, function(event) {
if (event.type == SBEvent.CAPTURE_START) {
Recorder.onCaptureStart.fire(id);
} else if (event.type == SBEvent.CAPTURE_END) {
Recorder.onCaptureStop.fire(id);
} else if (event.type == SBEvent.DEVICE_ERROR) {
Recorder.onDeviceError.fire(id, event.data);
}
});
return true;
};
SBService.stopCapture = function() {
SBAPI.stopCapture();
return true;
};
SBService.playAudio = function(id) {
var audioData = {
type: 'filename',
filename: id
};
SBAPI.play(audioData, function(event) {
if (event.type == SBEvent.PLAYBACK_START) {
Recorder.onPlayStart.fire(id);
} else if (event.type == SBEvent.PLAYBACK_STOPPED) {
Recorder.onPlayStop.fire(id);
} else if (event.type == SBEvent.DEVICE_ERROR) {
Recorder.onDeviceError.fire(id, event.data);
}
});
return true;
};
SBService.stopAudio = function() {
SBAPI.stopPlay();
return true;
};
SBService.loadBase64Audio = function(id, base64) {
return SBAPI.loadAudioFile(id, base64, function() {
Recorder.onCaptureLoad.fire(id);
});
};
SBService.retrieveBase64Audio = function(id) {
var data = SBAPI.retrieveAudioFile(id);
if (data && data.base64) {
return data.base64;
}
return null;
};
SBService.retrieveQuality = function (id) {
var data = SBAPI.retrieveAudioFile(id);
if (data && data.qualityIndicator) {
return data.qualityIndicator;
}
return null;
};
Recorder.register(SBService);
})(TDS.Audio);

// FILE: player.js (3b327a51) 3/7/2014 11:24:06 AM

TDS = window.TDS || {};
TDS.Audio = TDS.Audio || {};
(function (Audio) {
var SM = window.soundManager;
SM.audioFormats.mp3.required = false;
var rebooted = false;
var Player = {};
function createEvent() {
return new Util.Event.Custom(this);
}
Player.onBeforePlay = createEvent();
Player.onPlay = createEvent();
Player.onPause = createEvent();
Player.onBeforeResume = createEvent();
Player.onResume = createEvent();
Player.onStop = createEvent();
Player.onFinish = createEvent();
Player.onIdle = createEvent();
Player.onFail = createEvent();
function setup(flashPath) {
SM.setup({
url: flashPath,
flashVersion: 9,
preferFlash: false,
useHTML5Audio: true
});
SM.ontimeout(function () {
console.warn('AudioManager Error: SM2 timeout');
if (!rebooted) {
rebooted = true;
setTimeout(function () {
SM.reboot();
}, 1000);
}
});
}
function _onLoad(success) {
if (success === false) {
console.log('AUDIO FAILED: ' + this.id);
YAHOO.lang.later(0, Player.onFail, Player.onFail.fire, this.id);
}
}
function _onPlay() {
console.log('AUDIO PLAY: ' + this.id);
YAHOO.lang.later(0, Player.onPlay, Player.onPlay.fire, this.id);
}
function _onPause() {
console.log('AUDIO PAUSE: ' + this.id);
YAHOO.lang.later(0, Player.onPause, Player.onPause.fire, this.id);
};
function _onResume() {
console.log('AUDIO RESUME: ' + this.id);
YAHOO.lang.later(0, Player.onResume, Player.onResume.fire, this.id);
};
function _onStop() {
console.log('AUDIO STOP: ' + this.id);
YAHOO.lang.later(0, Player.onStop, Player.onStop.fire, this.id);
YAHOO.lang.later(0, Player.onIdle, Player.onIdle.fire, this.id);
}
function _onFinish() {
console.log('AUDIO FINISH: ' + this.id);
YAHOO.lang.later(0, Player.onFinish, Player.onFinish.fire, this.id);
YAHOO.lang.later(0, Player.onIdle, Player.onIdle.fire, this.id);
};
function _onFailure() {
console.log('AUDIO FAILURE: ' + this.id);
YAHOO.lang.later(0, Player.onFail, Player.onFail.fire, this.id);
};
function attachEvents(options) {
options.onload = _onLoad;
options.onplay = _onPlay;
options.onpause = _onPause;
options.onresume = _onResume;
options.onstop = _onStop;
options.onfinish = _onFinish;
options.onfailure = _onFailure;
}
function parseMIMEType(url) {
if (url) {
if (Util.String.contains(url, '.mp3')) {
return 'audio/mpeg';
} else if (Util.String.contains(url, '.m4a')) {
return 'audio/mp4';
} else if (Util.String.contains(url, '.ogg')) {
return 'audio/ogg';
} else if (Util.String.contains(url, '.oga')) {
return 'audio/ogg';
} else if (Util.String.contains(url, '.webma')) {
return 'audio/webm';
} else if (Util.String.contains(url, '.wav')) {
return 'audio/wav';
}
}
return '';
}
function parseSources(el) {
var sources = [];
if (el.nodeName == 'A') {
var url = decodeURIComponent(el.href);
var type = parseMIMEType(url) || el.getAttribute('type');
sources.push({
url: url,
type: type
});
} else if (el.nodeName == 'AUDIO') {
for (var i = 0; i < el.children.length; ++i) {
var source = el.children[i];
sources.push({
url: decodeURIComponent(source.src),
type: source.type
});
}
}
return sources;
};
function findPlayableSource(el) {
var sources = parseSources(el);
for (var i = 0; i < sources.length; i++) {
var source = sources[i];
if (SM.canPlayURL(source.url) ||
SM.canPlayMIME(source.type)) {
return source;
}
}
return null;
}
function createSound(id, url) {
if (SM.getSoundById(id)) {
return false;
}
var options = {
id: id,
url: url
};
attachEvents(options);
SM.createSound(options);
return id;
}
function createSoundFromElement(id, options) {
if (SM.getSoundById(id, true)) {
return false;
}
var el = YUD.get(id);
if (el == null) return false;
if (!YAHOO.lang.isString(id)) {
if (el.id && el.id != '') {
id = el.id;
} else {
return false;
}
}
var source = findPlayableSource(el);
if (source == null) return false;
options = options || {};
if (!options.id) {
options.id = id;
}
options = YAHOO.lang.augmentObject(options, source);
attachEvents(options);
SM.createSound(options);
if (Util.Browser.isMacPPC()){
SM.play(id);
SM.stop(id);
}
return id;
}
Player.onReady = SM.onready;
Player.setup = setup;
Player.createSound = createSound;
Player.createSoundFromElement = createSoundFromElement;
Player.play = function (id) {
var success = Player.onBeforePlay.fire(id);
if (success === false) {
return false;
}
var sound = SM.play(id);
return (sound !== false);
};
Player.stop = function (id) {
var sound = SM.stop(id);
return (sound !== false);
};
Player.pause = function (id) {
var sound = SM.pause(id);
return (sound !== false);
};
Player.resume = function (id) {
var success = Player.onBeforeResume.fire(id);
if (success === false) {
return false;
}
var sound = SM.resume(id);
return (sound !== false);
};
Player.isPaused = function () {
var ids = SM.soundIDs;
for (var i = 0; i < ids.length; i++) {
var sound = SM.sounds[ids[i]];
if (sound.paused) {
return true;
}
}
return false;
};
Player.isPlaying = function () {
var ids = SM.soundIDs;
for (var i = 0; i < ids.length; i++) {
var sound = SM.sounds[ids[i]];
if (!sound.paused && sound.playState > 0) {
return true;
}
}
return false;
};
Player.stopAll = function () {
SM.stopAll();
};
Audio.Player = Player;
})(TDS.Audio);

// FILE: player.queue.js (f24c0a50) 3/7/2014 11:24:06 AM

(function(Player) {
var numInstances = 0;
var Queue = function() {
this._instance = ++numInstances;
this._isStarted = false;
this._playerIDs = [];
this._currentID = null;
this.onStart = new Util.Event.Custom(this);
this.onStop = new Util.Event.Custom(this);
};
Queue.prototype._log = function(name, id) {
var msg = 'AUDIO QUEUE ' + this._instance + ': ' + name;
if (id) {
msg += ' - ' + id;
}
console.log(msg);
};
Queue.prototype._setStarted = function(id) {
if (this._isStarted) return;
this._log('Start', id);
this._isStarted = true;
Player.onStop.subscribe(this._onStop, this, true);
Player.onIdle.subscribe(this._onIdle, this, true);
this.onStart.fire(this);
};
Queue.prototype._setStopped = function(id) {
if (!this._isStarted) return;
this._log('Stop', id);
this._isStarted = false;
Player.onStop.unsubscribe(this._onStop, this, true);
Player.onIdle.unsubscribe(this._onIdle, this, true);
this.onStop.fire(this);
};
Queue.prototype._play = function(id) {
if (Player.play(id)) {
this._currentID = id;
return true;
} else {
return false;
}
};
Queue.prototype._onStop = function(id) {
if (this._currentID == id) {
this._currentID = null;
this._setStopped(id);
}
};
Queue.prototype._onIdle = function(id) {
if (!this._isStarted) return;
this._currentID = null;
var inactiveIdx = this._playerIDs.indexOf(id);
if (inactiveIdx == -1) return;
var nextID = this._playerIDs[inactiveIdx + 1];
if (nextID) {
if (!this._play(nextID)) {
this._setStopped(id);
}
} else {
this._setStopped(id);
}
};
Queue.prototype.isStarted = function() {
return this._isStarted;
};
Queue.prototype.start = function() {
if (this._playerIDs.length == 0) {
return false;
}
var firstID = this._playerIDs[0];
if (this._play(firstID)) {
this._setStarted();
return true;
}
return false;
};
Queue.prototype.stop = function() {
if (this.isStarted()) {
Player.stop(this._currentID);
}
};
Queue.prototype.insert = function(id, pos) {
Util.Array.insertAt(this._playerIDs, id, (pos || 0));
};
Queue.prototype.append = function(id) {
this._playerIDs.push(id);
};
Queue.prototype.remove = function(id) {
Util.Array.remove(this._playerIDs, id);
};
Queue.prototype.clear = function() {
for (var i = 0; i < this._playerIDs.length; i++) {
this.remove(this._playerIDs[i]);
}
};
Queue.prototype.dispose = function() {
this.stop();
this.clear();
this.onStart.unsubscribeAll();
this.onStop.unsubscribeAll();
};
Player.createQueue = function(ids) {
var queue = new Queue();
if (ids) {
for (var i = 0; i < ids.length; i++) {
queue.append(ids[i]);
}
}
return queue;
};
})(TDS.Audio.Player);

// FILE: widget.js (c573fd76) 5/2/2014 12:55:57 PM

(function (Audio) {
var eventMap = {
'playing_start': {
playPause: '',
rewind: ''
},
'playing_pause': {
playPause: '',
rewind: ''
},
'playing_resume': {
playPause: '',
rewind: ''
},
'playing_done': {
playPause: '',
rewind: ''
},
'playing_fail': {
playPause: '',
rewind: ''
}
};
var CSS_DISABLED = 'disabled';
var Recorder = Audio.Recorder;
var Player = Audio.Player;
var widgetList = [];
var recorderList = [];
var recorderLookup = {};
var playerList = [];
var playerLookup = {};
function updateProgressLevel(id, level) {
var micDiv = YUD.get(id);
if (!YAHOO.lang.isNumber(level)) return;
level = level * 1;
if (micDiv) {
var soundLevelWrapEl = YUD.getFirstChild(micDiv);
var soundLevelIndicatorEl = YUD.getFirstChild(soundLevelWrapEl);
soundLevelIndicatorEl.style.width = (level + '%');
}
};
function enableAll() {
for (var i = 0; i < widgetList.length; i++) {
var el = YUD.get(widgetList[i]);
YUD.removeClass(el, CSS_DISABLED);
}
}
function disableAll(id) {
for (var i = 0; i < widgetList.length; i++) {
if (widgetList[i] != id) {
var el = YUD.get(widgetList[i]);
YUD.addClass(el, CSS_DISABLED);
}
}
}
var ATTRIB_AUDIO_EVENT = 'data-audio-event';
function setEventClass(id, type) {
var el = YUD.get(id);
if (el == null) return;
type = type.toLowerCase();
var lastEvent = el.getAttribute(ATTRIB_AUDIO_EVENT);
if (lastEvent) {
YUD.removeClass(el, lastEvent);
}
el.setAttribute(ATTRIB_AUDIO_EVENT, type);
YUD.addClass(el, type);
}
function setEventClassAll(type) {
for (var i = 0; i < recorderList.length; i++) {
setEventClass(recorderList[i].id, type);
}
}
function setupRecorderEvents() {
Recorder.onDeviceInit.subscribe(function () {
enableAll();
setEventClassAll('load_start');
});
Recorder.onDeviceReady.subscribe(function () {
enableAll();
for (var i = 0; i < recorderList.length; i++) {
if (recorderList[i].loaded) {
setEventClass(recorderList[i].id, 'recording_done');
} else {
setEventClass(recorderList[i].id, 'recording_ready');
}
}
});
Recorder.onDeviceError.subscribe(function (id) {
enableAll();
setEventClassAll('recording_fail');
});
Recorder.onDeviceException.subscribe(function (id) {
enableAll();
setEventClassAll('recording_fail');
});
Recorder.onCaptureLoad.subscribe(function (id) {
if (recorderLookup[id]) {
recorderLookup[id].loaded = true;
}
setEventClass(id, 'recording_done');
});
Recorder.onCaptureStart.subscribe(function (id) {
disableAll(id);
setEventClass(id, 'recording_start');
});
Recorder.onCaptureStop.subscribe(function (id) {
if (recorderLookup[id]) {
recorderLookup[id].loaded = true;
recorderLookup[id].dirty = true;
}
enableAll();
setEventClass(id, 'recording_done');
if (Util.Browser.isMacPPC()){
Recorder.playAudio(id);
Recorder.stopAudio();
}
});
Recorder.onPlayStart.subscribe(function (id) {
disableAll(id);
setEventClass(id, 'playing_start');
});
Recorder.onPlayStop.subscribe(function (id) {
enableAll();
setEventClass(id, 'playing_done');
});
}
function createRecorderWidget(id, duration) {
var recorderEl = YUD.get(id);
if (!recorderEl) {
console.warn('Could not find recorder id \'' + id + '\'');
return;
}
id = recorderEl.id;
widgetList.push(id);
recorderList.push(
recorderLookup[id] = {
id: id,
el: recorderEl,
loaded: false,
dirty: false
}
);
recorderEl.setAttribute(ATTRIB_AUDIO_EVENT, 'recording_ready');
var btnRecord = YUD.getElementsByClassName('btnRecord', 'a', recorderEl)[0];
var btnPlayPause = YUD.getElementsByClassName('btnPlayPause', 'a', recorderEl)[0];
YUE.addListener(btnRecord, 'click', function (evt) {
YUE.stopEvent(evt);
if (YUD.hasClass(recorderEl, CSS_DISABLED)) return;
if (Player.isPlaying()) return;
if (YUD.hasClass(recorderEl, 'recording_start')) {
Recorder.stopCapture();
} else {
Recorder.startCapture(id, duration);
}
});
YUE.addListener(btnPlayPause, 'click', function (evt) {
YUE.stopEvent(evt);
if (YUD.hasClass(recorderEl, CSS_DISABLED)) return;
if (Player.isPlaying()) return;
if (YUD.hasClass(recorderEl, 'playing_start')) {
Recorder.stopAudio();
} else {
Recorder.playAudio(id);
}
});
if (Recorder.isDeviceBroken()) {
YUD.addClass(recorderEl, 'recording_fail');
}
else if (Recorder.isReady() && !Audio.isActive()) {
YUD.removeClass(recorderEl, CSS_DISABLED);
}
}
function setupPlayerEvents() {
Player.onPlay.subscribe(function (id) {
disableAll(id);
setEventClass(id, 'playing_start');
});
Player.onPause.subscribe(function (id) {
enableAll();
setEventClass(id, 'playing_pause');
});
Player.onResume.subscribe(function (id) {
disableAll(id);
setEventClass(id, 'playing_start');
});
Player.onIdle.subscribe(function (id) {
enableAll();
setEventClass(id, 'playing_done');
});
Player.onFail.subscribe(function (id) {
enableAll();
setEventClass(id, 'playing_fail');
});
}
var playerCount = 0;
function createPlayerWidget(id) {
var linkEl = YUD.get(id);
if (!linkEl) return null;
if (!linkEl.id) {
linkEl.id = 'sound-' + (++playerCount);
}
YUE.addListener(linkEl, 'click', function (ev) {
YUE.stopEvent(ev);
if (YUD.hasClass(linkEl, CSS_DISABLED)) return;
if (Recorder.isCapturing() || Recorder.isPlaying()) return;
if (YUD.hasClass(linkEl, 'playing_start')) {
Player.stop(linkEl.id);
} else {
Player.play(linkEl.id);
}
});
YUD.addClass(linkEl, CSS_DISABLED);
linkEl.setAttribute('title', 'Play or stop recorded audio.');
Player.onReady(function () {
if (Player.createSoundFromElement(linkEl)) {
widgetList.push(linkEl.id);
YUD.removeClass(linkEl, CSS_DISABLED);
}
});
return linkEl.id;
}
function createPlayerRewindWidget(target) {
var linkEl = YUD.get(target);
if (!linkEl) return null;
var id;
if (linkEl.id) {
id = linkEl.id;
} else {
id = 'sound-' + (++playerCount);
linkEl.id = id;
}
var audioControlsEl = document.createElement('div');
audioControlsEl.id = id;
audioControlsEl.className = 'audioControls ' + CSS_DISABLED;
var playPauseEl = document.createElement('a');
playPauseEl.className = 'playPause';
playPauseEl.setAttribute('href', '#');
playPauseEl.setAttribute('title', 'Play or pause recorded audio.');
YUE.addListener(playPauseEl, 'click', function (ev) {
YUE.stopEvent(ev);
if (YUD.hasClass(audioControlsEl, CSS_DISABLED)) return;
if (Recorder.isCapturing() || Recorder.isPlaying()) return;
if (YUD.hasClass(audioControlsEl, 'playing_start') ||
YUD.hasClass(audioControlsEl, 'playing_resume')) {
Player.pause(id);
}
else if (YUD.hasClass(audioControlsEl, 'playing_pause')) {
Player.resume(id);
}
else if (YUD.hasClass(audioControlsEl, 'playing_done') ||
(!YUD.hasClass(audioControlsEl, 'playing_start') || !YUD.hasClass(audioControlsEl, 'playing_resume'))) {
Player.play(id);
}
else {
Player.stop(id);
}
});
audioControlsEl.appendChild(playPauseEl);
var rewindEl = document.createElement('a');
rewindEl.className = 'rewind';
rewindEl.setAttribute('href', '#');
rewindEl.setAttribute('title', 'Stop the recorded audio.');
YUE.addListener(rewindEl, 'click', function (ev) {
YUE.stopEvent(ev);
if (!YUD.hasClass(audioControlsEl, 'playing_done')) {
Player.stop(id);
}
});
audioControlsEl.appendChild(rewindEl);
Player.onReady(function () {
if (Player.createSoundFromElement(linkEl)) {
widgetList.push(id);
YUD.removeClass(audioControlsEl, CSS_DISABLED);
}
});
$(linkEl).replaceWith(audioControlsEl);
return id;
}
TDS.Audio.Widget = {};
if (Recorder) {
setupRecorderEvents();
TDS.Audio.Widget.createRecorder = createRecorderWidget;
TDS.Audio.Widget.getRecorder = function (id) {
return recorderLookup[id];
};
}
if (Player) {
setupPlayerEvents();
TDS.Audio.Widget.createPlayer = createPlayerWidget;
TDS.Audio.Widget.createPlayerRewind = createPlayerRewindWidget;
TDS.Audio.Widget.getPlayer = function (id) {
return playerLookup[id];
};
}
TDS.Audio.Widget.getIDs = function () {
return widgetList;
};
})(TDS.Audio);

