/*
Copyright (c) 2014, American Institutes for Research. All rights reserved.
GENERATED: 9/4/2014 6:25:57 PM
MACHINE: IL1YUHLT2
*/

/* SOURCE FILE: networkdiagnosticstestinfo.js (8b553f2a) 9/4/2014 6:14:51 PM */

[
    {
        "client": "AIR",
        "testinfo": [
            { "subject": "MCA Reading", "datarate": "5", "itemsize": "80", "responsetime": "30" },
            { "subject": "MCA-Modified Reading", "datarate": "5", "itemsize": "80", "responsetime": "30" },
            { "subject": "MCA Science", "datarate": "50", "itemsize": "800", "responsetime": "60" },
            { "subject": "GRAD Math", "datarate": "5", "itemsize": "80", "responsetime": "30" },
            { "subject": "MCA-Modified Math", "datarate": "5", "itemsize": "80", "responsetime": "30" },
            { "subject": "ELPA", "datarate": "20", "itemsize": "320", "responsetime": "60" },
            { "subject": "OAKS", "datarate": "5", "itemsize": "80", "responsetime": "30" },
            { "subject": "GRAD Reading", "datarate": "5", "itemsize": "80", "responsetime": "30" },
            { "subject": "OLPA Math", "datarate": "5", "itemsize": "80", "responsetime": "30" },
            { "subject": "MCA Math", "datarate": "5", "itemsize": "80", "responsetime": "30" }
        ]
    },
    {
        "client": "california_pt",
        "testinfo": [
            { "subject": "English Language Arts", "datarate": "50", "itemsize": "100", "responsetime": "60" },
            { "subject": "Mathematics", "datarate": "50", "itemsize": "100", "responsetime": "60" }
        ]
    },
    {
        "client": "florida_pt",
        "testinfo": [
            { "subject": "Mathematics", "datarate": "50", "itemsize": "100", "responsetime": "60" },
            { "subject": "Science", "datarate": "50", "itemsize": "100", "responsetime": "60" },
            { "subject": "English Language Arts", "datarate": "50", "itemsize": "100", "responsetime": "60" }
        ]
    },
    {
        "client": "minnesota_pt",
        "testinfo": [
            { "subject": "MCA Math", "datarate": "5", "itemsize": "80", "responsetime": "30" },
            { "subject": "MCA Science", "datarate": "50", "itemsize": "800", "responsetime": "60" },
            { "subject": "GRAD Reading", "datarate": "5", "itemsize": "80", "responsetime": "30" },
            { "subject": "MCA Reading", "datarate": "5", "itemsize": "80", "responsetime": "30" },
            { "subject": "MCA-Modified Reading", "datarate": "5", "itemsize": "80", "responsetime": "30" },
            { "subject": "GRAD Math", "datarate": "5", "itemsize": "80", "responsetime": "30" },
            { "subject": "MCA-Modified Math", "datarate": "5", "itemsize": "80", "responsetime": "30" },
            { "subject": "OLPA Math", "datarate": "5", "itemsize": "80", "responsetime": "30" }
        ]
    },
    {
        "client": "missouri_pt",
        "testinfo": [
            { "subject": "Social Science", "datarate": "5", "itemsize": "80", "responsetime": "30" },
            { "subject": "English Language Arts", "datarate": "50", "itemsize": "100", "responsetime": "60" },
            { "subject": "Science", "datarate": "5", "itemsize": "80", "responsetime": "30" },
            { "subject": "Mathematics", "datarate": "50", "itemsize": "100", "responsetime": "60" }
        ]
    },
    {
        "client": "ohio_pilot",
        "testinfo": [
            { "subject": "Ohio Pilot Test", "datarate": "5", "itemsize": "80", "responsetime": "30" }
        ]
    },
    {
        "client": "ohio_pt",
        "testinfo": [
            { "subject": "Ohio Field Tests", "datarate": "5", "itemsize": "80", "responsetime": "30" }
        ]
    },
    {
        "client": "oregon_pt",
        "testinfo": [
            { "subject": "ELPA", "datarate": "20", "itemsize": "320", "responsetime": "60" },
            { "subject": "OAKS", "datarate": "5", "itemsize": "80", "responsetime": "30" }
        ]
    },
    {
        "client": "sbac",
        "testinfo": [
            { "subject": "Mathematics", "datarate": "50", "itemsize": "100", "responsetime": "60" },
            { "subject": "English Language Arts", "datarate": "50", "itemsize": "100", "responsetime": "60" }
        ]
    },
    {
        "client": "sbac_pt",
        "testinfo": [
            { "subject": "Mathematics", "datarate": "50", "itemsize": "100", "responsetime": "60" },
            { "subject": "English Language Arts", "datarate": "50", "itemsize": "100", "responsetime": "60" }
        ]
    },
    {
        "client": "utah_pt",
        "testinfo": [
            { "subject": "Science", "datarate": "50", "itemsize": "100", "responsetime": "60" },
            { "subject": "English Language Arts", "datarate": "50", "itemsize": "100", "responsetime": "60" },
            { "subject": "Mathematics", "datarate": "50", "itemsize": "100", "responsetime": "60" }
        ]
    }
]

/* SOURCE FILE: globalaccommodations.js (a1ffc4fb) 9/4/2014 6:14:51 PM */

[
    {
        "client": "air",
        "accs_global": {
            "dependencies": [], "id": null, "label": null, "position": -1, "types": [{ "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "Color Choices", "studentControl": false, "values": [{ "allowCombine": false, "code": "TDS_CC0", "isDefault": true, "name": "None" }, { "allowCombine": false, "code": "TDS_CCBlue", "isDefault": false, "name": "Blue" }, { "allowCombine": false, "code": "TDS_CCBlue2", "isDefault": false, "name": "Light Blue" }, { "allowCombine": false, "code": "TDS_CCGray", "isDefault": false, "name": "Gray" }, { "allowCombine": false, "code": "TDS_CCGray2", "isDefault": false, "name": "Light Gray" }, { "allowCombine": false, "code": "TDS_CCGreen", "isDefault": false, "name": "Green" }, { "allowCombine": false, "code": "TDS_CCGreen2", "isDefault": false, "name": "Light Green" }, { "allowCombine": false, "code": "TDS_CCInvert", "isDefault": false, "name": "Inverted (White on Black)" }, { "allowCombine": false, "code": "TDS_CCMagenta", "isDefault": false, "name": "Magenta" }, { "allowCombine": false, "code": "TDS_CCMagenta2", "isDefault": false, "name": "Light Magenta" }, { "allowCombine": false, "code": "TDS_CCMedGrayLtGray", "isDefault": false, "name": "Medium Gray on Light Gray" }, { "allowCombine": false, "code": "TDS_CCWhiteN", "isDefault": false, "name": "White on Navy" }, { "allowCombine": false, "code": "TDS_CCYellow", "isDefault": false, "name": "Yellow" }, { "allowCombine": false, "code": "TDS_CCYellow2", "isDefault": false, "name": "Light Yellow" }, { "allowCombine": false, "code": "TDS_CCYellowB", "isDefault": false, "name": "Yellow on Blue" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "Font Type", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_FT_San-Serif", "isDefault": true, "name": "San-Serif (Arial)" }, { "allowCombine": false, "code": "TDS_FT_Serif", "isDefault": false, "name": "Serif (Times)" }, { "allowCombine": false, "code": "TDS_FT_Verdana", "isDefault": false, "name": "Verdana" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "Language", "studentControl": true, "values": [{ "allowCombine": false, "code": "ENU", "isDefault": true, "name": "English" }, { "allowCombine": false, "code": "ESN", "isDefault": false, "name": "Spanish" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "Print Size", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_PS_L0", "isDefault": true, "name": "No default zoom applied" }, { "allowCombine": false, "code": "TDS_PS_L1", "isDefault": false, "name": "Level 1" }, { "allowCombine": false, "code": "TDS_PS_L2", "isDefault": false, "name": "Level 2" }, { "allowCombine": false, "code": "TDS_PS_L3", "isDefault": false, "name": "Level 3" }, { "allowCombine": false, "code": "TDS_PS_L4", "isDefault": false, "name": "Level 4" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "TTS", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_TTS_Inst", "isDefault": true, "name": "Instructions" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": false, "isVisible": false, "name": "TTX Business Rules", "studentControl": false, "values": [{ "allowCombine": false, "code": "TDS_TTX_A203", "isDefault": true, "name": "A203" }, { "allowCombine": false, "code": "TDS_TTX_HI102", "isDefault": false, "name": "HI102" }] }]
        }
    },
    {
        "client": "california",
        "accs_global": {
            "dependencies": [], "id": null, "label": null, "position": -1, "types": [{ "allowChange": true, "dependsOn": null, "isSelectable": false, "isVisible": true, "name": "Color Choices", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_CC0", "isDefault": true, "name": "Black on White" }, { "allowCombine": false, "code": "TDS_CCInvert", "isDefault": false, "name": "Reverse Contrast" }, { "allowCombine": false, "code": "TDS_CCMagenta", "isDefault": false, "name": "Black on Rose" }, { "allowCombine": false, "code": "TDS_CCMedGrayLtGray", "isDefault": false, "name": "Medium Gray on Light Gray" }, { "allowCombine": false, "code": "TDS_CCYellowB", "isDefault": false, "name": "Yellow on Blue" }] }]
        }
    },
    {
        "client": "california_pt",
        "accs_global": {
            "dependencies": [], "id": null, "label": null, "position": -1, "types": [{ "allowChange": true, "dependsOn": "Language", "isSelectable": true, "isVisible": true, "name": "Color Choices", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_CC0", "isDefault": true, "name": "Black on White" }, { "allowCombine": false, "code": "TDS_CCInvert", "isDefault": false, "name": "Reverse Contrast" }, { "allowCombine": false, "code": "TDS_CCMagenta", "isDefault": false, "name": "Black on Rose" }, { "allowCombine": false, "code": "TDS_CCMedGrayLtGray", "isDefault": false, "name": "Medium Gray on Light Gray" }, { "allowCombine": false, "code": "TDS_CCYellowB", "isDefault": false, "name": "Yellow on Blue" }] }, { "allowChange": false, "dependsOn": null, "isSelectable": false, "isVisible": false, "name": "Language", "studentControl": false, "values": [{ "allowCombine": false, "code": "ENU", "isDefault": true, "name": "English" }] }, { "allowChange": true, "dependsOn": "Language", "isSelectable": true, "isVisible": true, "name": "Print Size", "studentControl": false, "values": [{ "allowCombine": false, "code": "TDS_PS_L0", "isDefault": true, "name": "No default zoom applied" }, { "allowCombine": false, "code": "TDS_PS_L1", "isDefault": false, "name": "Level 1" }, { "allowCombine": false, "code": "TDS_PS_L2", "isDefault": false, "name": "Level 2" }, { "allowCombine": false, "code": "TDS_PS_L3", "isDefault": false, "name": "Level 3" }, { "allowCombine": false, "code": "TDS_PS_L4", "isDefault": false, "name": "Level 4" }] }]
        }
    },
    {
        "client": "delaware",
        "accs_global": {
            "dependencies": [], "id": null, "label": null, "position": -1, "types": [{ "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "Color Choices", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_CC0", "isDefault": true, "name": "None" }, { "allowCombine": false, "code": "TDS_CCBlue", "isDefault": false, "name": "Blue" }, { "allowCombine": false, "code": "TDS_CCGray2", "isDefault": false, "name": "Light Gray" }, { "allowCombine": false, "code": "TDS_CCMagenta2", "isDefault": false, "name": "Light Magenta" }, { "allowCombine": false, "code": "TDS_CCYellow", "isDefault": false, "name": "Yellow" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": false, "isVisible": false, "name": "Font Type", "studentControl": false, "values": [{ "allowCombine": false, "code": "TDS_FT_San-Serif", "isDefault": true, "name": "San-Serif (Arial)" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "Language", "studentControl": true, "values": [{ "allowCombine": false, "code": "ENU", "isDefault": true, "name": "English" }, { "allowCombine": false, "code": "ESN", "isDefault": false, "name": "Spanish" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "Print Size", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_PS_L0", "isDefault": true, "name": "No default zoom applied" }, { "allowCombine": false, "code": "TDS_PS_L1", "isDefault": false, "name": "Level 1" }, { "allowCombine": false, "code": "TDS_PS_L2", "isDefault": false, "name": "Level 2" }, { "allowCombine": false, "code": "TDS_PS_L3", "isDefault": false, "name": "Level 3" }, { "allowCombine": false, "code": "TDS_PS_L4", "isDefault": false, "name": "Level 4" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "TTS Audio Adjustments", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_TTSAA_Volume&TDS_TTSAA_Pitch", "isDefault": true, "name": "All adjustment types" }] }]
        }
    },
    {
        "client": "delaware_pt",
        "accs_global": {
            "dependencies": [], "id": null, "label": null, "position": -1, "types": [{ "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "Color Choices", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_CC0", "isDefault": true, "name": "None" }, { "allowCombine": false, "code": "TDS_CCBlue", "isDefault": false, "name": "Blue" }, { "allowCombine": false, "code": "TDS_CCBlue2", "isDefault": false, "name": "Light Blue" }, { "allowCombine": false, "code": "TDS_CCGray", "isDefault": false, "name": "Gray" }, { "allowCombine": false, "code": "TDS_CCGray2", "isDefault": false, "name": "Light Gray" }, { "allowCombine": false, "code": "TDS_CCGreen", "isDefault": false, "name": "Green" }, { "allowCombine": false, "code": "TDS_CCGreen2", "isDefault": false, "name": "Light Green" }, { "allowCombine": false, "code": "TDS_CCMagenta", "isDefault": false, "name": "Magenta" }, { "allowCombine": false, "code": "TDS_CCMagenta2", "isDefault": false, "name": "Light Magenta" }, { "allowCombine": false, "code": "TDS_CCYellow", "isDefault": false, "name": "Yellow" }, { "allowCombine": false, "code": "TDS_CCYellow2", "isDefault": false, "name": "Light Yellow" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": false, "isVisible": false, "name": "Font Type", "studentControl": false, "values": [{ "allowCombine": false, "code": "TDS_FT_San-Serif", "isDefault": true, "name": "San-Serif (Arial)" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "Language", "studentControl": true, "values": [{ "allowCombine": false, "code": "ENU", "isDefault": true, "name": "English" }, { "allowCombine": false, "code": "ESN", "isDefault": false, "name": "Spanish" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "Print Size", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_PS_L0", "isDefault": true, "name": "No default zoom applied" }, { "allowCombine": false, "code": "TDS_PS_L1", "isDefault": false, "name": "Level 1" }, { "allowCombine": false, "code": "TDS_PS_L2", "isDefault": false, "name": "Level 2" }, { "allowCombine": false, "code": "TDS_PS_L3", "isDefault": false, "name": "Level 3" }, { "allowCombine": false, "code": "TDS_PS_L4", "isDefault": false, "name": "Level 4" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "TTS Audio Adjustments", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_TTSAA_Volume&TDS_TTSAA_Pitch", "isDefault": false, "name": "All adjustment types" }, { "allowCombine": false, "code": "TDS_TTSAA_Volume&TDS_TTSAA_Pitch&TDS_TTSAA_Rate", "isDefault": true, "name": "all adjustments" }] }]
        }
    },
    {
        "client": "hawaii",
        "accs_global": {
            "dependencies": [], "id": null, "label": null, "position": -1, "types": [{ "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "Color Choices", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_CC0", "isDefault": true, "name": "None" }, { "allowCombine": false, "code": "TDS_CCBlue", "isDefault": false, "name": "Blue" }, { "allowCombine": false, "code": "TDS_CCYellow", "isDefault": false, "name": "Yellow" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": false, "isVisible": false, "name": "Font Type", "studentControl": false, "values": [{ "allowCombine": false, "code": "TDS_FT_San-Serif", "isDefault": true, "name": "San-Serif (Arial)" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "Language", "studentControl": true, "values": [{ "allowCombine": false, "code": "ENU", "isDefault": true, "name": "English" }, { "allowCombine": false, "code": "HAW", "isDefault": false, "name": "Hawaiian" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "Print Size", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_PS_L0", "isDefault": true, "name": "No default zoom applied" }, { "allowCombine": false, "code": "TDS_PS_L1", "isDefault": false, "name": "Level 1" }, { "allowCombine": false, "code": "TDS_PS_L2", "isDefault": false, "name": "Level 2" }, { "allowCombine": false, "code": "TDS_PS_L3", "isDefault": false, "name": "Level 3" }, { "allowCombine": false, "code": "TDS_PS_L4", "isDefault": false, "name": "Level 4" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "TTS", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_TTS_Inst", "isDefault": true, "name": "Instructions" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "TTS Audio Adjustments", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_TTSAA_Volume&TDS_TTSAA_Pitch", "isDefault": true, "name": "Allow TTS Volume Adjustments&Allow TTS Pitch Adjustments" }] }]
        }
    },
    {
        "client": "hawaii_pt",
        "accs_global": {
            "dependencies": [], "id": null, "label": null, "position": -1, "types": [{ "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "Color Choices", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_CC0", "isDefault": true, "name": "None" }, { "allowCombine": false, "code": "TDS_CCBlue", "isDefault": false, "name": "Blue" }, { "allowCombine": false, "code": "TDS_CCYellow", "isDefault": false, "name": "Yellow" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": false, "isVisible": false, "name": "Font Type", "studentControl": false, "values": [{ "allowCombine": false, "code": "TDS_FT_San-Serif", "isDefault": true, "name": "San-Serif (Arial)" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "Language", "studentControl": true, "values": [{ "allowCombine": false, "code": "ENU", "isDefault": true, "name": "English" }, { "allowCombine": false, "code": "HAW", "isDefault": false, "name": "Hawaiian" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "Print Size", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_PS_L0", "isDefault": true, "name": "No default zoom applied" }, { "allowCombine": false, "code": "TDS_PS_L1", "isDefault": false, "name": "Level 1" }, { "allowCombine": false, "code": "TDS_PS_L2", "isDefault": false, "name": "Level 2" }, { "allowCombine": false, "code": "TDS_PS_L3", "isDefault": false, "name": "Level 3" }, { "allowCombine": false, "code": "TDS_PS_L4", "isDefault": false, "name": "Level 4" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "TTS", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_TTS_Inst", "isDefault": true, "name": "Instructions" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "TTS Audio Adjustments", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_TTSAA_Volume&TDS_TTSAA_Pitch", "isDefault": true, "name": "Allow TTS Volume Adjustments&Allow TTS Pitch Adjustments" }] }]
        }
    },
    {
        "client": "minnesota",
        "accs_global": {
            "dependencies": [], "id": null, "label": null, "position": -1, "types": [{ "allowChange": true, "dependsOn": null, "isSelectable": false, "isVisible": false, "name": "Font Type", "studentControl": false, "values": [{ "allowCombine": false, "code": "TDS_FT_Verdana", "isDefault": true, "name": "Verdana" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "Language", "studentControl": true, "values": [{ "allowCombine": false, "code": "ENU", "isDefault": true, "name": "English" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "TTS", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_TTS_Inst", "isDefault": true, "name": "Instructions" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "TTS Audio Adjustments", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_TTSAA_Volume&TDS_TTSAA_Pitch", "isDefault": true, "name": "Allow TTS Volume and Pitch Adjustments" }] }]
        }
    },
    {
        "client": "minnesota_pt",
        "accs_global": {
            "dependencies": [], "id": null, "label": null, "position": -1, "types": [{ "allowChange": true, "dependsOn": null, "isSelectable": false, "isVisible": false, "name": "Font Type", "studentControl": false, "values": [{ "allowCombine": false, "code": "TDS_FT_Verdana", "isDefault": true, "name": "Verdana" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "Language", "studentControl": true, "values": [{ "allowCombine": false, "code": "ENU", "isDefault": true, "name": "English" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "TTS", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_TTS_Inst", "isDefault": true, "name": "Instructions" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "TTS Audio Adjustments", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_TTSAA_Volume&TDS_TTSAA_Pitch", "isDefault": true, "name": "Allow TTS Volume and Pitch Adjustments" }] }]
        }
    },
    {
        "client": "missouri",
        "accs_global": {
            "dependencies": [], "id": null, "label": null, "position": -1, "types": [{ "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "Color Choices", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_CC0", "isDefault": true, "name": "None" }, { "allowCombine": false, "code": "TDS_CCInvert", "isDefault": false, "name": "Inverted (White on Black)" }, { "allowCombine": false, "code": "TDS_CCMagenta", "isDefault": false, "name": "Magenta" }, { "allowCombine": false, "code": "TDS_CCMedGrayLtGray", "isDefault": false, "name": "Medium Gray on Light Gray" }, { "allowCombine": false, "code": "TDS_CCYellowB", "isDefault": false, "name": "Yellow on Blue" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "Print Size", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_PS_L0", "isDefault": true, "name": "No default zoom applied" }, { "allowCombine": false, "code": "TDS_PS_L1", "isDefault": false, "name": "Level 1" }, { "allowCombine": false, "code": "TDS_PS_L2", "isDefault": false, "name": "Level 2" }, { "allowCombine": false, "code": "TDS_PS_L3", "isDefault": false, "name": "Level 3" }, { "allowCombine": false, "code": "TDS_PS_L4", "isDefault": false, "name": "Level 4" }] }]
        }
    },
    {
        "client": "missouri_pt",
        "accs_global": {
            "dependencies": [], "id": null, "label": null, "position": -1, "types": [{ "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "Color Choices", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_CC0", "isDefault": true, "name": "Black on White" }, { "allowCombine": false, "code": "TDS_CCInvert", "isDefault": false, "name": "Reverse Contrast" }, { "allowCombine": false, "code": "TDS_CCMagenta", "isDefault": false, "name": "Black on Rose" }, { "allowCombine": false, "code": "TDS_CCMedGrayLtGray", "isDefault": false, "name": "Medium Gray on Light Gray" }, { "allowCombine": false, "code": "TDS_CCYellowB", "isDefault": false, "name": "Yellow on Blue" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "Print Size", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_PS_L0", "isDefault": true, "name": "No default zoom applied" }, { "allowCombine": false, "code": "TDS_PS_L1", "isDefault": false, "name": "Level 1" }, { "allowCombine": false, "code": "TDS_PS_L2", "isDefault": false, "name": "Level 2" }, { "allowCombine": false, "code": "TDS_PS_L3", "isDefault": false, "name": "Level 3" }, { "allowCombine": false, "code": "TDS_PS_L4", "isDefault": false, "name": "Level 4" }] }]
        }
    },
    {
        "client": "ohio",
        "accs_global": {
            "dependencies": [], "id": null, "label": null, "position": -1, "types": [{ "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "Color Choices", "studentControl": false, "values": [{ "allowCombine": false, "code": "TDS_CC0", "isDefault": true, "name": "None" }, { "allowCombine": false, "code": "TDS_CCBlue2", "isDefault": false, "name": "Light Blue" }, { "allowCombine": false, "code": "TDS_CCInvert", "isDefault": false, "name": "Inverted (White on Black)" }, { "allowCombine": false, "code": "TDS_CCMagenta2", "isDefault": false, "name": "Light Magenta" }, { "allowCombine": false, "code": "TDS_CCWhiteN", "isDefault": false, "name": "White on Navy" }, { "allowCombine": false, "code": "TDS_CCYellow2", "isDefault": false, "name": "Light Yellow" }] }, { "allowChange": false, "dependsOn": null, "isSelectable": false, "isVisible": false, "name": "Font Type", "studentControl": false, "values": [{ "allowCombine": false, "code": "TDS_FT_Serif", "isDefault": true, "name": "Serif (Times)" }] }]
        }
    },
    {
        "client": "ohio_pilot",
        "accs_global": {
            "dependencies": [], "id": null, "label": null, "position": -1, "types": [{ "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "Color Choices", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_CC0", "isDefault": true, "name": "None" }, { "allowCombine": false, "code": "TDS_CCBlue2", "isDefault": false, "name": "Light Blue" }, { "allowCombine": false, "code": "TDS_CCYellow2", "isDefault": false, "name": "Light Yellow" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": false, "isVisible": false, "name": "Font Type", "studentControl": false, "values": [{ "allowCombine": false, "code": "TDS_FT_Serif", "isDefault": true, "name": "Serif (Times)" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "Print Size", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_PS_L0", "isDefault": true, "name": "1X" }, { "allowCombine": false, "code": "TDS_PS_L1", "isDefault": false, "name": "1.5X" }, { "allowCombine": false, "code": "TDS_PS_L2", "isDefault": false, "name": "1.75X" }, { "allowCombine": false, "code": "TDS_PS_L3", "isDefault": false, "name": "2.5X" }, { "allowCombine": false, "code": "TDS_PS_L4", "isDefault": false, "name": "3X" }] }]
        }
    },
    {
        "client": "ohio_pt",
        "accs_global": {
            "dependencies": [], "id": null, "label": null, "position": -1, "types": [{ "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "Color Choices", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_CC0", "isDefault": true, "name": "None" }, { "allowCombine": false, "code": "TDS_CCBlue2", "isDefault": false, "name": "Light Blue" }, { "allowCombine": false, "code": "TDS_CCYellow2", "isDefault": false, "name": "Light Yellow" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": false, "isVisible": false, "name": "Font Type", "studentControl": false, "values": [{ "allowCombine": false, "code": "TDS_FT_Serif", "isDefault": true, "name": "Serif (Times)" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "Print Size", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_PS_L0", "isDefault": true, "name": "1X" }, { "allowCombine": false, "code": "TDS_PS_L1", "isDefault": false, "name": "1.5X" }, { "allowCombine": false, "code": "TDS_PS_L2", "isDefault": false, "name": "1.75X" }, { "allowCombine": false, "code": "TDS_PS_L3", "isDefault": false, "name": "2.5X" }, { "allowCombine": false, "code": "TDS_PS_L4", "isDefault": false, "name": "3X" }] }]
        }
    },
    {
        "client": "oregon",
        "accs_global": {
            "dependencies": [], "id": null, "label": null, "position": -1, "types": [{ "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "Color Choices", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_CC0", "isDefault": true, "name": "None" }, { "allowCombine": false, "code": "TDS_CCBlue", "isDefault": false, "name": "Blue" }, { "allowCombine": false, "code": "TDS_CCYellow", "isDefault": false, "name": "Yellow" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "Print Size", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_PS_L0", "isDefault": true, "name": "1X" }, { "allowCombine": false, "code": "TDS_PS_L1", "isDefault": false, "name": "1.5X" }, { "allowCombine": false, "code": "TDS_PS_L2", "isDefault": false, "name": "1.75X" }, { "allowCombine": false, "code": "TDS_PS_L3", "isDefault": false, "name": "2.5X" }, { "allowCombine": false, "code": "TDS_PS_L4", "isDefault": false, "name": "3X" }] }]
        }
    },
    {
        "client": "oregon_pt",
        "accs_global": {
            "dependencies": [], "id": null, "label": null, "position": -1, "types": [{ "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "Color Choices", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_CC0", "isDefault": true, "name": "None" }, { "allowCombine": false, "code": "TDS_CCBlue", "isDefault": false, "name": "Blue" }, { "allowCombine": false, "code": "TDS_CCYellow", "isDefault": false, "name": "Yellow" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "Language", "studentControl": true, "values": [{ "allowCombine": false, "code": "ENU", "isDefault": true, "name": "English" }, { "allowCombine": false, "code": "ESN", "isDefault": false, "name": "Spanish" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "Print Size", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_PS_L0", "isDefault": true, "name": "1X" }, { "allowCombine": false, "code": "TDS_PS_L1", "isDefault": false, "name": "1.5X" }, { "allowCombine": false, "code": "TDS_PS_L2", "isDefault": false, "name": "1.75X" }, { "allowCombine": false, "code": "TDS_PS_L3", "isDefault": false, "name": "2.5X" }, { "allowCombine": false, "code": "TDS_PS_L4", "isDefault": false, "name": "3X" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "TTS Audio Adjustments", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_TTSAA_Volume&TDS_TTSAA_Pitch&TDS_TTSAA_Rate&TDS_TTSAA_SelectVP", "isDefault": true, "name": "All adjustment types" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": false, "isVisible": false, "name": "Hardware Checks", "studentControl": false, "values": [{ "allowCombine": false, "code": "TDS_HWRecording&TDS_HWPlayback", "isDefault": true, "name": "Check Recording Capabilities&Check Playback Capabilities" }] }]
        }
    },
    {
        "client": "sbac",
        "accs_global": {
            "dependencies": [], "id": null, "label": null, "position": -1, "types": [{ "allowChange": true, "dependsOn": null, "isSelectable": false, "isVisible": true, "name": "Color Choices", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_CC0", "isDefault": true, "name": "Black on White" }, { "allowCombine": false, "code": "TDS_CCInvert", "isDefault": false, "name": "Reverse Contrast" }, { "allowCombine": false, "code": "TDS_CCMagenta", "isDefault": false, "name": "Black on Rose" }, { "allowCombine": false, "code": "TDS_CCMedGrayLtGray", "isDefault": false, "name": "Medium Gray on Light Gray" }, { "allowCombine": false, "code": "TDS_CCYellowB", "isDefault": false, "name": "Yellow on Blue" }] }]
        }
    },
    {
        "client": "sbac_pt",
        "accs_global": {
            "dependencies":[],"id":null,"label":null,"position":-1,"types":[{"allowChange":true,"dependsOn":"Language","isSelectable":true,"isVisible":true,"name":"Color Choices","studentControl":true,"values":[{"allowCombine":false,"code":"TDS_CC0","isDefault":true,"name":"Black on White"},{"allowCombine":false,"code":"TDS_CCInvert","isDefault":false,"name":"Reverse Contrast"},{"allowCombine":false,"code":"TDS_CCMagenta","isDefault":false,"name":"Black on Rose"},{"allowCombine":false,"code":"TDS_CCMedGrayLtGray","isDefault":false,"name":"Medium Gray on Light Gray"},{"allowCombine":false,"code":"TDS_CCYellowB","isDefault":false,"name":"Yellow on Blue"}]},{"allowChange":false,"dependsOn":null,"isSelectable":false,"isVisible":false,"name":"Language","studentControl":false,"values":[{"allowCombine":false,"code":"ENU","isDefault":true,"name":"English"}]},{"allowChange":true,"dependsOn":"Language","isSelectable":true,"isVisible":true,"name":"Print Size","studentControl":false,"values":[{"allowCombine":false,"code":"TDS_PS_L0","isDefault":true,"name":"No default zoom applied"},{"allowCombine":false,"code":"TDS_PS_L1","isDefault":false,"name":"Level 1"},{"allowCombine":false,"code":"TDS_PS_L2","isDefault":false,"name":"Level 2"},{"allowCombine":false,"code":"TDS_PS_L3","isDefault":false,"name":"Level 3"},{"allowCombine":false,"code":"TDS_PS_L4","isDefault":false,"name":"Level 4"}]}]
        }
    },
    {
        "client": "utah",
        "accs_global": {
            "dependencies": [], "id": null, "label": null, "position": -1, "types": [{ "allowChange": true, "dependsOn": "Language", "isSelectable": true, "isVisible": true, "name": "Color Choices", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_CC0", "isDefault": true, "name": "Black on White" }, { "allowCombine": false, "code": "TDS_CCBlue", "isDefault": false, "name": "Blue" }, { "allowCombine": false, "code": "TDS_CCBlue2", "isDefault": false, "name": "Light Blue" }, { "allowCombine": false, "code": "TDS_CCInvert", "isDefault": false, "name": "Reverse Contrast" }, { "allowCombine": false, "code": "TDS_CCMagenta", "isDefault": false, "name": "Black on Rose" }, { "allowCombine": false, "code": "TDS_CCYellowB", "isDefault": false, "name": "Yellow on Blue" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "Print Size", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_PS_L0", "isDefault": true, "name": "1X" }, { "allowCombine": false, "code": "TDS_PS_L1", "isDefault": false, "name": "1.5X" }, { "allowCombine": false, "code": "TDS_PS_L2", "isDefault": false, "name": "1.75X" }, { "allowCombine": false, "code": "TDS_PS_L3", "isDefault": false, "name": "2.5X" }, { "allowCombine": false, "code": "TDS_PS_L4", "isDefault": false, "name": "3X" }] }]
        }
    },
    {
        "client": "utah_pt",
        "accs_global": {
            "dependencies": [], "id": null, "label": null, "position": -1, "types": [{ "allowChange": true, "dependsOn": "Language", "isSelectable": true, "isVisible": true, "name": "Color Choices", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_CC0", "isDefault": true, "name": "Black and White" }, { "allowCombine": false, "code": "TDS_CCBlue", "isDefault": false, "name": "Blue" }, { "allowCombine": false, "code": "TDS_CCBlue2", "isDefault": false, "name": "Light Blue" }, { "allowCombine": false, "code": "TDS_CCInvert", "isDefault": false, "name": "Reverse Contrast" }, { "allowCombine": false, "code": "TDS_CCMagenta", "isDefault": false, "name": "Black on Rose" }, { "allowCombine": false, "code": "TDS_CCYellowB", "isDefault": false, "name": "Yellow on Blue" }] }, { "allowChange": true, "dependsOn": "Language", "isSelectable": true, "isVisible": true, "name": "Print Size", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_PS_L0", "isDefault": true, "name": "1x" }, { "allowCombine": false, "code": "TDS_PS_L1", "isDefault": false, "name": "1.5x" }, { "allowCombine": false, "code": "TDS_PS_L2", "isDefault": false, "name": "1.75x" }, { "allowCombine": false, "code": "TDS_PS_L3", "isDefault": false, "name": "2.5x" }, { "allowCombine": false, "code": "TDS_PS_L4", "isDefault": false, "name": "3x" }] }, { "allowChange": true, "dependsOn": null, "isSelectable": true, "isVisible": true, "name": "TTS Audio Adjustments", "studentControl": true, "values": [{ "allowCombine": false, "code": "TDS_TTSAA_Volume&TDS_TTSAA_Pitch&TDS_TTSAA_Rate&TDS_TTSAA_SelectVP", "isDefault": true, "name": "Volume, Pitch, Rate and Voice Pack Selection" }] }]
        }
    }
]

/* SOURCE FILE: section.js (9da9eb63) 8/26/2014 6:18:44 PM */

// namespace for creating sections
var Sections = {};

// base class for sections
Sections.Base = function(id)
{
    Sections.Base.superclass.constructor.call(this, id);

    var sectionHeader = this.getHeader();

    if (sectionHeader)
    {
        // the main sections h2's anchor has tabindex="-1" instead of tabindex="0" to keep it programmatically focussable but out of the TAB order
        sectionHeader.setAttribute('tabindex', -1);
    }

    this.hide();
};

YAHOO.lang.extend(Sections.Base, Util.Workflow.Activity);

// helper function for adding a dom onclick event
Sections.Base.prototype.addClick = function(id, callback)
{
    var target =  YUD.get(id);
    if (target == null) return false;

    YUE.on(target, 'click', function(evt)
    {
        // stop click event on links
        if (target.nodeName == 'A') YUE.stopEvent(evt);

        // NOTE: do not add this code in a timer it might cause double clicks
        callback.call(this, evt);

    }, this, true);

    return true;
};

Sections.Base.prototype.getContainer = function()
{
    return  YUD.get(this.getId());
};

Sections.Base.prototype.getHeader = function()
{
    return  YUD.get(this.getId() + 'Header');
};

Sections.Base.prototype.getHeaderText = function()
{
    var sectionHeader = this.getHeader();
    return Util.Dom.getTextContent(sectionHeader);
};

// this function gets called when showing a section
Sections.Base.prototype.show = function()
{
    var sectionContainer = this.getContainer();
    if (!sectionContainer) return false;

    YUD.setStyle(sectionContainer, 'display', 'block');
    YUD.setStyle(sectionContainer, 'visibility', 'visible');
    sectionContainer.setAttribute('aria-hidden', 'false');

    // focus on sections header
    var sectionHeader = this.getHeader();
    if (sectionHeader) sectionHeader.focus();

    // let user know page is ready
    TDS.ARIA.writeLog('Page is ready');

    return true;
};

// this function gets called when hiding a section
Sections.Base.prototype.hide = function()
{
    var sectionContainer = this.getContainer();
    if (!sectionContainer) return false;

    YUD.setStyle(sectionContainer, 'display', 'none');
    YUD.setStyle(sectionContainer, 'visibility', 'hidden');
    sectionContainer.setAttribute('aria-hidden', 'true');

    return true;
};

/***************************************************************************/

Sections.createWorkflow = function()
{
    var wf = new Util.Workflow();

    // show event
    wf.Events.subscribe('onEnter', function(section)
    {
        section.show();
    });

    // hide event
    wf.Events.subscribe('onLeave', function(section)
    {
        section.hide();
    });

    return wf;
}

/* SOURCE FILE: section_Diagnostics.js (0f209000) 9/4/2014 6:14:51 PM */

Sections.Diagnostics = function()
{
    Sections.Diagnostics.superclass.constructor.call(this, 'sectionDiagnostics');

    // return to previous page, the url is either given as a parameter in query string, or from referer from page header
    this.addClick('btnDiagLogin', function()
    {
        if (this.referUrl != null) {
            window.location = this.referUrl;
        } else if (document.referrer) {
            window.location = document.referrer;
        }
    });

    // JAVA sound check
    this.addClick('btnDiagELPA', function() {
    	 //do not allow navigating away from the speed test if one is already running.
    	 //we do not have the capability to stop a running speed test right now.
    	 if (this.isSpeedTestRunning())
    	 	return;
    	 this.request('elpa');
    });

    // TTS speech check
    this.addClick('btnDiagTTS', function() {
    	//do not allow navigating away from the speed test if one is already running.
    	//we do not have the capability to stop a running speed test right now.
    	if (this.isSpeedTestRunning())
    		return;
        this.request('tts');
    });
    
    // debug info
    this.addClick('lblDiagBrowserLabel', function() {
        YUD.setStyle('diagnosticsDebug', 'display', 'block');
    });

    this._userInput = null;
    this.client = 'air';
    this.referUrl = null;
    this.GlobalNetworkDiagnosticsTestInfo = null;
};

YAHOO.lang.extend(Sections.Diagnostics, Sections.Base);

Sections.Diagnostics.prototype.init = function () {
    // change the message on the button and any static labels    
    var message = Messages.getAlt('Diagnostics.Label.Initializing', "Initializing...");
    this.setDiagnosticsTestButtonText(message);

    this.setBrowserInfo();
    this.processQueryString();

    this.retrieveTestInfo();
};

Sections.Diagnostics.prototype.retrieveTestInfo = function () {
    var url = '../Config/networkdiagnosticstestinfo.js';
    var that = this;
    var callbackFunc = {
        success: function (o) {
            that.GlobalNetworkDiagnosticsTestInfo = JSON.parse(o.responseText);

            that.retrieveAccommodation();
        },
        failure: function (o) {
        }
    };
    var testInfoFileHandler = YUC.asyncRequest('GET', url, callbackFunc, null);
};

Sections.Diagnostics.prototype.retrieveAccommodation = function () {
    var url = '../Config/globalaccommodations.js';
    var that = this;

    var callbackFunc = {
        success: function (o) {
            GlobalAccommodations = JSON.parse(o.responseText);

            that.configClient();
            if (that.hasUserInputFields()) {
                that.setUserInputFields();
            }

            // this.setFlash();
            that.setDiagSpeedTestHandler(null);
        },
        failure: function (o) {
        }
    };
    var accommodationsFileHandler = YUC.asyncRequest('GET', url, callbackFunc, null);
}

Sections.Diagnostics.prototype.load = function ()
{
    //clear results from last set. 
    YUD.setStyle('downloadResultsLabel', 'display', 'none');
    YUD.setStyle('uploadResultsLabel', 'display', 'none');
    YUD.setStyle('bandwidthSummaryLabel', 'display', 'none');
    document.getElementById('downloadResults').innerHTML = '';
    document.getElementById('uploadResults').innerHTML = '';
    document.getElementById('bandwidthSummary').innerHTML = '';
    document.getElementById('bandwidthSummary').className = '';  
	
	//clear out test selection.
    var availableTests = YAHOO.util.Dom.get('availableTests');
	availableTests.selectedIndex = 0;
	//clear the typed in "number of students".
	YAHOO.util.Dom.get('numStudentsTesting').value = "";
};

Sections.Diagnostics.prototype.setDiagnosticsTestButtonText = function(text)
{
    var buttonSpan = YAHOO.util.Dom.get('btnDiagSpeedTest');
    var buttonTarget = buttonSpan.firstChild.firstChild;
    if (buttonTarget != null) {
        buttonTarget.innerHTML = text;
    }
};

Sections.Diagnostics.prototype.configClient = function () {
    if (this.client == null) return;

    // set the network diagnostic test info, if this has been set properly, skip
    if (this.hasUserInputFields()) return;

    var currentClient = this.client;

    if (this.GlobalNetworkDiagnosticsTestInfo && this.GlobalNetworkDiagnosticsTestInfo.length > 0)
    {
        // browser global test info settings
        this.GlobalNetworkDiagnosticsTestInfo.forEach(function (clientTestInfo) {
            // find the testinfo that matches with the client
            if (clientTestInfo.client == currentClient) {
                TDS.Config.NetworkDiagnosticsTestInfo = clientTestInfo.testinfo;
            }
        });
    }

    // set the language from global accomodations info
    // if (TDS.globalAccommodations) return;

    if (GlobalAccommodations && GlobalAccommodations.length > 0) {
        GlobalAccommodations.forEach(function (accs) {
            // find the global accommodations info that matches with the client
            if (accs.client == currentClient) {
                if (accs.accs_global && (TDS.Config.accs_global == null)) {
                    TDS.Config.accs_global = accs.accs_global;
                    TDS.globalAccommodations.importJson(TDS.Config.accs_global);
                    TDS.globalAccommodations.selectDefaults();
                    // reapply global accomodations to document body css
                    TDS.globalAccommodations.applyCSS(document.body);
                }
            }
        });
    }
};

Sections.Diagnostics.prototype.setUserInputFields = function()
{
    if (!this.hasUserInputFields()) return;

    // User is going to provide input since we have a NetworkDiagnosticsTestInfo with info about available subjects and data rate for each subject
    
    // populate the subject selector drop down
    TDS.Config.NetworkDiagnosticsTestInfo.forEach(function(subjectInfo)
    {
        var option = HTML.OPTION({ 'value': subjectInfo.subject }, subjectInfo.subject);
        YAHOO.util.Dom.get('availableTests').appendChild(option);
    });
    
    // show the user input fields
    YAHOO.util.Dom.setAttribute('diagnosticsTestInput', 'style', 'display:block');
};

Sections.Diagnostics.prototype.setClient = function (clientName) {
    if (clientName && clientName != '') {
        this.client = clientName.toLowerCase();
    }
};

Sections.Diagnostics.prototype.setReferUrl = function (url) {
    if (url && url != '') {
        this.referUrl = url;
    }
};

Sections.Diagnostics.prototype.processQueryString = function() {
    var querystring = Util.QueryString.parse();
    this.setClient(querystring.c);
    this.setReferUrl(querystring.url);
};

Sections.Diagnostics.prototype.setFlash = function()
{
    var flashVer = Util.Browser.getFlashVersion();

    YUD.setStyle('flashversionloading', 'display', 'none'); // hide the loading message

    if (flashVer > 0)
    {
        document.getElementById('flashversion').innerHTML = flashVer;
    }
    else
    {
        document.getElementById('flashversion').innerHTML = Messages.getAlt('Diagnostics.Label.NoFlashFound','No Flash Plugin Detected');
    }
};

Sections.Diagnostics.prototype.setDiagSpeedTestHandler = function(version) {
	if (version && version.plugin >= 1.5) {
		//we need atleast version 1.5 as we use System.nanoTime which is available with version
		//1.5 and upwards.
		Util.Network.AppletBandWidthTester.init(this);
	} else {
		//use the javascript one.
		this.addClick('btnDiagSpeedTest', function() {
			YAHOO.util.Dom.setAttribute('btnDiagSpeedTest', 'disabled', 'true');
			this.setConnectionSpeed();
		});
		this.setDiagnosticsTestButtonText(Messages.getAlt('Diagnostics.Label.RunNetDiagTest','Run Network Diagnostics Tests'));
	}
};

Sections.Diagnostics.prototype.isSpeedTestRunning = function() {
	//if we have already disabled the button then dont allow another speed test to run.
	var disabledAttrib = YAHOO.util.Dom.get('btnDiagSpeedTest').getAttribute('disabled');
	if (disabledAttrib != null && "true" == disabledAttrib)
		return true;
	return false;
};

Sections.Diagnostics.prototype.setAppletSpeedTestClickHandler = function() {
	YAHOO.util.Dom.get('btnDiagSpeedTest').removeAttribute('disabled');
	//use the applet.
	this.addClick('btnDiagSpeedTest', function() {
		this.appletTestConnectionSpeed();
	});
	this.setDiagnosticsTestButtonText(Messages.getAlt('Diagnostics.Label.RunNetDiagTest', 'Run Network Diagnostics Tests'));
};

Sections.Diagnostics.prototype.appletTestConnectionSpeed = function() {
	
	//if we have already disabled the button then dont allow another speed test to run.
	if (this.isSpeedTestRunning())
		return;
	
	YAHOO.util.Dom.setAttribute('btnDiagSpeedTest', 'disabled', 'true');
	
	if (this.hasUserInputFields() && !this.validateUserInput())
    {
        // user input is not good. Error messages would have already popped up. Nothing further to do here.
        YAHOO.util.Dom.get('btnDiagSpeedTest').removeAttribute('disabled');        
        return;
    }
	
	document.getElementById('downloadResults').innerHTML = '';
    document.getElementById('uploadResults').innerHTML = '';
    document.getElementById('bandwidthSummary').innerHTML = '';
    document.getElementById('bandwidthSummary').className = '';


    document.getElementById('downloadResults').innerHTML = 'Testing Connection Speed <span class="loadingAnimation"></span>';

    	
	var successCallback	= function(downloadMeasurements, uploadMeasurements) {
		var runStats = [];

		var convertFrom_bps_To_KBps = function(bpsValue) {
			return bpsValue / (1000 * 8);
		};
        /*
         * getAmortizedAverageTransferThroughput was causing issues on FF 3.5 on OS X
         * 
		runStats['GET'] = { aveLineSpeed : convertFrom_bps_To_KBps(downloadMeasurements.getAmortizedAverageTransferThroughput())};
		runStats['POST'] = { aveLineSpeed : convertFrom_bps_To_KBps(uploadMeasurements.getAmortizedAverageTransferThroughput())};
		*/
		runStats['GET'] = { aveLineSpeed : convertFrom_bps_To_KBps(downloadMeasurements)};
		runStats['POST'] = { aveLineSpeed : convertFrom_bps_To_KBps(uploadMeasurements)};
		
		this.NetworkDiagnosticsTestCallbackHdlr(runStats);
	};
	
	var failureCallback = function(failureCode, failureDetails) {
		var runStats = [];

	    runStats['GET'] = { aveLineSpeed : -1};
		runStats['POST'] = { maxLineSpeed : -1};
		this.NetworkDiagnosticsTestCallbackHdlr(runStats);
	};
	
    var speedTestConfig = {applicationURL: TDS.baseUrl, 
    	debugMode: true, bufferSize: 4096, 
    	numberOfSimultaneousConnections: 2, 
    	owner: this, 
    	onSuccessCallbackFn: successCallback, 
    	onFailureCallbackFn: failureCallback, 
    	transactionId: 1 /* we need a way to track this but this may be inconsequential.*/  };
	var speedTesterApplet = Util.Network.AppletBandWidthTester.run(speedTestConfig);

};

Sections.Diagnostics.prototype.setConnectionSpeed = function()
{
    YUD.setStyle('downloadResultsLabel', 'display', 'none');
    YUD.setStyle('uploadResultsLabel', 'display', 'none');
    YUD.setStyle('bandwidthSummaryLabel', 'display', 'none');
    document.getElementById('downloadResults').innerHTML = '';
    document.getElementById('uploadResults').innerHTML = '';
    document.getElementById('bandwidthSummary').innerHTML = '';
    document.getElementById('bandwidthSummary').className = '';
    this._userInput = null;

    if (this.hasUserInputFields() && !this.validateUserInput())
    {
        // user input is not good. Error messages would have already popped up. Nothing further to do here.
        YAHOO.util.Dom.get('btnDiagSpeedTest').removeAttribute('disabled');        
        return;
    }

    document.getElementById('downloadResults').innerHTML = 'Testing Connection Speed <span class="loadingAnimation"></span>';

    // content files to download for measuring bandwidth
    var downloadFiles = [];
    downloadFiles.push({ url: 'SpeedTest/256k.jpg', size: 262144 });
    downloadFiles.push({ url: 'SpeedTest/512k.jpg', size: 524288 });
    downloadFiles.push({ url: 'SpeedTest/1M.jpg', size: 1048576 });
    downloadFiles.push({ url: 'SpeedTest/2M.jpg', size: 2097152 });
    downloadFiles.push({ url: 'SpeedTest/4M.jpg', size: 4194304 });
    downloadFiles.push({ url: 'SpeedTest/8M.jpg', size: 8388608 });
    downloadFiles.push({ url: 'SpeedTest/16M.jpg', size: 16777216 });
    downloadFiles.push({ url: 'SpeedTest/32M.jpg', size: 33554432 });
    downloadFiles.push({ url: 'SpeedTest/64M.jpg', size: 67108864 });
    downloadFiles.push({ url: 'SpeedTest/128M.jpg', size: 134217728 });
    downloadFiles.push({ url: 'SpeedTest/256M.jpg', size: 268435456 });

    var callBackHndlr = this.NetworkDiagnosticsTestCallbackHdlr;
    var scopeObj = this;
    var fileIndex = 0;
    // We use an adaptive approach to determine the most appropriate file for measuring download bandwidth. This approach tries to download
    // multiple files of various sizes, starting with the smallest file, and then using larger files until the download time exceeds a predefined
    // threshold. The download bandwidth is calculated based on the results from the last file download.
    var pingConfig = { numIterations: 1, downloadurl: TDS.resolveBaseUrl(downloadFiles[fileIndex].url), alternateGETPOST: false, callBack:
        function (pingStats) {
            // check average download time, if less than 4 seconds, and there is still a larger file to use, try a larger file
            if ((pingStats['GET'].aveTransactionTime < 4000) && (fileIndex < (downloadFiles.length - 1))) {
                if (fileIndex < (downloadFiles.length - 1)) fileIndex++;
                pingConfig.downloadurl = TDS.resolveBaseUrl(downloadFiles[fileIndex].url);
                (new Util.Network.BandWidthTester(pingConfig)).run();
            } else {
                // test the file for calculating the real bandwidth
                // var latencyOffset = pingStats['GET'].minDelay > 0 ? pingStats['GET'].minDelay * -1 : 0;
                if (fileIndex < (downloadFiles.length - 1)) fileIndex++;
                var bwConfig = { numIterations: 1,
                    requestSizeinKiloBytes: downloadFiles[fileIndex].size / 1024,
                    downloadurl: TDS.resolveBaseUrl(downloadFiles[fileIndex].url),
                    generateUploadData: true,
                    alternateGETPOST: true,
                    latencyOffsetinms: 0,
                    callBack: callBackHndlr,
                    callBackScope: scopeObj
                };
                (new Util.Network.BandWidthTester(bwConfig)).run();
            }
        }
    };
    (new Util.Network.BandWidthTester(pingConfig)).run();
};

Sections.Diagnostics.prototype.hasUserInputFields = function()
{
    return (typeof TDS == 'object' && typeof TDS.Config == 'object' && typeof TDS.Config.NetworkDiagnosticsTestInfo == 'object' && TDS.Config.NetworkDiagnosticsTestInfo.length > 0);
    // always return true
    // return true;
};

Sections.Diagnostics.prototype.validateUserInput = function()
{
    // hide any prior validation errors
    YAHOO.util.Dom.setAttribute('chooseTestError', 'style', 'display:none');
    YAHOO.util.Dom.setAttribute('chooseStudentCountError', 'style', 'display:none');
    this._userInput = null;

    var isValid = true;

    var selectedTest = YAHOO.util.Dom.get('availableTests').value;
    if (selectedTest == "")
    {
        // No selected Test available
        YAHOO.util.Dom.setAttribute('chooseTestError', 'style', 'display:block');
        isValid = false;
    }

    var numStudents = YAHOO.util.Dom.get('numStudentsTesting').value;
    if (!YAHOO.lang.isNumber(parseInt(numStudents)) || parseInt(numStudents) <= 0)
    {
        // Not a valid number of students
        YAHOO.util.Dom.setAttribute('chooseStudentCountError', 'style', 'display:block');
        isValid = false;
    }

    if (isValid)
    {
        var testInfo = null;
        TDS.Config.NetworkDiagnosticsTestInfo.forEach(function (subjectInfo)
        {
            if (subjectInfo.subject == selectedTest)
            {
                testInfo = subjectInfo;
            }
        });
        if (testInfo)
        {
            this._userInput = { 'selectedTest': selectedTest, 'numStudentsToTest': parseInt(numStudents), 'testInfo': testInfo };
        }
    }

    return isValid;
};


Sections.Diagnostics.prototype.NetworkDiagnosticsTestCallbackHdlr = function(runStats)
{
    var defaultDisclaimer = ' (Please note: The throughput estimates include the encryption/decryption overhead for data transfer. Throughput estimates change as the network conditions change and can vary from run to run.)';
    var disclaimer = Messages.getAlt('Diagnostics.Label.Disclaimer', defaultDisclaimer);

    // Download Results
    var downloadResults = runStats['GET'];    
    if (downloadResults.aveLineSpeed > 0)
    {
        // maxLineSpeed is in KBps - multiply by 8 to get Kbps and divide by 1000 (not 1024) to get Mbps
        var downloadLineSpeedinMbps = ((downloadResults.aveLineSpeed * 8) / 1000).toFixed(3);
        YUD.setStyle('downloadResultsLabel', 'display', 'block');
        document.getElementById('downloadResults').innerHTML = downloadLineSpeedinMbps + ' Mbps download.';
    }
    else
    {
        // All our download tests failed. No useful data collected
        document.getElementById('downloadResults').innerHTML = 'Error running throughput tests...';
        YAHOO.util.Dom.get('btnDiagSpeedTest').removeAttribute('disabled');
        return;
    }

    // Upload Results
    var uploadResults = runStats['POST'];   
	//this probably was intended to be aveLineSpeed
    if (uploadResults.aveLineSpeed > 0)
    {
        // maxLineSpeed is in KBps - multiply by 8 to get Kbps and divide by 1000 (not 1024) to get Mbps
        var uploadLineSpeedinMbps = ((uploadResults.aveLineSpeed * 8) / 1000).toFixed(3);
        YUD.setStyle('uploadResultsLabel', 'display', 'block');
        document.getElementById('uploadResults').innerHTML = uploadLineSpeedinMbps + ' Mbps upload.';
    }
    else
    {
        document.getElementById('uploadResults').innerHTML = 'Error running upload tests...';
    }

    var downloadLineSpeedinKbps = downloadResults.aveLineSpeed * 8; //aveLineSpeed is measured in KBps

    var message = '';
    var messageClass = '';
    /*
     * if line speed is less than one then the ProbabilityWithinCapacity does not converge
     * and goes into an indefinite loop.
     */
    if (this._userInput != null && downloadResults.aveLineSpeed > 1)
    {
        var testingCapacityCalculator = new Util.Network.CapacityCalculator();
        var itemSize = (this._userInput.testInfo != null) ? this._userInput.testInfo.itemsize : 80;
        var responseTime = (this._userInput.testInfo != null) ? this._userInput.testInfo.responsetime : 30;
        var probability = testingCapacityCalculator.ProbabilityWithinCapacity(downloadLineSpeedinKbps / 1000, itemSize, this._userInput.numStudentsToTest, responseTime);

        var risk = testingCapacityCalculator.GetRisk();
        var recommendedCount = testingCapacityCalculator.GetRecommendedStudentCount();
        message = this._getMessage(risk, recommendedCount);

        if (risk == 'High' || risk == 'NearCertain')
        {
            messageClass = "speedBad";
        }
        else if (risk == 'Moderate')
        {
            messageClass = "speedOK";
        }
        else if (risk == 'VeryLow')
        {
            messageClass = "speedGreat";
        }
        
        YUD.setStyle('bandwidthSummaryLabel', 'display', 'block');
        document.getElementById('bandwidthSummary').innerHTML = message + disclaimer;
        document.getElementById('bandwidthSummary').className = messageClass;
    }
    
    YAHOO.util.Dom.get('btnDiagSpeedTest').removeAttribute('disabled');
};

Sections.Diagnostics.prototype._getMessage = function(risk, recommendedCount)
{
    recommendedCount = [recommendedCount]; // message get requires params to be array

    switch (risk)
    {
        case 'Unknown':
            return Messages.get('Diagnostics.Label.RiskUnknown', recommendedCount);
        case 'NearCertain':
            return Messages.get('Diagnostics.Label.RiskNearCertain', recommendedCount);
        case 'High':
            return Messages.get('Diagnostics.Label.RiskHigh', recommendedCount);
        case 'Moderate':
            return Messages.get('Diagnostics.Label.RiskModerate', recommendedCount);
        case 'VeryLow':
            return Messages.get('Diagnostics.Label.RiskVeryLow', recommendedCount);
    }
    return "";
};

// write preferences
Sections.Diagnostics.prototype.showPreferences = function()
{
    var preferenceDiv = YUD.getElementsByClassName('browserPreferences')[0];
    var preferenceRows = [];

    var addPreference = function(name)
    {
        var value = Mozilla.getPreference(name);
        var preferenceRow = '<p>' + name + ': <strong>' + value + '</strong></p>';
        preferenceRows.push(preferenceRow);
    };

    // add preferences of interest..
    var privileges = Mozilla.execPrivileged(function()
    {
        addPreference('signed.applets.codebase_principal_support');
        addPreference('accessibility.tabfocus');
        addPreference('accessibility.browsewithcaret');

        addPreference('network.http.max-connections');
        addPreference('network.http.max-connections-per-server');
        addPreference('network.http.max-persistent-connections-per-server');
        addPreference('network.http.pipelining');
        addPreference('network.http.pipelining.maxrequests');

        addPreference('network.dns.disableIPv6');
        addPreference('network.dns.CacheEntries');
        addPreference('network.dns.CacheExpiration');
    });

    // build html
    if (privileges)
    {
        preferenceDiv.innerHTML = '<span class="nugget">' + preferenceRows.join('') + '</span>';
    }
    else
    {
        // error
        preferenceDiv.innerHTML = '<p><span class="nugget">Error getting preferences: <strong>' + Mozilla._lastException + '</strong></span></p>';
    }

    // show html
    preferenceDiv.style.display = 'block';
};

Sections.Diagnostics.prototype.setBrowserInfo = function()
{
    if (TDS.BrowserInfo == null) return;

    // visible info
    YUD.get('lblDiagOSLabel').innerHTML = TDS.BrowserInfo.osLabel;
    YUD.get('lblDiagBrowserLabel').innerHTML = TDS.BrowserInfo.label;
    YUD.get('lblDiagBrowserSecure').innerHTML = TDS.BrowserInfo.isSecure;

    // hidden info
    YUD.get('lblDiagUAEl').innerHTML = TDS.BrowserInfo.userAgent;
    YUD.get('lblDiagOSName').innerHTML = TDS.BrowserInfo.osName;
    YUD.get('lblDiagOSVer').innerHTML = TDS.BrowserInfo.osVersion;
    YUD.get('lblDiagArch').innerHTML = TDS.BrowserInfo.architecture;
    YUD.get('lblDiagBrowserName').innerHTML = TDS.BrowserInfo.name;
    YUD.get('lblDiagBrowserVer').innerHTML = TDS.BrowserInfo.version;
};

/* SOURCE FILE: section_TTSCheck.js (80e2e952) 8/26/2014 6:18:44 PM */

/**
 *   All the important code that is utilized in this site has been moved into a stand alone 
 *   TTS.Config.UI that allows us to modify the config settings.  I suppose it could just
 *   be namespaced as TTS.UI, but that gives the wrong impression about what does highlights...
 */
Sections.TTSCheck = function(){
    Sections.TTSCheck.superclass.constructor.call(this, 'sectionTTSCheck');
};
YAHOO.lang.extend(Sections.TTSCheck, Sections.Base);

Sections.TTSCheck.prototype.init = function(){

    //Initialize TTS after the page has loaded (ensures any custom config can be pulled in)
    YAHOO.util.Event.onDOMReady(function(){
        this.ui  = new TTS.Config.UI();
        this.ui.next = this.request.bind(this, 'next');
        this.ui.back = this.request.bind(this, 'back');
        
        TTS.getInstance().runOnInit(function(){
            TTS.Config.User.reset(); //Resets the TTS user configuration before displaying
            this.ui.setCfg(this.getSettings());
            this.ui.init();
        }.bind(this));
    }.bind(this));
};

Sections.TTSCheck.prototype.load = function(){

};

/**
 *  Check if the accommodations actually support a language.
 */
Sections.TTSCheck.prototype.hasLang = function(lang){
    var properties = TDS.getAccommodationProperties();
    if(window.LoginShell && (LoginShell.testSelection == null)){
        properties = new Accommodations.Properties(TDS.globalAccommodations);
    }
    var langs = properties.getLanguages() || [];
    return (langs.indexOf(lang) != -1);
};


//Settings we need to configure
Sections.TTSCheck.prototype.getSettings = function(){
    //Set if the test / seection supports this language at all.
    TTS.Config.Lang.ESN.Enabled = this.hasLang('ESN');

    //Do more settings config.
    var accProps = TDS.getAccommodationProperties();
    var config = {
        ShowVoicePacks: TDS.getAccommodationProperties().showVoicePackControl(),
        ShowVolume: accProps.showVolumeControl() && TTS.Manager.supportsVolumeControl(),
        ShowPitch: accProps.showPitchControl() && TTS.Manager.supportsPitchControl() && !Util.Browser.isLinux(),
        ShowRate: accProps.showRateControl() && TTS.Manager.supportsRateControl()
    };
    return config;
};

/* SOURCE FILE: section_SoundCheck.js (e7902a44) 9/2/2014 3:47:19 PM */

Sections.SoundCheck = function()
{
    Sections.SoundCheck.superclass.constructor.call(this, 'sectionSoundCheck');
};

YAHOO.lang.extend(Sections.SoundCheck, Sections.Base);

Sections.SoundCheck.prototype.init = function () {

    var Player = TDS.Audio.Player;
    var Recorder = TDS.Audio.Recorder;

    var soundCheck = this;
    var standalone = true;

    var cssDisabled = 'disabled';

    var accProps = TDS.getAccommodationProperties();

    var CheckState = {
        Audio: 0,
        Sources: 1,
        Recorder: 2,
        RecorderError: -2,
        Error: -1
    };

    var checkState;

    function gotoInstructions() {
        soundCheck.request('next');
    }

    function gotoLogin() {
        soundCheck.request('back');
    }

    function showError() {
        checkState = CheckState.Error;

        YUD.setStyle('checkSound', 'display', 'none');
        YUD.setStyle('checkRecorderSources', 'display', 'none');
        YUD.setStyle('checkRecorder', 'display', 'none');
        YUD.setStyle('checkRecorderError', 'display', 'none');
        YUD.setStyle('checkError', 'display', '');
    }

    function showRecorderError() {
        checkState = CheckState.RecorderError;

        YUD.setStyle('checkSound', 'display', 'none');
        YUD.setStyle('checkRecorderSources', 'display', 'none');
        YUD.setStyle('checkRecorder', 'display', 'none');
        YUD.setStyle('checkRecorderError', 'display', '');
        YUD.setStyle('checkError', 'display', 'none');
    }

    //#region Player

    var requiresAudio = accProps.hasSoundPlayCheck(),
        audioPlayer = null;

    if (requiresAudio) {
        TDS.Audio.Player.setup();

        audioPlayer = YUD.get('audioPlayer');

        //HACK FOR BUGG-102153
        //switch .ogg to .m4a if unsupported
        if (!Util.Browser.supportsAudioOGG()) {
            var str = YUD.getAttribute(audioPlayer, 'href');
            str = str.replace('.ogg', '.m4a');
            YUD.setAttribute(audioPlayer, 'href', str);

            str = YUD.getAttribute(audioPlayer, 'type');
            str = str.replace('ogg', 'm4a');
            YUD.setAttribute(audioPlayer, 'type', str);
        }

        TDS.Audio.Widget.createPlayer(audioPlayer);

        Player.onIdle.subscribe(function () {
            YUD.removeClass('btnSoundYes', cssDisabled);
        });

        YUE.addListener('btnSoundYes', 'click', function () {
            if (YUD.hasClass('btnSoundYes', cssDisabled)) return;

            if (requiresRecorder) {
                showRecorderCheck();
            }
            else {
                // otherwise redirect to intructions
                gotoInstructions();
            }
        });

        YUE.addListener('btnSoundNo', 'click', function () {
            TDS.Audio.stopAll();

            var soundRetry = function () {
                YUE.removeListener('btnErrorRetry', 'click', soundRetry);
                showSoundCheck();
            };

            YUE.addListener('btnErrorRetry', 'click', soundRetry);

            showError();
        });
    }

    function showSoundCheck() {
        checkState = CheckState.Audio;

        // remove playing fail style (BUG #16088)
        YUD.removeClass('audioPlayer', 'playing_fail');

        YUD.setStyle('checkSound', 'display', '');
        YUD.setStyle('checkRecorderSources', 'display', 'none');
        YUD.setStyle('checkRecorder', 'display', 'none');
        YUD.setStyle('checkRecorderError', 'display', 'none');
        YUD.setStyle('checkError', 'display', 'none');
    }

    //#endregion Player

    //#region Recorder

    var requiresRecorder = accProps.hasRecorderCheck(),
        audioSourceSelect = null,
        audioSourceSelectPromise = null,
        audioRecorder = null,
        recorderSupported = false,
        audioSourceSelectController = null;

    if (requiresRecorder) {
        recorderSupported = TDS.Audio.Recorder.initialize();

        audioRecorder = YUD.get('audioRecorder');
        TDS.Audio.Widget.createRecorder(audioRecorder);

        Recorder.onPlayStop.subscribe(function () {
            YUD.removeClass('btnRecorderYes', cssDisabled);
        });

        audioSourceSelect = YUD.get('audioSourceSelect');

        audioSourceSelectController = TDS.Audio.Widget.createSourceSelect(audioSourceSelect, function (deviceId) {
            if (deviceId !== null) {
                YUD.removeClass('btnSourceSelected', cssDisabled);

                // set the selected device's id to be used for recording, and save it in session storage as well
                Recorder.setSource(deviceId);
                Recorder.saveSourceInSessionStorage(deviceId);
            } else {
                YUD.addClass('btnSourceSelected', cssDisabled);

                // clear the selected device's id to be used for recording, and remove it from session storage as well
                Recorder.setSource(null);
                Recorder.removeSourceFromSessionStorage();
            }
        });

        // we want to clear any saved device selection
        Recorder.removeSourceFromSessionStorage();

        YUE.addListener('btnNoSuitableSource', 'click', function sourceNo() {
            var sourcesRetry = function () {
                YUE.removeListener('btnErrorRetry', 'click', sourcesRetry);
                showSourcesCheck();
            };

            YUE.addListener('btnErrorRetry', 'click', sourcesRetry);

            audioSourceSelectController.hide();

            showError();
        });

        YUE.addListener('btnSourceSelected', 'click', function sourceYes() {
            if (YUD.hasClass('btnSourceSelected', cssDisabled)) return;

            audioSourceSelectController.hide();

            showRecorderCheck();
        });

        YUE.addListener('btnRecorderYes', 'click', function () {
            if (YUD.hasClass('btnRecorderYes', cssDisabled)) return;

            if (audioSourceSelectController) {
                audioSourceSelectController.dispose();
            }

            gotoInstructions();
        });

        YUE.addListener('btnRecorderProblem', 'click', function () {
            TDS.Audio.stopAll();

            var retry = function () {
                YUE.removeListener('btnRecorderRetry', 'click', retry);

                showRecorderCheck();
            };

            YUE.addListener('btnRecorderRetry', 'click', retry);

            var sourceSelect = function () {
                YUE.removeListener('btnSourceSelect', 'click', sourceSelect);

                showSourcesCheck();
            };

            YUE.addListener('btnSourceSelect', 'click', sourceSelect);

            var recorderRetry = function () {
                YUE.removeListener('btnErrorRetry', 'click', recorderRetry);
                showRecorderCheck();
            };

            YUE.addListener('btnErrorRetry', 'click', recorderRetry);

            showRecorderError();
        });
    }

    function showSourcesCheck() {
        checkState = CheckState.Sources;

        YUD.setStyle('checkSound', 'display', 'none');
        YUD.setStyle('checkRecorderSources', 'display', '');
        YUD.setStyle('checkRecorder', 'display', 'none');
        YUD.setStyle('checkRecorderError', 'display', 'none');
        YUD.setStyle('checkError', 'display', 'none');

        var sourcesSection = $('#checkRecorderSources'),
            sourcesPlaceholder = sourcesSection.find('.sources-placeholder'),
            sourcesError = sourcesSection.find('.sources-error'),
            sourcesContent = sourcesSection.find('.sources-content');

        sourcesPlaceholder.show();
        sourcesError.hide();
        sourcesContent.hide();

        if (audioSourceSelectPromise === null) {
            // we only want to build the device list once, more than that is a waste
            audioSourceSelectPromise = audioSourceSelectController.buildDeviceList();
        }

        audioSourceSelectPromise.then(function () {
            sourcesPlaceholder.hide();
            sourcesError.hide();
            sourcesContent.show();

            audioSourceSelectController.show();
        })
        .catch(function () {
            // no devices could be setup successfully
            sourcesPlaceholder.hide();
            sourcesError.show();
            sourcesContent.hide();
        });
    }

    function showRecorderCheck() {
        checkState = CheckState.Recorder;

        // BUG #16088: Record button remains disabled
        if (audioRecorder && YUD.hasClass(audioRecorder, 'recording_fail')) {
            audioRecorder.classNameEvent = 'recording_ready'; // BUG #16238: Another Mic icon displays
            audioRecorder.className = 'elicitedwrap recording_ready';
        }

        YUD.setStyle('checkSound', 'display', 'none');
        YUD.setStyle('checkRecorderSources', 'display', 'none');
        YUD.setStyle('checkRecorder', 'display', '');
        YUD.setStyle('checkRecorderError', 'display', 'none');
        YUD.setStyle('checkError', 'display', 'none');
    }

    //#endregion Recorder

    YUD.batch(YUD.getElementsByClassName('soundCheckLogout', 'span'), function(logoutEl) {
        YUE.on(logoutEl, 'click', gotoLogin);
    });

    // this gets called every time section is shown
    this.load = function ()
    {
        // set all audio sections as hidden
        YUD.setStyle('flashError', 'display', 'none');
        YUD.setStyle('javaError', 'display', 'none');
        YUD.setStyle('checkSound', 'display', 'none');
        YUD.setStyle('checkRecorder', 'display', 'none');

        // check if recorder is available
        if (requiresRecorder && !recorderSupported) {
            YUD.setStyle('soundCheckRecorderError', 'display', 'block');
            return;
        }

        if (requiresAudio)
        {
            // show check sound UI
            showSoundCheck();
        }
        else if (requiresRecorder)
        {
            // show check recorder UI
            showRecorderCheck();
        }
    };

};

